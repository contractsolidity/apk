const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["./secp256k1-Bq1zJvfD.js","./sha2-DSxNrwJN.js","./embedded-wallet-CYujhkFF.js","./index-Lmyr6Nd7.js","./index-CVMwJh_k.js","./if-defined-b9wcRVdB.js","./ref-vhbJRIb9.js","./index-B7gYIBYE.js","./HelpersUtil-C4a-NL5Y.js","./index-DBRZfGE2.js","./index-DVoaoJUM.js","./index-C6wrQUzy.js","./index-DTzG5_do.js","./index-BzpShiQg.js","./NavigationUtil-DmfK5sOV.js","./email-D_ursGxG.js","./index-LCpKswpl.js","./index-BCM3pntp.js","./socials-DN7wZLEm.js","./index-H8UnnXcn.js","./index-DmsATm_n.js","./index-D2_AtjEF.js","./index-Dchb_6gQ.js","./index-DpaFyVFs.js","./swaps-CsvGAtzD.js","./index-uwhKLXnN.js","./index-Bzgd8kH5.js","./SwapController-Cr977NlH.js","./index-Bx8AYvZl.js","./send-bOHaAaKl.js","./ConstantsUtil-Dmg8YACJ.js","./index-BLh3jN4k.js","./index-DxA9Vwln.js","./index-D8b8CWDt.js","./receive-CrE7frTa.js","./onramp-Cskc2Ihx.js","./index-0mnXLz7M.js","./index-d-SSC2ny.js","./index-DoCGdUeX.js","./ExchangeController-Dw1oeKMo.js","./pay-with-exchange-P0DjG487.js","./transactions-C8Nf3nVY.js","./index-BK4LPDJN.js","./index-udsOlclz.js","./index-DL4lDXJ9.js","./data-capture-pO_hr9g-.js","./features-Sb5UgA-X.js","./index-Cx0s0zJy.js","./index-T_cID4ZS.js","./w3m-modal-Dh0U5CDV.js","./SafeProvider-BPcQfhGb.js","./index-H-Ckw-g_.js","./sha3-ChG6mytw.js","./index-CXbGvcf0.js","./index-BaULtcfG.js"])))=>i.map(i=>d[i]);
(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&n(o)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();(function(e,r){var n=r.documentElement,i=e.devicePixelRatio||1;function s(){r.body?r.body.style.fontSize=12*i+"px":r.addEventListener("DOMContentLoaded",s)}s();function o(){var l=n.clientWidth/10;n.style.fontSize=l+"px"}if(o(),e.addEventListener("resize",o),e.addEventListener("pageshow",function(l){l.persisted&&o()}),i>=2){var a=r.createElement("body"),c=r.createElement("div");c.style.border=".5px solid transparent",a.appendChild(c),n.appendChild(a),c.offsetHeight===1&&n.classList.add("hairlines"),n.removeChild(a)}})(window,document);/**
* @vue/shared v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function eP(t){const e=Object.create(null);for(const r of t.split(","))e[r]=1;return r=>r in e}const un={},Ug=[],vu=()=>{},XB=()=>!1,vx=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&(t.charCodeAt(2)>122||t.charCodeAt(2)<97),tP=t=>t.startsWith("onUpdate:"),Vi=Object.assign,rP=(t,e)=>{const r=t.indexOf(e);r>-1&&t.splice(r,1)},bne=Object.prototype.hasOwnProperty,Rr=(t,e)=>bne.call(t,e),Et=Array.isArray,Lg=t=>Ex(t)==="[object Map]",QB=t=>Ex(t)==="[object Set]",St=t=>typeof t=="function",Kn=t=>typeof t=="string",Ah=t=>typeof t=="symbol",yn=t=>t!==null&&typeof t=="object",ZB=t=>(yn(t)||St(t))&&St(t.then)&&St(t.catch),eH=Object.prototype.toString,Ex=t=>eH.call(t),wne=t=>Ex(t).slice(8,-1),tH=t=>Ex(t)==="[object Object]",nP=t=>Kn(t)&&t!=="NaN"&&t[0]!=="-"&&""+parseInt(t,10)===t,l_=eP(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ax=t=>{const e=Object.create(null);return(r=>e[r]||(e[r]=t(r)))},vne=/-\w/g,cc=Ax(t=>t.replace(vne,e=>e.slice(1).toUpperCase())),Ene=/\B([A-Z])/g,ep=Ax(t=>t.replace(Ene,"-$1").toLowerCase()),xx=Ax(t=>t.charAt(0).toUpperCase()+t.slice(1)),tN=Ax(t=>t?`on${xx(t)}`:""),Zd=(t,e)=>!Object.is(t,e),rN=(t,...e)=>{for(let r=0;r<t.length;r++)t[r](...e)},rH=(t,e,r,n=!1)=>{Object.defineProperty(t,e,{configurable:!0,enumerable:!1,writable:n,value:r})},Ane=t=>{const e=parseFloat(t);return isNaN(e)?t:e},xne=t=>{const e=Kn(t)?Number(t):NaN;return isNaN(e)?t:e};let o4;const Cx=()=>o4||(o4=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function iP(t){if(Et(t)){const e={};for(let r=0;r<t.length;r++){const n=t[r],i=Kn(n)?Tne(n):iP(n);if(i)for(const s in i)e[s]=i[s]}return e}else if(Kn(t)||yn(t))return t}const Cne=/;(?![^(]*\))/g,Nne=/:([^]+)/,Sne=/\/\*[^]*?\*\//g;function Tne(t){const e={};return t.replace(Sne,"").split(Cne).forEach(r=>{if(r){const n=r.split(Nne);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e}function _1(t){let e="";if(Kn(t))e=t;else if(Et(t))for(let r=0;r<t.length;r++){const n=_1(t[r]);n&&(e+=n+" ")}else if(yn(t))for(const r in t)t[r]&&(e+=r+" ");return e.trim()}const Ine="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Rne=eP(Ine);function nH(t){return!!t||t===""}const iH=t=>!!(t&&t.__v_isRef===!0),Un=t=>Kn(t)?t:t==null?"":Et(t)||yn(t)&&(t.toString===eH||!St(t.toString))?iH(t)?Un(t.value):JSON.stringify(t,sH,2):String(t),sH=(t,e)=>iH(e)?sH(t,e.value):Lg(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((r,[n,i],s)=>(r[nN(n,s)+" =>"]=i,r),{})}:QB(e)?{[`Set(${e.size})`]:[...e.values()].map(r=>nN(r))}:Ah(e)?nN(e):yn(e)&&!Et(e)&&!tH(e)?String(e):e,nN=(t,e="")=>{var r;return Ah(t)?`Symbol(${(r=t.description)!=null?r:e})`:t};/**
* @vue/reactivity v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let Ts;class oH{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=Ts,!e&&Ts&&(this.index=(Ts.scopes||(Ts.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].pause();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,r;if(this.scopes)for(e=0,r=this.scopes.length;e<r;e++)this.scopes[e].resume();for(e=0,r=this.effects.length;e<r;e++)this.effects[e].resume()}}run(e){if(this._active){const r=Ts;try{return Ts=this,e()}finally{Ts=r}}}on(){++this._on===1&&(this.prevScope=Ts,Ts=this)}off(){this._on>0&&--this._on===0&&(Ts=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let r,n;for(r=0,n=this.effects.length;r<n;r++)this.effects[r].stop();for(this.effects.length=0,r=0,n=this.cleanups.length;r<n;r++)this.cleanups[r]();if(this.cleanups.length=0,this.scopes){for(r=0,n=this.scopes.length;r<n;r++)this.scopes[r].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0}}}function sP(t){return new oH(t)}function aH(){return Ts}function Pne(t,e=!1){Ts&&Ts.cleanups.push(t)}let pn;const iN=new WeakSet;class cH{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,Ts&&Ts.active&&Ts.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,iN.has(this)&&(iN.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||uH(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,a4(this),fH(this);const e=pn,r=Tl;pn=this,Tl=!0;try{return this.fn()}finally{dH(this),pn=e,Tl=r,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)cP(e);this.deps=this.depsTail=void 0,a4(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?iN.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){CI(this)&&this.run()}get dirty(){return CI(this)}}let lH=0,u_,f_;function uH(t,e=!1){if(t.flags|=8,e){t.next=f_,f_=t;return}t.next=u_,u_=t}function oP(){lH++}function aP(){if(--lH>0)return;if(f_){let e=f_;for(f_=void 0;e;){const r=e.next;e.next=void 0,e.flags&=-9,e=r}}let t;for(;u_;){let e=u_;for(u_=void 0;e;){const r=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(n){t||(t=n)}e=r}}if(t)throw t}function fH(t){for(let e=t.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function dH(t){let e,r=t.depsTail,n=r;for(;n;){const i=n.prevDep;n.version===-1?(n===r&&(r=i),cP(n),One(n)):e=n,n.dep.activeLink=n.prevActiveLink,n.prevActiveLink=void 0,n=i}t.deps=e,t.depsTail=r}function CI(t){for(let e=t.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(hH(e.dep.computed)||e.dep.version!==e.version))return!0;return!!t._dirty}function hH(t){if(t.flags&4&&!(t.flags&16)||(t.flags&=-17,t.globalVersion===z_)||(t.globalVersion=z_,!t.isSSR&&t.flags&128&&(!t.deps&&!t._dirty||!CI(t))))return;t.flags|=2;const e=t.dep,r=pn,n=Tl;pn=t,Tl=!0;try{fH(t);const i=t.fn(t._value);(e.version===0||Zd(i,t._value))&&(t.flags|=128,t._value=i,e.version++)}catch(i){throw e.version++,i}finally{pn=r,Tl=n,dH(t),t.flags&=-3}}function cP(t,e=!1){const{dep:r,prevSub:n,nextSub:i}=t;if(n&&(n.nextSub=i,t.prevSub=void 0),i&&(i.prevSub=n,t.nextSub=void 0),r.subs===t&&(r.subs=n,!n&&r.computed)){r.computed.flags&=-5;for(let s=r.computed.deps;s;s=s.nextDep)cP(s,!0)}!e&&!--r.sc&&r.map&&r.map.delete(r.key)}function One(t){const{prevDep:e,nextDep:r}=t;e&&(e.nextDep=r,t.prevDep=void 0),r&&(r.prevDep=e,t.nextDep=void 0)}let Tl=!0;const pH=[];function zf(){pH.push(Tl),Tl=!1}function Gf(){const t=pH.pop();Tl=t===void 0?!0:t}function a4(t){const{cleanup:e}=t;if(t.cleanup=void 0,e){const r=pn;pn=void 0;try{e()}finally{pn=r}}}let z_=0;class Dne{constructor(e,r){this.sub=e,this.dep=r,this.version=r.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class lP{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!pn||!Tl||pn===this.computed)return;let r=this.activeLink;if(r===void 0||r.sub!==pn)r=this.activeLink=new Dne(pn,this),pn.deps?(r.prevDep=pn.depsTail,pn.depsTail.nextDep=r,pn.depsTail=r):pn.deps=pn.depsTail=r,gH(r);else if(r.version===-1&&(r.version=this.version,r.nextDep)){const n=r.nextDep;n.prevDep=r.prevDep,r.prevDep&&(r.prevDep.nextDep=n),r.prevDep=pn.depsTail,r.nextDep=void 0,pn.depsTail.nextDep=r,pn.depsTail=r,pn.deps===r&&(pn.deps=n)}return r}trigger(e){this.version++,z_++,this.notify(e)}notify(e){oP();try{for(let r=this.subs;r;r=r.prevSub)r.sub.notify()&&r.sub.dep.notify()}finally{aP()}}}function gH(t){if(t.dep.sc++,t.sub.flags&4){const e=t.dep.computed;if(e&&!t.dep.subs){e.flags|=20;for(let n=e.deps;n;n=n.nextDep)gH(n)}const r=t.dep.subs;r!==t&&(t.prevSub=r,r&&(r.nextSub=t)),t.dep.subs=t}}const VE=new WeakMap,C0=Symbol(""),NI=Symbol(""),G_=Symbol("");function Is(t,e,r){if(Tl&&pn){let n=VE.get(t);n||VE.set(t,n=new Map);let i=n.get(r);i||(n.set(r,i=new lP),i.map=n,i.key=r),i.track()}}function Of(t,e,r,n,i,s){const o=VE.get(t);if(!o){z_++;return}const a=c=>{c&&c.trigger()};if(oP(),e==="clear")o.forEach(a);else{const c=Et(t),l=c&&nP(r);if(c&&r==="length"){const u=Number(n);o.forEach((f,h)=>{(h==="length"||h===G_||!Ah(h)&&h>=u)&&a(f)})}else switch((r!==void 0||o.has(void 0))&&a(o.get(r)),l&&a(o.get(G_)),e){case"add":c?l&&a(o.get("length")):(a(o.get(C0)),Lg(t)&&a(o.get(NI)));break;case"delete":c||(a(o.get(C0)),Lg(t)&&a(o.get(NI)));break;case"set":Lg(t)&&a(o.get(C0));break}}aP()}function kne(t,e){const r=VE.get(t);return r&&r.get(e)}function kp(t){const e=ur(t);return e===t?e:(Is(e,"iterate",G_),nc(t)?e:e.map(ls))}function Nx(t){return Is(t=ur(t),"iterate",G_),t}const Mne={__proto__:null,[Symbol.iterator](){return sN(this,Symbol.iterator,ls)},concat(...t){return kp(this).concat(...t.map(e=>Et(e)?kp(e):e))},entries(){return sN(this,"entries",t=>(t[1]=ls(t[1]),t))},every(t,e){return ef(this,"every",t,e,void 0,arguments)},filter(t,e){return ef(this,"filter",t,e,r=>r.map(ls),arguments)},find(t,e){return ef(this,"find",t,e,ls,arguments)},findIndex(t,e){return ef(this,"findIndex",t,e,void 0,arguments)},findLast(t,e){return ef(this,"findLast",t,e,ls,arguments)},findLastIndex(t,e){return ef(this,"findLastIndex",t,e,void 0,arguments)},forEach(t,e){return ef(this,"forEach",t,e,void 0,arguments)},includes(...t){return oN(this,"includes",t)},indexOf(...t){return oN(this,"indexOf",t)},join(t){return kp(this).join(t)},lastIndexOf(...t){return oN(this,"lastIndexOf",t)},map(t,e){return ef(this,"map",t,e,void 0,arguments)},pop(){return gy(this,"pop")},push(...t){return gy(this,"push",t)},reduce(t,...e){return c4(this,"reduce",t,e)},reduceRight(t,...e){return c4(this,"reduceRight",t,e)},shift(){return gy(this,"shift")},some(t,e){return ef(this,"some",t,e,void 0,arguments)},splice(...t){return gy(this,"splice",t)},toReversed(){return kp(this).toReversed()},toSorted(t){return kp(this).toSorted(t)},toSpliced(...t){return kp(this).toSpliced(...t)},unshift(...t){return gy(this,"unshift",t)},values(){return sN(this,"values",ls)}};function sN(t,e,r){const n=Nx(t),i=n[e]();return n!==t&&!nc(t)&&(i._next=i.next,i.next=()=>{const s=i._next();return s.done||(s.value=r(s.value)),s}),i}const Une=Array.prototype;function ef(t,e,r,n,i,s){const o=Nx(t),a=o!==t&&!nc(t),c=o[e];if(c!==Une[e]){const f=c.apply(t,s);return a?ls(f):f}let l=r;o!==t&&(a?l=function(f,h){return r.call(this,ls(f),h,t)}:r.length>2&&(l=function(f,h){return r.call(this,f,h,t)}));const u=c.call(o,l,n);return a&&i?i(u):u}function c4(t,e,r,n){const i=Nx(t);let s=r;return i!==t&&(nc(t)?r.length>3&&(s=function(o,a,c){return r.call(this,o,a,c,t)}):s=function(o,a,c){return r.call(this,o,ls(a),c,t)}),i[e](s,...n)}function oN(t,e,r){const n=ur(t);Is(n,"iterate",G_);const i=n[e](...r);return(i===-1||i===!1)&&dP(r[0])?(r[0]=ur(r[0]),n[e](...r)):i}function gy(t,e,r=[]){zf(),oP();const n=ur(t)[e].apply(t,r);return aP(),Gf(),n}const Lne=eP("__proto__,__v_isRef,__isVue"),mH=new Set(Object.getOwnPropertyNames(Symbol).filter(t=>t!=="arguments"&&t!=="caller").map(t=>Symbol[t]).filter(Ah));function $ne(t){Ah(t)||(t=String(t));const e=ur(this);return Is(e,"has",t),e.hasOwnProperty(t)}class yH{constructor(e=!1,r=!1){this._isReadonly=e,this._isShallow=r}get(e,r,n){if(r==="__v_skip")return e.__v_skip;const i=this._isReadonly,s=this._isShallow;if(r==="__v_isReactive")return!i;if(r==="__v_isReadonly")return i;if(r==="__v_isShallow")return s;if(r==="__v_raw")return n===(i?s?Vne:vH:s?wH:bH).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;const o=Et(e);if(!i){let c;if(o&&(c=Mne[r]))return c;if(r==="hasOwnProperty")return $ne}const a=Reflect.get(e,r,$n(e)?e:n);if((Ah(r)?mH.has(r):Lne(r))||(i||Is(e,"get",r),s))return a;if($n(a)){const c=o&&nP(r)?a:a.value;return i&&yn(c)?TI(c):c}return yn(a)?i?TI(a):Du(a):a}}class _H extends yH{constructor(e=!1){super(!1,e)}set(e,r,n,i){let s=e[r];if(!this._isShallow){const c=oh(s);if(!nc(n)&&!oh(n)&&(s=ur(s),n=ur(n)),!Et(e)&&$n(s)&&!$n(n))return c||(s.value=n),!0}const o=Et(e)&&nP(r)?Number(r)<e.length:Rr(e,r),a=Reflect.set(e,r,n,$n(e)?e:i);return e===ur(i)&&(o?Zd(n,s)&&Of(e,"set",r,n):Of(e,"add",r,n)),a}deleteProperty(e,r){const n=Rr(e,r);e[r];const i=Reflect.deleteProperty(e,r);return i&&n&&Of(e,"delete",r,void 0),i}has(e,r){const n=Reflect.has(e,r);return(!Ah(r)||!mH.has(r))&&Is(e,"has",r),n}ownKeys(e){return Is(e,"iterate",Et(e)?"length":C0),Reflect.ownKeys(e)}}class Fne extends yH{constructor(e=!1){super(!0,e)}set(e,r){return!0}deleteProperty(e,r){return!0}}const Bne=new _H,Hne=new Fne,jne=new _H(!0);const SI=t=>t,$w=t=>Reflect.getPrototypeOf(t);function Wne(t,e,r){return function(...n){const i=this.__v_raw,s=ur(i),o=Lg(s),a=t==="entries"||t===Symbol.iterator&&o,c=t==="keys"&&o,l=i[t](...n),u=r?SI:e?JE:ls;return!e&&Is(s,"iterate",c?NI:C0),{next(){const{value:f,done:h}=l.next();return h?{value:f,done:h}:{value:a?[u(f[0]),u(f[1])]:u(f),done:h}},[Symbol.iterator](){return this}}}}function Fw(t){return function(...e){return t==="delete"?!1:t==="clear"?void 0:this}}function qne(t,e){const r={get(i){const s=this.__v_raw,o=ur(s),a=ur(i);t||(Zd(i,a)&&Is(o,"get",i),Is(o,"get",a));const{has:c}=$w(o),l=e?SI:t?JE:ls;if(c.call(o,i))return l(s.get(i));if(c.call(o,a))return l(s.get(a));s!==o&&s.get(i)},get size(){const i=this.__v_raw;return!t&&Is(ur(i),"iterate",C0),i.size},has(i){const s=this.__v_raw,o=ur(s),a=ur(i);return t||(Zd(i,a)&&Is(o,"has",i),Is(o,"has",a)),i===a?s.has(i):s.has(i)||s.has(a)},forEach(i,s){const o=this,a=o.__v_raw,c=ur(a),l=e?SI:t?JE:ls;return!t&&Is(c,"iterate",C0),a.forEach((u,f)=>i.call(s,l(u),l(f),o))}};return Vi(r,t?{add:Fw("add"),set:Fw("set"),delete:Fw("delete"),clear:Fw("clear")}:{add(i){!e&&!nc(i)&&!oh(i)&&(i=ur(i));const s=ur(this);return $w(s).has.call(s,i)||(s.add(i),Of(s,"add",i,i)),this},set(i,s){!e&&!nc(s)&&!oh(s)&&(s=ur(s));const o=ur(this),{has:a,get:c}=$w(o);let l=a.call(o,i);l||(i=ur(i),l=a.call(o,i));const u=c.call(o,i);return o.set(i,s),l?Zd(s,u)&&Of(o,"set",i,s):Of(o,"add",i,s),this},delete(i){const s=ur(this),{has:o,get:a}=$w(s);let c=o.call(s,i);c||(i=ur(i),c=o.call(s,i)),a&&a.call(s,i);const l=s.delete(i);return c&&Of(s,"delete",i,void 0),l},clear(){const i=ur(this),s=i.size!==0,o=i.clear();return s&&Of(i,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(i=>{r[i]=Wne(i,t,e)}),r}function uP(t,e){const r=qne(t,e);return(n,i,s)=>i==="__v_isReactive"?!t:i==="__v_isReadonly"?t:i==="__v_raw"?n:Reflect.get(Rr(r,i)&&i in n?r:n,i,s)}const zne={get:uP(!1,!1)},Gne={get:uP(!1,!0)},Kne={get:uP(!0,!1)};const bH=new WeakMap,wH=new WeakMap,vH=new WeakMap,Vne=new WeakMap;function Jne(t){switch(t){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Yne(t){return t.__v_skip||!Object.isExtensible(t)?0:Jne(wne(t))}function Du(t){return oh(t)?t:fP(t,!1,Bne,zne,bH)}function EH(t){return fP(t,!1,jne,Gne,wH)}function TI(t){return fP(t,!0,Hne,Kne,vH)}function fP(t,e,r,n,i){if(!yn(t)||t.__v_raw&&!(e&&t.__v_isReactive))return t;const s=Yne(t);if(s===0)return t;const o=i.get(t);if(o)return o;const a=new Proxy(t,s===2?n:r);return i.set(t,a),a}function eh(t){return oh(t)?eh(t.__v_raw):!!(t&&t.__v_isReactive)}function oh(t){return!!(t&&t.__v_isReadonly)}function nc(t){return!!(t&&t.__v_isShallow)}function dP(t){return t?!!t.__v_raw:!1}function ur(t){const e=t&&t.__v_raw;return e?ur(e):t}function hP(t){return!Rr(t,"__v_skip")&&Object.isExtensible(t)&&rH(t,"__v_skip",!0),t}const ls=t=>yn(t)?Du(t):t,JE=t=>yn(t)?TI(t):t;function $n(t){return t?t.__v_isRef===!0:!1}function ot(t){return AH(t,!1)}function pP(t){return AH(t,!0)}function AH(t,e){return $n(t)?t:new Xne(t,e)}class Xne{constructor(e,r){this.dep=new lP,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=r?e:ur(e),this._value=r?e:ls(e),this.__v_isShallow=r}get value(){return this.dep.track(),this._value}set value(e){const r=this._rawValue,n=this.__v_isShallow||nc(e)||oh(e);e=n?e:ur(e),Zd(e,r)&&(this._rawValue=e,this._value=n?e:ls(e),this.dep.trigger())}}function gn(t){return $n(t)?t.value:t}const Qne={get:(t,e,r)=>e==="__v_raw"?t:gn(Reflect.get(t,e,r)),set:(t,e,r,n)=>{const i=t[e];return $n(i)&&!$n(r)?(i.value=r,!0):Reflect.set(t,e,r,n)}};function xH(t){return eh(t)?t:new Proxy(t,Qne)}function CH(t){const e=Et(t)?new Array(t.length):{};for(const r in t)e[r]=eie(t,r);return e}class Zne{constructor(e,r,n){this._object=e,this._key=r,this._defaultValue=n,this.__v_isRef=!0,this._value=void 0}get value(){const e=this._object[this._key];return this._value=e===void 0?this._defaultValue:e}set value(e){this._object[this._key]=e}get dep(){return kne(ur(this._object),this._key)}}function eie(t,e,r){const n=t[e];return $n(n)?n:new Zne(t,e,r)}class tie{constructor(e,r,n){this.fn=e,this.setter=r,this._value=void 0,this.dep=new lP(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=z_-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!r,this.isSSR=n}notify(){if(this.flags|=16,!(this.flags&8)&&pn!==this)return uH(this,!0),!0}get value(){const e=this.dep.track();return hH(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function rie(t,e,r=!1){let n,i;return St(t)?n=t:(n=t.get,i=t.set),new tie(n,i,r)}const Bw={},YE=new WeakMap;let s0;function nie(t,e=!1,r=s0){if(r){let n=YE.get(r);n||YE.set(r,n=[]),n.push(t)}}function iie(t,e,r=un){const{immediate:n,deep:i,once:s,scheduler:o,augmentJob:a,call:c}=r,l=k=>i?k:nc(k)||i===!1||i===0?Df(k,1):Df(k);let u,f,h,g,_=!1,m=!1;if($n(t)?(f=()=>t.value,_=nc(t)):eh(t)?(f=()=>l(t),_=!0):Et(t)?(m=!0,_=t.some(k=>eh(k)||nc(k)),f=()=>t.map(k=>{if($n(k))return k.value;if(eh(k))return l(k);if(St(k))return c?c(k,2):k()})):St(t)?e?f=c?()=>c(t,2):t:f=()=>{if(h){zf();try{h()}finally{Gf()}}const k=s0;s0=u;try{return c?c(t,3,[g]):t(g)}finally{s0=k}}:f=vu,e&&i){const k=f,M=i===!0?1/0:i;f=()=>Df(k(),M)}const b=aH(),A=()=>{u.stop(),b&&b.active&&rP(b.effects,u)};if(s&&e){const k=e;e=(...M)=>{k(...M),A()}}let N=m?new Array(t.length).fill(Bw):Bw;const R=k=>{if(!(!(u.flags&1)||!u.dirty&&!k))if(e){const M=u.run();if(i||_||(m?M.some((D,H)=>Zd(D,N[H])):Zd(M,N))){h&&h();const D=s0;s0=u;try{const H=[M,N===Bw?void 0:m&&N[0]===Bw?[]:N,g];N=M,c?c(e,3,H):e(...H)}finally{s0=D}}}else u.run()};return a&&a(R),u=new cH(f),u.scheduler=o?()=>o(R,!1):R,g=k=>nie(k,!1,u),h=u.onStop=()=>{const k=YE.get(u);if(k){if(c)c(k,4);else for(const M of k)M();YE.delete(u)}},e?n?R(!0):N=u.run():o?o(R.bind(null,!0),!0):u.run(),A.pause=u.pause.bind(u),A.resume=u.resume.bind(u),A.stop=A,A}function Df(t,e=1/0,r){if(e<=0||!yn(t)||t.__v_skip||(r=r||new Map,(r.get(t)||0)>=e))return t;if(r.set(t,e),e--,$n(t))Df(t.value,e,r);else if(Et(t))for(let n=0;n<t.length;n++)Df(t[n],e,r);else if(QB(t)||Lg(t))t.forEach(n=>{Df(n,e,r)});else if(tH(t)){for(const n in t)Df(t[n],e,r);for(const n of Object.getOwnPropertySymbols(t))Object.prototype.propertyIsEnumerable.call(t,n)&&Df(t[n],e,r)}return t}/**
* @vue/runtime-core v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function b1(t,e,r,n){try{return n?t(...n):t()}catch(i){Sx(i,e,r)}}function Dl(t,e,r,n){if(St(t)){const i=b1(t,e,r,n);return i&&ZB(i)&&i.catch(s=>{Sx(s,e,r)}),i}if(Et(t)){const i=[];for(let s=0;s<t.length;s++)i.push(Dl(t[s],e,r,n));return i}}function Sx(t,e,r,n=!0){const i=e?e.vnode:null,{errorHandler:s,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||un;if(e){let a=e.parent;const c=e.proxy,l=`https://vuejs.org/error-reference/#runtime-${r}`;for(;a;){const u=a.ec;if(u){for(let f=0;f<u.length;f++)if(u[f](t,c,l)===!1)return}a=a.parent}if(s){zf(),b1(s,null,10,[t,c,l]),Gf();return}}sie(t,r,i,n,o)}function sie(t,e,r,n=!0,i=!1){if(i)throw t;console.error(t)}const eo=[];let iu=-1;const $g=[];let $d=null,dg=0;const NH=Promise.resolve();let XE=null;function tc(t){const e=XE||NH;return t?e.then(this?t.bind(this):t):e}function oie(t){let e=iu+1,r=eo.length;for(;e<r;){const n=e+r>>>1,i=eo[n],s=K_(i);s<t||s===t&&i.flags&2?e=n+1:r=n}return e}function gP(t){if(!(t.flags&1)){const e=K_(t),r=eo[eo.length-1];!r||!(t.flags&2)&&e>=K_(r)?eo.push(t):eo.splice(oie(e),0,t),t.flags|=1,SH()}}function SH(){XE||(XE=NH.then(IH))}function aie(t){Et(t)?$g.push(...t):$d&&t.id===-1?$d.splice(dg+1,0,t):t.flags&1||($g.push(t),t.flags|=1),SH()}function l4(t,e,r=iu+1){for(;r<eo.length;r++){const n=eo[r];if(n&&n.flags&2){if(t&&n.id!==t.uid)continue;eo.splice(r,1),r--,n.flags&4&&(n.flags&=-2),n(),n.flags&4||(n.flags&=-2)}}}function TH(t){if($g.length){const e=[...new Set($g)].sort((r,n)=>K_(r)-K_(n));if($g.length=0,$d){$d.push(...e);return}for($d=e,dg=0;dg<$d.length;dg++){const r=$d[dg];r.flags&4&&(r.flags&=-2),r.flags&8||r(),r.flags&=-2}$d=null,dg=0}}const K_=t=>t.id==null?t.flags&2?-1:1/0:t.id;function IH(t){try{for(iu=0;iu<eo.length;iu++){const e=eo[iu];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),b1(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;iu<eo.length;iu++){const e=eo[iu];e&&(e.flags&=-2)}iu=-1,eo.length=0,TH(),XE=null,(eo.length||$g.length)&&IH()}}let da=null,RH=null;function QE(t){const e=da;return da=t,RH=t&&t.type.__scopeId||null,e}function ha(t,e=da,r){if(!e||t._n)return t;const n=(...i)=>{n._d&&tA(-1);const s=QE(e);let o;try{o=t(...i)}finally{QE(s),n._d&&tA(1)}return o};return n._n=!0,n._c=!0,n._d=!0,n}function PH(t,e){if(da===null)return t;const r=Dx(da),n=t.dirs||(t.dirs=[]);for(let i=0;i<e.length;i++){let[s,o,a,c=un]=e[i];s&&(St(s)&&(s={mounted:s,updated:s}),s.deep&&Df(o),n.push({dir:s,instance:r,value:o,oldValue:void 0,arg:a,modifiers:c}))}return t}function Wh(t,e,r,n){const i=t.dirs,s=e&&e.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let c=a.dir[n];c&&(zf(),Dl(c,r,8,[t.el,a,t,e]),Gf())}}const OH=Symbol("_vte"),DH=t=>t.__isTeleport,d_=t=>t&&(t.disabled||t.disabled===""),u4=t=>t&&(t.defer||t.defer===""),f4=t=>typeof SVGElement<"u"&&t instanceof SVGElement,d4=t=>typeof MathMLElement=="function"&&t instanceof MathMLElement,II=(t,e)=>{const r=t&&t.to;return Kn(r)?e?e(r):null:r},kH={name:"Teleport",__isTeleport:!0,process(t,e,r,n,i,s,o,a,c,l){const{mc:u,pc:f,pbc:h,o:{insert:g,querySelector:_,createText:m,createComment:b}}=l,A=d_(e.props);let{shapeFlag:N,children:R,dynamicChildren:k}=e;if(t==null){const M=e.el=m(""),D=e.anchor=m("");g(M,r,n),g(D,r,n);const H=(C,$)=>{N&16&&u(R,C,$,i,s,o,a,c)},S=()=>{const C=e.target=II(e.props,_),$=UH(C,e,m,g);C&&(o!=="svg"&&f4(C)?o="svg":o!=="mathml"&&d4(C)&&(o="mathml"),i&&i.isCE&&(i.ce._teleportTargets||(i.ce._teleportTargets=new Set)).add(C),A||(H(C,$),$v(e,!1)))};A&&(H(r,D),$v(e,!0)),u4(e.props)?(e.el.__isMounted=!1,Xs(()=>{S(),delete e.el.__isMounted},s)):S()}else{if(u4(e.props)&&t.el.__isMounted===!1){Xs(()=>{kH.process(t,e,r,n,i,s,o,a,c,l)},s);return}e.el=t.el,e.targetStart=t.targetStart;const M=e.anchor=t.anchor,D=e.target=t.target,H=e.targetAnchor=t.targetAnchor,S=d_(t.props),C=S?r:D,$=S?M:H;if(o==="svg"||f4(D)?o="svg":(o==="mathml"||d4(D))&&(o="mathml"),k?(h(t.dynamicChildren,k,C,i,s,o,a),bP(t,e,!0)):c||f(t,e,C,$,i,s,o,a,!1),A)S?e.props&&t.props&&e.props.to!==t.props.to&&(e.props.to=t.props.to):Hw(e,r,M,l,1);else if((e.props&&e.props.to)!==(t.props&&t.props.to)){const B=e.target=II(e.props,_);B&&Hw(e,B,null,l,0)}else S&&Hw(e,D,H,l,1);$v(e,A)}},remove(t,e,r,{um:n,o:{remove:i}},s){const{shapeFlag:o,children:a,anchor:c,targetStart:l,targetAnchor:u,target:f,props:h}=t;if(f&&(i(l),i(u)),s&&i(c),o&16){const g=s||!d_(h);for(let _=0;_<a.length;_++){const m=a[_];n(m,e,r,g,!!m.dynamicChildren)}}},move:Hw,hydrate:cie};function Hw(t,e,r,{o:{insert:n},m:i},s=2){s===0&&n(t.targetAnchor,e,r);const{el:o,anchor:a,shapeFlag:c,children:l,props:u}=t,f=s===2;if(f&&n(o,e,r),(!f||d_(u))&&c&16)for(let h=0;h<l.length;h++)i(l[h],e,r,2);f&&n(a,e,r)}function cie(t,e,r,n,i,s,{o:{nextSibling:o,parentNode:a,querySelector:c,insert:l,createText:u}},f){function h(m,b,A,N){b.anchor=f(o(m),b,a(m),r,n,i,s),b.targetStart=A,b.targetAnchor=N}const g=e.target=II(e.props,c),_=d_(e.props);if(g){const m=g._lpa||g.firstChild;if(e.shapeFlag&16)if(_)h(t,e,m,m&&o(m));else{e.anchor=o(t);let b=m;for(;b;){if(b&&b.nodeType===8){if(b.data==="teleport start anchor")e.targetStart=b;else if(b.data==="teleport anchor"){e.targetAnchor=b,g._lpa=e.targetAnchor&&o(e.targetAnchor);break}}b=o(b)}e.targetAnchor||UH(g,e,u,l),f(m&&o(m),e,g,r,n,i,s)}$v(e,_)}else _&&e.shapeFlag&16&&h(t,e,t,o(t));return e.anchor&&o(e.anchor)}const MH=kH;function $v(t,e){const r=t.ctx;if(r&&r.ut){let n,i;for(e?(n=t.el,i=t.anchor):(n=t.targetStart,i=t.targetAnchor);n&&n!==i;)n.nodeType===1&&n.setAttribute("data-v-owner",r.uid),n=n.nextSibling;r.ut()}}function UH(t,e,r,n){const i=e.targetStart=r(""),s=e.targetAnchor=r("");return i[OH]=s,t&&(n(i,t),n(s,t)),s}const Rf=Symbol("_leaveCb"),jw=Symbol("_enterCb");function lie(){const t={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Ul(()=>{t.isMounted=!0}),Px(()=>{t.isUnmounting=!0}),t}const Oa=[Function,Array],LH={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:Oa,onEnter:Oa,onAfterEnter:Oa,onEnterCancelled:Oa,onBeforeLeave:Oa,onLeave:Oa,onAfterLeave:Oa,onLeaveCancelled:Oa,onBeforeAppear:Oa,onAppear:Oa,onAfterAppear:Oa,onAppearCancelled:Oa},$H=t=>{const e=t.subTree;return e.component?$H(e.component):e},uie={name:"BaseTransition",props:LH,setup(t,{slots:e}){const r=Ho(),n=lie();return()=>{const i=e.default&&HH(e.default(),!0);if(!i||!i.length)return;const s=FH(i),o=ur(t),{mode:a}=o;if(n.isLeaving)return aN(s);const c=h4(s);if(!c)return aN(s);let l=RI(c,o,n,r,f=>l=f);c.type!==fa&&V_(c,l);let u=r.subTree&&h4(r.subTree);if(u&&u.type!==fa&&!l0(u,c)&&$H(r).type!==fa){let f=RI(u,o,n,r);if(V_(u,f),a==="out-in"&&c.type!==fa)return n.isLeaving=!0,f.afterLeave=()=>{n.isLeaving=!1,r.job.flags&8||r.update(),delete f.afterLeave,u=void 0},aN(s);a==="in-out"&&c.type!==fa?f.delayLeave=(h,g,_)=>{const m=BH(n,u);m[String(u.key)]=u,h[Rf]=()=>{g(),h[Rf]=void 0,delete l.delayedLeave,u=void 0},l.delayedLeave=()=>{_(),delete l.delayedLeave,u=void 0}}:u=void 0}else u&&(u=void 0);return s}}};function FH(t){let e=t[0];if(t.length>1){for(const r of t)if(r.type!==fa){e=r;break}}return e}const fie=uie;function BH(t,e){const{leavingVNodes:r}=t;let n=r.get(e.type);return n||(n=Object.create(null),r.set(e.type,n)),n}function RI(t,e,r,n,i){const{appear:s,mode:o,persisted:a=!1,onBeforeEnter:c,onEnter:l,onAfterEnter:u,onEnterCancelled:f,onBeforeLeave:h,onLeave:g,onAfterLeave:_,onLeaveCancelled:m,onBeforeAppear:b,onAppear:A,onAfterAppear:N,onAppearCancelled:R}=e,k=String(t.key),M=BH(r,t),D=(C,$)=>{C&&Dl(C,n,9,$)},H=(C,$)=>{const B=$[1];D(C,$),Et(C)?C.every(O=>O.length<=1)&&B():C.length<=1&&B()},S={mode:o,persisted:a,beforeEnter(C){let $=c;if(!r.isMounted)if(s)$=b||c;else return;C[Rf]&&C[Rf](!0);const B=M[k];B&&l0(t,B)&&B.el[Rf]&&B.el[Rf](),D($,[C])},enter(C){let $=l,B=u,O=f;if(!r.isMounted)if(s)$=A||l,B=N||u,O=R||f;else return;let T=!1;const y=C[jw]=w=>{T||(T=!0,w?D(O,[C]):D(B,[C]),S.delayedLeave&&S.delayedLeave(),C[jw]=void 0)};$?H($,[C,y]):y()},leave(C,$){const B=String(t.key);if(C[jw]&&C[jw](!0),r.isUnmounting)return $();D(h,[C]);let O=!1;const T=C[Rf]=y=>{O||(O=!0,$(),y?D(m,[C]):D(_,[C]),C[Rf]=void 0,M[B]===t&&delete M[B])};M[B]=t,g?H(g,[C,T]):T()},clone(C){const $=RI(C,e,r,n,i);return i&&i($),$}};return S}function aN(t){if(Tx(t))return t=ah(t),t.children=null,t}function h4(t){if(!Tx(t))return DH(t.type)&&t.children?FH(t.children):t;if(t.component)return t.component.subTree;const{shapeFlag:e,children:r}=t;if(r){if(e&16)return r[0];if(e&32&&St(r.default))return r.default()}}function V_(t,e){t.shapeFlag&6&&t.component?(t.transition=e,V_(t.component.subTree,e)):t.shapeFlag&128?(t.ssContent.transition=e.clone(t.ssContent),t.ssFallback.transition=e.clone(t.ssFallback)):t.transition=e}function HH(t,e=!1,r){let n=[],i=0;for(let s=0;s<t.length;s++){let o=t[s];const a=r==null?o.key:String(r)+String(o.key!=null?o.key:s);o.type===qi?(o.patchFlag&128&&i++,n=n.concat(HH(o.children,e,a))):(e||o.type!==fa)&&n.push(a!=null?ah(o,{key:a}):o)}if(i>1)for(let s=0;s<n.length;s++)n[s].patchFlag=-2;return n}function Bn(t,e){return St(t)?Vi({name:t.name},e,{setup:t}):t}function jH(t){t.ids=[t.ids[0]+t.ids[2]+++"-",0,0]}const ZE=new WeakMap;function h_(t,e,r,n,i=!1){if(Et(t)){t.forEach((_,m)=>h_(_,e&&(Et(e)?e[m]:e),r,n,i));return}if(p_(n)&&!i){n.shapeFlag&512&&n.type.__asyncResolved&&n.component.subTree.component&&h_(t,e,r,n.component.subTree);return}const s=n.shapeFlag&4?Dx(n.component):n.el,o=i?null:s,{i:a,r:c}=t,l=e&&e.r,u=a.refs===un?a.refs={}:a.refs,f=a.setupState,h=ur(f),g=f===un?XB:_=>Rr(h,_);if(l!=null&&l!==c){if(p4(e),Kn(l))u[l]=null,g(l)&&(f[l]=null);else if($n(l)){l.value=null;const _=e;_.k&&(u[_.k]=null)}}if(St(c))b1(c,a,12,[o,u]);else{const _=Kn(c),m=$n(c);if(_||m){const b=()=>{if(t.f){const A=_?g(c)?f[c]:u[c]:c.value;if(i)Et(A)&&rP(A,s);else if(Et(A))A.includes(s)||A.push(s);else if(_)u[c]=[s],g(c)&&(f[c]=u[c]);else{const N=[s];c.value=N,t.k&&(u[t.k]=N)}}else _?(u[c]=o,g(c)&&(f[c]=o)):m&&(c.value=o,t.k&&(u[t.k]=o))};if(o){const A=()=>{b(),ZE.delete(t)};A.id=-1,ZE.set(t,A),Xs(A,r)}else p4(t),b()}}}function p4(t){const e=ZE.get(t);e&&(e.flags|=8,ZE.delete(t))}Cx().requestIdleCallback;Cx().cancelIdleCallback;const p_=t=>!!t.type.__asyncLoader,Tx=t=>t.type.__isKeepAlive;function mP(t,e){WH(t,"a",e)}function Ix(t,e){WH(t,"da",e)}function WH(t,e,r=Os){const n=t.__wdc||(t.__wdc=()=>{let i=r;for(;i;){if(i.isDeactivated)return;i=i.parent}return t()});if(Rx(e,n,r),r){let i=r.parent;for(;i&&i.parent;)Tx(i.parent.vnode)&&die(n,e,r,i),i=i.parent}}function die(t,e,r,n){const i=Rx(e,t,n,!0);xh(()=>{rP(n[e],i)},r)}function Rx(t,e,r=Os,n=!1){if(r){const i=r[t]||(r[t]=[]),s=e.__weh||(e.__weh=(...o)=>{zf();const a=v1(r),c=Dl(e,r,t,o);return a(),Gf(),c});return n?i.unshift(s):i.push(s),s}}const td=t=>(e,r=Os)=>{(!Y_||t==="sp")&&Rx(t,(...n)=>e(...n),r)},qH=td("bm"),Ul=td("m"),hie=td("bu"),pie=td("u"),Px=td("bum"),xh=td("um"),gie=td("sp"),mie=td("rtg"),yie=td("rtc");function _ie(t,e=Os){Rx("ec",t,e)}const bie="components";function wie(t,e){return Eie(bie,t,!0,e)||t}const vie=Symbol.for("v-ndc");function Eie(t,e,r=!0,n=!1){const i=da||Os;if(i){const s=i.type;{const a=use(s,!1);if(a&&(a===e||a===cc(e)||a===xx(cc(e))))return s}const o=g4(i[t]||s[t],e)||g4(i.appContext[t],e);return!o&&n?s:o}}function g4(t,e){return t&&(t[e]||t[cc(e)]||t[xx(cc(e))])}function zH(t,e,r,n){let i;const s=r,o=Et(t);if(o||Kn(t)){const a=o&&eh(t);let c=!1,l=!1;a&&(c=!nc(t),l=oh(t),t=Nx(t)),i=new Array(t.length);for(let u=0,f=t.length;u<f;u++)i[u]=e(c?l?JE(ls(t[u])):ls(t[u]):t[u],u,void 0,s)}else if(typeof t=="number"){i=new Array(t);for(let a=0;a<t;a++)i[a]=e(a+1,a,void 0,s)}else if(yn(t))if(t[Symbol.iterator])i=Array.from(t,(a,c)=>e(a,c,void 0,s));else{const a=Object.keys(t);i=new Array(a.length);for(let c=0,l=a.length;c<l;c++){const u=a[c];i[c]=e(t[u],u,c,s)}}else i=[];return i}const PI=t=>t?lj(t)?Dx(t):PI(t.parent):null,g_=Vi(Object.create(null),{$:t=>t,$el:t=>t.vnode.el,$data:t=>t.data,$props:t=>t.props,$attrs:t=>t.attrs,$slots:t=>t.slots,$refs:t=>t.refs,$parent:t=>PI(t.parent),$root:t=>PI(t.root),$host:t=>t.ce,$emit:t=>t.emit,$options:t=>KH(t),$forceUpdate:t=>t.f||(t.f=()=>{gP(t.update)}),$nextTick:t=>t.n||(t.n=tc.bind(t.proxy)),$watch:t=>zie.bind(t)}),cN=(t,e)=>t!==un&&!t.__isScriptSetup&&Rr(t,e),Aie={get({_:t},e){if(e==="__v_skip")return!0;const{ctx:r,setupState:n,data:i,props:s,accessCache:o,type:a,appContext:c}=t;let l;if(e[0]!=="$"){const g=o[e];if(g!==void 0)switch(g){case 1:return n[e];case 2:return i[e];case 4:return r[e];case 3:return s[e]}else{if(cN(n,e))return o[e]=1,n[e];if(i!==un&&Rr(i,e))return o[e]=2,i[e];if((l=t.propsOptions[0])&&Rr(l,e))return o[e]=3,s[e];if(r!==un&&Rr(r,e))return o[e]=4,r[e];OI&&(o[e]=0)}}const u=g_[e];let f,h;if(u)return e==="$attrs"&&Is(t.attrs,"get",""),u(t);if((f=a.__cssModules)&&(f=f[e]))return f;if(r!==un&&Rr(r,e))return o[e]=4,r[e];if(h=c.config.globalProperties,Rr(h,e))return h[e]},set({_:t},e,r){const{data:n,setupState:i,ctx:s}=t;return cN(i,e)?(i[e]=r,!0):n!==un&&Rr(n,e)?(n[e]=r,!0):Rr(t.props,e)||e[0]==="$"&&e.slice(1)in t?!1:(s[e]=r,!0)},has({_:{data:t,setupState:e,accessCache:r,ctx:n,appContext:i,propsOptions:s,type:o}},a){let c,l;return!!(r[a]||t!==un&&a[0]!=="$"&&Rr(t,a)||cN(e,a)||(c=s[0])&&Rr(c,a)||Rr(n,a)||Rr(g_,a)||Rr(i.config.globalProperties,a)||(l=o.__cssModules)&&l[a])},defineProperty(t,e,r){return r.get!=null?t._.accessCache[e]=0:Rr(r,"value")&&this.set(t,e,r.value,null),Reflect.defineProperty(t,e,r)}};function m4(t){return Et(t)?t.reduce((e,r)=>(e[r]=null,e),{}):t}let OI=!0;function xie(t){const e=KH(t),r=t.proxy,n=t.ctx;OI=!1,e.beforeCreate&&y4(e.beforeCreate,t,"bc");const{data:i,computed:s,methods:o,watch:a,provide:c,inject:l,created:u,beforeMount:f,mounted:h,beforeUpdate:g,updated:_,activated:m,deactivated:b,beforeDestroy:A,beforeUnmount:N,destroyed:R,unmounted:k,render:M,renderTracked:D,renderTriggered:H,errorCaptured:S,serverPrefetch:C,expose:$,inheritAttrs:B,components:O,directives:T,filters:y}=e;if(l&&Cie(l,n,null),o)for(const I in o){const U=o[I];St(U)&&(n[I]=U.bind(r))}if(i){const I=i.call(r,r);yn(I)&&(t.data=Du(I))}if(OI=!0,s)for(const I in s){const U=s[I],j=St(U)?U.bind(r,r):St(U.get)?U.get.bind(r,r):vu,z=!St(U)&&St(U.set)?U.set.bind(r):vu,L=zt({get:j,set:z});Object.defineProperty(n,I,{enumerable:!0,configurable:!0,get:()=>L.value,set:x=>L.value=x})}if(a)for(const I in a)GH(a[I],n,r,I);if(c){const I=St(c)?c.call(r):c;Reflect.ownKeys(I).forEach(U=>{Fg(U,I[U])})}u&&y4(u,t,"c");function E(I,U){Et(U)?U.forEach(j=>I(j.bind(r))):U&&I(U.bind(r))}if(E(qH,f),E(Ul,h),E(hie,g),E(pie,_),E(mP,m),E(Ix,b),E(_ie,S),E(yie,D),E(mie,H),E(Px,N),E(xh,k),E(gie,C),Et($))if($.length){const I=t.exposed||(t.exposed={});$.forEach(U=>{Object.defineProperty(I,U,{get:()=>r[U],set:j=>r[U]=j,enumerable:!0})})}else t.exposed||(t.exposed={});M&&t.render===vu&&(t.render=M),B!=null&&(t.inheritAttrs=B),O&&(t.components=O),T&&(t.directives=T),C&&jH(t)}function Cie(t,e,r=vu){Et(t)&&(t=DI(t));for(const n in t){const i=t[n];let s;yn(i)?"default"in i?s=Us(i.from||n,i.default,!0):s=Us(i.from||n):s=Us(i),$n(s)?Object.defineProperty(e,n,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):e[n]=s}}function y4(t,e,r){Dl(Et(t)?t.map(n=>n.bind(e.proxy)):t.bind(e.proxy),e,r)}function GH(t,e,r,n){let i=n.includes(".")?ij(r,n):()=>r[n];if(Kn(t)){const s=e[t];St(s)&&In(i,s)}else if(St(t))In(i,t.bind(r));else if(yn(t))if(Et(t))t.forEach(s=>GH(s,e,r,n));else{const s=St(t.handler)?t.handler.bind(r):e[t.handler];St(s)&&In(i,s,t)}}function KH(t){const e=t.type,{mixins:r,extends:n}=e,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=t.appContext,a=s.get(e);let c;return a?c=a:!i.length&&!r&&!n?c=e:(c={},i.length&&i.forEach(l=>eA(c,l,o,!0)),eA(c,e,o)),yn(e)&&s.set(e,c),c}function eA(t,e,r,n=!1){const{mixins:i,extends:s}=e;s&&eA(t,s,r,!0),i&&i.forEach(o=>eA(t,o,r,!0));for(const o in e)if(!(n&&o==="expose")){const a=Nie[o]||r&&r[o];t[o]=a?a(t[o],e[o]):e[o]}return t}const Nie={data:_4,props:b4,emits:b4,methods:Yy,computed:Yy,beforeCreate:Js,created:Js,beforeMount:Js,mounted:Js,beforeUpdate:Js,updated:Js,beforeDestroy:Js,beforeUnmount:Js,destroyed:Js,unmounted:Js,activated:Js,deactivated:Js,errorCaptured:Js,serverPrefetch:Js,components:Yy,directives:Yy,watch:Tie,provide:_4,inject:Sie};function _4(t,e){return e?t?function(){return Vi(St(t)?t.call(this,this):t,St(e)?e.call(this,this):e)}:e:t}function Sie(t,e){return Yy(DI(t),DI(e))}function DI(t){if(Et(t)){const e={};for(let r=0;r<t.length;r++)e[t[r]]=t[r];return e}return t}function Js(t,e){return t?[...new Set([].concat(t,e))]:e}function Yy(t,e){return t?Vi(Object.create(null),t,e):e}function b4(t,e){return t?Et(t)&&Et(e)?[...new Set([...t,...e])]:Vi(Object.create(null),m4(t),m4(e??{})):e}function Tie(t,e){if(!t)return e;if(!e)return t;const r=Vi(Object.create(null),t);for(const n in e)r[n]=Js(t[n],e[n]);return r}function VH(){return{app:null,config:{isNativeTag:XB,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let Iie=0;function Rie(t,e){return function(n,i=null){St(n)||(n=Vi({},n)),i!=null&&!yn(i)&&(i=null);const s=VH(),o=new WeakSet,a=[];let c=!1;const l=s.app={_uid:Iie++,_component:n,_props:i,_container:null,_context:s,_instance:null,version:dse,get config(){return s.config},set config(u){},use(u,...f){return o.has(u)||(u&&St(u.install)?(o.add(u),u.install(l,...f)):St(u)&&(o.add(u),u(l,...f))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,f){return f?(s.components[u]=f,l):s.components[u]},directive(u,f){return f?(s.directives[u]=f,l):s.directives[u]},mount(u,f,h){if(!c){const g=l._ceVNode||Le(n,i);return g.appContext=s,h===!0?h="svg":h===!1&&(h=void 0),t(g,u,h),c=!0,l._container=u,u.__vue_app__=l,Dx(g.component)}},onUnmount(u){a.push(u)},unmount(){c&&(Dl(a,l._instance,16),t(null,l._container),delete l._container.__vue_app__)},provide(u,f){return s.provides[u]=f,l},runWithContext(u){const f=N0;N0=l;try{return u()}finally{N0=f}}};return l}}let N0=null;function Fg(t,e){if(Os){let r=Os.provides;const n=Os.parent&&Os.parent.provides;n===r&&(r=Os.provides=Object.create(n)),r[t]=e}}function Us(t,e,r=!1){const n=Ho();if(n||N0){let i=N0?N0._context.provides:n?n.parent==null||n.ce?n.vnode.appContext&&n.vnode.appContext.provides:n.parent.provides:void 0;if(i&&t in i)return i[t];if(arguments.length>1)return r&&St(e)?e.call(n&&n.proxy):e}}function Pie(){return!!(Ho()||N0)}const JH={},YH=()=>Object.create(JH),XH=t=>Object.getPrototypeOf(t)===JH;function Oie(t,e,r,n=!1){const i={},s=YH();t.propsDefaults=Object.create(null),QH(t,e,i,s);for(const o in t.propsOptions[0])o in i||(i[o]=void 0);r?t.props=n?i:EH(i):t.type.props?t.props=i:t.props=s,t.attrs=s}function Die(t,e,r,n){const{props:i,attrs:s,vnode:{patchFlag:o}}=t,a=ur(i),[c]=t.propsOptions;let l=!1;if((n||o>0)&&!(o&16)){if(o&8){const u=t.vnode.dynamicProps;for(let f=0;f<u.length;f++){let h=u[f];if(Ox(t.emitsOptions,h))continue;const g=e[h];if(c)if(Rr(s,h))g!==s[h]&&(s[h]=g,l=!0);else{const _=cc(h);i[_]=kI(c,a,_,g,t,!1)}else g!==s[h]&&(s[h]=g,l=!0)}}}else{QH(t,e,i,s)&&(l=!0);let u;for(const f in a)(!e||!Rr(e,f)&&((u=ep(f))===f||!Rr(e,u)))&&(c?r&&(r[f]!==void 0||r[u]!==void 0)&&(i[f]=kI(c,a,f,void 0,t,!0)):delete i[f]);if(s!==a)for(const f in s)(!e||!Rr(e,f))&&(delete s[f],l=!0)}l&&Of(t.attrs,"set","")}function QH(t,e,r,n){const[i,s]=t.propsOptions;let o=!1,a;if(e)for(let c in e){if(l_(c))continue;const l=e[c];let u;i&&Rr(i,u=cc(c))?!s||!s.includes(u)?r[u]=l:(a||(a={}))[u]=l:Ox(t.emitsOptions,c)||(!(c in n)||l!==n[c])&&(n[c]=l,o=!0)}if(s){const c=ur(r),l=a||un;for(let u=0;u<s.length;u++){const f=s[u];r[f]=kI(i,c,f,l[f],t,!Rr(l,f))}}return o}function kI(t,e,r,n,i,s){const o=t[r];if(o!=null){const a=Rr(o,"default");if(a&&n===void 0){const c=o.default;if(o.type!==Function&&!o.skipFactory&&St(c)){const{propsDefaults:l}=i;if(r in l)n=l[r];else{const u=v1(i);n=l[r]=c.call(null,e),u()}}else n=c;i.ce&&i.ce._setProp(r,n)}o[0]&&(s&&!a?n=!1:o[1]&&(n===""||n===ep(r))&&(n=!0))}return n}const kie=new WeakMap;function ZH(t,e,r=!1){const n=r?kie:e.propsCache,i=n.get(t);if(i)return i;const s=t.props,o={},a=[];let c=!1;if(!St(t)){const u=f=>{c=!0;const[h,g]=ZH(f,e,!0);Vi(o,h),g&&a.push(...g)};!r&&e.mixins.length&&e.mixins.forEach(u),t.extends&&u(t.extends),t.mixins&&t.mixins.forEach(u)}if(!s&&!c)return yn(t)&&n.set(t,Ug),Ug;if(Et(s))for(let u=0;u<s.length;u++){const f=cc(s[u]);w4(f)&&(o[f]=un)}else if(s)for(const u in s){const f=cc(u);if(w4(f)){const h=s[u],g=o[f]=Et(h)||St(h)?{type:h}:Vi({},h),_=g.type;let m=!1,b=!0;if(Et(_))for(let A=0;A<_.length;++A){const N=_[A],R=St(N)&&N.name;if(R==="Boolean"){m=!0;break}else R==="String"&&(b=!1)}else m=St(_)&&_.name==="Boolean";g[0]=m,g[1]=b,(m||Rr(g,"default"))&&a.push(f)}}const l=[o,a];return yn(t)&&n.set(t,l),l}function w4(t){return t[0]!=="$"&&!l_(t)}const yP=t=>t==="_"||t==="_ctx"||t==="$stable",_P=t=>Et(t)?t.map(fu):[fu(t)],Mie=(t,e,r)=>{if(e._n)return e;const n=ha((...i)=>_P(e(...i)),r);return n._c=!1,n},ej=(t,e,r)=>{const n=t._ctx;for(const i in t){if(yP(i))continue;const s=t[i];if(St(s))e[i]=Mie(i,s,n);else if(s!=null){const o=_P(s);e[i]=()=>o}}},tj=(t,e)=>{const r=_P(e);t.slots.default=()=>r},rj=(t,e,r)=>{for(const n in e)(r||!yP(n))&&(t[n]=e[n])},Uie=(t,e,r)=>{const n=t.slots=YH();if(t.vnode.shapeFlag&32){const i=e._;i?(rj(n,e,r),r&&rH(n,"_",i,!0)):ej(e,n)}else e&&tj(t,e)},Lie=(t,e,r)=>{const{vnode:n,slots:i}=t;let s=!0,o=un;if(n.shapeFlag&32){const a=e._;a?r&&a===1?s=!1:rj(i,e,r):(s=!e.$stable,ej(e,i)),o=e}else e&&(tj(t,e),o={default:1});if(s)for(const a in i)!yP(a)&&o[a]==null&&delete i[a]},Xs=Zie;function $ie(t){return Fie(t)}function Fie(t,e){const r=Cx();r.__VUE__=!0;const{insert:n,remove:i,patchProp:s,createElement:o,createText:a,createComment:c,setText:l,setElementText:u,parentNode:f,nextSibling:h,setScopeId:g=vu,insertStaticContent:_}=t,m=(Y,ie,J,ae=null,Ee=null,ye=null,Ie=void 0,Ue=null,Z=!!ie.dynamicChildren)=>{if(Y===ie)return;Y&&!l0(Y,ie)&&(ae=q(Y),x(Y,Ee,ye,!0),Y=null),ie.patchFlag===-2&&(Z=!1,ie.dynamicChildren=null);const{type:ee,ref:ge,shapeFlag:_e}=ie;switch(ee){case w1:b(Y,ie,J,ae);break;case fa:A(Y,ie,J,ae);break;case uN:Y==null&&N(ie,J,ae,Ie);break;case qi:O(Y,ie,J,ae,Ee,ye,Ie,Ue,Z);break;default:_e&1?M(Y,ie,J,ae,Ee,ye,Ie,Ue,Z):_e&6?T(Y,ie,J,ae,Ee,ye,Ie,Ue,Z):(_e&64||_e&128)&&ee.process(Y,ie,J,ae,Ee,ye,Ie,Ue,Z,le)}ge!=null&&Ee?h_(ge,Y&&Y.ref,ye,ie||Y,!ie):ge==null&&Y&&Y.ref!=null&&h_(Y.ref,null,ye,Y,!0)},b=(Y,ie,J,ae)=>{if(Y==null)n(ie.el=a(ie.children),J,ae);else{const Ee=ie.el=Y.el;ie.children!==Y.children&&l(Ee,ie.children)}},A=(Y,ie,J,ae)=>{Y==null?n(ie.el=c(ie.children||""),J,ae):ie.el=Y.el},N=(Y,ie,J,ae)=>{[Y.el,Y.anchor]=_(Y.children,ie,J,ae,Y.el,Y.anchor)},R=({el:Y,anchor:ie},J,ae)=>{let Ee;for(;Y&&Y!==ie;)Ee=h(Y),n(Y,J,ae),Y=Ee;n(ie,J,ae)},k=({el:Y,anchor:ie})=>{let J;for(;Y&&Y!==ie;)J=h(Y),i(Y),Y=J;i(ie)},M=(Y,ie,J,ae,Ee,ye,Ie,Ue,Z)=>{ie.type==="svg"?Ie="svg":ie.type==="math"&&(Ie="mathml"),Y==null?D(ie,J,ae,Ee,ye,Ie,Ue,Z):C(Y,ie,Ee,ye,Ie,Ue,Z)},D=(Y,ie,J,ae,Ee,ye,Ie,Ue)=>{let Z,ee;const{props:ge,shapeFlag:_e,transition:Re,dirs:Pe}=Y;if(Z=Y.el=o(Y.type,ye,ge&&ge.is,ge),_e&8?u(Z,Y.children):_e&16&&S(Y.children,Z,null,ae,Ee,lN(Y,ye),Ie,Ue),Pe&&Wh(Y,null,ae,"created"),H(Z,Y,Y.scopeId,Ie,ae),ge){for(const be in ge)be!=="value"&&!l_(be)&&s(Z,be,null,ge[be],ye,ae);"value"in ge&&s(Z,"value",null,ge.value,ye),(ee=ge.onVnodeBeforeMount)&&Vl(ee,ae,Y)}Pe&&Wh(Y,null,ae,"beforeMount");const ue=Bie(Ee,Re);ue&&Re.beforeEnter(Z),n(Z,ie,J),((ee=ge&&ge.onVnodeMounted)||ue||Pe)&&Xs(()=>{ee&&Vl(ee,ae,Y),ue&&Re.enter(Z),Pe&&Wh(Y,null,ae,"mounted")},Ee)},H=(Y,ie,J,ae,Ee)=>{if(J&&g(Y,J),ae)for(let ye=0;ye<ae.length;ye++)g(Y,ae[ye]);if(Ee){let ye=Ee.subTree;if(ie===ye||oj(ye.type)&&(ye.ssContent===ie||ye.ssFallback===ie)){const Ie=Ee.vnode;H(Y,Ie,Ie.scopeId,Ie.slotScopeIds,Ee.parent)}}},S=(Y,ie,J,ae,Ee,ye,Ie,Ue,Z=0)=>{for(let ee=Z;ee<Y.length;ee++){const ge=Y[ee]=Ue?Fd(Y[ee]):fu(Y[ee]);m(null,ge,ie,J,ae,Ee,ye,Ie,Ue)}},C=(Y,ie,J,ae,Ee,ye,Ie)=>{const Ue=ie.el=Y.el;let{patchFlag:Z,dynamicChildren:ee,dirs:ge}=ie;Z|=Y.patchFlag&16;const _e=Y.props||un,Re=ie.props||un;let Pe;if(J&&qh(J,!1),(Pe=Re.onVnodeBeforeUpdate)&&Vl(Pe,J,ie,Y),ge&&Wh(ie,Y,J,"beforeUpdate"),J&&qh(J,!0),(_e.innerHTML&&Re.innerHTML==null||_e.textContent&&Re.textContent==null)&&u(Ue,""),ee?$(Y.dynamicChildren,ee,Ue,J,ae,lN(ie,Ee),ye):Ie||U(Y,ie,Ue,null,J,ae,lN(ie,Ee),ye,!1),Z>0){if(Z&16)B(Ue,_e,Re,J,Ee);else if(Z&2&&_e.class!==Re.class&&s(Ue,"class",null,Re.class,Ee),Z&4&&s(Ue,"style",_e.style,Re.style,Ee),Z&8){const ue=ie.dynamicProps;for(let be=0;be<ue.length;be++){const ze=ue[be],Xe=_e[ze],lt=Re[ze];(lt!==Xe||ze==="value")&&s(Ue,ze,Xe,lt,Ee,J)}}Z&1&&Y.children!==ie.children&&u(Ue,ie.children)}else!Ie&&ee==null&&B(Ue,_e,Re,J,Ee);((Pe=Re.onVnodeUpdated)||ge)&&Xs(()=>{Pe&&Vl(Pe,J,ie,Y),ge&&Wh(ie,Y,J,"updated")},ae)},$=(Y,ie,J,ae,Ee,ye,Ie)=>{for(let Ue=0;Ue<ie.length;Ue++){const Z=Y[Ue],ee=ie[Ue],ge=Z.el&&(Z.type===qi||!l0(Z,ee)||Z.shapeFlag&198)?f(Z.el):J;m(Z,ee,ge,null,ae,Ee,ye,Ie,!0)}},B=(Y,ie,J,ae,Ee)=>{if(ie!==J){if(ie!==un)for(const ye in ie)!l_(ye)&&!(ye in J)&&s(Y,ye,ie[ye],null,Ee,ae);for(const ye in J){if(l_(ye))continue;const Ie=J[ye],Ue=ie[ye];Ie!==Ue&&ye!=="value"&&s(Y,ye,Ue,Ie,Ee,ae)}"value"in J&&s(Y,"value",ie.value,J.value,Ee)}},O=(Y,ie,J,ae,Ee,ye,Ie,Ue,Z)=>{const ee=ie.el=Y?Y.el:a(""),ge=ie.anchor=Y?Y.anchor:a("");let{patchFlag:_e,dynamicChildren:Re,slotScopeIds:Pe}=ie;Pe&&(Ue=Ue?Ue.concat(Pe):Pe),Y==null?(n(ee,J,ae),n(ge,J,ae),S(ie.children||[],J,ge,Ee,ye,Ie,Ue,Z)):_e>0&&_e&64&&Re&&Y.dynamicChildren?($(Y.dynamicChildren,Re,J,Ee,ye,Ie,Ue),(ie.key!=null||Ee&&ie===Ee.subTree)&&bP(Y,ie,!0)):U(Y,ie,J,ge,Ee,ye,Ie,Ue,Z)},T=(Y,ie,J,ae,Ee,ye,Ie,Ue,Z)=>{ie.slotScopeIds=Ue,Y==null?ie.shapeFlag&512?Ee.ctx.activate(ie,J,ae,Ie,Z):y(ie,J,ae,Ee,ye,Ie,Z):w(Y,ie,Z)},y=(Y,ie,J,ae,Ee,ye,Ie)=>{const Ue=Y.component=sse(Y,ae,Ee);if(Tx(Y)&&(Ue.ctx.renderer=le),ose(Ue,!1,Ie),Ue.asyncDep){if(Ee&&Ee.registerDep(Ue,E,Ie),!Y.el){const Z=Ue.subTree=Le(fa);A(null,Z,ie,J),Y.placeholder=Z.el}}else E(Ue,Y,ie,J,Ee,ye,Ie)},w=(Y,ie,J)=>{const ae=ie.component=Y.component;if(Xie(Y,ie,J))if(ae.asyncDep&&!ae.asyncResolved){I(ae,ie,J);return}else ae.next=ie,ae.update();else ie.el=Y.el,ae.vnode=ie},E=(Y,ie,J,ae,Ee,ye,Ie)=>{const Ue=()=>{if(Y.isMounted){let{next:_e,bu:Re,u:Pe,parent:ue,vnode:be}=Y;{const At=nj(Y);if(At){_e&&(_e.el=be.el,I(Y,_e,Ie)),At.asyncDep.then(()=>{Y.isUnmounted||Ue()});return}}let ze=_e,Xe;qh(Y,!1),_e?(_e.el=be.el,I(Y,_e,Ie)):_e=be,Re&&rN(Re),(Xe=_e.props&&_e.props.onVnodeBeforeUpdate)&&Vl(Xe,ue,_e,be),qh(Y,!0);const lt=E4(Y),Kr=Y.subTree;Y.subTree=lt,m(Kr,lt,f(Kr.el),q(Kr),Y,Ee,ye),_e.el=lt.el,ze===null&&Qie(Y,lt.el),Pe&&Xs(Pe,Ee),(Xe=_e.props&&_e.props.onVnodeUpdated)&&Xs(()=>Vl(Xe,ue,_e,be),Ee)}else{let _e;const{el:Re,props:Pe}=ie,{bm:ue,m:be,parent:ze,root:Xe,type:lt}=Y,Kr=p_(ie);qh(Y,!1),ue&&rN(ue),!Kr&&(_e=Pe&&Pe.onVnodeBeforeMount)&&Vl(_e,ze,ie),qh(Y,!0);{Xe.ce&&Xe.ce._def.shadowRoot!==!1&&Xe.ce._injectChildStyle(lt);const At=Y.subTree=E4(Y);m(null,At,J,ae,Y,Ee,ye),ie.el=At.el}if(be&&Xs(be,Ee),!Kr&&(_e=Pe&&Pe.onVnodeMounted)){const At=ie;Xs(()=>Vl(_e,ze,At),Ee)}(ie.shapeFlag&256||ze&&p_(ze.vnode)&&ze.vnode.shapeFlag&256)&&Y.a&&Xs(Y.a,Ee),Y.isMounted=!0,ie=J=ae=null}};Y.scope.on();const Z=Y.effect=new cH(Ue);Y.scope.off();const ee=Y.update=Z.run.bind(Z),ge=Y.job=Z.runIfDirty.bind(Z);ge.i=Y,ge.id=Y.uid,Z.scheduler=()=>gP(ge),qh(Y,!0),ee()},I=(Y,ie,J)=>{ie.component=Y;const ae=Y.vnode.props;Y.vnode=ie,Y.next=null,Die(Y,ie.props,ae,J),Lie(Y,ie.children,J),zf(),l4(Y),Gf()},U=(Y,ie,J,ae,Ee,ye,Ie,Ue,Z=!1)=>{const ee=Y&&Y.children,ge=Y?Y.shapeFlag:0,_e=ie.children,{patchFlag:Re,shapeFlag:Pe}=ie;if(Re>0){if(Re&128){z(ee,_e,J,ae,Ee,ye,Ie,Ue,Z);return}else if(Re&256){j(ee,_e,J,ae,Ee,ye,Ie,Ue,Z);return}}Pe&8?(ge&16&&X(ee,Ee,ye),_e!==ee&&u(J,_e)):ge&16?Pe&16?z(ee,_e,J,ae,Ee,ye,Ie,Ue,Z):X(ee,Ee,ye,!0):(ge&8&&u(J,""),Pe&16&&S(_e,J,ae,Ee,ye,Ie,Ue,Z))},j=(Y,ie,J,ae,Ee,ye,Ie,Ue,Z)=>{Y=Y||Ug,ie=ie||Ug;const ee=Y.length,ge=ie.length,_e=Math.min(ee,ge);let Re;for(Re=0;Re<_e;Re++){const Pe=ie[Re]=Z?Fd(ie[Re]):fu(ie[Re]);m(Y[Re],Pe,J,null,Ee,ye,Ie,Ue,Z)}ee>ge?X(Y,Ee,ye,!0,!1,_e):S(ie,J,ae,Ee,ye,Ie,Ue,Z,_e)},z=(Y,ie,J,ae,Ee,ye,Ie,Ue,Z)=>{let ee=0;const ge=ie.length;let _e=Y.length-1,Re=ge-1;for(;ee<=_e&&ee<=Re;){const Pe=Y[ee],ue=ie[ee]=Z?Fd(ie[ee]):fu(ie[ee]);if(l0(Pe,ue))m(Pe,ue,J,null,Ee,ye,Ie,Ue,Z);else break;ee++}for(;ee<=_e&&ee<=Re;){const Pe=Y[_e],ue=ie[Re]=Z?Fd(ie[Re]):fu(ie[Re]);if(l0(Pe,ue))m(Pe,ue,J,null,Ee,ye,Ie,Ue,Z);else break;_e--,Re--}if(ee>_e){if(ee<=Re){const Pe=Re+1,ue=Pe<ge?ie[Pe].el:ae;for(;ee<=Re;)m(null,ie[ee]=Z?Fd(ie[ee]):fu(ie[ee]),J,ue,Ee,ye,Ie,Ue,Z),ee++}}else if(ee>Re)for(;ee<=_e;)x(Y[ee],Ee,ye,!0),ee++;else{const Pe=ee,ue=ee,be=new Map;for(ee=ue;ee<=Re;ee++){const It=ie[ee]=Z?Fd(ie[ee]):fu(ie[ee]);It.key!=null&&be.set(It.key,ee)}let ze,Xe=0;const lt=Re-ue+1;let Kr=!1,At=0;const jt=new Array(lt);for(ee=0;ee<lt;ee++)jt[ee]=0;for(ee=Pe;ee<=_e;ee++){const It=Y[ee];if(Xe>=lt){x(It,Ee,ye,!0);continue}let Mt;if(It.key!=null)Mt=be.get(It.key);else for(ze=ue;ze<=Re;ze++)if(jt[ze-ue]===0&&l0(It,ie[ze])){Mt=ze;break}Mt===void 0?x(It,Ee,ye,!0):(jt[Mt-ue]=ee+1,Mt>=At?At=Mt:Kr=!0,m(It,ie[Mt],J,null,Ee,ye,Ie,Ue,Z),Xe++)}const zs=Kr?Hie(jt):Ug;for(ze=zs.length-1,ee=lt-1;ee>=0;ee--){const It=ue+ee,Mt=ie[It],co=ie[It+1],Nr=It+1<ge?co.el||co.placeholder:ae;jt[ee]===0?m(null,Mt,J,Nr,Ee,ye,Ie,Ue,Z):Kr&&(ze<0||ee!==zs[ze]?L(Mt,J,Nr,2):ze--)}}},L=(Y,ie,J,ae,Ee=null)=>{const{el:ye,type:Ie,transition:Ue,children:Z,shapeFlag:ee}=Y;if(ee&6){L(Y.component.subTree,ie,J,ae);return}if(ee&128){Y.suspense.move(ie,J,ae);return}if(ee&64){Ie.move(Y,ie,J,le);return}if(Ie===qi){n(ye,ie,J);for(let _e=0;_e<Z.length;_e++)L(Z[_e],ie,J,ae);n(Y.anchor,ie,J);return}if(Ie===uN){R(Y,ie,J);return}if(ae!==2&&ee&1&&Ue)if(ae===0)Ue.beforeEnter(ye),n(ye,ie,J),Xs(()=>Ue.enter(ye),Ee);else{const{leave:_e,delayLeave:Re,afterLeave:Pe}=Ue,ue=()=>{Y.ctx.isUnmounted?i(ye):n(ye,ie,J)},be=()=>{ye._isLeaving&&ye[Rf](!0),_e(ye,()=>{ue(),Pe&&Pe()})};Re?Re(ye,ue,be):be()}else n(ye,ie,J)},x=(Y,ie,J,ae=!1,Ee=!1)=>{const{type:ye,props:Ie,ref:Ue,children:Z,dynamicChildren:ee,shapeFlag:ge,patchFlag:_e,dirs:Re,cacheIndex:Pe}=Y;if(_e===-2&&(Ee=!1),Ue!=null&&(zf(),h_(Ue,null,J,Y,!0),Gf()),Pe!=null&&(ie.renderCache[Pe]=void 0),ge&256){ie.ctx.deactivate(Y);return}const ue=ge&1&&Re,be=!p_(Y);let ze;if(be&&(ze=Ie&&Ie.onVnodeBeforeUnmount)&&Vl(ze,ie,Y),ge&6)P(Y.component,J,ae);else{if(ge&128){Y.suspense.unmount(J,ae);return}ue&&Wh(Y,null,ie,"beforeUnmount"),ge&64?Y.type.remove(Y,ie,J,le,ae):ee&&!ee.hasOnce&&(ye!==qi||_e>0&&_e&64)?X(ee,ie,J,!1,!0):(ye===qi&&_e&384||!Ee&&ge&16)&&X(Z,ie,J),ae&&W(Y)}(be&&(ze=Ie&&Ie.onVnodeUnmounted)||ue)&&Xs(()=>{ze&&Vl(ze,ie,Y),ue&&Wh(Y,null,ie,"unmounted")},J)},W=Y=>{const{type:ie,el:J,anchor:ae,transition:Ee}=Y;if(ie===qi){K(J,ae);return}if(ie===uN){k(Y);return}const ye=()=>{i(J),Ee&&!Ee.persisted&&Ee.afterLeave&&Ee.afterLeave()};if(Y.shapeFlag&1&&Ee&&!Ee.persisted){const{leave:Ie,delayLeave:Ue}=Ee,Z=()=>Ie(J,ye);Ue?Ue(Y.el,ye,Z):Z()}else ye()},K=(Y,ie)=>{let J;for(;Y!==ie;)J=h(Y),i(Y),Y=J;i(ie)},P=(Y,ie,J)=>{const{bum:ae,scope:Ee,job:ye,subTree:Ie,um:Ue,m:Z,a:ee}=Y;v4(Z),v4(ee),ae&&rN(ae),Ee.stop(),ye&&(ye.flags|=8,x(Ie,Y,ie,J)),Ue&&Xs(Ue,ie),Xs(()=>{Y.isUnmounted=!0},ie)},X=(Y,ie,J,ae=!1,Ee=!1,ye=0)=>{for(let Ie=ye;Ie<Y.length;Ie++)x(Y[Ie],ie,J,ae,Ee)},q=Y=>{if(Y.shapeFlag&6)return q(Y.component.subTree);if(Y.shapeFlag&128)return Y.suspense.next();const ie=h(Y.anchor||Y.el),J=ie&&ie[OH];return J?h(J):ie};let te=!1;const ne=(Y,ie,J)=>{Y==null?ie._vnode&&x(ie._vnode,null,null,!0):m(ie._vnode||null,Y,ie,null,null,null,J),ie._vnode=Y,te||(te=!0,l4(),TH(),te=!1)},le={p:m,um:x,m:L,r:W,mt:y,mc:S,pc:U,pbc:$,n:q,o:t};return{render:ne,hydrate:void 0,createApp:Rie(ne)}}function lN({type:t,props:e},r){return r==="svg"&&t==="foreignObject"||r==="mathml"&&t==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:r}function qh({effect:t,job:e},r){r?(t.flags|=32,e.flags|=4):(t.flags&=-33,e.flags&=-5)}function Bie(t,e){return(!t||t&&!t.pendingBranch)&&e&&!e.persisted}function bP(t,e,r=!1){const n=t.children,i=e.children;if(Et(n)&&Et(i))for(let s=0;s<n.length;s++){const o=n[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Fd(i[s]),a.el=o.el),!r&&a.patchFlag!==-2&&bP(o,a)),a.type===w1&&a.patchFlag!==-1&&(a.el=o.el),a.type===fa&&!a.el&&(a.el=o.el)}}function Hie(t){const e=t.slice(),r=[0];let n,i,s,o,a;const c=t.length;for(n=0;n<c;n++){const l=t[n];if(l!==0){if(i=r[r.length-1],t[i]<l){e[n]=i,r.push(n);continue}for(s=0,o=r.length-1;s<o;)a=s+o>>1,t[r[a]]<l?s=a+1:o=a;l<t[r[s]]&&(s>0&&(e[n]=r[s-1]),r[s]=n)}}for(s=r.length,o=r[s-1];s-- >0;)r[s]=o,o=e[o];return r}function nj(t){const e=t.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:nj(e)}function v4(t){if(t)for(let e=0;e<t.length;e++)t[e].flags|=8}const jie=Symbol.for("v-scx"),Wie=()=>Us(jie);function qie(t,e){return wP(t,null,e)}function In(t,e,r){return wP(t,e,r)}function wP(t,e,r=un){const{immediate:n,deep:i,flush:s,once:o}=r,a=Vi({},r),c=e&&n||!e&&s!=="post";let l;if(Y_){if(s==="sync"){const g=Wie();l=g.__watcherHandles||(g.__watcherHandles=[])}else if(!c){const g=()=>{};return g.stop=vu,g.resume=vu,g.pause=vu,g}}const u=Os;a.call=(g,_,m)=>Dl(g,u,_,m);let f=!1;s==="post"?a.scheduler=g=>{Xs(g,u&&u.suspense)}:s!=="sync"&&(f=!0,a.scheduler=(g,_)=>{_?g():gP(g)}),a.augmentJob=g=>{e&&(g.flags|=4),f&&(g.flags|=2,u&&(g.id=u.uid,g.i=u))};const h=iie(t,e,a);return Y_&&(l?l.push(h):c&&h()),h}function zie(t,e,r){const n=this.proxy,i=Kn(t)?t.includes(".")?ij(n,t):()=>n[t]:t.bind(n,n);let s;St(e)?s=e:(s=e.handler,r=e);const o=v1(this),a=wP(i,s.bind(n),r);return o(),a}function ij(t,e){const r=e.split(".");return()=>{let n=t;for(let i=0;i<r.length&&n;i++)n=n[r[i]];return n}}const Gie=(t,e)=>e==="modelValue"||e==="model-value"?t.modelModifiers:t[`${e}Modifiers`]||t[`${cc(e)}Modifiers`]||t[`${ep(e)}Modifiers`];function Kie(t,e,...r){if(t.isUnmounted)return;const n=t.vnode.props||un;let i=r;const s=e.startsWith("update:"),o=s&&Gie(n,e.slice(7));o&&(o.trim&&(i=r.map(u=>Kn(u)?u.trim():u)),o.number&&(i=r.map(Ane)));let a,c=n[a=tN(e)]||n[a=tN(cc(e))];!c&&s&&(c=n[a=tN(ep(e))]),c&&Dl(c,t,6,i);const l=n[a+"Once"];if(l){if(!t.emitted)t.emitted={};else if(t.emitted[a])return;t.emitted[a]=!0,Dl(l,t,6,i)}}const Vie=new WeakMap;function sj(t,e,r=!1){const n=r?Vie:e.emitsCache,i=n.get(t);if(i!==void 0)return i;const s=t.emits;let o={},a=!1;if(!St(t)){const c=l=>{const u=sj(l,e,!0);u&&(a=!0,Vi(o,u))};!r&&e.mixins.length&&e.mixins.forEach(c),t.extends&&c(t.extends),t.mixins&&t.mixins.forEach(c)}return!s&&!a?(yn(t)&&n.set(t,null),null):(Et(s)?s.forEach(c=>o[c]=null):Vi(o,s),yn(t)&&n.set(t,o),o)}function Ox(t,e){return!t||!vx(e)?!1:(e=e.slice(2).replace(/Once$/,""),Rr(t,e[0].toLowerCase()+e.slice(1))||Rr(t,ep(e))||Rr(t,e))}function E4(t){const{type:e,vnode:r,proxy:n,withProxy:i,propsOptions:[s],slots:o,attrs:a,emit:c,render:l,renderCache:u,props:f,data:h,setupState:g,ctx:_,inheritAttrs:m}=t,b=QE(t);let A,N;try{if(r.shapeFlag&4){const k=i||n,M=k;A=fu(l.call(M,k,u,f,g,h,_)),N=a}else{const k=e;A=fu(k.length>1?k(f,{attrs:a,slots:o,emit:c}):k(f,null)),N=e.props?a:Jie(a)}}catch(k){m_.length=0,Sx(k,t,1),A=Le(fa)}let R=A;if(N&&m!==!1){const k=Object.keys(N),{shapeFlag:M}=R;k.length&&M&7&&(s&&k.some(tP)&&(N=Yie(N,s)),R=ah(R,N,!1,!0))}return r.dirs&&(R=ah(R,null,!1,!0),R.dirs=R.dirs?R.dirs.concat(r.dirs):r.dirs),r.transition&&V_(R,r.transition),A=R,QE(b),A}const Jie=t=>{let e;for(const r in t)(r==="class"||r==="style"||vx(r))&&((e||(e={}))[r]=t[r]);return e},Yie=(t,e)=>{const r={};for(const n in t)(!tP(n)||!(n.slice(9)in e))&&(r[n]=t[n]);return r};function Xie(t,e,r){const{props:n,children:i,component:s}=t,{props:o,children:a,patchFlag:c}=e,l=s.emitsOptions;if(e.dirs||e.transition)return!0;if(r&&c>=0){if(c&1024)return!0;if(c&16)return n?A4(n,o,l):!!o;if(c&8){const u=e.dynamicProps;for(let f=0;f<u.length;f++){const h=u[f];if(o[h]!==n[h]&&!Ox(l,h))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:n===o?!1:n?o?A4(n,o,l):!0:!!o;return!1}function A4(t,e,r){const n=Object.keys(e);if(n.length!==Object.keys(t).length)return!0;for(let i=0;i<n.length;i++){const s=n[i];if(e[s]!==t[s]&&!Ox(r,s))return!0}return!1}function Qie({vnode:t,parent:e},r){for(;e;){const n=e.subTree;if(n.suspense&&n.suspense.activeBranch===t&&(n.el=t.el),n===t)(t=e.vnode).el=r,e=e.parent;else break}}const oj=t=>t.__isSuspense;function Zie(t,e){e&&e.pendingBranch?Et(t)?e.effects.push(...t):e.effects.push(t):aie(t)}const qi=Symbol.for("v-fgt"),w1=Symbol.for("v-txt"),fa=Symbol.for("v-cmt"),uN=Symbol.for("v-stc"),m_=[];let pa=null;function yr(t=!1){m_.push(pa=t?null:[])}function ese(){m_.pop(),pa=m_[m_.length-1]||null}let J_=1;function tA(t,e=!1){J_+=t,t<0&&pa&&e&&(pa.hasOnce=!0)}function aj(t){return t.dynamicChildren=J_>0?pa||Ug:null,ese(),J_>0&&pa&&pa.push(t),t}function wn(t,e,r,n,i,s){return aj(vt(t,e,r,n,i,s,!0))}function S0(t,e,r,n,i){return aj(Le(t,e,r,n,i,!0))}function rA(t){return t?t.__v_isVNode===!0:!1}function l0(t,e){return t.type===e.type&&t.key===e.key}const cj=({key:t})=>t??null,Fv=({ref:t,ref_key:e,ref_for:r})=>(typeof t=="number"&&(t=""+t),t!=null?Kn(t)||$n(t)||St(t)?{i:da,r:t,k:e,f:!!r}:t:null);function vt(t,e=null,r=null,n=0,i=null,s=t===qi?0:1,o=!1,a=!1){const c={__v_isVNode:!0,__v_skip:!0,type:t,props:e,key:e&&cj(e),ref:e&&Fv(e),scopeId:RH,slotScopeIds:null,children:r,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:n,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:da};return a?(vP(c,r),s&128&&t.normalize(c)):r&&(c.shapeFlag|=Kn(r)?8:16),J_>0&&!o&&pa&&(c.patchFlag>0||s&6)&&c.patchFlag!==32&&pa.push(c),c}const Le=tse;function tse(t,e=null,r=null,n=0,i=null,s=!1){if((!t||t===vie)&&(t=fa),rA(t)){const a=ah(t,e,!0);return r&&vP(a,r),J_>0&&!s&&pa&&(a.shapeFlag&6?pa[pa.indexOf(t)]=a:pa.push(a)),a.patchFlag=-2,a}if(fse(t)&&(t=t.__vccOpts),e){e=rse(e);let{class:a,style:c}=e;a&&!Kn(a)&&(e.class=_1(a)),yn(c)&&(dP(c)&&!Et(c)&&(c=Vi({},c)),e.style=iP(c))}const o=Kn(t)?1:oj(t)?128:DH(t)?64:yn(t)?4:St(t)?2:0;return vt(t,e,r,n,i,o,s,!0)}function rse(t){return t?dP(t)||XH(t)?Vi({},t):t:null}function ah(t,e,r=!1,n=!1){const{props:i,ref:s,patchFlag:o,children:a,transition:c}=t,l=e?Iu(i||{},e):i,u={__v_isVNode:!0,__v_skip:!0,type:t.type,props:l,key:l&&cj(l),ref:e&&e.ref?r&&s?Et(s)?s.concat(Fv(e)):[s,Fv(e)]:Fv(e):s,scopeId:t.scopeId,slotScopeIds:t.slotScopeIds,children:a,target:t.target,targetStart:t.targetStart,targetAnchor:t.targetAnchor,staticCount:t.staticCount,shapeFlag:t.shapeFlag,patchFlag:e&&t.type!==qi?o===-1?16:o|16:o,dynamicProps:t.dynamicProps,dynamicChildren:t.dynamicChildren,appContext:t.appContext,dirs:t.dirs,transition:c,component:t.component,suspense:t.suspense,ssContent:t.ssContent&&ah(t.ssContent),ssFallback:t.ssFallback&&ah(t.ssFallback),placeholder:t.placeholder,el:t.el,anchor:t.anchor,ctx:t.ctx,ce:t.ce};return c&&n&&V_(u,c.clone(u)),u}function L0(t=" ",e=0){return Le(w1,null,t,e)}function fu(t){return t==null||typeof t=="boolean"?Le(fa):Et(t)?Le(qi,null,t.slice()):rA(t)?Fd(t):Le(w1,null,String(t))}function Fd(t){return t.el===null&&t.patchFlag!==-1||t.memo?t:ah(t)}function vP(t,e){let r=0;const{shapeFlag:n}=t;if(e==null)e=null;else if(Et(e))r=16;else if(typeof e=="object")if(n&65){const i=e.default;i&&(i._c&&(i._d=!1),vP(t,i()),i._c&&(i._d=!0));return}else{r=32;const i=e._;!i&&!XH(e)?e._ctx=da:i===3&&da&&(da.slots._===1?e._=1:(e._=2,t.patchFlag|=1024))}else St(e)?(e={default:e,_ctx:da},r=32):(e=String(e),n&64?(r=16,e=[L0(e)]):r=8);t.children=e,t.shapeFlag|=r}function Iu(...t){const e={};for(let r=0;r<t.length;r++){const n=t[r];for(const i in n)if(i==="class")e.class!==n.class&&(e.class=_1([e.class,n.class]));else if(i==="style")e.style=iP([e.style,n.style]);else if(vx(i)){const s=e[i],o=n[i];o&&s!==o&&!(Et(s)&&s.includes(o))&&(e[i]=s?[].concat(s,o):o)}else i!==""&&(e[i]=n[i])}return e}function Vl(t,e,r,n=null){Dl(t,e,7,[r,n])}const nse=VH();let ise=0;function sse(t,e,r){const n=t.type,i=(e?e.appContext:t.appContext)||nse,s={uid:ise++,vnode:t,type:n,parent:e,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new oH(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(i.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ZH(n,i),emitsOptions:sj(n,i),emit:null,emitted:null,propsDefaults:un,inheritAttrs:n.inheritAttrs,ctx:un,data:un,props:un,attrs:un,slots:un,refs:un,setupState:un,setupContext:null,suspense:r,suspenseId:r?r.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=e?e.root:s,s.emit=Kie.bind(null,s),t.ce&&t.ce(s),s}let Os=null;const Ho=()=>Os||da;let nA,MI;{const t=Cx(),e=(r,n)=>{let i;return(i=t[r])||(i=t[r]=[]),i.push(n),s=>{i.length>1?i.forEach(o=>o(s)):i[0](s)}};nA=e("__VUE_INSTANCE_SETTERS__",r=>Os=r),MI=e("__VUE_SSR_SETTERS__",r=>Y_=r)}const v1=t=>{const e=Os;return nA(t),t.scope.on(),()=>{t.scope.off(),nA(e)}},x4=()=>{Os&&Os.scope.off(),nA(null)};function lj(t){return t.vnode.shapeFlag&4}let Y_=!1;function ose(t,e=!1,r=!1){e&&MI(e);const{props:n,children:i}=t.vnode,s=lj(t);Oie(t,n,s,e),Uie(t,i,r||e);const o=s?ase(t,e):void 0;return e&&MI(!1),o}function ase(t,e){const r=t.type;t.accessCache=Object.create(null),t.proxy=new Proxy(t.ctx,Aie);const{setup:n}=r;if(n){zf();const i=t.setupContext=n.length>1?lse(t):null,s=v1(t),o=b1(n,t,0,[t.props,i]),a=ZB(o);if(Gf(),s(),(a||t.sp)&&!p_(t)&&jH(t),a){if(o.then(x4,x4),e)return o.then(c=>{C4(t,c)}).catch(c=>{Sx(c,t,0)});t.asyncDep=o}else C4(t,o)}else uj(t)}function C4(t,e,r){St(e)?t.type.__ssrInlineRender?t.ssrRender=e:t.render=e:yn(e)&&(t.setupState=xH(e)),uj(t)}function uj(t,e,r){const n=t.type;t.render||(t.render=n.render||vu);{const i=v1(t);zf();try{xie(t)}finally{Gf(),i()}}}const cse={get(t,e){return Is(t,"get",""),t[e]}};function lse(t){const e=r=>{t.exposed=r||{}};return{attrs:new Proxy(t.attrs,cse),slots:t.slots,emit:t.emit,expose:e}}function Dx(t){return t.exposed?t.exposeProxy||(t.exposeProxy=new Proxy(xH(hP(t.exposed)),{get(e,r){if(r in e)return e[r];if(r in g_)return g_[r](t)},has(e,r){return r in e||r in g_}})):t.proxy}function use(t,e=!0){return St(t)?t.displayName||t.name:t.name||e&&t.__name}function fse(t){return St(t)&&"__vccOpts"in t}const zt=(t,e)=>rie(t,e,Y_);function E1(t,e,r){try{tA(-1);const n=arguments.length;return n===2?yn(e)&&!Et(e)?rA(e)?Le(t,null,[e]):Le(t,e):Le(t,null,e):(n>3?r=Array.prototype.slice.call(arguments,2):n===3&&rA(r)&&(r=[r]),Le(t,e,r))}finally{tA(1)}}const dse="3.5.22";/**
* @vue/runtime-dom v3.5.22
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let UI;const N4=typeof window<"u"&&window.trustedTypes;if(N4)try{UI=N4.createPolicy("vue",{createHTML:t=>t})}catch{}const fj=UI?t=>UI.createHTML(t):t=>t,hse="http://www.w3.org/2000/svg",pse="http://www.w3.org/1998/Math/MathML",vf=typeof document<"u"?document:null,S4=vf&&vf.createElement("template"),gse={insert:(t,e,r)=>{e.insertBefore(t,r||null)},remove:t=>{const e=t.parentNode;e&&e.removeChild(t)},createElement:(t,e,r,n)=>{const i=e==="svg"?vf.createElementNS(hse,t):e==="mathml"?vf.createElementNS(pse,t):r?vf.createElement(t,{is:r}):vf.createElement(t);return t==="select"&&n&&n.multiple!=null&&i.setAttribute("multiple",n.multiple),i},createText:t=>vf.createTextNode(t),createComment:t=>vf.createComment(t),setText:(t,e)=>{t.nodeValue=e},setElementText:(t,e)=>{t.textContent=e},parentNode:t=>t.parentNode,nextSibling:t=>t.nextSibling,querySelector:t=>vf.querySelector(t),setScopeId(t,e){t.setAttribute(e,"")},insertStaticContent(t,e,r,n,i,s){const o=r?r.previousSibling:e.lastChild;if(i&&(i===s||i.nextSibling))for(;e.insertBefore(i.cloneNode(!0),r),!(i===s||!(i=i.nextSibling)););else{S4.innerHTML=fj(n==="svg"?`<svg>${t}</svg>`:n==="mathml"?`<math>${t}</math>`:t);const a=S4.content;if(n==="svg"||n==="mathml"){const c=a.firstChild;for(;c.firstChild;)a.appendChild(c.firstChild);a.removeChild(c)}e.insertBefore(a,r)}return[o?o.nextSibling:e.firstChild,r?r.previousSibling:e.lastChild]}},md="transition",my="animation",X_=Symbol("_vtc"),dj={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},mse=Vi({},LH,dj),yse=t=>(t.displayName="Transition",t.props=mse,t),hj=yse((t,{slots:e})=>E1(fie,_se(t),e)),zh=(t,e=[])=>{Et(t)?t.forEach(r=>r(...e)):t&&t(...e)},T4=t=>t?Et(t)?t.some(e=>e.length>1):t.length>1:!1;function _se(t){const e={};for(const O in t)O in dj||(e[O]=t[O]);if(t.css===!1)return e;const{name:r="v",type:n,duration:i,enterFromClass:s=`${r}-enter-from`,enterActiveClass:o=`${r}-enter-active`,enterToClass:a=`${r}-enter-to`,appearFromClass:c=s,appearActiveClass:l=o,appearToClass:u=a,leaveFromClass:f=`${r}-leave-from`,leaveActiveClass:h=`${r}-leave-active`,leaveToClass:g=`${r}-leave-to`}=t,_=bse(i),m=_&&_[0],b=_&&_[1],{onBeforeEnter:A,onEnter:N,onEnterCancelled:R,onLeave:k,onLeaveCancelled:M,onBeforeAppear:D=A,onAppear:H=N,onAppearCancelled:S=R}=e,C=(O,T,y,w)=>{O._enterCancelled=w,Gh(O,T?u:a),Gh(O,T?l:o),y&&y()},$=(O,T)=>{O._isLeaving=!1,Gh(O,f),Gh(O,g),Gh(O,h),T&&T()},B=O=>(T,y)=>{const w=O?H:N,E=()=>C(T,O,y);zh(w,[T,E]),I4(()=>{Gh(T,O?c:s),tf(T,O?u:a),T4(w)||R4(T,n,m,E)})};return Vi(e,{onBeforeEnter(O){zh(A,[O]),tf(O,s),tf(O,o)},onBeforeAppear(O){zh(D,[O]),tf(O,c),tf(O,l)},onEnter:B(!1),onAppear:B(!0),onLeave(O,T){O._isLeaving=!0;const y=()=>$(O,T);tf(O,f),O._enterCancelled?(tf(O,h),D4(O)):(D4(O),tf(O,h)),I4(()=>{O._isLeaving&&(Gh(O,f),tf(O,g),T4(k)||R4(O,n,b,y))}),zh(k,[O,y])},onEnterCancelled(O){C(O,!1,void 0,!0),zh(R,[O])},onAppearCancelled(O){C(O,!0,void 0,!0),zh(S,[O])},onLeaveCancelled(O){$(O),zh(M,[O])}})}function bse(t){if(t==null)return null;if(yn(t))return[fN(t.enter),fN(t.leave)];{const e=fN(t);return[e,e]}}function fN(t){return xne(t)}function tf(t,e){e.split(/\s+/).forEach(r=>r&&t.classList.add(r)),(t[X_]||(t[X_]=new Set)).add(e)}function Gh(t,e){e.split(/\s+/).forEach(n=>n&&t.classList.remove(n));const r=t[X_];r&&(r.delete(e),r.size||(t[X_]=void 0))}function I4(t){requestAnimationFrame(()=>{requestAnimationFrame(t)})}let wse=0;function R4(t,e,r,n){const i=t._endId=++wse,s=()=>{i===t._endId&&n()};if(r!=null)return setTimeout(s,r);const{type:o,timeout:a,propCount:c}=vse(t,e);if(!o)return n();const l=o+"end";let u=0;const f=()=>{t.removeEventListener(l,h),s()},h=g=>{g.target===t&&++u>=c&&f()};setTimeout(()=>{u<c&&f()},a+1),t.addEventListener(l,h)}function vse(t,e){const r=window.getComputedStyle(t),n=_=>(r[_]||"").split(", "),i=n(`${md}Delay`),s=n(`${md}Duration`),o=P4(i,s),a=n(`${my}Delay`),c=n(`${my}Duration`),l=P4(a,c);let u=null,f=0,h=0;e===md?o>0&&(u=md,f=o,h=s.length):e===my?l>0&&(u=my,f=l,h=c.length):(f=Math.max(o,l),u=f>0?o>l?md:my:null,h=u?u===md?s.length:c.length:0);const g=u===md&&/\b(?:transform|all)(?:,|$)/.test(n(`${md}Property`).toString());return{type:u,timeout:f,propCount:h,hasTransform:g}}function P4(t,e){for(;t.length<e.length;)t=t.concat(t);return Math.max(...e.map((r,n)=>O4(r)+O4(t[n])))}function O4(t){return t==="auto"?0:Number(t.slice(0,-1).replace(",","."))*1e3}function D4(t){return(t?t.ownerDocument:document).body.offsetHeight}function Ese(t,e,r){const n=t[X_];n&&(e=(e?[e,...n]:[...n]).join(" ")),e==null?t.removeAttribute("class"):r?t.setAttribute("class",e):t.className=e}const iA=Symbol("_vod"),pj=Symbol("_vsh"),gj={name:"show",beforeMount(t,{value:e},{transition:r}){t[iA]=t.style.display==="none"?"":t.style.display,r&&e?r.beforeEnter(t):yy(t,e)},mounted(t,{value:e},{transition:r}){r&&e&&r.enter(t)},updated(t,{value:e,oldValue:r},{transition:n}){!e!=!r&&(n?e?(n.beforeEnter(t),yy(t,!0),n.enter(t)):n.leave(t,()=>{yy(t,!1)}):yy(t,e))},beforeUnmount(t,{value:e}){yy(t,e)}};function yy(t,e){t.style.display=e?t[iA]:"none",t[pj]=!e}const Ase=Symbol(""),xse=/(?:^|;)\s*display\s*:/;function Cse(t,e,r){const n=t.style,i=Kn(r);let s=!1;if(r&&!i){if(e)if(Kn(e))for(const o of e.split(";")){const a=o.slice(0,o.indexOf(":")).trim();r[a]==null&&Bv(n,a,"")}else for(const o in e)r[o]==null&&Bv(n,o,"");for(const o in r)o==="display"&&(s=!0),Bv(n,o,r[o])}else if(i){if(e!==r){const o=n[Ase];o&&(r+=";"+o),n.cssText=r,s=xse.test(r)}}else e&&t.removeAttribute("style");iA in t&&(t[iA]=s?n.display:"",t[pj]&&(n.display="none"))}const k4=/\s*!important$/;function Bv(t,e,r){if(Et(r))r.forEach(n=>Bv(t,e,n));else if(r==null&&(r=""),e.startsWith("--"))t.setProperty(e,r);else{const n=Nse(t,e);k4.test(r)?t.setProperty(ep(n),r.replace(k4,""),"important"):t[n]=r}}const M4=["Webkit","Moz","ms"],dN={};function Nse(t,e){const r=dN[e];if(r)return r;let n=cc(e);if(n!=="filter"&&n in t)return dN[e]=n;n=xx(n);for(let i=0;i<M4.length;i++){const s=M4[i]+n;if(s in t)return dN[e]=s}return e}const U4="http://www.w3.org/1999/xlink";function L4(t,e,r,n,i,s=Rne(e)){n&&e.startsWith("xlink:")?r==null?t.removeAttributeNS(U4,e.slice(6,e.length)):t.setAttributeNS(U4,e,r):r==null||s&&!nH(r)?t.removeAttribute(e):t.setAttribute(e,s?"":Ah(r)?String(r):r)}function $4(t,e,r,n,i){if(e==="innerHTML"||e==="textContent"){r!=null&&(t[e]=e==="innerHTML"?fj(r):r);return}const s=t.tagName;if(e==="value"&&s!=="PROGRESS"&&!s.includes("-")){const a=s==="OPTION"?t.getAttribute("value")||"":t.value,c=r==null?t.type==="checkbox"?"on":"":String(r);(a!==c||!("_value"in t))&&(t.value=c),r==null&&t.removeAttribute(e),t._value=r;return}let o=!1;if(r===""||r==null){const a=typeof t[e];a==="boolean"?r=nH(r):r==null&&a==="string"?(r="",o=!0):a==="number"&&(r=0,o=!0)}try{t[e]=r}catch{}o&&t.removeAttribute(i||e)}function Sse(t,e,r,n){t.addEventListener(e,r,n)}function Tse(t,e,r,n){t.removeEventListener(e,r,n)}const F4=Symbol("_vei");function Ise(t,e,r,n,i=null){const s=t[F4]||(t[F4]={}),o=s[e];if(n&&o)o.value=n;else{const[a,c]=Rse(e);if(n){const l=s[e]=Dse(n,i);Sse(t,a,l,c)}else o&&(Tse(t,a,o,c),s[e]=void 0)}}const B4=/(?:Once|Passive|Capture)$/;function Rse(t){let e;if(B4.test(t)){e={};let n;for(;n=t.match(B4);)t=t.slice(0,t.length-n[0].length),e[n[0].toLowerCase()]=!0}return[t[2]===":"?t.slice(3):ep(t.slice(2)),e]}let hN=0;const Pse=Promise.resolve(),Ose=()=>hN||(Pse.then(()=>hN=0),hN=Date.now());function Dse(t,e){const r=n=>{if(!n._vts)n._vts=Date.now();else if(n._vts<=r.attached)return;Dl(kse(n,r.value),e,5,[n])};return r.value=t,r.attached=Ose(),r}function kse(t,e){if(Et(e)){const r=t.stopImmediatePropagation;return t.stopImmediatePropagation=()=>{r.call(t),t._stopped=!0},e.map(n=>i=>!i._stopped&&n&&n(i))}else return e}const H4=t=>t.charCodeAt(0)===111&&t.charCodeAt(1)===110&&t.charCodeAt(2)>96&&t.charCodeAt(2)<123,Mse=(t,e,r,n,i,s)=>{const o=i==="svg";e==="class"?Ese(t,n,o):e==="style"?Cse(t,r,n):vx(e)?tP(e)||Ise(t,e,r,n,s):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Use(t,e,n,o))?($4(t,e,n),!t.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&L4(t,e,n,o,s,e!=="value")):t._isVueCE&&(/[A-Z]/.test(e)||!Kn(n))?$4(t,cc(e),n,s,e):(e==="true-value"?t._trueValue=n:e==="false-value"&&(t._falseValue=n),L4(t,e,n,o))};function Use(t,e,r,n){if(n)return!!(e==="innerHTML"||e==="textContent"||e in t&&H4(e)&&St(r));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="form"||e==="list"&&t.tagName==="INPUT"||e==="type"&&t.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const i=t.tagName;if(i==="IMG"||i==="VIDEO"||i==="CANVAS"||i==="SOURCE")return!1}return H4(e)&&Kn(r)?!1:e in t}const Lse=Vi({patchProp:Mse},gse);let j4;function $se(){return j4||(j4=$ie(Lse))}const mj=((...t)=>{const e=$se().createApp(...t),{mount:r}=e;return e.mount=n=>{const i=Bse(n);if(!i)return;const s=e._component;!St(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.nodeType===1&&(i.textContent="");const o=r(i,!1,Fse(i));return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},e});function Fse(t){if(t instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&t instanceof MathMLElement)return"mathml"}function Bse(t){return Kn(t)?document.querySelector(t):t}const Hse=Symbol(),W4=Object.getPrototypeOf,LI=new WeakMap,jse=t=>t&&(LI.has(t)?LI.get(t):W4(t)===Object.prototype||W4(t)===Array.prototype),Wse=t=>jse(t)&&t[Hse]||null,q4=(t,e=!0)=>{LI.set(t,e)},sA={},EP=t=>typeof t=="object"&&t!==null,qse=t=>EP(t)&&!A1.has(t)&&(Array.isArray(t)||!(Symbol.iterator in t))&&!(t instanceof WeakMap)&&!(t instanceof WeakSet)&&!(t instanceof Error)&&!(t instanceof Number)&&!(t instanceof Date)&&!(t instanceof String)&&!(t instanceof RegExp)&&!(t instanceof ArrayBuffer)&&!(t instanceof Promise),yj=(t,e)=>{const r=$I.get(t);if(r?.[0]===e)return r[1];const n=Array.isArray(t)?[]:Object.create(Object.getPrototypeOf(t));return q4(n,!0),$I.set(t,[e,n]),Reflect.ownKeys(t).forEach(i=>{if(Object.getOwnPropertyDescriptor(n,i))return;const s=Reflect.get(t,i),{enumerable:o}=Reflect.getOwnPropertyDescriptor(t,i),a={value:s,enumerable:o,configurable:!0};if(A1.has(s))q4(s,!1);else if(ch.has(s)){const[c,l]=ch.get(s);a.value=yj(c,l())}Object.defineProperty(n,i,a)}),Object.preventExtensions(n)},zse=(t,e,r,n)=>({deleteProperty(i,s){const o=Reflect.get(i,s);r(s);const a=Reflect.deleteProperty(i,s);return a&&n(["delete",[s],o]),a},set(i,s,o,a){const c=!t()&&Reflect.has(i,s),l=Reflect.get(i,s,a);if(c&&(z4(l,o)||Q_.has(o)&&z4(l,Q_.get(o))))return!0;r(s),EP(o)&&(o=Wse(o)||o);const u=!ch.has(o)&&Kse(o)?_n(o):o;return e(s,u),Reflect.set(i,s,u,a),n(["set",[s],o,l]),!0}}),ch=new WeakMap,A1=new WeakSet,$I=new WeakMap,Xy=[1,1],Q_=new WeakMap;let z4=Object.is,Gse=(t,e)=>new Proxy(t,e),Kse=qse,Vse=yj,Jse=zse;function _n(t={}){if(!EP(t))throw new Error("object required");const e=Q_.get(t);if(e)return e;let r=Xy[0];const n=new Set,i=(b,A=++Xy[0])=>{r!==A&&(r=A,n.forEach(N=>N(b,A)))};let s=Xy[1];const o=(b=++Xy[1])=>(s!==b&&!n.size&&(s=b,c.forEach(([A])=>{const N=A[1](b);N>r&&(r=N)})),r),a=b=>(A,N)=>{const R=[...A];R[1]=[b,...R[1]],i(R,N)},c=new Map,l=(b,A)=>{const N=!A1.has(A)&&ch.get(A);if(N){if((sA?"production":void 0)!=="production"&&c.has(b))throw new Error("prop listener already exists");if(n.size){const R=N[2](a(b));c.set(b,[N,R])}else c.set(b,[N])}},u=b=>{var A;const N=c.get(b);N&&(c.delete(b),(A=N[1])==null||A.call(N))},f=b=>(n.add(b),n.size===1&&c.forEach(([N,R],k)=>{if((sA?"production":void 0)!=="production"&&R)throw new Error("remove already exists");const M=N[2](a(k));c.set(k,[N,M])}),()=>{n.delete(b),n.size===0&&c.forEach(([N,R],k)=>{R&&(R(),c.set(k,[N]))})});let h=!0;const g=Jse(()=>h,l,u,i),_=Gse(t,g);Q_.set(t,_);const m=[t,o,f];return ch.set(_,m),Reflect.ownKeys(t).forEach(b=>{const A=Object.getOwnPropertyDescriptor(t,b);"value"in A&&A.writable&&(_[b]=t[b])}),h=!1,_}function ds(t,e,r){const n=ch.get(t);(sA?"production":void 0)!=="production"&&!n&&console.warn("Please use proxy object");let i;const s=[],o=n[2];let a=!1;const l=o(u=>{s.push(u),i||(i=Promise.resolve().then(()=>{i=void 0,a&&e(s.splice(0))}))});return a=!0,()=>{a=!1,l()}}function Z_(t){const e=ch.get(t);(sA?"production":void 0)!=="production"&&!e&&console.warn("Please use proxy object");const[r,n]=e;return Vse(r,n())}function $0(t){return A1.add(t),t}function Yse(){return{proxyStateMap:ch,refSet:A1,snapCache:$I,versionHolder:Xy,proxyCache:Q_}}function js(t,e,r,n){let i=t[e];return ds(t,()=>{const s=t[e];Object.is(i,s)||r(i=s)})}const{proxyStateMap:Xse,snapCache:Qse}=Yse(),Ww=t=>Xse.has(t);function Zse(t){const e=[];let r=0;const n=new Map,i=new WeakMap,s=()=>{const l=Qse.get(a),u=l?.[1];if(u&&!i.has(u)){const f=new Map(n);i.set(u,f)}},o=l=>i.get(l)||n,a={data:e,index:r,epoch:0,get size(){return Ww(this)||s(),o(this).size},get(l){const f=o(this).get(l);if(f===void 0){this.epoch;return}return this.data[f]},has(l){const u=o(this);return this.epoch,u.has(l)},set(l,u){if(!Ww(this))throw new Error("Cannot perform mutations on a snapshot");const f=n.get(l);return f===void 0?(n.set(l,this.index),this.data[this.index++]=u):this.data[f]=u,this.epoch++,this},delete(l){if(!Ww(this))throw new Error("Cannot perform mutations on a snapshot");const u=n.get(l);return u===void 0?!1:(delete this.data[u],n.delete(l),this.epoch++,!0)},clear(){if(!Ww(this))throw new Error("Cannot perform mutations on a snapshot");this.data.length=0,this.index=0,this.epoch++,n.clear()},forEach(l){this.epoch,o(this).forEach((f,h)=>{l(this.data[f],h,this)})},*entries(){this.epoch;const l=o(this);for(const[u,f]of l)yield[u,this.data[f]]},*keys(){this.epoch;const l=o(this);for(const u of l.keys())yield u},*values(){this.epoch;const l=o(this);for(const u of l.values())yield this.data[u]},[Symbol.iterator](){return this.entries()},get[Symbol.toStringTag](){return"Map"},toJSON(){return new Map(this.entries())}},c=_n(a);return Object.defineProperties(c,{size:{enumerable:!1},index:{enumerable:!1},epoch:{enumerable:!1},data:{enumerable:!1},toJSON:{enumerable:!1}}),Object.seal(c),c}var to=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ws(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Hn(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){var i=!1;try{i=this instanceof n}catch{}return i?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var G4={};const we={WC_NAME_SUFFIX:".reown.id",WC_NAME_SUFFIX_LEGACY:".wcn.id",BLOCKCHAIN_API_RPC_URL:"https://rpc.walletconnect.org",PULSE_API_URL:"https://pulse.walletconnect.org",W3M_API_URL:"https://api.web3modal.org",CONNECTOR_ID:{WALLET_CONNECT:"walletConnect",INJECTED:"injected",WALLET_STANDARD:"announced",COINBASE:"coinbaseWallet",COINBASE_SDK:"coinbaseWalletSDK",SAFE:"safe",LEDGER:"ledger",OKX:"okx",EIP6963:"eip6963",AUTH:"ID_AUTH"},CONNECTOR_NAMES:{AUTH:"Auth"},AUTH_CONNECTOR_SUPPORTED_CHAINS:["eip155","solana"],LIMITS:{PENDING_TRANSACTIONS:99},CHAIN:{EVM:"eip155",SOLANA:"solana",POLKADOT:"polkadot",BITCOIN:"bip122"},CHAIN_NAME_MAP:{eip155:"EVM Networks",solana:"Solana",polkadot:"Polkadot",bip122:"Bitcoin",cosmos:"Cosmos",sui:"Sui",stacks:"Stacks"},ADAPTER_TYPES:{BITCOIN:"bitcoin",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5"},USDT_CONTRACT_ADDRESSES:["0xdac17f958d2ee523a2206206994597c13d831ec7","0xc2132d05d31c914a87c6611c10748aeb04b58e8f","0x9702230a8ea53601f5cd2dc00fdbc13d4df4a8c7","0x919C1c267BC06a7039e03fcc2eF738525769109c","0x48065fbBE25f71C9282ddf5e1cD6D6A887483D5e","0x55d398326f99059fF775485246999027B3197955","0xfd086bc7cd5c481dcc9c85ebe478a1c0b69fcbb9"],SOLANA_SPL_TOKEN_ADDRESSES:{SOL:"So11111111111111111111111111111111111111112"},HTTP_STATUS_CODES:{SERVER_ERROR:500,TOO_MANY_REQUESTS:429,SERVICE_UNAVAILABLE:503,FORBIDDEN:403},UNSUPPORTED_NETWORK_NAME:"Unknown Network",SECURE_SITE_SDK_ORIGIN:(typeof process<"u"&&typeof G4<"u"?G4.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",REMOTE_FEATURES_ALERTS:{MULTI_WALLET_NOT_ENABLED:{DEFAULT:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com."},CONNECTIONS_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnections hook."},CONNECTION_HOOK:{displayMessage:"Multi-Wallet Not Enabled",debugMessage:"Multi-wallet support is not enabled. Please enable it in your AppKit configuration at cloud.reown.com to use the useAppKitConnection hook."}}}},_j={caipNetworkIdToNumber(t){return t?Number(t.split(":")[1]):void 0},parseEvmChainId(t){return typeof t=="string"?this.caipNetworkIdToNumber(t):t},getNetworksByNamespace(t,e){return t?.filter(r=>r.chainNamespace===e)||[]},getFirstNetworkByNamespace(t,e){return this.getNetworksByNamespace(t,e)[0]},getNetworkNameByCaipNetworkId(t,e){if(!e)return;const r=t.find(i=>i.caipNetworkId===e);if(r)return r.name;const[n]=e.split(":");return we.CHAIN_NAME_MAP?.[n]||void 0}},bj=["eip155","solana","polkadot","bip122","cosmos","sui","stacks"];var eoe=20,toe=1,F0=1e6,K4=1e6,roe=-7,noe=21,ioe=!1,x1="[big.js] ",tp=x1+"Invalid ",kx=tp+"decimal places",soe=tp+"rounding mode",wj=x1+"Division by zero",Lr={},Eu=void 0,ooe=/^-?(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i;function vj(){function t(e){var r=this;if(!(r instanceof t))return e===Eu?vj():new t(e);if(e instanceof t)r.s=e.s,r.e=e.e,r.c=e.c.slice();else{if(typeof e!="string"){if(t.strict===!0&&typeof e!="bigint")throw TypeError(tp+"value");e=e===0&&1/e<0?"-0":String(e)}aoe(r,e)}r.constructor=t}return t.prototype=Lr,t.DP=eoe,t.RM=toe,t.NE=roe,t.PE=noe,t.strict=ioe,t.roundDown=0,t.roundHalfUp=1,t.roundHalfEven=2,t.roundUp=3,t}function aoe(t,e){var r,n,i;if(!ooe.test(e))throw Error(tp+"number");for(t.s=e.charAt(0)=="-"?(e=e.slice(1),-1):1,(r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),i=e.length,n=0;n<i&&e.charAt(n)=="0";)++n;if(n==i)t.c=[t.e=0];else{for(;i>0&&e.charAt(--i)=="0";);for(t.e=r-n-1,t.c=[],r=0;n<=i;)t.c[r++]=+e.charAt(n++)}return t}function rp(t,e,r,n){var i=t.c;if(r===Eu&&(r=t.constructor.RM),r!==0&&r!==1&&r!==2&&r!==3)throw Error(soe);if(e<1)n=r===3&&(n||!!i[0])||e===0&&(r===1&&i[0]>=5||r===2&&(i[0]>5||i[0]===5&&(n||i[1]!==Eu))),i.length=1,n?(t.e=t.e-e+1,i[0]=1):i[0]=t.e=0;else if(e<i.length){if(n=r===1&&i[e]>=5||r===2&&(i[e]>5||i[e]===5&&(n||i[e+1]!==Eu||i[e-1]&1))||r===3&&(n||!!i[0]),i.length=e,n){for(;++i[--e]>9;)if(i[e]=0,e===0){++t.e,i.unshift(1);break}}for(e=i.length;!i[--e];)i.pop()}return t}function np(t,e,r){var n=t.e,i=t.c.join(""),s=i.length;if(e)i=i.charAt(0)+(s>1?"."+i.slice(1):"")+(n<0?"e":"e+")+n;else if(n<0){for(;++n;)i="0"+i;i="0."+i}else if(n>0)if(++n>s)for(n-=s;n--;)i+="0";else n<s&&(i=i.slice(0,n)+"."+i.slice(n));else s>1&&(i=i.charAt(0)+"."+i.slice(1));return t.s<0&&r?"-"+i:i}Lr.abs=function(){var t=new this.constructor(this);return t.s=1,t};Lr.cmp=function(t){var e,r=this,n=r.c,i=(t=new r.constructor(t)).c,s=r.s,o=t.s,a=r.e,c=t.e;if(!n[0]||!i[0])return n[0]?s:i[0]?-o:0;if(s!=o)return s;if(e=s<0,a!=c)return a>c^e?1:-1;for(o=(a=n.length)<(c=i.length)?a:c,s=-1;++s<o;)if(n[s]!=i[s])return n[s]>i[s]^e?1:-1;return a==c?0:a>c^e?1:-1};Lr.div=function(t){var e=this,r=e.constructor,n=e.c,i=(t=new r(t)).c,s=e.s==t.s?1:-1,o=r.DP;if(o!==~~o||o<0||o>F0)throw Error(kx);if(!i[0])throw Error(wj);if(!n[0])return t.s=s,t.c=[t.e=0],t;var a,c,l,u,f,h=i.slice(),g=a=i.length,_=n.length,m=n.slice(0,a),b=m.length,A=t,N=A.c=[],R=0,k=o+(A.e=e.e-t.e)+1;for(A.s=s,s=k<0?0:k,h.unshift(0);b++<a;)m.push(0);do{for(l=0;l<10;l++){if(a!=(b=m.length))u=a>b?1:-1;else for(f=-1,u=0;++f<a;)if(i[f]!=m[f]){u=i[f]>m[f]?1:-1;break}if(u<0){for(c=b==a?i:h;b;){if(m[--b]<c[b]){for(f=b;f&&!m[--f];)m[f]=9;--m[f],m[b]+=10}m[b]-=c[b]}for(;!m[0];)m.shift()}else break}N[R++]=u?l:++l,m[0]&&u?m[b]=n[g]||0:m=[n[g]]}while((g++<_||m[0]!==Eu)&&s--);return!N[0]&&R!=1&&(N.shift(),A.e--,k--),R>k&&rp(A,k,r.RM,m[0]!==Eu),A};Lr.eq=function(t){return this.cmp(t)===0};Lr.gt=function(t){return this.cmp(t)>0};Lr.gte=function(t){return this.cmp(t)>-1};Lr.lt=function(t){return this.cmp(t)<0};Lr.lte=function(t){return this.cmp(t)<1};Lr.minus=Lr.sub=function(t){var e,r,n,i,s=this,o=s.constructor,a=s.s,c=(t=new o(t)).s;if(a!=c)return t.s=-c,s.plus(t);var l=s.c.slice(),u=s.e,f=t.c,h=t.e;if(!l[0]||!f[0])return f[0]?t.s=-c:l[0]?t=new o(s):t.s=1,t;if(a=u-h){for((i=a<0)?(a=-a,n=l):(h=u,n=f),n.reverse(),c=a;c--;)n.push(0);n.reverse()}else for(r=((i=l.length<f.length)?l:f).length,a=c=0;c<r;c++)if(l[c]!=f[c]){i=l[c]<f[c];break}if(i&&(n=l,l=f,f=n,t.s=-t.s),(c=(r=f.length)-(e=l.length))>0)for(;c--;)l[e++]=0;for(c=e;r>a;){if(l[--r]<f[r]){for(e=r;e&&!l[--e];)l[e]=9;--l[e],l[r]+=10}l[r]-=f[r]}for(;l[--c]===0;)l.pop();for(;l[0]===0;)l.shift(),--h;return l[0]||(t.s=1,l=[h=0]),t.c=l,t.e=h,t};Lr.mod=function(t){var e,r=this,n=r.constructor,i=r.s,s=(t=new n(t)).s;if(!t.c[0])throw Error(wj);return r.s=t.s=1,e=t.cmp(r)==1,r.s=i,t.s=s,e?new n(r):(i=n.DP,s=n.RM,n.DP=n.RM=0,r=r.div(t),n.DP=i,n.RM=s,this.minus(r.times(t)))};Lr.neg=function(){var t=new this.constructor(this);return t.s=-t.s,t};Lr.plus=Lr.add=function(t){var e,r,n,i=this,s=i.constructor;if(t=new s(t),i.s!=t.s)return t.s=-t.s,i.minus(t);var o=i.e,a=i.c,c=t.e,l=t.c;if(!a[0]||!l[0])return l[0]||(a[0]?t=new s(i):t.s=i.s),t;if(a=a.slice(),e=o-c){for(e>0?(c=o,n=l):(e=-e,n=a),n.reverse();e--;)n.push(0);n.reverse()}for(a.length-l.length<0&&(n=l,l=a,a=n),e=l.length,r=0;e;a[e]%=10)r=(a[--e]=a[e]+l[e]+r)/10|0;for(r&&(a.unshift(r),++c),e=a.length;a[--e]===0;)a.pop();return t.c=a,t.e=c,t};Lr.pow=function(t){var e=this,r=new e.constructor("1"),n=r,i=t<0;if(t!==~~t||t<-K4||t>K4)throw Error(tp+"exponent");for(i&&(t=-t);t&1&&(n=n.times(e)),t>>=1,!!t;)e=e.times(e);return i?r.div(n):n};Lr.prec=function(t,e){if(t!==~~t||t<1||t>F0)throw Error(tp+"precision");return rp(new this.constructor(this),t,e)};Lr.round=function(t,e){if(t===Eu)t=0;else if(t!==~~t||t<-F0||t>F0)throw Error(kx);return rp(new this.constructor(this),t+this.e+1,e)};Lr.sqrt=function(){var t,e,r,n=this,i=n.constructor,s=n.s,o=n.e,a=new i("0.5");if(!n.c[0])return new i(n);if(s<0)throw Error(x1+"No square root");s=Math.sqrt(+np(n,!0,!0)),s===0||s===1/0?(e=n.c.join(""),e.length+o&1||(e+="0"),s=Math.sqrt(e),o=((o+1)/2|0)-(o<0||o&1),t=new i((s==1/0?"5e":(s=s.toExponential()).slice(0,s.indexOf("e")+1))+o)):t=new i(s+""),o=t.e+(i.DP+=4);do r=t,t=a.times(r.plus(n.div(r)));while(r.c.slice(0,o).join("")!==t.c.slice(0,o).join(""));return rp(t,(i.DP-=4)+t.e+1,i.RM)};Lr.times=Lr.mul=function(t){var e,r=this,n=r.constructor,i=r.c,s=(t=new n(t)).c,o=i.length,a=s.length,c=r.e,l=t.e;if(t.s=r.s==t.s?1:-1,!i[0]||!s[0])return t.c=[t.e=0],t;for(t.e=c+l,o<a&&(e=i,i=s,s=e,l=o,o=a,a=l),e=new Array(l=o+a);l--;)e[l]=0;for(c=a;c--;){for(a=0,l=o+c;l>c;)a=e[l]+s[c]*i[l-c-1]+a,e[l--]=a%10,a=a/10|0;e[l]=a}for(a?++t.e:e.shift(),c=e.length;!e[--c];)e.pop();return t.c=e,t};Lr.toExponential=function(t,e){var r=this,n=r.c[0];if(t!==Eu){if(t!==~~t||t<0||t>F0)throw Error(kx);for(r=rp(new r.constructor(r),++t,e);r.c.length<t;)r.c.push(0)}return np(r,!0,!!n)};Lr.toFixed=function(t,e){var r=this,n=r.c[0];if(t!==Eu){if(t!==~~t||t<0||t>F0)throw Error(kx);for(r=rp(new r.constructor(r),t+r.e+1,e),t=t+r.e+1;r.c.length<t;)r.c.push(0)}return np(r,!1,!!n)};Lr[Symbol.for("nodejs.util.inspect.custom")]=Lr.toJSON=Lr.toString=function(){var t=this,e=t.constructor;return np(t,t.e<=e.NE||t.e>=e.PE,!!t.c[0])};Lr.toNumber=function(){var t=+np(this,!0,!0);if(this.constructor.strict===!0&&!this.eq(t.toString()))throw Error(x1+"Imprecise conversion");return t};Lr.toPrecision=function(t,e){var r=this,n=r.constructor,i=r.c[0];if(t!==Eu){if(t!==~~t||t<1||t>F0)throw Error(tp+"precision");for(r=rp(new n(r),t,e);r.c.length<t;)r.c.push(0)}return np(r,t<=r.e||r.e<=n.NE||r.e>=n.PE,!!i)};Lr.valueOf=function(){var t=this,e=t.constructor;if(e.strict===!0)throw Error(x1+"valueOf disallowed");return np(t,t.e<=e.NE||t.e>=e.PE,!0)};var yd=vj();const coe={bigNumber(t){return t?new yd(t):new yd(0)},multiply(t,e){if(t===void 0||e===void 0)return new yd(0);const r=new yd(t),n=new yd(e);return r.times(n)},toFixed(t,e=2){return t===void 0||t===""?new yd(0).toFixed(e):new yd(t).toFixed(e)},formatNumberToLocalString(t,e=2){return t===void 0||t===""?"0.00":typeof t=="number"?t.toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"}):parseFloat(t).toLocaleString("en-US",{maximumFractionDigits:e,minimumFractionDigits:e,roundingMode:"floor"})},parseLocalStringToNumber(t){if(t===void 0||t==="")return 0;const e=t.replace(/,/gu,"");return new yd(e).toNumber()}},loe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"_from",type:"address"},{name:"_to",type:"address"},{name:"_value",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],uoe=[{type:"function",name:"approve",stateMutability:"nonpayable",inputs:[{name:"spender",type:"address"},{name:"amount",type:"uint256"}],outputs:[{type:"bool"}]}],foe=[{type:"function",name:"transfer",stateMutability:"nonpayable",inputs:[{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[]},{type:"function",name:"transferFrom",stateMutability:"nonpayable",inputs:[{name:"sender",type:"address"},{name:"recipient",type:"address"},{name:"amount",type:"uint256"}],outputs:[{name:"",type:"bool"}]}],doe={getERC20Abi:t=>we.USDT_CONTRACT_ADDRESSES.includes(t)?foe:loe,getSwapAbi:()=>uoe},ro={validateCaipAddress(t){if(t.split(":")?.length!==3)throw new Error("Invalid CAIP Address");return t},parseCaipAddress(t){const e=t.split(":");if(e.length!==3)throw new Error(`Invalid CAIP-10 address: ${t}`);const[r,n,i]=e;if(!r||!n||!i)throw new Error(`Invalid CAIP-10 address: ${t}`);return{chainNamespace:r,chainId:n,address:i}},parseCaipNetworkId(t){const e=t.split(":");if(e.length!==2)throw new Error(`Invalid CAIP-2 network id: ${t}`);const[r,n]=e;if(!r||!n)throw new Error(`Invalid CAIP-2 network id: ${t}`);return{chainNamespace:r,chainId:n}}},ft={WALLET_ID:"@appkit/wallet_id",WALLET_NAME:"@appkit/wallet_name",SOLANA_WALLET:"@appkit/solana_wallet",SOLANA_CAIP_CHAIN:"@appkit/solana_caip_chain",ACTIVE_CAIP_NETWORK_ID:"@appkit/active_caip_network_id",CONNECTED_SOCIAL:"@appkit/connected_social",CONNECTED_SOCIAL_USERNAME:"@appkit-wallet/SOCIAL_USERNAME",RECENT_WALLETS:"@appkit/recent_wallets",DEEPLINK_CHOICE:"WALLETCONNECT_DEEPLINK_CHOICE",ACTIVE_NAMESPACE:"@appkit/active_namespace",CONNECTED_NAMESPACES:"@appkit/connected_namespaces",CONNECTION_STATUS:"@appkit/connection_status",SIWX_AUTH_TOKEN:"@appkit/siwx-auth-token",SIWX_NONCE_TOKEN:"@appkit/siwx-nonce-token",TELEGRAM_SOCIAL_PROVIDER:"@appkit/social_provider",NATIVE_BALANCE_CACHE:"@appkit/native_balance_cache",PORTFOLIO_CACHE:"@appkit/portfolio_cache",ENS_CACHE:"@appkit/ens_cache",IDENTITY_CACHE:"@appkit/identity_cache",PREFERRED_ACCOUNT_TYPES:"@appkit/preferred_account_types",CONNECTIONS:"@appkit/connections",DISCONNECTED_CONNECTOR_IDS:"@appkit/disconnected_connector_ids",HISTORY_TRANSACTIONS_CACHE:"@appkit/history_transactions_cache",TOKEN_PRICE_CACHE:"@appkit/token_price_cache",RECENT_EMAILS:"@appkit/recent_emails"};function pN(t){if(!t)throw new Error("Namespace is required for CONNECTED_CONNECTOR_ID");return`@appkit/${t}:connected_connector_id`}const ct={setItem(t,e){Tg()&&e!==void 0&&localStorage.setItem(t,e)},getItem(t){if(Tg())return localStorage.getItem(t)||void 0},removeItem(t){Tg()&&localStorage.removeItem(t)},clear(){Tg()&&localStorage.clear()}};function Tg(){return typeof window<"u"&&typeof localStorage<"u"}function eb(t,e){return e==="light"?{"--w3m-accent":t?.["--w3m-accent"]||"hsla(231, 100%, 70%, 1)","--w3m-background":"#fff"}:{"--w3m-accent":t?.["--w3m-accent"]||"hsla(230, 100%, 67%, 1)","--w3m-background":"#202020"}}var V4={};const gN=(typeof process<"u"&&typeof V4<"u"?V4.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",Ej=[{label:"Meld.io",name:"meld",feeRange:"1-2%",url:"https://meldcrypto.com",supportedChains:["eip155","solana"]}],hoe="WXETMuFUQmqqybHuRkSgxv:25B8LJHSfpG6LVjR2ytU5Cwh7Z4Sch2ocoU",ar={FOUR_MINUTES_MS:24e4,TEN_SEC_MS:1e4,FIVE_SEC_MS:5e3,THREE_SEC_MS:3e3,ONE_SEC_MS:1e3,SECURE_SITE:gN,SECURE_SITE_DASHBOARD:`${gN}/dashboard`,SECURE_SITE_FAVICON:`${gN}/images/favicon.png`,RESTRICTED_TIMEZONES:["ASIA/SHANGHAI","ASIA/URUMQI","ASIA/CHONGQING","ASIA/HARBIN","ASIA/KASHGAR","ASIA/MACAU","ASIA/HONG_KONG","ASIA/MACAO","ASIA/BEIJING","ASIA/HARBIN"],SWAP_SUGGESTED_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP"],SWAP_POPULAR_TOKENS:["ETH","UNI","1INCH","AAVE","SOL","ADA","AVAX","DOT","LINK","NITRO","GAIA","MILK","TRX","NEAR","GNO","WBTC","DAI","WETH","USDC","USDT","ARB","BAL","BICO","CRV","ENS","MATIC","OP","METAL","DAI","CHAMP","WOLF","SALE","BAL","BUSD","MUST","BTCpx","ROUTE","HEX","WELT","amDAI","VSQ","VISION","AURUM","pSP","SNX","VC","LINK","CHP","amUSDT","SPHERE","FOX","GIDDY","GFC","OMEN","OX_OLD","DE","WNT"],BALANCE_SUPPORTED_CHAINS:[we.CHAIN.EVM,we.CHAIN.SOLANA],SWAP_SUPPORTED_NETWORKS:["eip155:1","eip155:42161","eip155:10","eip155:324","eip155:8453","eip155:56","eip155:137","eip155:100","eip155:43114","eip155:250","eip155:8217","eip155:1313161554"],NAMES_SUPPORTED_CHAIN_NAMESPACES:[we.CHAIN.EVM],ONRAMP_SUPPORTED_CHAIN_NAMESPACES:[we.CHAIN.EVM,we.CHAIN.SOLANA],PAY_WITH_EXCHANGE_SUPPORTED_CHAIN_NAMESPACES:[we.CHAIN.EVM,we.CHAIN.SOLANA],ACTIVITY_ENABLED_CHAIN_NAMESPACES:[we.CHAIN.EVM],NATIVE_TOKEN_ADDRESS:{eip155:"0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee",solana:"So11111111111111111111111111111111111111111",polkadot:"0x",bip122:"0x",cosmos:"0x",sui:"0x",stacks:"0x"},CONVERT_SLIPPAGE_TOLERANCE:1,CONNECT_LABELS:{MOBILE:"Open and continue in the wallet app",WEB:"Open and continue in the wallet app"},SEND_SUPPORTED_NAMESPACES:[we.CHAIN.EVM,we.CHAIN.SOLANA],DEFAULT_REMOTE_FEATURES:{swaps:["1inch"],onramp:["meld"],email:!0,socials:["google","x","discord","farcaster","github","apple","facebook"],activity:!0,reownBranding:!0,multiWallet:!1,emailCapture:!1,payWithExchange:!1,payments:!1,reownAuthentication:!1},DEFAULT_REMOTE_FEATURES_DISABLED:{email:!1,socials:!1,swaps:!1,onramp:!1,activity:!1,reownBranding:!1,emailCapture:!1,reownAuthentication:!1},DEFAULT_FEATURES:{receive:!0,send:!0,emailShowWallets:!0,connectorTypeOrder:["walletConnect","recent","injected","featured","custom","external","recommended"],analytics:!0,allWallets:!0,legalCheckbox:!1,smartSessions:!1,collapseWallets:!1,walletFeaturesOrder:["onramp","swaps","receive","send"],connectMethodsOrder:void 0,pay:!1,reownAuthentication:!1},DEFAULT_SOCIALS:["google","x","farcaster","discord","apple","github","facebook"],DEFAULT_ACCOUNT_TYPES:{bip122:"payment",eip155:"smartAccount",polkadot:"eoa",solana:"eoa"},ADAPTER_TYPES:{UNIVERSAL:"universal",SOLANA:"solana",WAGMI:"wagmi",ETHERS:"ethers",ETHERS5:"ethers5",BITCOIN:"bitcoin"},SIWX_DEFAULTS:{signOutOnDisconnect:!0}},De={cacheExpiry:{portfolio:3e4,nativeBalance:3e4,ens:3e5,identity:3e5,transactionsHistory:15e3,tokenPrice:15e3},isCacheExpired(t,e){return Date.now()-t>e},getActiveNetworkProps(){const t=De.getActiveNamespace(),e=De.getActiveCaipNetworkId(),r=e?e.split(":")[1]:void 0,n=r?isNaN(Number(r))?r:Number(r):void 0;return{namespace:t,caipNetworkId:e,chainId:n}},setWalletConnectDeepLink({name:t,href:e}){try{ct.setItem(ft.DEEPLINK_CHOICE,JSON.stringify({href:e,name:t}))}catch{console.info("Unable to set WalletConnect deep link")}},getWalletConnectDeepLink(){try{const t=ct.getItem(ft.DEEPLINK_CHOICE);if(t)return JSON.parse(t)}catch{console.info("Unable to get WalletConnect deep link")}},deleteWalletConnectDeepLink(){try{ct.removeItem(ft.DEEPLINK_CHOICE)}catch{console.info("Unable to delete WalletConnect deep link")}},setActiveNamespace(t){try{ct.setItem(ft.ACTIVE_NAMESPACE,t)}catch{console.info("Unable to set active namespace")}},setActiveCaipNetworkId(t){try{ct.setItem(ft.ACTIVE_CAIP_NETWORK_ID,t),De.setActiveNamespace(t.split(":")[0])}catch{console.info("Unable to set active caip network id")}},getActiveCaipNetworkId(){try{return ct.getItem(ft.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to get active caip network id");return}},deleteActiveCaipNetworkId(){try{ct.removeItem(ft.ACTIVE_CAIP_NETWORK_ID)}catch{console.info("Unable to delete active caip network id")}},deleteConnectedConnectorId(t){try{const e=pN(t);ct.removeItem(e)}catch{console.info("Unable to delete connected connector id")}},setAppKitRecent(t){try{const e=De.getRecentWallets();e.find(n=>n.id===t.id)||(e.unshift(t),e.length>2&&e.pop(),ct.setItem(ft.RECENT_WALLETS,JSON.stringify(e)))}catch{console.info("Unable to set AppKit recent")}},getRecentWallets(){try{const t=ct.getItem(ft.RECENT_WALLETS);return t?JSON.parse(t):[]}catch{console.info("Unable to get AppKit recent")}return[]},setConnectedConnectorId(t,e){try{const r=pN(t);ct.setItem(r,e)}catch{console.info("Unable to set Connected Connector Id")}},getActiveNamespace(){try{return ct.getItem(ft.ACTIVE_NAMESPACE)}catch{console.info("Unable to get active namespace")}},getConnectedConnectorId(t){if(t)try{const e=pN(t);return ct.getItem(e)}catch{console.info("Unable to get connected connector id in namespace",t)}},setConnectedSocialProvider(t){try{ct.setItem(ft.CONNECTED_SOCIAL,t)}catch{console.info("Unable to set connected social provider")}},getConnectedSocialProvider(){try{return ct.getItem(ft.CONNECTED_SOCIAL)}catch{console.info("Unable to get connected social provider")}},deleteConnectedSocialProvider(){try{ct.removeItem(ft.CONNECTED_SOCIAL)}catch{console.info("Unable to delete connected social provider")}},getConnectedSocialUsername(){try{return ct.getItem(ft.CONNECTED_SOCIAL_USERNAME)}catch{console.info("Unable to get connected social username")}},getStoredActiveCaipNetworkId(){return ct.getItem(ft.ACTIVE_CAIP_NETWORK_ID)?.split(":")?.[1]},setConnectionStatus(t){try{ct.setItem(ft.CONNECTION_STATUS,t)}catch{console.info("Unable to set connection status")}},getConnectionStatus(){try{return ct.getItem(ft.CONNECTION_STATUS)}catch{return}},getConnectedNamespaces(){try{const t=ct.getItem(ft.CONNECTED_NAMESPACES);return t?.length?t.split(","):[]}catch{return[]}},setConnectedNamespaces(t){try{const e=Array.from(new Set(t));ct.setItem(ft.CONNECTED_NAMESPACES,e.join(","))}catch{console.info("Unable to set namespaces in storage")}},addConnectedNamespace(t){try{const e=De.getConnectedNamespaces();e.includes(t)||(e.push(t),De.setConnectedNamespaces(e))}catch{console.info("Unable to add connected namespace")}},removeConnectedNamespace(t){try{const e=De.getConnectedNamespaces(),r=e.indexOf(t);r>-1&&(e.splice(r,1),De.setConnectedNamespaces(e))}catch{console.info("Unable to remove connected namespace")}},getTelegramSocialProvider(){try{return ct.getItem(ft.TELEGRAM_SOCIAL_PROVIDER)}catch{return console.info("Unable to get telegram social provider"),null}},setTelegramSocialProvider(t){try{ct.setItem(ft.TELEGRAM_SOCIAL_PROVIDER,t)}catch{console.info("Unable to set telegram social provider")}},removeTelegramSocialProvider(){try{ct.removeItem(ft.TELEGRAM_SOCIAL_PROVIDER)}catch{console.info("Unable to remove telegram social provider")}},getBalanceCache(){let t={};try{const e=ct.getItem(ft.PORTFOLIO_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromBalanceCache(t){try{const e=De.getBalanceCache();ct.setItem(ft.PORTFOLIO_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getBalanceCacheForCaipAddress(t){try{const r=De.getBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.portfolio))return r.balance;De.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateBalanceCache(t){try{const e=De.getBalanceCache();e[t.caipAddress]=t,ct.setItem(ft.PORTFOLIO_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getNativeBalanceCache(){let t={};try{const e=ct.getItem(ft.NATIVE_BALANCE_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get balance cache")}return t},removeAddressFromNativeBalanceCache(t){try{const e=De.getBalanceCache();ct.setItem(ft.NATIVE_BALANCE_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove address from balance cache",t)}},getNativeBalanceCacheForCaipAddress(t){try{const r=De.getNativeBalanceCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.nativeBalance))return r;console.info("Discarding cache for address",t),De.removeAddressFromBalanceCache(t)}catch{console.info("Unable to get balance cache for address",t)}},updateNativeBalanceCache(t){try{const e=De.getNativeBalanceCache();e[t.caipAddress]=t,ct.setItem(ft.NATIVE_BALANCE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update balance cache",t)}},getEnsCache(){let t={};try{const e=ct.getItem(ft.ENS_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get ens name cache")}return t},getEnsFromCacheForAddress(t){try{const r=De.getEnsCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.ens))return r.ens;De.removeEnsFromCache(t)}catch{console.info("Unable to get ens name from cache",t)}},updateEnsCache(t){try{const e=De.getEnsCache();e[t.address]=t,ct.setItem(ft.ENS_CACHE,JSON.stringify(e))}catch{console.info("Unable to update ens name cache",t)}},removeEnsFromCache(t){try{const e=De.getEnsCache();ct.setItem(ft.ENS_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove ens name from cache",t)}},getIdentityCache(){let t={};try{const e=ct.getItem(ft.IDENTITY_CACHE);t=e?JSON.parse(e):{}}catch{console.info("Unable to get identity cache")}return t},getIdentityFromCacheForAddress(t){try{const r=De.getIdentityCache()[t];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.identity))return r.identity;De.removeIdentityFromCache(t)}catch{console.info("Unable to get identity from cache",t)}},updateIdentityCache(t){try{const e=De.getIdentityCache();e[t.address]={identity:t.identity,timestamp:t.timestamp},ct.setItem(ft.IDENTITY_CACHE,JSON.stringify(e))}catch{console.info("Unable to update identity cache",t)}},removeIdentityFromCache(t){try{const e=De.getIdentityCache();ct.setItem(ft.IDENTITY_CACHE,JSON.stringify({...e,[t]:void 0}))}catch{console.info("Unable to remove identity from cache",t)}},clearAddressCache(){try{ct.removeItem(ft.PORTFOLIO_CACHE),ct.removeItem(ft.NATIVE_BALANCE_CACHE),ct.removeItem(ft.ENS_CACHE),ct.removeItem(ft.IDENTITY_CACHE),ct.removeItem(ft.HISTORY_TRANSACTIONS_CACHE)}catch{console.info("Unable to clear address cache")}},setPreferredAccountTypes(t){try{ct.setItem(ft.PREFERRED_ACCOUNT_TYPES,JSON.stringify(t))}catch{console.info("Unable to set preferred account types",t)}},getPreferredAccountTypes(){try{const t=ct.getItem(ft.PREFERRED_ACCOUNT_TYPES);return t?JSON.parse(t):{}}catch{console.info("Unable to get preferred account types")}return{}},setConnections(t,e){try{const r=De.getConnections(),n=r[e]??[],i=new Map;for(const o of n)i.set(o.connectorId,{...o});for(const o of t){const a=i.get(o.connectorId),c=o.connectorId===we.CONNECTOR_ID.AUTH;if(a&&!c){const l=new Set(a.accounts.map(f=>f.address.toLowerCase())),u=o.accounts.filter(f=>!l.has(f.address.toLowerCase()));a.accounts.push(...u)}else i.set(o.connectorId,{...o})}const s={...r,[e]:Array.from(i.values())};ct.setItem(ft.CONNECTIONS,JSON.stringify(s))}catch(r){console.error("Unable to sync connections to storage",r)}},getConnections(){try{const t=ct.getItem(ft.CONNECTIONS);return t?JSON.parse(t):{}}catch(t){return console.error("Unable to get connections from storage",t),{}}},deleteAddressFromConnection({connectorId:t,address:e,namespace:r}){try{const n=De.getConnections(),i=n[r]??[],s=new Map(i.map(a=>[a.connectorId,a])),o=s.get(t);o&&(o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase()).length===0?s.delete(t):s.set(t,{...o,accounts:o.accounts.filter(c=>c.address.toLowerCase()!==e.toLowerCase())})),ct.setItem(ft.CONNECTIONS,JSON.stringify({...n,[r]:Array.from(s.values())}))}catch{console.error(`Unable to remove address "${e}" from connector "${t}" in namespace "${r}"`)}},getDisconnectedConnectorIds(){try{const t=ct.getItem(ft.DISCONNECTED_CONNECTOR_IDS);return t?JSON.parse(t):{}}catch{console.info("Unable to get disconnected connector ids")}return{}},addDisconnectedConnectorId(t,e){try{const r=De.getDisconnectedConnectorIds(),n=r[e]??[];n.push(t),ct.setItem(ft.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to set disconnected connector id "${t}" for namespace "${e}"`)}},removeDisconnectedConnectorId(t,e){try{const r=De.getDisconnectedConnectorIds();let n=r[e]??[];n=n.filter(i=>i.toLowerCase()!==t.toLowerCase()),ct.setItem(ft.DISCONNECTED_CONNECTOR_IDS,JSON.stringify({...r,[e]:Array.from(new Set(n))}))}catch{console.error(`Unable to remove disconnected connector id "${t}" for namespace "${e}"`)}},isConnectorDisconnected(t,e){try{return(De.getDisconnectedConnectorIds()[e]??[]).some(i=>i.toLowerCase()===t.toLowerCase())}catch{console.info(`Unable to get disconnected connector id "${t}" for namespace "${e}"`)}return!1},getTransactionsCache(){try{const t=ct.getItem(ft.HISTORY_TRANSACTIONS_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get transactions cache")}return{}},getTransactionsCacheForAddress({address:t,chainId:e=""}){try{const n=De.getTransactionsCache()[t]?.[e];if(n&&!this.isCacheExpired(n.timestamp,this.cacheExpiry.transactionsHistory))return n.transactions;De.removeTransactionsCache({address:t,chainId:e})}catch{console.info("Unable to get transactions cache")}},updateTransactionsCache({address:t,chainId:e="",timestamp:r,transactions:n}){try{const i=De.getTransactionsCache();i[t]={...i[t],[e]:{timestamp:r,transactions:n}},ct.setItem(ft.HISTORY_TRANSACTIONS_CACHE,JSON.stringify(i))}catch{console.info("Unable to update transactions cache",{address:t,chainId:e,timestamp:r,transactions:n})}},removeTransactionsCache({address:t,chainId:e}){try{const r=De.getTransactionsCache(),n=r?.[t]||{},{[e]:i,...s}=n;ct.setItem(ft.HISTORY_TRANSACTIONS_CACHE,JSON.stringify({...r,[t]:s}))}catch{console.info("Unable to remove transactions cache",{address:t,chainId:e})}},getTokenPriceCache(){try{const t=ct.getItem(ft.TOKEN_PRICE_CACHE);return t?JSON.parse(t):{}}catch{console.info("Unable to get token price cache")}return{}},getTokenPriceCacheForAddresses(t){try{const r=De.getTokenPriceCache()[t.join(",")];if(r&&!this.isCacheExpired(r.timestamp,this.cacheExpiry.tokenPrice))return r.tokenPrice;De.removeTokenPriceCache(t)}catch{console.info("Unable to get token price cache for addresses",t)}},updateTokenPriceCache(t){try{const e=De.getTokenPriceCache();e[t.addresses.join(",")]={timestamp:t.timestamp,tokenPrice:t.tokenPrice},ct.setItem(ft.TOKEN_PRICE_CACHE,JSON.stringify(e))}catch{console.info("Unable to update token price cache",t)}},removeTokenPriceCache(t){try{const e=De.getTokenPriceCache();ct.setItem(ft.TOKEN_PRICE_CACHE,JSON.stringify({...e,[t.join(",")]:void 0}))}catch{console.info("Unable to remove token price cache",t)}}},Ye={isMobile(){return this.isClient()?!!(window?.matchMedia&&typeof window.matchMedia=="function"&&window.matchMedia("(pointer:coarse)")?.matches||/Android|webOS|iPhone|iPad|iPod|BlackBerry|Opera Mini/u.test(navigator.userAgent)):!1},checkCaipNetwork(t,e=""){return t?.caipNetworkId.toLocaleLowerCase().includes(e.toLowerCase())},isAndroid(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return Ye.isMobile()&&t.includes("android")},isIos(){if(!this.isMobile())return!1;const t=window?.navigator.userAgent.toLowerCase();return t.includes("iphone")||t.includes("ipad")},isSafari(){return this.isClient()?(window?.navigator.userAgent.toLowerCase()).includes("safari"):!1},isClient(){return typeof window<"u"},isPairingExpired(t){return t?t-Date.now()<=ar.TEN_SEC_MS:!0},isAllowedRetry(t,e=ar.ONE_SEC_MS){return Date.now()-t>=e},copyToClopboard(t){navigator.clipboard.writeText(t)},isIframe(){try{return window?.self!==window?.top}catch{return!1}},isSafeApp(){if(Ye.isClient()&&window.self!==window.top)try{const t=window?.location?.ancestorOrigins?.[0],e="https://app.safe.global";if(t){const r=new URL(t),n=new URL(e);return r.hostname===n.hostname}}catch{return!1}return!1},getPairingExpiry(){return Date.now()+ar.FOUR_MINUTES_MS},getNetworkId(t){return t?.split(":")[1]},getPlainAddress(t){return t?.split(":")[2]},async wait(t){return new Promise(e=>{setTimeout(e,t)})},debounce(t,e=500){let r;return(...n)=>{function i(){t(...n)}r&&clearTimeout(r),r=setTimeout(i,e)}},isHttpUrl(t){return t.startsWith("http://")||t.startsWith("https://")},formatNativeUrl(t,e,r=null){if(Ye.isHttpUrl(t))return this.formatUniversalUrl(t,e);let n=t,i=r;n.includes("://")||(n=t.replaceAll("/","").replaceAll(":",""),n=`${n}://`),n.endsWith("/")||(n=`${n}/`),i&&!i?.endsWith("/")&&(i=`${i}/`),this.isTelegram()&&this.isAndroid()&&(e=encodeURIComponent(e));const s=encodeURIComponent(e);return{redirect:`${n}wc?uri=${s}`,redirectUniversalLink:i?`${i}wc?uri=${s}`:void 0,href:n}},formatUniversalUrl(t,e){if(!Ye.isHttpUrl(t))return this.formatNativeUrl(t,e);let r=t;r.endsWith("/")||(r=`${r}/`);const n=encodeURIComponent(e);return{redirect:`${r}wc?uri=${n}`,href:r}},getOpenTargetForPlatform(t){return t==="popupWindow"?t:this.isTelegram()?De.getTelegramSocialProvider()?"_top":"_blank":t},openHref(t,e,r){window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},returnOpenHref(t,e,r){return window?.open(t,this.getOpenTargetForPlatform(e),r||"noreferrer noopener")},isTelegram(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)},isPWA(){if(typeof window>"u")return!1;const t=window?.matchMedia&&typeof window.matchMedia=="function"?window.matchMedia("(display-mode: standalone)")?.matches:!1,e=window?.navigator?.standalone;return!!(t||e)},async preloadImage(t){const e=new Promise((r,n)=>{const i=new Image;i.onload=r,i.onerror=n,i.crossOrigin="anonymous",i.src=t});return Promise.race([e,Ye.wait(2e3)])},parseBalance(t,e){let r="0.000";if(typeof t=="string"){const c=Number(t);if(!isNaN(c)){const l=(Math.floor(c*1e3)/1e3).toFixed(3);l&&(r=l)}}const[n,i]=r.split("."),s=n||"0",o=i||"000";return{formattedText:`${s}.${o}${e?` ${e}`:""}`,value:s,decimals:o,symbol:e}},getApiUrl(){return we.W3M_API_URL},getBlockchainApiUrl(){return we.BLOCKCHAIN_API_RPC_URL},getAnalyticsUrl(){return we.PULSE_API_URL},getUUID(){return crypto?.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})},parseError(t){return typeof t=="string"?t:typeof t?.issues?.[0]?.message=="string"?t.issues[0].message:t instanceof Error?t.message:"Unknown error"},sortRequestedNetworks(t,e=[]){const r={};return e&&t&&(t.forEach((n,i)=>{r[n]=i}),e.sort((n,i)=>{const s=r[n.id],o=r[i.id];return s!==void 0&&o!==void 0?s-o:s!==void 0?-1:o!==void 0?1:0})),e},calculateBalance(t){let e=0;for(const r of t)e+=r.value??0;return e},formatTokenBalance(t){const e=t.toFixed(2),[r,n]=e.split(".");return{dollars:r,pennies:n}},isAddress(t,e="eip155"){switch(e){case"eip155":if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)){if(/^(?:0x)?[0-9a-f]{40}$/iu.test(t)||/^(?:0x)?[0-9A-F]{40}$/iu.test(t))return!0}else return!1;return!1;case"solana":return/[1-9A-HJ-NP-Za-km-z]{32,44}$/iu.test(t);default:return!1}},uniqueBy(t,e){const r=new Set;return t.filter(n=>{const i=n[e];return r.has(i)?!1:(r.add(i),!0)})},generateSdkVersion(t,e,r){const i=t.length===0?ar.ADAPTER_TYPES.UNIVERSAL:t.map(s=>s.adapterType).join(",");return`${e}-${i}-${r}`},createAccount(t,e,r,n,i){return{namespace:t,address:e,type:r,publicKey:n,path:i}},isCaipAddress(t){if(typeof t!="string")return!1;const e=t.split(":"),r=e[0];return e.filter(Boolean).length===3&&r in we.CHAIN_NAME_MAP},getAccount(t){return t?typeof t=="string"?{address:t,chainId:void 0}:{address:t.address,chainId:t.chainId}:{address:void 0,chainId:void 0}},isMac(){const t=window?.navigator.userAgent.toLowerCase();return t.includes("macintosh")&&!t.includes("safari")},formatTelegramSocialLoginUrl(t){const e=`--${encodeURIComponent(window?.location.href)}`,r="state=";if(new URL(t).host==="auth.magic.link"){const i="provider_authorization_url=",s=t.substring(t.indexOf(i)+i.length),o=this.injectIntoUrl(decodeURIComponent(s),r,e);return t.replace(s,encodeURIComponent(o))}return this.injectIntoUrl(t,r,e)},injectIntoUrl(t,e,r){const n=t.indexOf(e);if(n===-1)throw new Error(`${e} parameter not found in the URL: ${t}`);const i=t.indexOf("&",n),s=e.length,o=i!==-1?i:t.length,a=t.substring(0,n+s),c=t.substring(n+s,o),l=t.substring(i),u=c+r;return a+u+l}};async function _y(...t){const e=await fetch(...t);if(!e.ok)throw new Error(`HTTP status code: ${e.status}`,{cause:e});return e}class C1{constructor({baseUrl:e,clientId:r}){this.baseUrl=e,this.clientId=r}async get({headers:e,signal:r,cache:n,...i}){const s=this.createUrl(i);return(await _y(s,{method:"GET",headers:e,signal:r,cache:n})).json()}async getBlob({headers:e,signal:r,...n}){const i=this.createUrl(n);return(await _y(i,{method:"GET",headers:e,signal:r})).blob()}async post({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await _y(s,{method:"POST",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async put({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await _y(s,{method:"PUT",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}async delete({body:e,headers:r,signal:n,...i}){const s=this.createUrl(i);return(await _y(s,{method:"DELETE",headers:r,body:e?JSON.stringify(e):void 0,signal:n})).json()}createUrl({path:e,params:r}){const n=new URL(e,this.baseUrl);return r&&Object.entries(r).forEach(([i,s])=>{s&&n.searchParams.append(i,s)}),this.clientId&&n.searchParams.append("clientId",this.clientId),n}}const poe={getFeatureValue(t,e){const r=e?.[t];return r===void 0?ar.DEFAULT_FEATURES[t]:r},filterSocialsByPlatform(t){if(!t||!t.length)return t;if(Ye.isTelegram()){if(Ye.isIos())return t.filter(e=>e!=="google");if(Ye.isMac())return t.filter(e=>e!=="x");if(Ye.isAndroid())return t.filter(e=>!["facebook","x"].includes(e))}return t}},at=_n({features:ar.DEFAULT_FEATURES,projectId:"",sdkType:"appkit",sdkVersion:"html-wagmi-undefined",defaultAccountTypes:ar.DEFAULT_ACCOUNT_TYPES,enableNetworkSwitch:!0,experimental_preferUniversalLinks:!1,remoteFeatures:{}}),Te={state:at,subscribeKey(t,e){return js(at,t,e)},setOptions(t){Object.assign(at,t)},setRemoteFeatures(t){if(!t)return;const e={...at.remoteFeatures,...t};at.remoteFeatures=e,at.remoteFeatures?.socials&&(at.remoteFeatures.socials=poe.filterSocialsByPlatform(at.remoteFeatures.socials)),at.features?.pay&&(at.remoteFeatures.email=!1,at.remoteFeatures.socials=!1)},setFeatures(t){if(!t)return;at.features||(at.features=ar.DEFAULT_FEATURES);const e={...at.features,...t};at.features=e,at.features?.pay&&at.remoteFeatures&&(at.remoteFeatures.email=!1,at.remoteFeatures.socials=!1)},setProjectId(t){at.projectId=t},setCustomRpcUrls(t){at.customRpcUrls=t},setAllWallets(t){at.allWallets=t},setIncludeWalletIds(t){at.includeWalletIds=t},setExcludeWalletIds(t){at.excludeWalletIds=t},setFeaturedWalletIds(t){at.featuredWalletIds=t},setTokens(t){at.tokens=t},setTermsConditionsUrl(t){at.termsConditionsUrl=t},setPrivacyPolicyUrl(t){at.privacyPolicyUrl=t},setCustomWallets(t){at.customWallets=t},setIsSiweEnabled(t){at.isSiweEnabled=t},setIsUniversalProvider(t){at.isUniversalProvider=t},setSdkVersion(t){at.sdkVersion=t},setMetadata(t){at.metadata=t},setDisableAppend(t){at.disableAppend=t},setEIP6963Enabled(t){at.enableEIP6963=t},setDebug(t){at.debug=t},setEnableWalletConnect(t){at.enableWalletConnect=t},setEnableWalletGuide(t){at.enableWalletGuide=t},setEnableAuthLogger(t){at.enableAuthLogger=t},setEnableWallets(t){at.enableWallets=t},setPreferUniversalLinks(t){at.experimental_preferUniversalLinks=t},setSIWX(t){if(t)for(const[e,r]of Object.entries(ar.SIWX_DEFAULTS))t[e]??=r;at.siwx=t},setConnectMethodsOrder(t){at.features={...at.features,connectMethodsOrder:t}},setWalletFeaturesOrder(t){at.features={...at.features,walletFeaturesOrder:t}},setSocialsOrder(t){at.remoteFeatures={...at.remoteFeatures,socials:t}},setCollapseWallets(t){at.features={...at.features,collapseWallets:t}},setEnableEmbedded(t){at.enableEmbedded=t},setAllowUnsupportedChain(t){at.allowUnsupportedChain=t},setManualWCControl(t){at.manualWCControl=t},setEnableNetworkSwitch(t){at.enableNetworkSwitch=t},setEnableReconnect(t){at.enableReconnect=t},setDefaultAccountTypes(t={}){Object.entries(t).forEach(([e,r])=>{r&&(at.defaultAccountTypes[e]=r)})},setUniversalProviderConfigOverride(t){at.universalProviderConfigOverride=t},getUniversalProviderConfigOverride(){return at.universalProviderConfigOverride},getSnapshot(){return Z_(at)}},goe=Object.freeze({enabled:!0,events:[]}),moe=new C1({baseUrl:Ye.getAnalyticsUrl(),clientId:null}),yoe=5,_oe=60*1e3,_d=_n({...goe}),boe={state:_d,subscribeKey(t,e){return js(_d,t,e)},async sendError(t,e){if(!_d.enabled)return;const r=Date.now();if(_d.events.filter(s=>{const o=new Date(s.properties.timestamp||"").getTime();return r-o<_oe}).length>=yoe)return;const i={type:"error",event:e,properties:{errorType:t.name,errorMessage:t.message,stackTrace:t.stack,timestamp:new Date().toISOString()}};_d.events.push(i);try{if(typeof window>"u")return;const{projectId:s,sdkType:o,sdkVersion:a}=Te.state;await moe.post({path:"/e",params:{projectId:s,st:o,sv:a||"html-wagmi-4.2.2"},body:{eventId:Ye.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:new Date().toISOString(),props:{type:"error",event:e,errorType:t.name,errorMessage:t.message,stackTrace:t.stack}}})}catch{}},enable(){_d.enabled=!0},disable(){_d.enabled=!1},clearEvents(){_d.events=[]}};class rm extends Error{constructor(e,r,n){super(e),this.name="AppKitError",this.category=r,this.originalError=n,Object.setPrototypeOf(this,rm.prototype);let i=!1;if(n instanceof Error&&typeof n.stack=="string"&&n.stack){const s=n.stack,o=s.indexOf(`
`);if(o>-1){const a=s.substring(o+1);this.stack=`${this.name}: ${this.message}
${a}`,i=!0}}i||(Error.captureStackTrace?Error.captureStackTrace(this,rm):this.stack||(this.stack=`${this.name}: ${this.message}`))}}function J4(t,e){let r="";try{t instanceof Error?r=t.message:typeof t=="string"?r=t:typeof t=="object"&&t!==null?r=JSON.stringify(t):r=String(t)}catch(i){r="Unknown error",console.error("Error parsing error message",i)}const n=t instanceof rm?t:new rm(r,e,t);throw boe.sendError(n,n.category),n}function ya(t,e="INTERNAL_SDK_ERROR"){const r={};return Object.keys(t).forEach(n=>{const i=t[n];if(typeof i=="function"){let s=i;i.constructor.name==="AsyncFunction"?s=async(...o)=>{try{return await i(...o)}catch(a){return J4(a,e)}}:s=(...o)=>{try{return i(...o)}catch(a){return J4(a,e)}},r[n]=s}else r[n]=i}),r}var nm={};const woe="https://secure.walletconnect.org/sdk",voe=(typeof process<"u"&&typeof nm<"u"?nm.NEXT_PUBLIC_SECURE_SITE_SDK_URL:void 0)||woe,Eoe=(typeof process<"u"&&typeof nm<"u"?nm.NEXT_PUBLIC_DEFAULT_LOG_LEVEL:void 0)||"error",Aoe=(typeof process<"u"&&typeof nm<"u"?nm.NEXT_PUBLIC_SECURE_SITE_SDK_VERSION:void 0)||"4",nt={APP_EVENT_KEY:"@w3m-app/",FRAME_EVENT_KEY:"@w3m-frame/",RPC_METHOD_KEY:"RPC_",STORAGE_KEY:"@appkit-wallet/",SESSION_TOKEN_KEY:"SESSION_TOKEN_KEY",EMAIL_LOGIN_USED_KEY:"EMAIL_LOGIN_USED_KEY",LAST_USED_CHAIN_KEY:"LAST_USED_CHAIN_KEY",LAST_EMAIL_LOGIN_TIME:"LAST_EMAIL_LOGIN_TIME",EMAIL:"EMAIL",PREFERRED_ACCOUNT_TYPE:"PREFERRED_ACCOUNT_TYPE",SMART_ACCOUNT_ENABLED:"SMART_ACCOUNT_ENABLED",SMART_ACCOUNT_ENABLED_NETWORKS:"SMART_ACCOUNT_ENABLED_NETWORKS",SOCIAL_USERNAME:"SOCIAL_USERNAME",APP_SWITCH_NETWORK:"@w3m-app/SWITCH_NETWORK",APP_CONNECT_EMAIL:"@w3m-app/CONNECT_EMAIL",APP_CONNECT_DEVICE:"@w3m-app/CONNECT_DEVICE",APP_CONNECT_OTP:"@w3m-app/CONNECT_OTP",APP_CONNECT_SOCIAL:"@w3m-app/CONNECT_SOCIAL",APP_GET_SOCIAL_REDIRECT_URI:"@w3m-app/GET_SOCIAL_REDIRECT_URI",APP_GET_USER:"@w3m-app/GET_USER",APP_SIGN_OUT:"@w3m-app/SIGN_OUT",APP_IS_CONNECTED:"@w3m-app/IS_CONNECTED",APP_GET_CHAIN_ID:"@w3m-app/GET_CHAIN_ID",APP_RPC_REQUEST:"@w3m-app/RPC_REQUEST",APP_UPDATE_EMAIL:"@w3m-app/UPDATE_EMAIL",APP_UPDATE_EMAIL_PRIMARY_OTP:"@w3m-app/UPDATE_EMAIL_PRIMARY_OTP",APP_UPDATE_EMAIL_SECONDARY_OTP:"@w3m-app/UPDATE_EMAIL_SECONDARY_OTP",APP_AWAIT_UPDATE_EMAIL:"@w3m-app/AWAIT_UPDATE_EMAIL",APP_SYNC_THEME:"@w3m-app/SYNC_THEME",APP_SYNC_DAPP_DATA:"@w3m-app/SYNC_DAPP_DATA",APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS:"@w3m-app/GET_SMART_ACCOUNT_ENABLED_NETWORKS",APP_INIT_SMART_ACCOUNT:"@w3m-app/INIT_SMART_ACCOUNT",APP_SET_PREFERRED_ACCOUNT:"@w3m-app/SET_PREFERRED_ACCOUNT",APP_CONNECT_FARCASTER:"@w3m-app/CONNECT_FARCASTER",APP_GET_FARCASTER_URI:"@w3m-app/GET_FARCASTER_URI",APP_RELOAD:"@w3m-app/RELOAD",APP_RPC_ABORT:"@w3m-app/RPC_ABORT",FRAME_SWITCH_NETWORK_ERROR:"@w3m-frame/SWITCH_NETWORK_ERROR",FRAME_SWITCH_NETWORK_SUCCESS:"@w3m-frame/SWITCH_NETWORK_SUCCESS",FRAME_CONNECT_EMAIL_ERROR:"@w3m-frame/CONNECT_EMAIL_ERROR",FRAME_CONNECT_EMAIL_SUCCESS:"@w3m-frame/CONNECT_EMAIL_SUCCESS",FRAME_CONNECT_DEVICE_ERROR:"@w3m-frame/CONNECT_DEVICE_ERROR",FRAME_CONNECT_DEVICE_SUCCESS:"@w3m-frame/CONNECT_DEVICE_SUCCESS",FRAME_CONNECT_OTP_SUCCESS:"@w3m-frame/CONNECT_OTP_SUCCESS",FRAME_CONNECT_OTP_ERROR:"@w3m-frame/CONNECT_OTP_ERROR",FRAME_CONNECT_SOCIAL_SUCCESS:"@w3m-frame/CONNECT_SOCIAL_SUCCESS",FRAME_CONNECT_SOCIAL_ERROR:"@w3m-frame/CONNECT_SOCIAL_ERROR",FRAME_CONNECT_FARCASTER_SUCCESS:"@w3m-frame/CONNECT_FARCASTER_SUCCESS",FRAME_CONNECT_FARCASTER_ERROR:"@w3m-frame/CONNECT_FARCASTER_ERROR",FRAME_GET_FARCASTER_URI_SUCCESS:"@w3m-frame/GET_FARCASTER_URI_SUCCESS",FRAME_GET_FARCASTER_URI_ERROR:"@w3m-frame/GET_FARCASTER_URI_ERROR",FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_SUCCESS",FRAME_GET_SOCIAL_REDIRECT_URI_ERROR:"@w3m-frame/GET_SOCIAL_REDIRECT_URI_ERROR",FRAME_GET_USER_SUCCESS:"@w3m-frame/GET_USER_SUCCESS",FRAME_GET_USER_ERROR:"@w3m-frame/GET_USER_ERROR",FRAME_SIGN_OUT_SUCCESS:"@w3m-frame/SIGN_OUT_SUCCESS",FRAME_SIGN_OUT_ERROR:"@w3m-frame/SIGN_OUT_ERROR",FRAME_IS_CONNECTED_SUCCESS:"@w3m-frame/IS_CONNECTED_SUCCESS",FRAME_IS_CONNECTED_ERROR:"@w3m-frame/IS_CONNECTED_ERROR",FRAME_GET_CHAIN_ID_SUCCESS:"@w3m-frame/GET_CHAIN_ID_SUCCESS",FRAME_GET_CHAIN_ID_ERROR:"@w3m-frame/GET_CHAIN_ID_ERROR",FRAME_RPC_REQUEST_SUCCESS:"@w3m-frame/RPC_REQUEST_SUCCESS",FRAME_RPC_REQUEST_ERROR:"@w3m-frame/RPC_REQUEST_ERROR",FRAME_SESSION_UPDATE:"@w3m-frame/SESSION_UPDATE",FRAME_UPDATE_EMAIL_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SUCCESS",FRAME_UPDATE_EMAIL_ERROR:"@w3m-frame/UPDATE_EMAIL_ERROR",FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_PRIMARY_OTP_ERROR",FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_SUCCESS",FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR:"@w3m-frame/UPDATE_EMAIL_SECONDARY_OTP_ERROR",FRAME_SYNC_THEME_SUCCESS:"@w3m-frame/SYNC_THEME_SUCCESS",FRAME_SYNC_THEME_ERROR:"@w3m-frame/SYNC_THEME_ERROR",FRAME_SYNC_DAPP_DATA_SUCCESS:"@w3m-frame/SYNC_DAPP_DATA_SUCCESS",FRAME_SYNC_DAPP_DATA_ERROR:"@w3m-frame/SYNC_DAPP_DATA_ERROR",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS",FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR:"@w3m-frame/GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR",FRAME_INIT_SMART_ACCOUNT_SUCCESS:"@w3m-frame/INIT_SMART_ACCOUNT_SUCCESS",FRAME_INIT_SMART_ACCOUNT_ERROR:"@w3m-frame/INIT_SMART_ACCOUNT_ERROR",FRAME_SET_PREFERRED_ACCOUNT_SUCCESS:"@w3m-frame/SET_PREFERRED_ACCOUNT_SUCCESS",FRAME_SET_PREFERRED_ACCOUNT_ERROR:"@w3m-frame/SET_PREFERRED_ACCOUNT_ERROR",FRAME_READY:"@w3m-frame/READY",FRAME_RELOAD_SUCCESS:"@w3m-frame/RELOAD_SUCCESS",FRAME_RELOAD_ERROR:"@w3m-frame/RELOAD_ERROR",FRAME_RPC_ABORT_SUCCESS:"@w3m-frame/RPC_ABORT_SUCCESS",FRAME_RPC_ABORT_ERROR:"@w3m-frame/RPC_ABORT_ERROR",RPC_RESPONSE_TYPE_ERROR:"RPC_RESPONSE_ERROR",RPC_RESPONSE_TYPE_TX:"RPC_RESPONSE_TRANSACTION_HASH",RPC_RESPONSE_TYPE_OBJECT:"RPC_RESPONSE_OBJECT"},Li={SAFE_RPC_METHODS:["eth_accounts","eth_blockNumber","eth_call","eth_chainId","eth_estimateGas","eth_feeHistory","eth_gasPrice","eth_getAccount","eth_getBalance","eth_getBlockByHash","eth_getBlockByNumber","eth_getBlockReceipts","eth_getBlockTransactionCountByHash","eth_getBlockTransactionCountByNumber","eth_getCode","eth_getFilterChanges","eth_getFilterLogs","eth_getLogs","eth_getProof","eth_getStorageAt","eth_getTransactionByBlockHashAndIndex","eth_getTransactionByBlockNumberAndIndex","eth_getTransactionByHash","eth_getTransactionCount","eth_getTransactionReceipt","eth_getUncleCountByBlockHash","eth_getUncleCountByBlockNumber","eth_maxPriorityFeePerGas","eth_newBlockFilter","eth_newFilter","eth_newPendingTransactionFilter","eth_sendRawTransaction","eth_syncing","eth_uninstallFilter","wallet_getCapabilities","wallet_getCallsStatus","eth_getUserOperationReceipt","eth_estimateUserOperationGas","eth_getUserOperationByHash","eth_supportedEntryPoints","wallet_getAssets"],NOT_SAFE_RPC_METHODS:["personal_sign","eth_signTypedData_v4","eth_sendTransaction","solana_signMessage","solana_signTransaction","solana_signAllTransactions","solana_signAndSendTransaction","wallet_sendCalls","wallet_grantPermissions","wallet_revokePermissions","eth_sendUserOperation"],GET_CHAIN_ID:"eth_chainId",RPC_METHOD_NOT_ALLOWED_MESSAGE:"Requested RPC call is not allowed",RPC_METHOD_NOT_ALLOWED_UI_MESSAGE:"Action not allowed",ACCOUNT_TYPES:{EOA:"eoa",SMART_ACCOUNT:"smartAccount"}},Qs={PHANTOM:{id:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",url:"https://phantom.app"},SOLFLARE:{id:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",url:"https://solflare.com"},COINBASE:{id:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",url:"https://go.cb-w.com"},BINANCE:{id:"2fafea35bb471d22889ccb49c08d99dd0a18a37982602c33f696a5723934ba25",appId:"yFK5FCqYprrXDiVFbhyRx7",deeplink:"bnc://app.binance.com/mp/app",url:"https://app.binance.com/en/download"}},xoe={handleMobileDeeplinkRedirect(t,e){const r=window.location.href,n=encodeURIComponent(r);if(t===Qs.PHANTOM.id&&!("phantom"in window)){const i=r.startsWith("https")?"https":"http",s=r.split("/")[2],o=encodeURIComponent(`${i}://${s}`);window.location.href=`${Qs.PHANTOM.url}/ul/browse/${n}?ref=${o}`}if(t===Qs.SOLFLARE.id&&!("solflare"in window)&&(window.location.href=`${Qs.SOLFLARE.url}/ul/v1/browse/${n}?ref=${n}`),e===we.CHAIN.SOLANA&&t===Qs.COINBASE.id&&!("coinbaseSolana"in window)&&(window.location.href=`${Qs.COINBASE.url}/dapp?cb_url=${n}`),e===we.CHAIN.BITCOIN&&t===Qs.BINANCE.id&&!("binancew3w"in window)){const i=se.state.activeCaipNetwork,s=window.btoa("/pages/browser/index"),o=window.btoa(`url=${n}&defaultChainId=${i?.id??1}`),a=new URL(Qs.BINANCE.deeplink);a.searchParams.set("appId",Qs.BINANCE.appId),a.searchParams.set("startPagePath",s),a.searchParams.set("startPageQuery",o);const c=new URL(Qs.BINANCE.url);c.searchParams.set("_dp",window.btoa(a.toString())),window.location.href=c.toString()}}},Xo=_n({walletImages:{},networkImages:{},chainImages:{},connectorImages:{},tokenImages:{},currencyImages:{}}),Coe={state:Xo,subscribeNetworkImages(t){return ds(Xo.networkImages,()=>t(Xo.networkImages))},subscribeKey(t,e){return js(Xo,t,e)},subscribe(t){return ds(Xo,()=>t(Xo))},setWalletImage(t,e){Xo.walletImages[t]=e},setNetworkImage(t,e){Xo.networkImages[t]=e},setChainImage(t,e){Xo.chainImages[t]=e},setConnectorImage(t,e){Xo.connectorImages={...Xo.connectorImages,[t]:e}},setTokenImage(t,e){Xo.tokenImages[t]=e},setCurrencyImage(t,e){Xo.currencyImages[t]=e}},hl=ya(Coe),Noe={eip155:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",solana:"a1b58899-f671-4276-6a5e-56ca5bd59700",polkadot:"",bip122:"0b4838db-0161-4ffe-022d-532bf03dba00",cosmos:"",sui:"",stacks:""},mN=_n({networkImagePromises:{}}),Aj={async fetchWalletImage(t){if(t)return await ut._fetchWalletImage(t),this.getWalletImageById(t)},async fetchNetworkImage(t){if(!t)return;const e=this.getNetworkImageById(t);return e||(mN.networkImagePromises[t]||(mN.networkImagePromises[t]=ut._fetchNetworkImage(t)),await mN.networkImagePromises[t],this.getNetworkImageById(t))},getWalletImageById(t){if(t)return hl.state.walletImages[t]},getWalletImage(t){if(t?.image_url)return t?.image_url;if(t?.image_id)return hl.state.walletImages[t.image_id]},getNetworkImage(t){if(t?.assets?.imageUrl)return t?.assets?.imageUrl;if(t?.assets?.imageId)return hl.state.networkImages[t.assets.imageId]},getNetworkImageById(t){if(t)return hl.state.networkImages[t]},getConnectorImage(t){if(t?.imageUrl)return t.imageUrl;if(t?.info?.icon)return t.info.icon;if(t?.imageId)return hl.state.connectorImages[t.imageId]},getChainImage(t){return hl.state.networkImages[Noe[t]]}},Oc=_n({message:"",variant:"info",open:!1}),Soe={state:Oc,subscribeKey(t,e){return js(Oc,t,e)},open(t,e){const{debug:r}=Te.state,{code:n,displayMessage:i,debugMessage:s}=t;i&&r&&(Oc.message=i,Oc.variant=e,Oc.open=!0),s&&console.error(typeof s=="function"?s():s,n?{code:n}:void 0)},warn(t,e,r){Oc.open=!0,Oc.message=t,Oc.variant="warning",e&&console.warn(e,r)},close(){Oc.open=!1,Oc.message="",Oc.variant="info"}},as=ya(Soe),Toe=Ye.getAnalyticsUrl(),Ioe=new C1({baseUrl:Toe,clientId:null}),Roe=["MODAL_CREATED"],rf=_n({timestamp:Date.now(),reportedErrors:{},data:{type:"track",event:"MODAL_CREATED"}}),fr={state:rf,subscribe(t){return ds(rf,()=>t(rf))},getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Te.state;return{projectId:t,st:e,sv:r||"html-wagmi-4.2.2"}},async _sendAnalyticsEvent(t){try{let e=tt.state.address;if("address"in t.data&&t.data.address&&(e=t.data.address),Roe.includes(t.data.event)||typeof window>"u")return;const r=se.getActiveCaipNetwork()?.caipNetworkId;await Ioe.post({path:"/e",params:fr.getSdkProperties(),body:{eventId:Ye.getUUID(),url:window.location.href,domain:window.location.hostname,timestamp:t.timestamp,props:{...t.data,address:e,properties:{..."properties"in t.data?t.data.properties:{},caipNetworkId:r}}}}),rf.reportedErrors.FORBIDDEN=!1}catch(e){e instanceof Error&&e.cause instanceof Response&&e.cause.status===we.HTTP_STATUS_CODES.FORBIDDEN&&!rf.reportedErrors.FORBIDDEN&&(as.open({displayMessage:"Invalid App Configuration",debugMessage:`Origin ${Tg()?window.origin:"uknown"} not found on Allowlist - update configuration on cloud.reown.com`},"error"),rf.reportedErrors.FORBIDDEN=!0)}},sendEvent(t){rf.timestamp=Date.now(),rf.data=t;const e=["INITIALIZE","CONNECT_SUCCESS","SOCIAL_LOGIN_SUCCESS"];(Te.state.features?.analytics||e.includes(t.event))&&fr._sendAnalyticsEvent(rf)}},Poe=Ye.getApiUrl(),po=new C1({baseUrl:Poe,clientId:null}),Ooe=40,Y4=4,Doe=20,Ot=_n({promises:{},page:1,count:0,featured:[],allFeatured:[],recommended:[],allRecommended:[],wallets:[],filteredWallets:[],search:[],isAnalyticsEnabled:!1,excludedWallets:[],isFetchingRecommendedWallets:!1}),ut={state:Ot,subscribeKey(t,e){return js(Ot,t,e)},_getSdkProperties(){const{projectId:t,sdkType:e,sdkVersion:r}=Te.state;return{projectId:t,st:e||"appkit",sv:r||"html-wagmi-4.2.2"}},_filterOutExtensions(t){return Te.state.isUniversalProvider?t.filter(e=>!!(e.mobile_link||e.desktop_link||e.webapp_link)):t},async _fetchWalletImage(t){const e=`${po.baseUrl}/getWalletImage/${t}`,r=await po.getBlob({path:e,params:ut._getSdkProperties()});hl.setWalletImage(t,URL.createObjectURL(r))},async _fetchNetworkImage(t){const e=`${po.baseUrl}/public/getAssetImage/${t}`,r=await po.getBlob({path:e,params:ut._getSdkProperties()});hl.setNetworkImage(t,URL.createObjectURL(r))},async _fetchConnectorImage(t){const e=`${po.baseUrl}/public/getAssetImage/${t}`,r=await po.getBlob({path:e,params:ut._getSdkProperties()});hl.setConnectorImage(t,URL.createObjectURL(r))},async _fetchCurrencyImage(t){const e=`${po.baseUrl}/public/getCurrencyImage/${t}`,r=await po.getBlob({path:e,params:ut._getSdkProperties()});hl.setCurrencyImage(t,URL.createObjectURL(r))},async _fetchTokenImage(t){const e=`${po.baseUrl}/public/getTokenImage/${t}`,r=await po.getBlob({path:e,params:ut._getSdkProperties()});hl.setTokenImage(t,URL.createObjectURL(r))},_filterWalletsByPlatform(t){return Ye.isMobile()?t?.filter(r=>r.mobile_link||r.id===Qs.COINBASE.id||r.id===Qs.BINANCE.id?!0:se.state.activeChain==="solana"&&(r.id===Qs.SOLFLARE.id||r.id===Qs.PHANTOM.id)):t},async fetchProjectConfig(){return(await po.get({path:"/appkit/v1/config",params:ut._getSdkProperties()})).features},async fetchAllowedOrigins(){try{const{allowedOrigins:t}=await po.get({path:"/projects/v1/origins",params:ut._getSdkProperties()});return t}catch(t){if(t instanceof Error&&t.cause instanceof Response){const e=t.cause.status;if(e===we.HTTP_STATUS_CODES.TOO_MANY_REQUESTS)throw new Error("RATE_LIMITED",{cause:t});if(e>=we.HTTP_STATUS_CODES.SERVER_ERROR&&e<600)throw new Error("SERVER_ERROR",{cause:t});return[]}return[]}},async fetchNetworkImages(){const e=se.getAllRequestedCaipNetworks()?.map(({assets:r})=>r?.imageId).filter(Boolean).filter(r=>!Aj.getNetworkImageById(r));e&&await Promise.allSettled(e.map(r=>ut._fetchNetworkImage(r)))},async fetchConnectorImages(){const{connectors:t}=Be.state,e=t.map(({imageId:r})=>r).filter(Boolean);await Promise.allSettled(e.map(r=>ut._fetchConnectorImage(r)))},async fetchCurrencyImages(t=[]){await Promise.allSettled(t.map(e=>ut._fetchCurrencyImage(e)))},async fetchTokenImages(t=[]){await Promise.allSettled(t.map(e=>ut._fetchTokenImage(e)))},async fetchWallets(t){const e=t.exclude??[];ut._getSdkProperties().sv.startsWith("html-core-")&&e.push(...Object.values(Qs).map(s=>s.id));const n=await po.get({path:"/getWallets",params:{...ut._getSdkProperties(),...t,page:String(t.page),entries:String(t.entries),include:t.include?.join(","),exclude:e.join(",")}});return{data:ut._filterWalletsByPlatform(n?.data)||[],count:n?.count}},async fetchFeaturedWallets(){const{featuredWalletIds:t}=Te.state;if(t?.length){const e={...ut._getSdkProperties(),page:1,entries:t?.length??Y4,include:t},{data:r}=await ut.fetchWallets(e),n=[...r].sort((s,o)=>t.indexOf(s.id)-t.indexOf(o.id)),i=n.map(s=>s.image_id).filter(Boolean);await Promise.allSettled(i.map(s=>ut._fetchWalletImage(s))),Ot.featured=n,Ot.allFeatured=n}},async fetchRecommendedWallets(){try{Ot.isFetchingRecommendedWallets=!0;const{includeWalletIds:t,excludeWalletIds:e,featuredWalletIds:r}=Te.state,n=[...e??[],...r??[]].filter(Boolean),i=se.getRequestedCaipNetworkIds().join(","),s={page:1,entries:Y4,include:t,exclude:n,chains:i},{data:o,count:a}=await ut.fetchWallets(s),c=De.getRecentWallets(),l=o.map(f=>f.image_id).filter(Boolean),u=c.map(f=>f.image_id).filter(Boolean);await Promise.allSettled([...l,...u].map(f=>ut._fetchWalletImage(f))),Ot.recommended=o,Ot.allRecommended=o,Ot.count=a??0}catch{}finally{Ot.isFetchingRecommendedWallets=!1}},async fetchWalletsByPage({page:t}){const{includeWalletIds:e,excludeWalletIds:r,featuredWalletIds:n}=Te.state,i=se.getRequestedCaipNetworkIds().join(","),s=[...Ot.recommended.map(({id:u})=>u),...r??[],...n??[]].filter(Boolean),o={page:t,entries:Ooe,include:e,exclude:s,chains:i},{data:a,count:c}=await ut.fetchWallets(o),l=a.slice(0,Doe).map(u=>u.image_id).filter(Boolean);await Promise.allSettled(l.map(u=>ut._fetchWalletImage(u))),Ot.wallets=Ye.uniqueBy([...Ot.wallets,...ut._filterOutExtensions(a)],"id").filter(u=>u.chains?.some(f=>i.includes(f))),Ot.count=c>Ot.count?c:Ot.count,Ot.page=t},async initializeExcludedWallets({ids:t}){const e={page:1,entries:t.length,include:t},{data:r}=await ut.fetchWallets(e);r&&r.forEach(n=>{Ot.excludedWallets.push({rdns:n.rdns,name:n.name})})},async searchWallet({search:t,badge:e}){const{includeWalletIds:r,excludeWalletIds:n}=Te.state,i=se.getRequestedCaipNetworkIds().join(",");Ot.search=[];const s={page:1,entries:100,search:t?.trim(),badge_type:e,include:r,exclude:n,chains:i},{data:o}=await ut.fetchWallets(s);fr.sendEvent({type:"track",event:"SEARCH_WALLET",properties:{badge:e??"",search:t??""}});const a=o.map(c=>c.image_id).filter(Boolean);await Promise.allSettled([...a.map(c=>ut._fetchWalletImage(c)),Ye.wait(300)]),Ot.search=ut._filterOutExtensions(o)},initPromise(t,e){const r=Ot.promises[t];return r||(Ot.promises[t]=e())},prefetch({fetchConnectorImages:t=!0,fetchFeaturedWallets:e=!0,fetchRecommendedWallets:r=!0,fetchNetworkImages:n=!0}={}){const i=[t&&ut.initPromise("connectorImages",ut.fetchConnectorImages),e&&ut.initPromise("featuredWallets",ut.fetchFeaturedWallets),r&&ut.initPromise("recommendedWallets",ut.fetchRecommendedWallets),n&&ut.initPromise("networkImages",ut.fetchNetworkImages)].filter(Boolean);return Promise.allSettled(i)},prefetchAnalyticsConfig(){Te.state.features?.analytics&&ut.fetchAnalyticsConfig()},async fetchAnalyticsConfig(){try{const{isAnalyticsEnabled:t}=await po.get({path:"/getAnalyticsConfig",params:ut._getSdkProperties()});Te.setFeatures({analytics:t})}catch{Te.setFeatures({analytics:!1})}},filterByNamespaces(t){if(!t?.length){Ot.featured=Ot.allFeatured,Ot.recommended=Ot.allRecommended;return}const e=se.getRequestedCaipNetworkIds().join(",");Ot.featured=Ot.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),Ot.recommended=Ot.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),Ot.filteredWallets=Ot.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))},clearFilterByNamespaces(){Ot.filteredWallets=[]},setFilterByNamespace(t){if(!t){Ot.featured=Ot.allFeatured,Ot.recommended=Ot.allRecommended;return}const e=se.getRequestedCaipNetworkIds().join(",");Ot.featured=Ot.allFeatured.filter(r=>r.chains?.some(n=>e.includes(n))),Ot.recommended=Ot.allRecommended.filter(r=>r.chains?.some(n=>e.includes(n))),Ot.filteredWallets=Ot.wallets.filter(r=>r.chains?.some(n=>e.includes(n)))}},jr=_n({view:"Connect",history:["Connect"],transactionStack:[]}),koe={state:jr,subscribeKey(t,e){return js(jr,t,e)},pushTransactionStack(t){jr.transactionStack.push(t)},popTransactionStack(t){const e=jr.transactionStack.pop();if(!e)return;const{onSuccess:r,onError:n,onCancel:i}=e;switch(t){case"success":r?.();break;case"error":n?.(),yt.goBack();break;case"cancel":i?.(),yt.goBack();break}},push(t,e){t!==jr.view&&(jr.view=t,jr.history.push(t),jr.data=e)},reset(t,e){jr.view=t,jr.history=[t],jr.data=e},replace(t,e){jr.history.at(-1)===t||(jr.view=t,jr.history[jr.history.length-1]=t,jr.data=e)},goBack(){const t=se.state.activeCaipAddress,e=yt.state.view==="ConnectingFarcaster",r=!t&&e;if(jr.history.length>1){jr.history.pop();const[n]=jr.history.slice(-1);n&&(t&&n==="Connect"?jr.view="Account":jr.view=n)}else nr.close();jr.data?.wallet&&(jr.data.wallet=void 0),setTimeout(()=>{if(r){tt.setFarcasterUrl(void 0,se.state.activeChain);const n=Be.getAuthConnector();n?.provider?.reload();const i=Z_(Te.state);n?.provider?.syncDappData?.({metadata:i.metadata,sdkVersion:i.sdkVersion,projectId:i.projectId,sdkType:i.sdkType})}},100)},goBackToIndex(t){if(jr.history.length>1){jr.history=jr.history.slice(0,t+1);const[e]=jr.history.slice(-1);e&&(jr.view=e)}},goBackOrCloseModal(){yt.state.history.length>1?yt.goBack():nr.close()}},yt=ya(koe),nf=_n({themeMode:"dark",themeVariables:{},w3mThemeVariables:void 0}),FI={state:nf,subscribe(t){return ds(nf,()=>t(nf))},setThemeMode(t){nf.themeMode=t;try{const e=Be.getAuthConnector();if(e){const r=FI.getSnapshot().themeVariables;e.provider.syncTheme({themeMode:t,themeVariables:r,w3mThemeVariables:eb(r,t)})}}catch{console.info("Unable to sync theme to auth connector")}},setThemeVariables(t){nf.themeVariables={...nf.themeVariables,...t};try{const e=Be.getAuthConnector();if(e){const r=FI.getSnapshot().themeVariables;e.provider.syncTheme({themeVariables:r,w3mThemeVariables:eb(nf.themeVariables,nf.themeMode)})}}catch{console.info("Unable to sync theme to auth connector")}},getSnapshot(){return Z_(nf)}},Ro=ya(FI),xj=Object.fromEntries(bj.map(t=>[t,void 0])),Moe=Object.fromEntries(bj.map(t=>[t,!0])),hr=_n({allConnectors:[],connectors:[],activeConnector:void 0,filterByNamespace:void 0,activeConnectorIds:xj,filterByNamespaceMap:Moe}),Uoe={state:hr,subscribe(t){return ds(hr,()=>{t(hr)})},subscribeKey(t,e){return js(hr,t,e)},initialize(t){t.forEach(e=>{const r=De.getConnectedConnectorId(e);r&&Be.setConnectorId(r,e)})},setActiveConnector(t){t&&(hr.activeConnector=$0(t))},setConnectors(t){t.filter(i=>!hr.allConnectors.some(s=>s.id===i.id&&Be.getConnectorName(s.name)===Be.getConnectorName(i.name)&&s.chain===i.chain)).forEach(i=>{i.type!=="MULTI_CHAIN"&&hr.allConnectors.push($0(i))});const r=Be.getEnabledNamespaces(),n=Be.getEnabledConnectors(r);hr.connectors=Be.mergeMultiChainConnectors(n)},filterByNamespaces(t){Object.keys(hr.filterByNamespaceMap).forEach(e=>{hr.filterByNamespaceMap[e]=!1}),t.forEach(e=>{hr.filterByNamespaceMap[e]=!0}),Be.updateConnectorsForEnabledNamespaces()},filterByNamespace(t,e){hr.filterByNamespaceMap[t]=e,Be.updateConnectorsForEnabledNamespaces()},updateConnectorsForEnabledNamespaces(){const t=Be.getEnabledNamespaces(),e=Be.getEnabledConnectors(t),r=Be.areAllNamespacesEnabled();hr.connectors=Be.mergeMultiChainConnectors(e),r?ut.clearFilterByNamespaces():ut.filterByNamespaces(t)},getEnabledNamespaces(){return Object.entries(hr.filterByNamespaceMap).filter(([t,e])=>e).map(([t])=>t)},getEnabledConnectors(t){return hr.allConnectors.filter(e=>t.includes(e.chain))},areAllNamespacesEnabled(){return Object.values(hr.filterByNamespaceMap).every(t=>t)},mergeMultiChainConnectors(t){const e=Be.generateConnectorMapByName(t),r=[];return e.forEach(n=>{const i=n[0],s=i?.id===we.CONNECTOR_ID.AUTH;n.length>1&&i?r.push({name:i.name,imageUrl:i.imageUrl,imageId:i.imageId,connectors:[...n],type:s?"AUTH":"MULTI_CHAIN",chain:"eip155",id:i?.id||""}):i&&r.push(i)}),r},generateConnectorMapByName(t){const e=new Map;return t.forEach(r=>{const{name:n}=r,i=Be.getConnectorName(n);if(!i)return;const s=e.get(i)||[];s.find(a=>a.chain===r.chain)||s.push(r),e.set(i,s)}),e},getConnectorName(t){return t&&({"Trust Wallet":"Trust"}[t]||t)},getUniqueConnectorsByName(t){const e=[];return t.forEach(r=>{e.find(n=>n.chain===r.chain)||e.push(r)}),e},addConnector(t){if(t.id===we.CONNECTOR_ID.AUTH){const e=t,r=Z_(Te.state),n=Ro.getSnapshot().themeMode,i=Ro.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,projectId:r.projectId,sdkType:r.sdkType}),e?.provider?.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:eb(i,n)}),Be.setConnectors([t])}else Be.setConnectors([t])},getAuthConnector(t){const e=t||se.state.activeChain,r=hr.connectors.find(n=>n.id===we.CONNECTOR_ID.AUTH);if(r)return r?.connectors?.length?r.connectors.find(i=>i.chain===e):r},getAnnouncedConnectorRdns(){return hr.connectors.filter(t=>t.type==="ANNOUNCED").map(t=>t.info?.rdns)},getConnectorById(t){return hr.allConnectors.find(e=>e.id===t)},getConnector({id:t,rdns:e,namespace:r}){const n=r||se.state.activeChain;return hr.allConnectors.filter(s=>s.chain===n).find(s=>s.explorerId===t||s.info?.rdns===e)},syncIfAuthConnector(t){if(t.id!=="ID_AUTH")return;const e=t,r=Z_(Te.state),n=Ro.getSnapshot().themeMode,i=Ro.getSnapshot().themeVariables;e?.provider?.syncDappData?.({metadata:r.metadata,sdkVersion:r.sdkVersion,sdkType:r.sdkType,projectId:r.projectId}),e.provider.syncTheme({themeMode:n,themeVariables:i,w3mThemeVariables:eb(i,n)})},getConnectorsByNamespace(t){const e=hr.allConnectors.filter(r=>r.chain===t);return Be.mergeMultiChainConnectors(e)},canSwitchToSmartAccount(t){return se.checkIfSmartAccountEnabled()&&jo(t)===Li.ACCOUNT_TYPES.EOA},selectWalletConnector(t){const e=Be.getConnector({id:t.id,rdns:t.rdns});xoe.handleMobileDeeplinkRedirect(e?.explorerId||t.id,se.state.activeChain),e?yt.push("ConnectingExternal",{connector:e,wallet:t}):yt.push("ConnectingWalletConnect",{wallet:t})},getConnectors(t){return t?Be.getConnectorsByNamespace(t):Be.mergeMultiChainConnectors(hr.allConnectors)},setFilterByNamespace(t){hr.filterByNamespace=t,hr.connectors=Be.getConnectors(t),ut.setFilterByNamespace(t)},setConnectorId(t,e){t&&(hr.activeConnectorIds={...hr.activeConnectorIds,[e]:t},De.setConnectedConnectorId(e,t))},removeConnectorId(t){hr.activeConnectorIds={...hr.activeConnectorIds,[t]:void 0},De.deleteConnectedConnectorId(t)},getConnectorId(t){if(t)return hr.activeConnectorIds[t]},isConnected(t){return t?!!hr.activeConnectorIds[t]:Object.values(hr.activeConnectorIds).some(e=>!!e)},resetConnectorIds(){hr.activeConnectorIds={...xj}}},Be=ya(Uoe),Loe=1e3,by={checkNamespaceConnectorId(t,e){return Be.getConnectorId(t)===e},isSocialProvider(t){return ar.DEFAULT_REMOTE_FEATURES.socials.includes(t)},connectWalletConnect({walletConnect:t,connector:e,closeModalOnConnect:r=!0,redirectViewOnModalClose:n="Connect",onOpen:i,onConnect:s}){return new Promise((o,a)=>{if(t&&Be.setActiveConnector(e),i?.(Ye.isMobile()&&t),n){const l=nr.subscribeKey("open",u=>{u||(yt.state.view!==n&&yt.replace(n),l(),a(new Error("Modal closed")))})}const c=se.subscribeKey("activeCaipAddress",l=>{l&&(s?.(),r&&nr.close(),c(),o(ro.parseCaipAddress(l)))})})},connectExternal(t){return new Promise((e,r)=>{const n=se.subscribeKey("activeCaipAddress",i=>{i&&(nr.close(),n(),e(ro.parseCaipAddress(i)))});We.connectExternal(t,t.chain).catch(()=>{n(),r(new Error("Connection rejected"))})})},connectSocial({social:t,namespace:e,closeModalOnConnect:r=!0,onOpenFarcaster:n,onConnect:i}){let s=tt.state.socialWindow,o=tt.state.socialProvider,a=!1,c=null;const l=e||se.state.activeChain,u=se.subscribeKey("activeCaipAddress",f=>{f&&(r&&nr.close(),u())});return new Promise((f,h)=>{async function g(m){if(m.data?.resultUri)if(m.origin===we.SECURE_SITE_SDK_ORIGIN){window.removeEventListener("message",g,!1);try{const b=Be.getAuthConnector(l);if(b&&!a){s&&(s.close(),tt.setSocialWindow(void 0,l),s=tt.state.socialWindow),a=!0;const A=m.data.resultUri;if(o&&fr.sendEvent({type:"track",event:"SOCIAL_LOGIN_REQUEST_USER_DATA",properties:{provider:o}}),o){De.setConnectedSocialProvider(o),await We.connectExternal({id:b.id,type:b.type,socialUri:A},b.chain);const N=se.state.activeCaipAddress;if(!N){h(new Error("Failed to connect"));return}f(ro.parseCaipAddress(N)),fr.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:o}})}}}catch{o&&fr.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}}),h(new Error("Failed to connect"))}}else o&&fr.sendEvent({type:"track",event:"SOCIAL_LOGIN_ERROR",properties:{provider:o}})}async function _(){if(t&&(tt.setSocialProvider(t,l),o=tt.state.socialProvider,fr.sendEvent({type:"track",event:"SOCIAL_LOGIN_STARTED",properties:{provider:o}})),o==="farcaster"){n?.();const m=nr.subscribeKey("open",A=>{!A&&t==="farcaster"&&(h(new Error("Popup closed")),i?.(),m())}),b=Be.getAuthConnector();if(b&&!tt.state.farcasterUrl)try{const{url:A}=await b.provider.getFarcasterUri();tt.setFarcasterUrl(A,l)}catch{h(new Error("Failed to connect to farcaster"))}}else{const m=Be.getAuthConnector();c=Ye.returnOpenHref(`${we.SECURE_SITE_SDK_ORIGIN}/loading`,"popupWindow","width=600,height=800,scrollbars=yes");try{if(m&&o){const{uri:b}=await m.provider.getSocialRedirectUri({provider:o});if(c&&b){tt.setSocialWindow(c,l),s=tt.state.socialWindow,c.location.href=b;const A=setInterval(()=>{s?.closed&&!a&&(h(new Error("Popup closed")),clearInterval(A))},1e3);window.addEventListener("message",g,!1)}else c?.close(),h(new Error("Failed to initiate social connection"))}}catch{h(new Error("Failed to initiate social connection")),c?.close()}}}_()})},connectEmail({closeModalOnConnect:t=!0,redirectViewOnModalClose:e="Connect",onOpen:r,onConnect:n}){return new Promise((i,s)=>{if(r?.(),e){const a=nr.subscribeKey("open",c=>{c||(yt.state.view!==e&&yt.replace(e),a(),s(new Error("Modal closed")))})}const o=se.subscribeKey("activeCaipAddress",a=>{a&&(n?.(),t&&nr.close(),o(),i(ro.parseCaipAddress(a)))})})},async updateEmail(){const t=De.getConnectedConnectorId(se.state.activeChain),e=Be.getAuthConnector();if(!e)throw new Error("No auth connector found");if(t!==we.CONNECTOR_ID.AUTH)throw new Error("Not connected to email or social");const r=e.provider.getEmail()??"";return await nr.open({view:"UpdateEmailWallet",data:{email:r,redirectView:void 0}}),new Promise((n,i)=>{const s=setInterval(()=>{const a=e.provider.getEmail()??"";a!==r&&(nr.close(),clearInterval(s),o(),n({email:a}))},Loe),o=nr.subscribeKey("open",a=>{a||(yt.state.view!=="Connect"&&yt.push("Connect"),clearInterval(s),o(),i(new Error("Modal closed")))})})},canSwitchToSmartAccount(t){return se.checkIfSmartAccountEnabled()&&jo(t)===Li.ACCOUNT_TYPES.EOA}};function Cj(){const t=se.state.activeCaipNetwork?.chainNamespace||"eip155",e=se.state.activeCaipNetwork?.id||1,r=ar.NATIVE_TOKEN_ADDRESS[t];return`${t}:${e}:${r}`}function jo(t){return se.getAccountData(t)?.preferredAccountType}function Qy(t){return t?se.state.chains.get(t)?.networkState?.caipNetwork:se.state.activeCaipNetwork}const oA={getConnectionStatus(t,e){const r=Be.state.activeConnectorIds[e],n=We.getConnections(e);return!!r&&t.connectorId===r?"connected":n.some(o=>o.connectorId.toLowerCase()===t.connectorId.toLowerCase())?"active":"disconnected"},excludeConnectorAddressFromConnections({connections:t,connectorId:e,addresses:r}){return t.map(n=>{if((e?n.connectorId.toLowerCase()===e.toLowerCase():!1)&&r){const s=n.accounts.filter(o=>!r.some(c=>c.toLowerCase()===o.address.toLowerCase()));return{...n,accounts:s}}return n})},excludeExistingConnections(t,e){const r=new Set(t);return e.filter(n=>!r.has(n.connectorId))},getConnectionsByConnectorId(t,e){return t.filter(r=>r.connectorId.toLowerCase()===e.toLowerCase())},getConnectionsData(t){const e=!!Te.state.remoteFeatures?.multiWallet,r=Be.state.activeConnectorIds[t],n=We.getConnections(t),s=(We.state.recentConnections.get(t)??[]).filter(a=>Be.getConnectorById(a.connectorId)),o=oA.excludeExistingConnections([...n.map(a=>a.connectorId),...r?[r]:[]],s);return e?{connections:n,recentConnections:o}:{connections:n.filter(a=>a.connectorId.toLowerCase()===r?.toLowerCase()),recentConnections:[]}}},o0=Object.freeze({message:"",variant:"success",svg:void 0,open:!1,autoClose:!0}),hi=_n({...o0}),$oe={state:hi,subscribeKey(t,e){return js(hi,t,e)},showLoading(t,e={}){this._showMessage({message:t,variant:"loading",...e})},showSuccess(t){this._showMessage({message:t,variant:"success"})},showSvg(t,e){this._showMessage({message:t,svg:e})},showError(t){const e=Ye.parseError(t);this._showMessage({message:e,variant:"error"})},hide(){hi.message=o0.message,hi.variant=o0.variant,hi.svg=o0.svg,hi.open=o0.open,hi.autoClose=o0.autoClose},_showMessage({message:t,svg:e,variant:r="success",autoClose:n=o0.autoClose}){hi.open?(hi.open=!1,setTimeout(()=>{hi.message=t,hi.variant=r,hi.svg=e,hi.open=!0,hi.autoClose=n},150)):(hi.message=t,hi.variant=r,hi.svg=e,hi.open=!0,hi.autoClose=n)}},mu=$oe,Cn=_n({transactions:[],transactionsByYear:{},lastNetworkInView:void 0,loading:!1,empty:!1,next:void 0}),Foe={state:Cn,subscribe(t){return ds(Cn,()=>t(Cn))},setLastNetworkInView(t){Cn.lastNetworkInView=t},async fetchTransactions(t){if(!t)throw new Error("Transactions can't be fetched without an accountAddress");Cn.loading=!0;try{const e=await pt.fetchTransactions({account:t,cursor:Cn.next,chainId:se.state.activeCaipNetwork?.caipNetworkId}),r=Hv.filterSpamTransactions(e.data),n=Hv.filterByConnectedChain(r),i=[...Cn.transactions,...n];Cn.loading=!1,Cn.transactions=i,Cn.transactionsByYear=Hv.groupTransactionsByYearAndMonth(Cn.transactionsByYear,n),Cn.empty=i.length===0,Cn.next=e.next?e.next:void 0}catch{const r=se.state.activeChain;fr.sendEvent({type:"track",event:"ERROR_FETCH_TRANSACTIONS",properties:{address:t,projectId:Te.state.projectId,cursor:Cn.next,isSmartAccount:jo(r)===Li.ACCOUNT_TYPES.SMART_ACCOUNT}}),mu.showError("Failed to fetch transactions"),Cn.loading=!1,Cn.empty=!0,Cn.next=void 0}},groupTransactionsByYearAndMonth(t={},e=[]){const r=t;return e.forEach(n=>{const i=new Date(n.metadata.minedAt).getFullYear(),s=new Date(n.metadata.minedAt).getMonth(),o=r[i]??{},c=(o[s]??[]).filter(l=>l.id!==n.id);r[i]={...o,[s]:[...c,n].sort((l,u)=>new Date(u.metadata.minedAt).getTime()-new Date(l.metadata.minedAt).getTime())}}),r},filterSpamTransactions(t){return t.filter(e=>!e.transfers.every(n=>n.nft_info?.flags.is_spam===!0))},filterByConnectedChain(t){const e=se.state.activeCaipNetwork?.caipNetworkId;return t.filter(n=>n.metadata.chain===e)},clearCursor(){Cn.next=void 0},resetTransactions(){Cn.transactions=[],Cn.transactionsByYear={},Cn.lastNetworkInView=void 0,Cn.loading=!1,Cn.empty=!1,Cn.next=void 0}},Hv=ya(Foe,"API_ERROR"),pr=_n({connections:new Map,recentConnections:new Map,isSwitchingConnection:!1,wcError:!1,buffering:!1,status:"disconnected"});let Kh;const Boe={state:pr,subscribe(t){return ds(pr,()=>t(pr))},subscribeKey(t,e){return js(pr,t,e)},_getClient(){return pr._client},setClient(t){pr._client=$0(t)},initialize(t){const e=t.filter(r=>!!r.namespace).map(r=>r.namespace);We.syncStorageConnections(e)},syncStorageConnections(t){const e=De.getConnections(),r=t??Array.from(se.state.chains.keys());for(const n of r){const i=e[n]??[],s=new Map(pr.recentConnections);s.set(n,i),pr.recentConnections=s}},getConnections(t){return t?pr.connections.get(t)??[]:[]},hasAnyConnection(t){const e=We.state.connections;return Array.from(e.values()).flatMap(r=>r).some(({connectorId:r})=>r===t)},async connectWalletConnect({cache:t="auto"}={}){const e=Ye.isTelegram()||Ye.isSafari()&&Ye.isIos();if(t==="always"||t==="auto"&&e){if(Kh){await Kh,Kh=void 0;return}if(!Ye.isPairingExpired(pr?.wcPairingExpiry)){const r=pr.wcUri;pr.wcUri=r;return}Kh=We._getClient()?.connectWalletConnect?.().catch(()=>{}),We.state.status="connecting",await Kh,Kh=void 0,pr.wcPairingExpiry=void 0,We.state.status="connected"}else await We._getClient()?.connectWalletConnect?.()},async connectExternal(t,e,r=!0){const n=await We._getClient()?.connectExternal?.(t);return r&&se.setActiveNamespace(e),n},async reconnectExternal(t){await We._getClient()?.reconnectExternal?.(t);const e=t.chain||se.state.activeChain;e&&Be.setConnectorId(t.id,e)},async setPreferredAccountType(t,e){if(!e)return;nr.setLoading(!0,se.state.activeChain);const r=Be.getAuthConnector();r&&(tt.setPreferredAccountType(t,e),await r.provider.setPreferredAccount(t),De.setPreferredAccountTypes(Object.entries(se.state.chains).reduce((n,[i,s])=>{const o=i,a=jo(o);return a!==void 0&&(n[o]=a),n},{})),await We.reconnectExternal(r),nr.setLoading(!1,se.state.activeChain),fr.sendEvent({type:"track",event:"SET_PREFERRED_ACCOUNT_TYPE",properties:{accountType:t,network:se.state.activeCaipNetwork?.caipNetworkId||""}}))},async signMessage(t){return We._getClient()?.signMessage(t)},parseUnits(t,e){return We._getClient()?.parseUnits(t,e)},formatUnits(t,e){return We._getClient()?.formatUnits(t,e)},updateBalance(t){return We._getClient()?.updateBalance(t)},async sendTransaction(t){return We._getClient()?.sendTransaction(t)},async getCapabilities(t){return We._getClient()?.getCapabilities(t)},async grantPermissions(t){return We._getClient()?.grantPermissions(t)},async walletGetAssets(t){return We._getClient()?.walletGetAssets(t)??{}},async estimateGas(t){return We._getClient()?.estimateGas(t)},async writeContract(t){return We._getClient()?.writeContract(t)},async getEnsAddress(t){return We._getClient()?.getEnsAddress(t)},async getEnsAvatar(t){return We._getClient()?.getEnsAvatar(t)},checkInstalled(t){return We._getClient()?.checkInstalled?.(t)||!1},resetWcConnection(){pr.wcUri=void 0,pr.wcPairingExpiry=void 0,pr.wcLinking=void 0,pr.recentWallet=void 0,pr.status="disconnected",Hv.resetTransactions(),De.deleteWalletConnectDeepLink()},resetUri(){pr.wcUri=void 0,pr.wcPairingExpiry=void 0,Kh=void 0},finalizeWcConnection(t){const{wcLinking:e,recentWallet:r}=We.state;e&&De.setWalletConnectDeepLink(e),r&&De.setAppKitRecent(r),t&&fr.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:t,properties:{method:e?"mobile":"qrcode",name:yt.state.data?.wallet?.name||"Unknown"}})},setWcBasic(t){pr.wcBasic=t},setUri(t){pr.wcUri=t,pr.wcPairingExpiry=Ye.getPairingExpiry()},setWcLinking(t){pr.wcLinking=t},setWcError(t){pr.wcError=t,pr.buffering=!1},setRecentWallet(t){pr.recentWallet=t},setBuffering(t){pr.buffering=t},setStatus(t){pr.status=t},setIsSwitchingConnection(t){pr.isSwitchingConnection=t},async disconnect({id:t,namespace:e,initialDisconnect:r}={}){try{await We._getClient()?.disconnect({id:t,chainNamespace:e,initialDisconnect:r})}catch(n){throw new rm("Failed to disconnect","INTERNAL_SDK_ERROR",n)}},setConnections(t,e){const r=new Map(pr.connections);r.set(e,t),pr.connections=r},async handleAuthAccountSwitch({address:t,namespace:e}){const r=tt.state.user?.accounts?.find(i=>i.type==="smartAccount"),n=r&&r.address.toLowerCase()===t.toLowerCase()&&by.canSwitchToSmartAccount(e)?"smartAccount":"eoa";await We.setPreferredAccountType(n,e)},async handleActiveConnection({connection:t,namespace:e,address:r}){const n=Be.getConnectorById(t.connectorId),i=t.connectorId===we.CONNECTOR_ID.AUTH;if(!n)throw new Error(`No connector found for connection: ${t.connectorId}`);if(i)i&&r&&await We.handleAuthAccountSwitch({address:r,namespace:e});else return(await We.connectExternal({id:n.id,type:n.type,provider:n.provider,address:r,chain:e},e))?.address;return r},async handleDisconnectedConnection({connection:t,namespace:e,address:r,closeModalOnConnect:n}){const i=Be.getConnectorById(t.connectorId),s=t.auth?.name?.toLowerCase(),o=t.connectorId===we.CONNECTOR_ID.AUTH,a=t.connectorId===we.CONNECTOR_ID.WALLET_CONNECT;if(!i)throw new Error(`No connector found for connection: ${t.connectorId}`);let c;if(o)if(s&&by.isSocialProvider(s)){const{address:l}=await by.connectSocial({social:s,closeModalOnConnect:n,onOpenFarcaster(){nr.open({view:"ConnectingFarcaster"})},onConnect(){yt.replace("ProfileWallets")}});c=l}else{const{address:l}=await by.connectEmail({closeModalOnConnect:n,onOpen(){nr.open({view:"EmailLogin"})},onConnect(){yt.replace("ProfileWallets")}});c=l}else if(a){const{address:l}=await by.connectWalletConnect({walletConnect:!0,connector:i,closeModalOnConnect:n,onOpen(u){const f=u?"AllWallets":"ConnectingWalletConnect";nr.state.open?yt.push(f):nr.open({view:f})},onConnect(){yt.replace("ProfileWallets")}});c=l}else{const l=await We.connectExternal({id:i.id,type:i.type,provider:i.provider,chain:e},e);l&&(c=l.address)}return o&&r&&await We.handleAuthAccountSwitch({address:r,namespace:e}),c},async switchConnection({connection:t,address:e,namespace:r,closeModalOnConnect:n,onChange:i}){let s;const o=tt.getCaipAddress(r);if(o){const{address:c}=ro.parseCaipAddress(o);s=c}const a=oA.getConnectionStatus(t,r);switch(a){case"connected":case"active":{const c=await We.handleActiveConnection({connection:t,namespace:r,address:e});if(s&&c){const l=c.toLowerCase()!==s.toLowerCase();i?.({address:c,namespace:r,hasSwitchedAccount:l,hasSwitchedWallet:a==="active"})}break}case"disconnected":{const c=await We.handleDisconnectedConnection({connection:t,namespace:r,address:e,closeModalOnConnect:n});c&&i?.({address:c,namespace:r,hasSwitchedAccount:!0,hasSwitchedWallet:!0});break}default:throw new Error(`Invalid connection status: ${a}`)}}},We=ya(Boe),Mp=_n({loading:!1,open:!1,selectedNetworkId:void 0,activeChain:void 0,initialized:!1}),_l={state:Mp,subscribe(t){return ds(Mp,()=>t(Mp))},subscribeOpen(t){return js(Mp,"open",t)},set(t){Object.assign(Mp,{...Mp,...t})}},Hoe={async getTokenList(t){return(await pt.fetchSwapTokens({chainId:t}))?.tokens?.map(n=>({...n,eip2612:!1,quantity:{decimals:"0",numeric:"0"},price:0,value:0}))||[]},async fetchGasPrice(){const t=se.state.activeCaipNetwork;if(!t)return null;try{switch(t.chainNamespace){case"solana":const e=(await We?.estimateGas({chainNamespace:"solana"}))?.toString();return{standard:e,fast:e,instant:e};case"eip155":default:return await pt.fetchGasPrice({chainId:t.caipNetworkId})}}catch{return null}},async fetchSwapAllowance({tokenAddress:t,userAddress:e,sourceTokenAmount:r,sourceTokenDecimals:n}){const i=await pt.fetchSwapAllowance({tokenAddress:t,userAddress:e});if(i?.allowance&&r&&n){const s=We.parseUnits(r,n)||0;return BigInt(i.allowance)>=s}return!1},async getMyTokensWithBalance(t){const e=await SP.getMyTokensWithBalance(t);return tt.setTokenBalance(e,se.state.activeChain),this.mapBalancesToSwapTokens(e)},mapBalancesToSwapTokens(t){return t?.map(e=>({...e,address:e?.address?e.address:Cj(),decimals:parseInt(e.quantity.decimals,10),logoUri:e.iconUrl,eip2612:!1}))||[]}},Mr=_n({tokenBalances:[],loading:!1}),joe={state:Mr,subscribe(t){return ds(Mr,()=>t(Mr))},subscribeKey(t,e){return js(Mr,t,e)},setToken(t){t&&(Mr.token=$0(t))},setTokenAmount(t){Mr.sendTokenAmount=t},setReceiverAddress(t){Mr.receiverAddress=t},setReceiverProfileImageUrl(t){Mr.receiverProfileImageUrl=t},setReceiverProfileName(t){Mr.receiverProfileName=t},setNetworkBalanceInUsd(t){Mr.networkBalanceInUSD=t},setLoading(t){Mr.loading=t},async sendToken(){try{switch(or.setLoading(!0),se.state.activeCaipNetwork?.chainNamespace){case"eip155":await or.sendEvmToken();return;case"solana":await or.sendSolanaToken();return;default:throw new Error("Unsupported chain")}}finally{or.setLoading(!1)}},async sendEvmToken(){const t=se.state.activeChain;if(!t)throw new Error("SendController:sendEvmToken - activeChainNamespace is required");const e=jo(t);if(!or.state.sendTokenAmount||!or.state.receiverAddress)throw new Error("An amount and receiver address are required");if(!or.state.token)throw new Error("A token is required");or.state.token?.address?(fr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Li.ACCOUNT_TYPES.SMART_ACCOUNT,token:or.state.token.address,amount:or.state.sendTokenAmount,network:se.state.activeCaipNetwork?.caipNetworkId||""}}),await or.sendERC20Token({receiverAddress:or.state.receiverAddress,tokenAddress:or.state.token.address,sendTokenAmount:or.state.sendTokenAmount,decimals:or.state.token.quantity.decimals})):(fr.sendEvent({type:"track",event:"SEND_INITIATED",properties:{isSmartAccount:e===Li.ACCOUNT_TYPES.SMART_ACCOUNT,token:or.state.token.symbol||"",amount:or.state.sendTokenAmount,network:se.state.activeCaipNetwork?.caipNetworkId||""}}),await or.sendNativeToken({receiverAddress:or.state.receiverAddress,sendTokenAmount:or.state.sendTokenAmount,decimals:or.state.token.quantity.decimals}))},async fetchTokenBalance(t){Mr.loading=!0;const e=se.state.activeChain,r=se.state.activeCaipNetwork?.caipNetworkId,n=se.state.activeCaipNetwork?.chainNamespace,i=tt.getCaipAddress(e)??se.state.activeCaipAddress,s=i?Ye.getPlainAddress(i):void 0;if(Mr.lastRetry&&!Ye.isAllowedRetry(Mr.lastRetry,30*ar.ONE_SEC_MS))return Mr.loading=!1,[];try{if(s&&r&&n){const o=await SP.getMyTokensWithBalance();return Mr.tokenBalances=o,Mr.lastRetry=void 0,o}}catch(o){Mr.lastRetry=Date.now(),t?.(o),mu.showError("Token Balance Unavailable")}finally{Mr.loading=!1}return[]},fetchNetworkBalance(){if(Mr.tokenBalances.length===0)return;const t=Hoe.mapBalancesToSwapTokens(Mr.tokenBalances);if(!t)return;const e=t.find(r=>r.address===Cj());e&&(Mr.networkBalanceInUSD=e?coe.multiply(e.quantity.numeric,e.price).toString():"0")},async sendNativeToken(t){yt.pushTransactionStack({});const e=t.receiverAddress,r=tt.state.address,n=We.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));await We.sendTransaction({chainNamespace:we.CHAIN.EVM,to:e,address:r,data:"0x",value:n??BigInt(0)}),fr.sendEvent({type:"track",event:"SEND_SUCCESS",properties:{isSmartAccount:jo("eip155")===Li.ACCOUNT_TYPES.SMART_ACCOUNT,token:or.state.token?.symbol||"",amount:t.sendTokenAmount,network:se.state.activeCaipNetwork?.caipNetworkId||""}}),We._getClient()?.updateBalance("eip155"),or.resetSend()},async sendERC20Token(t){yt.pushTransactionStack({onSuccess(){yt.replace("Account")}});const e=We.parseUnits(t.sendTokenAmount.toString(),Number(t.decimals));if(tt.state.address&&t.sendTokenAmount&&t.receiverAddress&&t.tokenAddress){const r=Ye.getPlainAddress(t.tokenAddress);if(!r)throw new Error("SendController:sendERC20Token - tokenAddress is required");await We.writeContract({fromAddress:tt.state.address,tokenAddress:r,args:[t.receiverAddress,e??BigInt(0)],method:"transfer",abi:doe.getERC20Abi(r),chainNamespace:we.CHAIN.EVM}),or.resetSend()}},async sendSolanaToken(){if(!or.state.sendTokenAmount||!or.state.receiverAddress)throw new Error("An amount and receiver address are required");yt.pushTransactionStack({onSuccess(){yt.replace("Account")}});let t;if(or.state.token&&Ye.isCaipAddress(or.state.token.address)){const[,,e]=or.state.token.address.split(":");t=e}await We.sendTransaction({chainNamespace:"solana",tokenMint:t,to:or.state.receiverAddress,value:or.state.sendTokenAmount}),We._getClient()?.updateBalance("solana"),or.resetSend()},resetSend(){Mr.token=void 0,Mr.sendTokenAmount=void 0,Mr.receiverAddress=void 0,Mr.receiverProfileImageUrl=void 0,Mr.receiverProfileName=void 0,Mr.loading=!1,Mr.tokenBalances=[]}},or=ya(joe),yN={currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map,user:void 0,preferredAccountType:void 0},qw={caipNetwork:void 0,supportsAllNetworks:!0,smartAccountEnabledNetworks:[]},Ke=_n({chains:Zse(),activeCaipAddress:void 0,activeChain:void 0,activeCaipNetwork:void 0,noAdapters:!1,universalAdapter:{networkControllerClient:void 0,connectionControllerClient:void 0},isSwitchingNamespace:!1}),Woe={state:Ke,subscribe(t){return ds(Ke,()=>{t(Ke)})},subscribeKey(t,e){return js(Ke,t,e)},subscribeChainProp(t,e,r){let n;return ds(Ke.chains,()=>{const i=r||Ke.activeChain;if(i){const s=Ke.chains.get(i)?.[t];n!==s&&(n=s,e(s))}})},initialize(t,e,r){const{chainId:n,namespace:i}=De.getActiveNetworkProps(),s=e?.find(u=>u.id.toString()===n?.toString()),a=t.find(u=>u?.namespace===i)||t?.[0],c=t.map(u=>u.namespace).filter(u=>u!==void 0),l=Te.state.enableEmbedded?new Set([...c]):new Set([...e?.map(u=>u.chainNamespace)??[]]);(t?.length===0||!a)&&(Ke.noAdapters=!0),Ke.noAdapters||(Ke.activeChain=a?.namespace,Ke.activeCaipNetwork=s,se.setChainNetworkData(a?.namespace,{caipNetwork:s}),Ke.activeChain&&_l.set({activeChain:a?.namespace})),l.forEach(u=>{const f=e?.filter(_=>_.chainNamespace===u),h=De.getPreferredAccountTypes()||{},g={...Te.state.defaultAccountTypes,...h};se.state.chains.set(u,{namespace:u,networkState:_n({...qw,caipNetwork:f?.[0]}),accountState:_n({...yN,preferredAccountType:g[u]}),caipNetworks:f??[],...r}),se.setRequestedCaipNetworks(f??[],u)})},removeAdapter(t){if(Ke.activeChain===t){const e=Array.from(Ke.chains.entries()).find(([r])=>r!==t);if(e){const r=e[1]?.caipNetworks?.[0];r&&se.setActiveCaipNetwork(r)}}Ke.chains.delete(t)},addAdapter(t,{networkControllerClient:e,connectionControllerClient:r},n){if(!t.namespace)throw new Error("ChainController:addAdapter - adapter must have a namespace");Ke.chains.set(t.namespace,{namespace:t.namespace,networkState:{...qw,caipNetwork:n[0]},accountState:yN,caipNetworks:n,connectionControllerClient:r,networkControllerClient:e}),se.setRequestedCaipNetworks(n?.filter(i=>i.chainNamespace===t.namespace)??[],t.namespace)},addNetwork(t){const e=Ke.chains.get(t.chainNamespace);if(e){const r=[...e.caipNetworks||[]];e.caipNetworks?.find(n=>n.id===t.id)||r.push(t),Ke.chains.set(t.chainNamespace,{...e,caipNetworks:r}),se.setRequestedCaipNetworks(r,t.chainNamespace),Be.filterByNamespace(t.chainNamespace,!0)}},removeNetwork(t,e){const r=Ke.chains.get(t);if(r){const n=Ke.activeCaipNetwork?.id===e,i=[...r.caipNetworks?.filter(s=>s.id!==e)||[]];n&&r?.caipNetworks?.[0]&&se.setActiveCaipNetwork(r.caipNetworks[0]),Ke.chains.set(t,{...r,caipNetworks:i}),se.setRequestedCaipNetworks(i||[],t),i.length===0&&Be.filterByNamespace(t,!1)}},setAdapterNetworkState(t,e){const r=Ke.chains.get(t);r&&(r.networkState={...r.networkState||qw,...e},Ke.chains.set(t,r))},setChainAccountData(t,e,r=!0){if(!t)throw new Error("Chain is required to update chain account data");const n=Ke.chains.get(t);if(n){const i={...n.accountState||yN,...e};Ke.chains.set(t,{...n,accountState:i}),(Ke.chains.size===1||Ke.activeChain===t)&&(e.caipAddress&&(Ke.activeCaipAddress=e.caipAddress),tt.replaceState(i))}},setChainNetworkData(t,e){if(!t)return;const r=Ke.chains.get(t);if(r){const n={...r.networkState||qw,...e};Ke.chains.set(t,{...r,networkState:n})}},setAccountProp(t,e,r,n=!0){se.setChainAccountData(r,{[t]:e},n)},setActiveNamespace(t){Ke.activeChain=t;const e=t?Ke.chains.get(t):void 0,r=e?.networkState?.caipNetwork;r?.id&&t&&(Ke.activeCaipAddress=e?.accountState?.caipAddress,Ke.activeCaipNetwork=r,se.setChainNetworkData(t,{caipNetwork:r}),De.setActiveCaipNetworkId(r?.caipNetworkId),_l.set({activeChain:t,selectedNetworkId:r?.caipNetworkId}))},setActiveCaipNetwork(t){if(!t)return;Ke.activeChain!==t.chainNamespace&&se.setIsSwitchingNamespace(!0);const e=Ke.chains.get(t.chainNamespace);Ke.activeChain=t.chainNamespace,Ke.activeCaipNetwork=t,se.setChainNetworkData(t.chainNamespace,{caipNetwork:t}),e?.accountState?.address?Ke.activeCaipAddress=`${t.chainNamespace}:${t.id}:${e?.accountState?.address}`:Ke.activeCaipAddress=void 0,se.setAccountProp("caipAddress",Ke.activeCaipAddress,t.chainNamespace),e&&tt.replaceState(e.accountState),or.resetSend(),_l.set({activeChain:Ke.activeChain,selectedNetworkId:Ke.activeCaipNetwork?.caipNetworkId}),De.setActiveCaipNetworkId(t.caipNetworkId),!se.checkIfSupportedNetwork(t.chainNamespace)&&Te.state.enableNetworkSwitch&&!Te.state.allowUnsupportedChain&&!We.state.wcBasic&&se.showUnsupportedChainUI()},addCaipNetwork(t){if(!t)return;const e=Ke.chains.get(t.chainNamespace);e&&e?.caipNetworks?.push(t)},async switchActiveNamespace(t){if(!t)return;const e=t!==se.state.activeChain,r=se.getNetworkData(t)?.caipNetwork,n=se.getCaipNetworkByNamespace(t,r?.id);e&&n&&await se.switchActiveNetwork(n)},async switchActiveNetwork(t){const e=se.state.activeChain;if(!e)throw new Error("ChainController:switchActiveNetwork - namespace is required");const n=!se.state.chains.get(e)?.caipNetworks?.some(s=>s.id===Ke.activeCaipNetwork?.id),i=se.getNetworkControllerClient(t.chainNamespace);if(i){try{await i.switchCaipNetwork(t),n&&nr.close()}catch{yt.goBack()}fr.sendEvent({type:"track",event:"SWITCH_NETWORK",properties:{network:t.caipNetworkId}})}},getNetworkControllerClient(t){const e=t||Ke.activeChain;if(!e)throw new Error("ChainController:getNetworkControllerClient - chain is required");const r=Ke.chains.get(e);if(!r)throw new Error("Chain adapter not found");if(!r.networkControllerClient)throw new Error("NetworkController client not set");return r.networkControllerClient},getConnectionControllerClient(t){const e=t||Ke.activeChain;if(!e)throw new Error("Chain is required to get connection controller client");const r=Ke.chains.get(e);if(!r?.connectionControllerClient)throw new Error("ConnectionController client not set");return r.connectionControllerClient},getNetworkProp(t,e){const r=Ke.chains.get(e)?.networkState;if(r)return r[t]},getRequestedCaipNetworks(t){const e=Ke.chains.get(t),{approvedCaipNetworkIds:r=[],requestedCaipNetworks:n=[]}=e?.networkState||{};return Ye.sortRequestedNetworks(r,n).filter(o=>o?.id)},getAllRequestedCaipNetworks(){const t=[];return Ke.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllRequestedCaipNetworks - chainAdapter must have a namespace");const r=se.getRequestedCaipNetworks(e.namespace);t.push(...r)}),t},setRequestedCaipNetworks(t,e){se.setAdapterNetworkState(e,{requestedCaipNetworks:t});const n=se.getAllRequestedCaipNetworks().map(s=>s.chainNamespace),i=Array.from(new Set(n));Be.filterByNamespaces(i)},getAllApprovedCaipNetworkIds(){const t=[];return Ke.chains.forEach(e=>{if(!e.namespace)throw new Error("ChainController:getAllApprovedCaipNetworkIds - chainAdapter must have a namespace");const r=se.getApprovedCaipNetworkIds(e.namespace);t.push(...r)}),t},getActiveCaipNetwork(t){return t?Ke.chains.get(t)?.networkState?.caipNetwork:Ke.activeCaipNetwork},getActiveCaipAddress(){return Ke.activeCaipAddress},getApprovedCaipNetworkIds(t){return Ke.chains.get(t)?.networkState?.approvedCaipNetworkIds||[]},async setApprovedCaipNetworksData(t){const r=await se.getNetworkControllerClient()?.getApprovedCaipNetworksData();se.setAdapterNetworkState(t,{approvedCaipNetworkIds:r?.approvedCaipNetworkIds,supportsAllNetworks:r?.supportsAllNetworks})},checkIfSupportedNetwork(t,e){const r=e||Ke.activeCaipNetwork?.caipNetworkId,n=se.getRequestedCaipNetworks(t);return n.length?n?.some(i=>i.caipNetworkId===r):!0},checkIfSupportedChainId(t){return Ke.activeChain?se.getRequestedCaipNetworks(Ke.activeChain)?.some(r=>r.id===t):!0},setSmartAccountEnabledNetworks(t,e){se.setAdapterNetworkState(e,{smartAccountEnabledNetworks:t})},checkIfSmartAccountEnabled(){const t=_j.caipNetworkIdToNumber(Ke.activeCaipNetwork?.caipNetworkId),e=Ke.activeChain;return!e||!t?!1:!!se.getNetworkProp("smartAccountEnabledNetworks",e)?.includes(Number(t))},showUnsupportedChainUI(){nr.open({view:"UnsupportedChain"})},checkIfNamesSupported(){const t=Ke.activeCaipNetwork;return!!(t?.chainNamespace&&ar.NAMES_SUPPORTED_CHAIN_NAMESPACES.includes(t.chainNamespace))},resetNetwork(t){se.setAdapterNetworkState(t,{approvedCaipNetworkIds:void 0,supportsAllNetworks:!0})},resetAccount(t){const e=t;if(!e)throw new Error("Chain is required to set account prop");const r=se.state.chains.get(e)?.accountState?.preferredAccountType,n=Te.state.defaultAccountTypes[e];Ke.activeCaipAddress=void 0,se.setChainAccountData(e,{smartAccountDeployed:!1,currentTab:0,caipAddress:void 0,address:void 0,balance:void 0,balanceSymbol:void 0,profileName:void 0,profileImage:void 0,addressExplorerUrl:void 0,tokenBalance:[],connectedWalletInfo:void 0,preferredAccountType:n||r,socialProvider:void 0,socialWindow:void 0,farcasterUrl:void 0,user:void 0,status:"disconnected"}),Be.removeConnectorId(e)},setIsSwitchingNamespace(t){Ke.isSwitchingNamespace=t},getFirstCaipNetworkSupportsAuthConnector(){const t=[];let e;if(Ke.chains.forEach(r=>{we.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(n=>n===r.namespace)&&r.namespace&&t.push(r.namespace)}),t.length>0){const r=t[0];return e=r?Ke.chains.get(r)?.caipNetworks?.[0]:void 0,e}},getAccountData(t){const e=t||Ke.activeChain;if(e)return se.state.chains.get(e)?.accountState},getNetworkData(t){const e=t||Ke.activeChain;if(e)return se.state.chains.get(e)?.networkState},getCaipNetworkByNamespace(t,e){if(!t)return;const r=se.state.chains.get(t),n=r?.caipNetworks?.find(i=>i.id===e);return n||r?.networkState?.caipNetwork||r?.caipNetworks?.[0]},getRequestedCaipNetworkIds(){const t=Be.state.filterByNamespace;return(t?[Ke.chains.get(t)]:Array.from(Ke.chains.values())).flatMap(r=>r?.caipNetworks||[]).map(r=>r.caipNetworkId)},getCaipNetworks(t){return t?se.getRequestedCaipNetworks(t):se.getAllRequestedCaipNetworks()},setLastConnectedSIWECaipNetwork(t){Ke.lastConnectedSIWECaipNetwork=t},getLastConnectedSIWECaipNetwork(){return Ke.lastConnectedSIWECaipNetwork}},se=ya(Woe),qoe={purchaseCurrencies:[{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},{id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"Ether",symbol:"ETH",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]}],paymentCurrencies:[{id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},{id:"EUR",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]}]},Nj=Ye.getBlockchainApiUrl(),go=_n({clientId:null,api:new C1({baseUrl:Nj,clientId:null}),supportedChains:{http:[],ws:[]}}),pt={state:go,async get(t){const{st:e,sv:r}=pt.getSdkProperties(),n=Te.state.projectId,i={...t.params||{},st:e,sv:r,projectId:n};return go.api.get({...t,params:i})},getSdkProperties(){const{sdkType:t,sdkVersion:e}=Te.state;return{st:t||"unknown",sv:e||"unknown"}},async isNetworkSupported(t){if(!t)return!1;try{go.supportedChains.http.length||await pt.getSupportedNetworks()}catch{return!1}return go.supportedChains.http.includes(t)},async getSupportedNetworks(){try{const t=await pt.get({path:"v1/supported-chains"});return go.supportedChains=t,t}catch{return go.supportedChains}},async fetchIdentity({address:t}){const e=De.getIdentityFromCacheForAddress(t);if(e)return e;const r=await pt.get({path:`/v1/identity/${t}`,params:{sender:se.state.activeCaipAddress?Ye.getPlainAddress(se.state.activeCaipAddress):void 0}});return De.updateIdentityCache({address:t,identity:r,timestamp:Date.now()}),r},async fetchTransactions({account:t,cursor:e,signal:r,cache:n,chainId:i}){if(!await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId))return{data:[],next:void 0};const o=De.getTransactionsCacheForAddress({address:t,chainId:i});if(o)return o;const a=await pt.get({path:`/v1/account/${t}/history`,params:{cursor:e,chainId:i},signal:r,cache:n});return De.updateTransactionsCache({address:t,chainId:i,timestamp:Date.now(),transactions:a}),a},async fetchSwapQuote({amount:t,userAddress:e,from:r,to:n,gasPrice:i}){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:"/v1/convert/quotes",headers:{"Content-Type":"application/json"},params:{amount:t,userAddress:e,from:r,to:n,gasPrice:i}}):{quotes:[]}},async fetchSwapTokens({chainId:t}){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:"/v1/convert/tokens",params:{chainId:t}}):{tokens:[]}},async fetchTokenPrice({addresses:t}){if(!await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId))return{fungibles:[]};const r=De.getTokenPriceCacheForAddresses(t);if(r)return r;const n=await go.api.post({path:"/v1/fungible/price",body:{currency:"usd",addresses:t,projectId:Te.state.projectId},headers:{"Content-Type":"application/json"}});return De.updateTokenPriceCache({addresses:t,timestamp:Date.now(),tokenPrice:n}),n},async fetchSwapAllowance({tokenAddress:t,userAddress:e}){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:"/v1/convert/allowance",params:{tokenAddress:t,userAddress:e},headers:{"Content-Type":"application/json"}}):{allowance:"0"}},async fetchGasPrice({chainId:t}){const{st:e,sv:r}=pt.getSdkProperties();if(!await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Gas Price");return pt.get({path:"/v1/convert/gas-price",headers:{"Content-Type":"application/json"},params:{chainId:t,st:e,sv:r}})},async generateSwapCalldata({amount:t,from:e,to:r,userAddress:n,disableEstimate:i}){if(!await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return go.api.post({path:"/v1/convert/build-transaction",headers:{"Content-Type":"application/json"},body:{amount:t,eip155:{slippage:ar.CONVERT_SLIPPAGE_TOLERANCE},projectId:Te.state.projectId,from:e,to:r,userAddress:n,disableEstimate:i}})},async generateApproveCalldata({from:t,to:e,userAddress:r}){const{st:n,sv:i}=pt.getSdkProperties();if(!await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId))throw new Error("Network not supported for Swaps");return pt.get({path:"/v1/convert/build-approve",headers:{"Content-Type":"application/json"},params:{userAddress:r,from:t,to:e,st:n,sv:i}})},async getBalance(t,e,r){const{st:n,sv:i}=pt.getSdkProperties();if(!await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId))return mu.showError("Token Balance Unavailable"),{balances:[]};const o=`${e}:${t}`,a=De.getBalanceCacheForCaipAddress(o);if(a)return a;const c=await pt.get({path:`/v1/account/${t}/balance`,params:{currency:"usd",chainId:e,forceUpdate:r,st:n,sv:i}});return De.updateBalanceCache({caipAddress:o,balance:c,timestamp:Date.now()}),c},async lookupEnsName(t){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:`/v1/profile/account/${t}`,params:{apiVersion:"2"}}):{addresses:{},attributes:[]}},async reverseLookupEnsName({address:t}){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:`/v1/profile/reverse/${t}`,params:{sender:tt.state.address,apiVersion:"2"}}):[]},async getEnsNameSuggestions(t){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:`/v1/profile/suggestions/${t}`,params:{zone:"reown.id"}}):{suggestions:[]}},async registerEnsName({coinType:t,address:e,message:r,signature:n}){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?go.api.post({path:"/v1/profile/account",body:{coin_type:t,address:e,message:r,signature:n},headers:{"Content-Type":"application/json"}}):{success:!1}},async generateOnRampURL({destinationWallets:t,partnerUserId:e,defaultNetwork:r,purchaseAmount:n,paymentAmount:i}){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?(await go.api.post({path:"/v1/generators/onrampurl",params:{projectId:Te.state.projectId},body:{destinationWallets:t,defaultNetwork:r,partnerUserId:e,defaultExperience:"buy",presetCryptoAmount:n,presetFiatAmount:i}})).url:""},async getOnrampOptions(){if(!await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId))return{paymentCurrencies:[],purchaseCurrencies:[]};try{return await pt.get({path:"/v1/onramp/options"})}catch{return qoe}},async getOnrampQuote({purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}){try{return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?await go.api.post({path:"/v1/onramp/quote",params:{projectId:Te.state.projectId},body:{purchaseCurrency:t,paymentCurrency:e,amount:r,network:n}}):null}catch{return{networkFee:{amount:r,currency:e.id},paymentSubtotal:{amount:r,currency:e.id},paymentTotal:{amount:r,currency:e.id},purchaseAmount:{amount:r,currency:e.id},quoteId:"mocked-quote-id"}}},async getSmartSessions(t){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?pt.get({path:`/v1/sessions/${t}`}):[]},async revokeSmartSession(t,e,r){return await pt.isNetworkSupported(se.state.activeCaipNetwork?.caipNetworkId)?go.api.post({path:`/v1/sessions/${t}/revoke`,params:{projectId:Te.state.projectId},body:{pci:e,signature:r}}):{success:!1}},setClientId(t){go.clientId=t,go.api=new C1({baseUrl:Nj,clientId:t})}};function zoe(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function X4(t){return zoe(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const Sj="2.37.13";let _N={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${Sj}`},Ll=class BI extends Error{constructor(e,r={}){const n=r.cause instanceof BI?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof BI&&r.cause.docsPath||r.docsPath,s=_N.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],..._N.version?[`Version: ${_N.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=Sj}walk(e){return Tj(this,e)}};function Tj(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?Tj(t.cause,e):e?null:t}class Crt extends Ll{constructor({offset:e,position:r,size:n}){super(`Slice ${r==="start"?"starting":"ending"} at offset "${e}" is out-of-bounds (size: ${n}).`,{name:"SliceOffsetOutOfBoundsError"})}}let Ij=class extends Ll{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}};function AP(t,{dir:e,size:r=32}={}){return typeof t=="string"?Goe(t,{dir:e,size:r}):Koe(t,{dir:e,size:r})}function Goe(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new Ij({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function Koe(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new Ij({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}let Voe=class extends Ll{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}},Joe=class extends Ll{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}};function Rj(t,{size:e}){if(X4(t)>e)throw new Joe({givenSize:X4(t),maxSize:e})}const Yoe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Q4(t,e={}){return typeof t=="number"||typeof t=="bigint"?Qoe(t,e):typeof t=="string"?Oj(t,e):typeof t=="boolean"?Xoe(t,e):Pj(t,e)}function Xoe(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Rj(r,{size:e.size}),AP(r,{size:e.size})):r}function Pj(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=Yoe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Rj(n,{size:e.size}),AP(n,{dir:"right",size:e.size})):n}function Qoe(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new Voe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?AP(a,{size:n}):a}const Zoe=new TextEncoder;function Oj(t,e={}){const r=Zoe.encode(t);return Pj(r,e)}const zw=BigInt(2**32-1),Z4=BigInt(32);function eae(t,e=!1){return e?{h:Number(t&zw),l:Number(t>>Z4&zw)}:{h:Number(t>>Z4&zw)|0,l:Number(t&zw)|0}}function tae(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=eae(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const rae=(t,e,r)=>t<<r|e>>>32-r,nae=(t,e,r)=>e<<r|t>>>32-r,iae=(t,e,r)=>e<<r-32|t>>>64-r,sae=(t,e,r)=>t<<r-32|e>>>64-r,Up=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */function oae(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function aA(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function im(t,...e){if(!oae(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Irt(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");aA(t.outputLen),aA(t.blockLen)}function eD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function aae(t,e){im(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function cae(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function Dj(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function Rrt(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Prt(t,e){return t<<32-e|t>>>e}const lae=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function uae(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}function fae(t){for(let e=0;e<t.length;e++)t[e]=uae(t[e]);return t}const tD=lae?t=>t:fae,dae=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",hae=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function Ort(t){if(im(t),dae)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=hae[t[r]];return e}function pae(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function kj(t){return typeof t=="string"&&(t=pae(t)),im(t),t}function Drt(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];im(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}class gae{}function mae(t){const e=n=>t().update(kj(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function krt(t=32){if(Up&&typeof Up.getRandomValues=="function")return Up.getRandomValues(new Uint8Array(t));if(Up&&typeof Up.randomBytes=="function")return Uint8Array.from(Up.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const yae=BigInt(0),wy=BigInt(1),_ae=BigInt(2),bae=BigInt(7),wae=BigInt(256),vae=BigInt(113),Mj=[],Uj=[],Lj=[];for(let t=0,e=wy,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],Mj.push(2*(5*n+r)),Uj.push((t+1)*(t+2)/2%64);let i=yae;for(let s=0;s<7;s++)e=(e<<wy^(e>>bae)*vae)%wae,e&_ae&&(i^=wy<<(wy<<BigInt(s))-wy);Lj.push(i)}const $j=tae(Lj,!0),Eae=$j[0],Aae=$j[1],rD=(t,e,r)=>r>32?iae(t,e,r):rae(t,e,r),nD=(t,e,r)=>r>32?sae(t,e,r):nae(t,e,r);function xae(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=rD(l,u,1)^r[a],h=nD(l,u,1)^r[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=Uj[o],c=rD(i,s,a),l=nD(i,s,a),u=Mj[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=Eae[n],t[1]^=Aae[n]}Dj(r)}class xP extends gae{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,aA(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=cae(this.state)}clone(){return this._cloneInto()}keccak(){tD(this.state32),xae(this.state32,this.rounds),tD(this.state32),this.posOut=0,this.pos=0}update(e){eD(this),e=kj(e),im(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){eD(this,!1),im(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return aA(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(aae(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,Dj(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new xP(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}}const Cae=(t,e,r)=>mae(()=>new xP(e,t,r)),Nae=Cae(1,136,256/8);let Sae=class extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}};const T0=(t,e,r)=>JSON.stringify(t,(n,i)=>typeof i=="bigint"?i.toString():i,r);function Tae(t,e){let r=t.toString();const n=r.startsWith("-");n&&(r=r.slice(1)),r=r.padStart(e,"0");let[i,s]=[r.slice(0,r.length-e),r.slice(r.length-e)];return s=s.replace(/(0+)$/,""),`${n?"-":""}${i||"0"}${s?`.${s}`:""}`}const CP=t=>t;class y_ extends Ll{constructor({body:e,cause:r,details:n,headers:i,status:s,url:o}){super("HTTP request failed.",{cause:r,details:n,metaMessages:[s&&`Status: ${s}`,`URL: ${CP(o)}`,e&&`Request body: ${T0(e)}`].filter(Boolean),name:"HttpRequestError"}),Object.defineProperty(this,"body",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"headers",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"status",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"url",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.body=e,this.headers=i,this.status=s,this.url=o}}class Fj extends Ll{constructor({body:e,error:r,url:n}){super("RPC Request failed.",{cause:r,details:r.message,metaMessages:[`URL: ${CP(n)}`,`Request body: ${T0(e)}`],name:"RpcRequestError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.code=r.code,this.data=r.data}}class iD extends Ll{constructor({body:e,url:r}){super("The request took too long to respond.",{details:"The request timed out.",metaMessages:[`URL: ${CP(r)}`,`Request body: ${T0(e)}`],name:"TimeoutError"})}}const Iae=-1;class Wo extends Ll{constructor(e,{code:r,docsPath:n,metaMessages:i,name:s,shortMessage:o}){super(o,{cause:e,docsPath:n,metaMessages:i||e?.metaMessages,name:s||"RpcError"}),Object.defineProperty(this,"code",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.name=s||e.name,this.code=e instanceof Fj?e.code:r??Iae}}class _a extends Wo{constructor(e,r){super(e,r),Object.defineProperty(this,"data",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.data=r.data}}class tb extends Wo{constructor(e){super(e,{code:tb.code,name:"ParseRpcError",shortMessage:"Invalid JSON was received by the server. An error occurred on the server while parsing the JSON text."})}}Object.defineProperty(tb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32700});class rb extends Wo{constructor(e){super(e,{code:rb.code,name:"InvalidRequestRpcError",shortMessage:"JSON is not a valid request object."})}}Object.defineProperty(rb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32600});class nb extends Wo{constructor(e,{method:r}={}){super(e,{code:nb.code,name:"MethodNotFoundRpcError",shortMessage:`The method${r?` "${r}"`:""} does not exist / is not available.`})}}Object.defineProperty(nb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32601});class ib extends Wo{constructor(e){super(e,{code:ib.code,name:"InvalidParamsRpcError",shortMessage:["Invalid parameters were provided to the RPC method.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(ib,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32602});class sm extends Wo{constructor(e){super(e,{code:sm.code,name:"InternalRpcError",shortMessage:"An internal error was received."})}}Object.defineProperty(sm,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32603});class sb extends Wo{constructor(e){super(e,{code:sb.code,name:"InvalidInputRpcError",shortMessage:["Missing or invalid parameters.","Double check you have provided the correct parameters."].join(`
`)})}}Object.defineProperty(sb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32e3});class ob extends Wo{constructor(e){super(e,{code:ob.code,name:"ResourceNotFoundRpcError",shortMessage:"Requested resource not found."}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"ResourceNotFoundRpcError"})}}Object.defineProperty(ob,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32001});class ab extends Wo{constructor(e){super(e,{code:ab.code,name:"ResourceUnavailableRpcError",shortMessage:"Requested resource not available."})}}Object.defineProperty(ab,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32002});class om extends Wo{constructor(e){super(e,{code:om.code,name:"TransactionRejectedRpcError",shortMessage:"Transaction creation failed."})}}Object.defineProperty(om,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32003});class _0 extends Wo{constructor(e,{method:r}={}){super(e,{code:_0.code,name:"MethodNotSupportedRpcError",shortMessage:`Method${r?` "${r}"`:""} is not supported.`})}}Object.defineProperty(_0,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32004});class am extends Wo{constructor(e){super(e,{code:am.code,name:"LimitExceededRpcError",shortMessage:"Request exceeds defined limit."})}}Object.defineProperty(am,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32005});class cb extends Wo{constructor(e){super(e,{code:cb.code,name:"JsonRpcVersionUnsupportedError",shortMessage:"Version of JSON-RPC protocol is not supported."})}}Object.defineProperty(cb,"code",{enumerable:!0,configurable:!0,writable:!0,value:-32006});class I0 extends _a{constructor(e){super(e,{code:I0.code,name:"UserRejectedRequestError",shortMessage:"User rejected the request."})}}Object.defineProperty(I0,"code",{enumerable:!0,configurable:!0,writable:!0,value:4001});class lb extends _a{constructor(e){super(e,{code:lb.code,name:"UnauthorizedProviderError",shortMessage:"The requested method and/or account has not been authorized by the user."})}}Object.defineProperty(lb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4100});class ub extends _a{constructor(e,{method:r}={}){super(e,{code:ub.code,name:"UnsupportedProviderMethodError",shortMessage:`The Provider does not support the requested method${r?` " ${r}"`:""}.`})}}Object.defineProperty(ub,"code",{enumerable:!0,configurable:!0,writable:!0,value:4200});class fb extends _a{constructor(e){super(e,{code:fb.code,name:"ProviderDisconnectedError",shortMessage:"The Provider is disconnected from all chains."})}}Object.defineProperty(fb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4900});class db extends _a{constructor(e){super(e,{code:db.code,name:"ChainDisconnectedError",shortMessage:"The Provider is not connected to the requested chain."})}}Object.defineProperty(db,"code",{enumerable:!0,configurable:!0,writable:!0,value:4901});class hb extends _a{constructor(e){super(e,{code:hb.code,name:"SwitchChainError",shortMessage:"An error occurred when attempting to switch chain."})}}Object.defineProperty(hb,"code",{enumerable:!0,configurable:!0,writable:!0,value:4902});class pb extends _a{constructor(e){super(e,{code:pb.code,name:"UnsupportedNonOptionalCapabilityError",shortMessage:"This Wallet does not support a capability that was not marked as optional."})}}Object.defineProperty(pb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5700});class gb extends _a{constructor(e){super(e,{code:gb.code,name:"UnsupportedChainIdError",shortMessage:"This Wallet does not support the requested chain ID."})}}Object.defineProperty(gb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5710});class mb extends _a{constructor(e){super(e,{code:mb.code,name:"DuplicateIdError",shortMessage:"There is already a bundle submitted with this ID."})}}Object.defineProperty(mb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5720});class yb extends _a{constructor(e){super(e,{code:yb.code,name:"UnknownBundleIdError",shortMessage:"This bundle id is unknown / has not been submitted"})}}Object.defineProperty(yb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5730});class _b extends _a{constructor(e){super(e,{code:_b.code,name:"BundleTooLargeError",shortMessage:"The call bundle is too large for the Wallet to process."})}}Object.defineProperty(_b,"code",{enumerable:!0,configurable:!0,writable:!0,value:5740});class bb extends _a{constructor(e){super(e,{code:bb.code,name:"AtomicReadyWalletRejectedUpgradeError",shortMessage:"The Wallet can support atomicity after an upgrade, but the user rejected the upgrade."})}}Object.defineProperty(bb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5750});class wb extends _a{constructor(e){super(e,{code:wb.code,name:"AtomicityNotSupportedError",shortMessage:"The wallet does not support atomic execution but the request requires it."})}}Object.defineProperty(wb,"code",{enumerable:!0,configurable:!0,writable:!0,value:5760});class Rae extends Wo{constructor(e){super(e,{name:"UnknownRpcError",shortMessage:"An unknown RPC error occurred."})}}const Pae="modulepreload",Oae=function(t,e){return new URL(t,e).href},sD={},Wi=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let l=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};const o=document.getElementsByTagName("link"),a=document.querySelector("meta[property=csp-nonce]"),c=a?.nonce||a?.getAttribute("nonce");i=l(r.map(u=>{if(u=Oae(u,n),u in sD)return;sD[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(n)for(let _=o.length-1;_>=0;_--){const m=o[_];if(m.href===u&&(!f||m.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${u}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Pae,f||(g.as="script"),g.crossOrigin="",g.href=u,c&&g.setAttribute("nonce",c),document.head.appendChild(g),f)return new Promise((_,m)=>{g.addEventListener("load",_),g.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return e().catch(s)})};class NP extends Ll{constructor({cause:e,message:r}={}){const n=r?.replace("execution reverted: ","")?.replace("execution reverted","");super(`Execution reverted ${n?`with reason: ${n}`:"for an unknown reason"}.`,{cause:e,name:"ExecutionRevertedError"})}}Object.defineProperty(NP,"code",{enumerable:!0,configurable:!0,writable:!0,value:3});Object.defineProperty(NP,"nodeMessage",{enumerable:!0,configurable:!0,writable:!0,value:/execution reverted/});function Dae(){let t=()=>{},e=()=>{};return{promise:new Promise((n,i)=>{t=n,e=i}),resolve:t,reject:e}}const bN=new Map;function kae({fn:t,id:e,shouldSplitBatch:r,wait:n=0,sort:i}){const s=async()=>{const u=c();o();const f=u.map(({args:h})=>h);f.length!==0&&t(f).then(h=>{i&&Array.isArray(h)&&h.sort(i);for(let g=0;g<u.length;g++){const{resolve:_}=u[g];_?.([h[g],h])}}).catch(h=>{for(let g=0;g<u.length;g++){const{reject:_}=u[g];_?.(h)}})},o=()=>bN.delete(e),a=()=>c().map(({args:u})=>u),c=()=>bN.get(e)||[],l=u=>bN.set(e,[...c(),u]);return{flush:o,async schedule(u){const{promise:f,resolve:h,reject:g}=Dae();return r?.([...a(),u])&&s(),c().length>0?(l({args:u,resolve:h,reject:g}),f):(l({args:u,resolve:h,reject:g}),setTimeout(s,n),f)}}}async function Bj(t){return new Promise(e=>setTimeout(e,t))}function Mae(t,{delay:e=100,retryCount:r=2,shouldRetry:n=()=>!0}={}){return new Promise((i,s)=>{const o=async({count:a=0}={})=>{const c=async({error:l})=>{const u=typeof e=="function"?e({count:a,error:l}):e;u&&await Bj(u),o({count:a+1})};try{const l=await t();i(l)}catch(l){if(a<r&&await n({count:a,error:l}))return c({error:l});s(l)}};o()})}const HI=256;let Gw=HI,Kw;function Uae(t=11){if(!Kw||Gw+t>HI*2){Kw="",Gw=0;for(let e=0;e<HI;e++)Kw+=(256+Math.random()*256|0).toString(16).substring(1)}return Kw.substring(Gw,Gw+++t)}const Vw=new Sae(8192);function Lae(t,{enabled:e=!0,id:r}){if(!e||!r)return t();if(Vw.get(r))return Vw.get(r);const n=t().finally(()=>Vw.delete(r));return Vw.set(r,n),n}function $ae(t,e={}){return async(r,n={})=>{const{dedupe:i=!1,methods:s,retryDelay:o=150,retryCount:a=3,uid:c}={...e,...n},{method:l}=r;if(s?.exclude?.includes(l))throw new _0(new Error("method not supported"),{method:l});if(s?.include&&!s.include.includes(l))throw new _0(new Error("method not supported"),{method:l});const u=i?Oj(`${c}.${T0(r)}`):void 0;return Lae(()=>Mae(async()=>{try{return await t(r)}catch(f){const h=f;switch(h.code){case tb.code:throw new tb(h);case rb.code:throw new rb(h);case nb.code:throw new nb(h,{method:r.method});case ib.code:throw new ib(h);case sm.code:throw new sm(h);case sb.code:throw new sb(h);case ob.code:throw new ob(h);case ab.code:throw new ab(h);case om.code:throw new om(h);case _0.code:throw new _0(h,{method:r.method});case am.code:throw new am(h);case cb.code:throw new cb(h);case I0.code:throw new I0(h);case lb.code:throw new lb(h);case ub.code:throw new ub(h);case fb.code:throw new fb(h);case db.code:throw new db(h);case hb.code:throw new hb(h);case pb.code:throw new pb(h);case gb.code:throw new gb(h);case mb.code:throw new mb(h);case yb.code:throw new yb(h);case _b.code:throw new _b(h);case bb.code:throw new bb(h);case wb.code:throw new wb(h);case 5e3:throw new I0(h);default:throw f instanceof Ll?f:new Rae(h)}}},{delay:({count:f,error:h})=>{if(h&&h instanceof y_){const g=h?.headers?.get("Retry-After");if(g?.match(/\d/))return Number.parseInt(g,10)*1e3}return~~(1<<f)*o},retryCount:a,shouldRetry:({error:f})=>Fae(f)}),{enabled:i,id:u})}}function Fae(t){return"code"in t&&typeof t.code=="number"?t.code===-1||t.code===am.code||t.code===sm.code:t instanceof y_&&t.status?t.status===403||t.status===408||t.status===413||t.status===429||t.status===500||t.status===502||t.status===503||t.status===504:!0}function Bae(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}function Hae(t,{errorInstance:e=new Error("timed out"),timeout:r,signal:n}){return new Promise((i,s)=>{(async()=>{let o;try{const a=new AbortController;r>0&&(o=setTimeout(()=>{n&&a.abort()},r)),i(await t({signal:a?.signal||null}))}catch(a){a?.name==="AbortError"&&s(e),s(a)}finally{clearTimeout(o)}})()})}function jae(){return{current:0,take(){return this.current++},reset(){this.current=0}}}const oD=jae();function Wae(t,e={}){return{async request(r){const{body:n,fetchFn:i=e.fetchFn??fetch,onRequest:s=e.onRequest,onResponse:o=e.onResponse,timeout:a=e.timeout??1e4}=r,c={...e.fetchOptions??{},...r.fetchOptions??{}},{headers:l,method:u,signal:f}=c;try{const h=await Hae(async({signal:_})=>{const m={...c,body:Array.isArray(n)?T0(n.map(R=>({jsonrpc:"2.0",id:R.id??oD.take(),...R}))):T0({jsonrpc:"2.0",id:n.id??oD.take(),...n}),headers:{"Content-Type":"application/json",...l},method:u||"POST",signal:f||(a>0?_:null)},b=new Request(t,m),A=await s?.(b,m)??{...m,url:t};return await i(A.url??t,A)},{errorInstance:new iD({body:n,url:t}),timeout:a,signal:!0});o&&await o(h);let g;if(h.headers.get("Content-Type")?.startsWith("application/json"))g=await h.json();else{g=await h.text();try{g=JSON.parse(g||"{}")}catch(_){if(h.ok)throw _;g={error:g}}}if(!h.ok)throw new y_({body:n,details:T0(g.error)||h.statusText,headers:h.headers,status:h.status,url:t});return g}catch(h){throw h instanceof y_||h instanceof iD?h:new y_({body:n,cause:h,url:t})}}}}function Hj({key:t,methods:e,name:r,request:n,retryCount:i=3,retryDelay:s=150,timeout:o,type:a},c){const l=Uae();return{config:{key:t,methods:e,name:r,request:n,retryCount:i,retryDelay:s,timeout:o,type:a},request:$ae(n,{methods:e,retryCount:i,retryDelay:s,uid:l}),value:c}}function aD(t,e={}){const{key:r="fallback",name:n="Fallback",rank:i=!1,shouldThrow:s=qae,retryCount:o,retryDelay:a}=e;return(({chain:c,pollingInterval:l=4e3,timeout:u,...f})=>{let h=t,g=()=>{};const _=Hj({key:r,name:n,async request({method:m,params:b}){let A;const N=async(R=0)=>{const k=h[R]({...f,chain:c,retryCount:0,timeout:u});try{const M=await k.request({method:m,params:b});return g({method:m,params:b,response:M,transport:k,status:"success"}),M}catch(M){if(g({error:M,method:m,params:b,transport:k,status:"error"}),s(M)||R===h.length-1||(A??=h.slice(R+1).some(D=>{const{include:H,exclude:S}=D({chain:c}).config.methods||{};return H?H.includes(m):S?!S.includes(m):!0}),!A))throw M;return N(R+1)}};return N()},retryCount:o,retryDelay:a,type:"fallback"},{onResponse:m=>g=m,transports:h.map(m=>m({chain:c,retryCount:0}))});if(i){const m=typeof i=="object"?i:{};zae({chain:c,interval:m.interval??l,onTransports:b=>h=b,ping:m.ping,sampleCount:m.sampleCount,timeout:m.timeout,transports:h,weights:m.weights})}return _})}function qae(t){return!!("code"in t&&typeof t.code=="number"&&(t.code===om.code||t.code===I0.code||NP.nodeMessage.test(t.message)||t.code===5e3))}function zae({chain:t,interval:e=4e3,onTransports:r,ping:n,sampleCount:i=10,timeout:s=1e3,transports:o,weights:a={}}){const{stability:c=.7,latency:l=.3}=a,u=[],f=async()=>{const h=await Promise.all(o.map(async m=>{const b=m({chain:t,retryCount:0,timeout:s}),A=Date.now();let N,R;try{await(n?n({transport:b}):b.request({method:"net_listening"})),R=1}catch{R=0}finally{N=Date.now()}return{latency:N-A,success:R}}));u.push(h),u.length>i&&u.shift();const g=Math.max(...u.map(m=>Math.max(...m.map(({latency:b})=>b)))),_=o.map((m,b)=>{const A=u.map(D=>D[b].latency),R=1-A.reduce((D,H)=>D+H,0)/A.length/g,k=u.map(D=>D[b].success),M=k.reduce((D,H)=>D+H,0)/k.length;return M===0?[0,b]:[l*R+c*M,b]}).sort((m,b)=>b[0]-m[0]);r(_.map(([,m])=>o[m])),await Bj(e),f()};f()}class Gae extends Ll{constructor(){super("No URL was provided to the Transport. Please provide a valid RPC URL to the Transport.",{docsPath:"/docs/clients/intro",name:"UrlRequiredError"})}}function Jw(t,e={}){const{batch:r,fetchFn:n,fetchOptions:i,key:s="http",methods:o,name:a="HTTP JSON-RPC",onFetchRequest:c,onFetchResponse:l,retryDelay:u,raw:f}=e;return({chain:h,retryCount:g,timeout:_})=>{const{batchSize:m=1e3,wait:b=0}=typeof r=="object"?r:{},A=e.retryCount??g,N=_??e.timeout??1e4,R=t||h?.rpcUrls.default.http[0];if(!R)throw new Gae;const k=Wae(R,{fetchFn:n,fetchOptions:i,onRequest:c,onResponse:l,timeout:N});return Hj({key:s,methods:o,name:a,async request({method:M,params:D}){const H={method:M,params:D},{schedule:S}=kae({id:R,wait:b,shouldSplitBatch(O){return O.length>m},fn:O=>k.request({body:O}),sort:(O,T)=>O.id-T.id}),C=async O=>r?S(O):[await k.request({body:O})],[{error:$,result:B}]=await C(H);if(f)return{error:$,result:B};if($)throw new Fj({body:H,error:$,url:R});return B},retryCount:A,retryDelay:u,timeout:N,type:"http"},{fetchOptions:i,url:R})}}const wN={createBalance(t,e){const r={name:t.metadata.name||"",symbol:t.metadata.symbol||"",decimals:t.metadata.decimals||0,value:t.metadata.value||0,price:t.metadata.price||0,iconUrl:t.metadata.iconUrl||""};return{name:r.name,symbol:r.symbol,chainId:e,address:t.address==="native"?void 0:this.convertAddressToCAIP10Address(t.address,e),value:r.value,price:r.price,quantity:{decimals:r.decimals.toString(),numeric:this.convertHexToBalance({hex:t.balance,decimals:r.decimals})},iconUrl:r.iconUrl}},convertHexToBalance({hex:t,decimals:e}){return Tae(BigInt(t),e)},convertAddressToCAIP10Address(t,e){return`${e}:${t}`},createCAIP2ChainId(t,e){return`${e}:${parseInt(t,16)}`},getChainIdHexFromCAIP2ChainId(t){const e=t.split(":");if(e.length<2||!e[1])return"0x0";const r=e[1],n=parseInt(r,10);return isNaN(n)?"0x0":`0x${n.toString(16)}`},isWalletGetAssetsResponse(t){return typeof t!="object"||t===null?!1:Object.values(t).every(e=>Array.isArray(e)&&e.every(r=>this.isValidAsset(r)))},isValidAsset(t){return typeof t=="object"&&t!==null&&typeof t.address=="string"&&typeof t.balance=="string"&&(t.type==="ERC20"||t.type==="NATIVE")&&typeof t.metadata=="object"&&t.metadata!==null&&typeof t.metadata.name=="string"&&typeof t.metadata.symbol=="string"&&typeof t.metadata.decimals=="number"&&typeof t.metadata.price=="number"&&typeof t.metadata.iconUrl=="string"}},SP={async getMyTokensWithBalance(t){const e=tt.state.address,r=se.state.activeCaipNetwork,n=Be.getConnectorId("eip155")===we.CONNECTOR_ID.AUTH;if(!e||!r)return[];const i=`${r.caipNetworkId}:${e}`,s=De.getBalanceCacheForCaipAddress(i);if(s)return s.balances;if(r.chainNamespace===we.CHAIN.EVM&&n){const a=await this.getEIP155Balances(e,r);if(a)return this.filterLowQualityTokens(a)}const o=await pt.getBalance(e,r.caipNetworkId,t);return this.filterLowQualityTokens(o.balances)},async getEIP155Balances(t,e){try{const r=wN.getChainIdHexFromCAIP2ChainId(e.caipNetworkId);if(!(await We.getCapabilities(t))?.[r]?.assetDiscovery?.supported)return null;const i=await We.walletGetAssets({account:t,chainFilter:[r]});if(!wN.isWalletGetAssetsResponse(i))return null;const o=(i[r]||[]).map(a=>wN.createBalance(a,e.caipNetworkId));return De.updateBalanceCache({caipAddress:`${e.caipNetworkId}:${t}`,balance:{balances:o},timestamp:Date.now()}),o}catch{return null}},filterLowQualityTokens(t){return t.filter(e=>e.quantity.decimals!=="0")}},Jl=_n({currentTab:0,tokenBalance:[],smartAccountDeployed:!1,addressLabels:new Map}),Kae={state:Jl,replaceState(t){t&&Object.assign(Jl,$0(t))},subscribe(t){return se.subscribeChainProp("accountState",e=>{if(e)return t(e)})},subscribeKey(t,e,r){let n;return se.subscribeChainProp("accountState",i=>{if(i){const s=i[t];n!==s&&(n=s,e(s))}},r)},setStatus(t,e){se.setAccountProp("status",t,e)},getCaipAddress(t){if(t)return se.state.chains.get(t)?.accountState?.caipAddress},setCaipAddress(t,e){const r=t?Ye.getPlainAddress(t):void 0;e===se.state.activeChain&&(se.state.activeCaipAddress=t),se.setAccountProp("caipAddress",t,e),se.setAccountProp("address",r,e)},setBalance(t,e,r){se.setAccountProp("balance",t,r),se.setAccountProp("balanceSymbol",e,r)},setProfileName(t,e){se.setAccountProp("profileName",t,e)},setProfileImage(t,e){se.setAccountProp("profileImage",t,e)},setUser(t,e){se.setAccountProp("user",t,e)},setAddressExplorerUrl(t,e){se.setAccountProp("addressExplorerUrl",t,e)},setSmartAccountDeployed(t,e){se.setAccountProp("smartAccountDeployed",t,e)},setCurrentTab(t){se.setAccountProp("currentTab",t,se.state.activeChain)},setTokenBalance(t,e){t&&se.setAccountProp("tokenBalance",t,e)},setShouldUpdateToAddress(t,e){se.setAccountProp("shouldUpdateToAddress",t,e)},addAddressLabel(t,e,r){if(!r)return;const n=se.state.chains.get(r)?.accountState?.addressLabels||new Map;n.set(t,e),se.setAccountProp("addressLabels",n,r)},removeAddressLabel(t,e){if(!e)return;const r=se.state.chains.get(e)?.accountState?.addressLabels||new Map;r.delete(t),se.setAccountProp("addressLabels",r,e)},setConnectedWalletInfo(t,e){se.setAccountProp("connectedWalletInfo",t,e,!1)},setPreferredAccountType(t,e){se.setAccountProp("preferredAccountType",t,e)},setSocialProvider(t,e){t&&se.setAccountProp("socialProvider",t,e)},setSocialWindow(t,e){se.setAccountProp("socialWindow",t?$0(t):void 0,e)},setFarcasterUrl(t,e){se.setAccountProp("farcasterUrl",t,e)},async fetchTokenBalance(t){Jl.balanceLoading=!0;const e=se.state.activeCaipNetwork?.caipNetworkId,r=se.state.activeCaipNetwork?.chainNamespace,n=se.state.activeCaipAddress,i=n?Ye.getPlainAddress(n):void 0;if(Jl.lastRetry&&!Ye.isAllowedRetry(Jl.lastRetry,30*ar.ONE_SEC_MS))return Jl.balanceLoading=!1,[];try{if(i&&e&&r){const s=await SP.getMyTokensWithBalance();return tt.setTokenBalance(s,r),Jl.lastRetry=void 0,Jl.balanceLoading=!1,s}}catch(s){Jl.lastRetry=Date.now(),t?.(s),mu.showError("Token Balance Unavailable")}finally{Jl.balanceLoading=!1}return[]},resetAccount(t){se.resetAccount(t)}},tt=ya(Kae),Vae={onSwitchNetwork({network:t,ignoreSwitchConfirmation:e=!1}){const r=se.state.activeCaipNetwork,n=yt.state.data;if(t.id===r?.id)return;const s=tt.getCaipAddress(se.state.activeChain),o=t.chainNamespace!==se.state.activeChain,a=tt.getCaipAddress(t.chainNamespace),l=Be.getConnectorId(se.state.activeChain)===we.CONNECTOR_ID.AUTH,u=we.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(f=>f===t.chainNamespace);e||l&&u?yt.push("SwitchNetwork",{...n,network:t}):s&&o&&!a?yt.push("SwitchActiveChain",{switchToChain:t.chainNamespace,navigateTo:"Connect",navigateWithReplace:!0,network:t}):yt.push("SwitchNetwork",{...n,network:t})}},mo=_n({loading:!1,loadingNamespaceMap:new Map,open:!1,shake:!1,namespace:void 0}),Jae={state:mo,subscribe(t){return ds(mo,()=>t(mo))},subscribeKey(t,e){return js(mo,t,e)},async open(t){const e=t?.namespace,r=se.state.activeChain,n=e&&e!==r,i=se.getAccountData(t?.namespace)?.caipAddress,s=se.state.noAdapters;if(We.state.wcBasic?ut.prefetch({fetchNetworkImages:!1,fetchConnectorImages:!1}):await ut.prefetch(),Be.setFilterByNamespace(t?.namespace),nr.setLoading(!0,e),e&&n){const o=se.getNetworkData(e)?.caipNetwork||se.getRequestedCaipNetworks(e)[0];o&&(s?(await se.switchActiveNetwork(o),yt.push("ConnectingWalletConnectBasic")):Vae.onSwitchNetwork({network:o,ignoreSwitchConfirmation:!0}))}else Te.state.manualWCControl||s&&!i?Ye.isMobile()?yt.reset("AllWallets"):yt.reset("ConnectingWalletConnectBasic"):t?.view?yt.reset(t.view,t.data):i?yt.reset("Account"):yt.reset("Connect");mo.open=!0,_l.set({open:!0}),fr.sendEvent({type:"track",event:"MODAL_OPEN",properties:{connected:!!i}})},close(){const t=Te.state.enableEmbedded,e=!!se.state.activeCaipAddress;mo.open&&fr.sendEvent({type:"track",event:"MODAL_CLOSE",properties:{connected:e}}),mo.open=!1,yt.reset("Connect"),nr.clearLoading(),t?e?yt.replace("Account"):yt.push("Connect"):_l.set({open:!1}),We.resetUri()},setLoading(t,e){e&&mo.loadingNamespaceMap.set(e,t),mo.loading=t,_l.set({loading:t})},clearLoading(){mo.loadingNamespaceMap.clear(),mo.loading=!1,_l.set({loading:!1})},shake(){mo.shake||(mo.shake=!0,setTimeout(()=>{mo.shake=!1},500))}},nr=ya(Jae),__={id:"2b92315d-eab7-5bef-84fa-089a131333f5",name:"USD Coin",symbol:"USDC",networks:[{name:"ethereum-mainnet",display_name:"Ethereum",chain_id:"1",contract_address:"0xA0b86991c6218b36c1d19D4a2e9Eb0cE3606eB48"},{name:"polygon-mainnet",display_name:"Polygon",chain_id:"137",contract_address:"0x2791Bca1f2de4661ED88A30C99A7a9449Aa84174"}]},jI={id:"USD",payment_method_limits:[{id:"card",min:"10.00",max:"7500.00"},{id:"ach_bank_account",min:"10.00",max:"25000.00"}]},Yae={providers:Ej,selectedProvider:null,error:null,purchaseCurrency:__,paymentCurrency:jI,purchaseCurrencies:[__],paymentCurrencies:[],quotesLoading:!1},lr=_n(Yae),Xae={state:lr,subscribe(t){return ds(lr,()=>t(lr))},subscribeKey(t,e){return js(lr,t,e)},setSelectedProvider(t){if(t&&t.name==="meld"){const e=se.state.activeChain,r=e===we.CHAIN.SOLANA?"SOL":"USDC",n=e?se.state.chains.get(e)?.accountState?.address??"":"",i=new URL(t.url);i.searchParams.append("publicKey",hoe),i.searchParams.append("destinationCurrencyCode",r),i.searchParams.append("walletAddress",n),i.searchParams.append("externalCustomerId",Te.state.projectId),lr.selectedProvider={...t,url:i.toString()}}else lr.selectedProvider=t},setOnrampProviders(t){if(Array.isArray(t)&&t.every(e=>typeof e=="string")){const e=t,r=Ej.filter(n=>e.includes(n.name));lr.providers=r}else lr.providers=[]},setPurchaseCurrency(t){lr.purchaseCurrency=t},setPaymentCurrency(t){lr.paymentCurrency=t},setPurchaseAmount(t){WI.state.purchaseAmount=t},setPaymentAmount(t){WI.state.paymentAmount=t},async getAvailableCurrencies(){const t=await pt.getOnrampOptions();lr.purchaseCurrencies=t.purchaseCurrencies,lr.paymentCurrencies=t.paymentCurrencies,lr.paymentCurrency=t.paymentCurrencies[0]||jI,lr.purchaseCurrency=t.purchaseCurrencies[0]||__,await ut.fetchCurrencyImages(t.paymentCurrencies.map(e=>e.id)),await ut.fetchTokenImages(t.purchaseCurrencies.map(e=>e.symbol))},async getQuote(){lr.quotesLoading=!0;try{const t=await pt.getOnrampQuote({purchaseCurrency:lr.purchaseCurrency,paymentCurrency:lr.paymentCurrency,amount:lr.paymentAmount?.toString()||"0",network:lr.purchaseCurrency?.symbol});return lr.quotesLoading=!1,lr.purchaseAmount=Number(t?.purchaseAmount.amount),t}catch(t){return lr.error=t.message,lr.quotesLoading=!1,null}finally{lr.quotesLoading=!1}},resetState(){lr.selectedProvider=null,lr.error=null,lr.purchaseCurrency=__,lr.paymentCurrency=jI,lr.purchaseCurrencies=[__],lr.paymentCurrencies=[],lr.paymentAmount=void 0,lr.purchaseAmount=void 0,lr.quotesLoading=!1}},WI=ya(Xae),cD=2147483648,Qae={convertEVMChainIdToCoinType(t){if(t>=cD)throw new Error("Invalid chainId");return(cD|t)>>>0}},Da=_n({suggestions:[],loading:!1}),Zae={state:Da,subscribe(t){return ds(Da,()=>t(Da))},subscribeKey(t,e){return js(Da,t,e)},async resolveName(t){try{return await pt.lookupEnsName(t)}catch(e){const r=e;throw new Error(r?.reasons?.[0]?.description||"Error resolving name")}},async isNameRegistered(t){try{return await pt.lookupEnsName(t),!0}catch{return!1}},async getSuggestions(t){try{Da.loading=!0,Da.suggestions=[];const e=await pt.getEnsNameSuggestions(t);return Da.suggestions=e.suggestions||[],Da.suggestions}catch(e){const r=b_.parseEnsApiError(e,"Error fetching name suggestions");throw new Error(r)}finally{Da.loading=!1}},async getNamesForAddress(t){try{if(!se.state.activeCaipNetwork)return[];const r=De.getEnsFromCacheForAddress(t);if(r)return r;const n=await pt.reverseLookupEnsName({address:t});return De.updateEnsCache({address:t,ens:n,timestamp:Date.now()}),n}catch(e){const r=b_.parseEnsApiError(e,"Error fetching names for address");throw new Error(r)}},async registerName(t){const e=se.state.activeCaipNetwork,r=tt.state.address,n=Be.getAuthConnector();if(!e)throw new Error("Network not found");if(!r||!n)throw new Error("Address or auth connector not found");Da.loading=!0;try{const i=JSON.stringify({name:t,attributes:{},timestamp:Math.floor(Date.now()/1e3)});yt.pushTransactionStack({onCancel(){yt.replace("RegisterAccountName")}});const s=await We.signMessage(i);Da.loading=!1;const o=e.id;if(!o)throw new Error("Network not found");const a=Qae.convertEVMChainIdToCoinType(Number(o));await pt.registerEnsName({coinType:a,address:r,signature:s,message:i}),tt.setProfileName(t,e.chainNamespace),De.updateEnsCache({address:r,ens:[{name:t,registered_at:new Date().toISOString(),updated_at:void 0,addresses:{},attributes:[]}],timestamp:Date.now()}),yt.replace("RegisterAccountNameSuccess")}catch(i){const s=b_.parseEnsApiError(i,`Error registering name ${t}`);throw yt.replace("RegisterAccountName"),new Error(s)}finally{Da.loading=!1}},validateName(t){return/^[a-zA-Z0-9-]{4,}$/u.test(t)},parseEnsApiError(t,e){return t?.reasons?.[0]?.description||e}},b_=ya(Zae);var Yw={exports:{}},lD;function ece(){if(lD)return Yw.exports;lD=1;var t=typeof Reflect=="object"?Reflect:null,e=t&&typeof t.apply=="function"?t.apply:function(M,D,H){return Function.prototype.apply.call(M,D,H)},r;t&&typeof t.ownKeys=="function"?r=t.ownKeys:Object.getOwnPropertySymbols?r=function(M){return Object.getOwnPropertyNames(M).concat(Object.getOwnPropertySymbols(M))}:r=function(M){return Object.getOwnPropertyNames(M)};function n(k){console&&console.warn&&console.warn(k)}var i=Number.isNaN||function(M){return M!==M};function s(){s.init.call(this)}Yw.exports=s,Yw.exports.once=A,s.EventEmitter=s,s.prototype._events=void 0,s.prototype._eventsCount=0,s.prototype._maxListeners=void 0;var o=10;function a(k){if(typeof k!="function")throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof k)}Object.defineProperty(s,"defaultMaxListeners",{enumerable:!0,get:function(){return o},set:function(k){if(typeof k!="number"||k<0||i(k))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+k+".");o=k}}),s.init=function(){(this._events===void 0||this._events===Object.getPrototypeOf(this)._events)&&(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},s.prototype.setMaxListeners=function(M){if(typeof M!="number"||M<0||i(M))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+M+".");return this._maxListeners=M,this};function c(k){return k._maxListeners===void 0?s.defaultMaxListeners:k._maxListeners}s.prototype.getMaxListeners=function(){return c(this)},s.prototype.emit=function(M){for(var D=[],H=1;H<arguments.length;H++)D.push(arguments[H]);var S=M==="error",C=this._events;if(C!==void 0)S=S&&C.error===void 0;else if(!S)return!1;if(S){var $;if(D.length>0&&($=D[0]),$ instanceof Error)throw $;var B=new Error("Unhandled error."+($?" ("+$.message+")":""));throw B.context=$,B}var O=C[M];if(O===void 0)return!1;if(typeof O=="function")e(O,this,D);else for(var T=O.length,y=_(O,T),H=0;H<T;++H)e(y[H],this,D);return!0};function l(k,M,D,H){var S,C,$;if(a(D),C=k._events,C===void 0?(C=k._events=Object.create(null),k._eventsCount=0):(C.newListener!==void 0&&(k.emit("newListener",M,D.listener?D.listener:D),C=k._events),$=C[M]),$===void 0)$=C[M]=D,++k._eventsCount;else if(typeof $=="function"?$=C[M]=H?[D,$]:[$,D]:H?$.unshift(D):$.push(D),S=c(k),S>0&&$.length>S&&!$.warned){$.warned=!0;var B=new Error("Possible EventEmitter memory leak detected. "+$.length+" "+String(M)+" listeners added. Use emitter.setMaxListeners() to increase limit");B.name="MaxListenersExceededWarning",B.emitter=k,B.type=M,B.count=$.length,n(B)}return k}s.prototype.addListener=function(M,D){return l(this,M,D,!1)},s.prototype.on=s.prototype.addListener,s.prototype.prependListener=function(M,D){return l(this,M,D,!0)};function u(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,arguments.length===0?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function f(k,M,D){var H={fired:!1,wrapFn:void 0,target:k,type:M,listener:D},S=u.bind(H);return S.listener=D,H.wrapFn=S,S}s.prototype.once=function(M,D){return a(D),this.on(M,f(this,M,D)),this},s.prototype.prependOnceListener=function(M,D){return a(D),this.prependListener(M,f(this,M,D)),this},s.prototype.removeListener=function(M,D){var H,S,C,$,B;if(a(D),S=this._events,S===void 0)return this;if(H=S[M],H===void 0)return this;if(H===D||H.listener===D)--this._eventsCount===0?this._events=Object.create(null):(delete S[M],S.removeListener&&this.emit("removeListener",M,H.listener||D));else if(typeof H!="function"){for(C=-1,$=H.length-1;$>=0;$--)if(H[$]===D||H[$].listener===D){B=H[$].listener,C=$;break}if(C<0)return this;C===0?H.shift():m(H,C),H.length===1&&(S[M]=H[0]),S.removeListener!==void 0&&this.emit("removeListener",M,B||D)}return this},s.prototype.off=s.prototype.removeListener,s.prototype.removeAllListeners=function(M){var D,H,S;if(H=this._events,H===void 0)return this;if(H.removeListener===void 0)return arguments.length===0?(this._events=Object.create(null),this._eventsCount=0):H[M]!==void 0&&(--this._eventsCount===0?this._events=Object.create(null):delete H[M]),this;if(arguments.length===0){var C=Object.keys(H),$;for(S=0;S<C.length;++S)$=C[S],$!=="removeListener"&&this.removeAllListeners($);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(D=H[M],typeof D=="function")this.removeListener(M,D);else if(D!==void 0)for(S=D.length-1;S>=0;S--)this.removeListener(M,D[S]);return this};function h(k,M,D){var H=k._events;if(H===void 0)return[];var S=H[M];return S===void 0?[]:typeof S=="function"?D?[S.listener||S]:[S]:D?b(S):_(S,S.length)}s.prototype.listeners=function(M){return h(this,M,!0)},s.prototype.rawListeners=function(M){return h(this,M,!1)},s.listenerCount=function(k,M){return typeof k.listenerCount=="function"?k.listenerCount(M):g.call(k,M)},s.prototype.listenerCount=g;function g(k){var M=this._events;if(M!==void 0){var D=M[k];if(typeof D=="function")return 1;if(D!==void 0)return D.length}return 0}s.prototype.eventNames=function(){return this._eventsCount>0?r(this._events):[]};function _(k,M){for(var D=new Array(M),H=0;H<M;++H)D[H]=k[H];return D}function m(k,M){for(;M+1<k.length;M++)k[M]=k[M+1];k.pop()}function b(k){for(var M=new Array(k.length),D=0;D<M.length;++D)M[D]=k[D].listener||k[D];return M}function A(k,M){return new Promise(function(D,H){function S($){k.removeListener(M,C),H($)}function C(){typeof k.removeListener=="function"&&k.removeListener("error",S),D([].slice.call(arguments))}R(k,M,C,{once:!0}),M!=="error"&&N(k,S,{once:!0})})}function N(k,M,D){typeof k.on=="function"&&R(k,"error",M,D)}function R(k,M,D,H){if(typeof k.on=="function")H.once?k.once(M,D):k.on(M,D);else if(typeof k.addEventListener=="function")k.addEventListener(M,function S(C){H.once&&k.removeEventListener(M,S),D(C)});else throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof k)}return Yw.exports}var gc=ece();const TP=Ws(gc);var vN={};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var qI=function(t,e){return qI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)n.hasOwnProperty(i)&&(r[i]=n[i])},qI(t,e)};function tce(t,e){qI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var zI=function(){return zI=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},zI.apply(this,arguments)};function rce(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function nce(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,o;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var a=t.length-1;a>=0;a--)(o=t[a])&&(s=(i<3?o(s):i>3?o(e,r,s):o(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function ice(t,e){return function(r,n){e(r,n,t)}}function sce(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function oce(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})}function ace(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,o;return o={next:a(0),throw:a(1),return:a(2)},typeof Symbol=="function"&&(o[Symbol.iterator]=function(){return this}),o;function a(l){return function(u){return c([l,u])}}function c(l){if(n)throw new TypeError("Generator is already executing.");for(;r;)try{if(n=1,i&&(s=l[0]&2?i.return:l[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,l[1])).done)return s;switch(i=0,s&&(l=[l[0]&2,s.value]),l[0]){case 0:case 1:s=l;break;case 4:return r.label++,{value:l[1],done:!1};case 5:r.label++,i=l[1],l=[0];continue;case 7:l=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(l[0]===6||l[0]===2)){r=0;continue}if(l[0]===3&&(!s||l[1]>s[0]&&l[1]<s[3])){r.label=l[1];break}if(l[0]===6&&r.label<s[1]){r.label=s[1],s=l;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(l);break}s[2]&&r.ops.pop(),r.trys.pop();continue}l=e.call(t,r)}catch(u){l=[6,u],i=0}finally{n=s=0}if(l[0]&5)throw l[1];return{value:l[0]?l[1]:void 0,done:!0}}}function cce(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]}function lce(t,e){for(var r in t)r!=="default"&&!e.hasOwnProperty(r)&&(e[r]=t[r])}function GI(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function jj(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],o;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(o)throw o.error}}return s}function uce(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(jj(arguments[e]));return t}function fce(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],o=0,a=s.length;o<a;o++,i++)n[i]=s[o];return n}function vb(t){return this instanceof vb?(this.v=t,this):new vb(t)}function dce(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i={},o("next"),o("throw"),o("return"),i[Symbol.asyncIterator]=function(){return this},i;function o(h){n[h]&&(i[h]=function(g){return new Promise(function(_,m){s.push([h,g,_,m])>1||a(h,g)})})}function a(h,g){try{c(n[h](g))}catch(_){f(s[0][3],_)}}function c(h){h.value instanceof vb?Promise.resolve(h.value.v).then(l,u):f(s[0][2],h)}function l(h){a("next",h)}function u(h){a("throw",h)}function f(h,g){h(g),s.shift(),s.length&&a(s[0][0],s[0][1])}}function hce(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(o){return(r=!r)?{value:vb(t[i](o)),done:i==="return"}:s?s(o):o}:s}}function pce(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof GI=="function"?GI(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(o){return new Promise(function(a,c){o=t[s](o),i(a,c,o.done,o.value)})}}function i(s,o,a,c){Promise.resolve(c).then(function(l){s({value:l,done:a})},o)}}function gce(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function mce(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r in t)Object.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e.default=t,e}function yce(t){return t&&t.__esModule?t:{default:t}}function _ce(t,e){if(!e.has(t))throw new TypeError("attempted to get private field on non-instance");return e.get(t)}function bce(t,e,r){if(!e.has(t))throw new TypeError("attempted to set private field on non-instance");return e.set(t,r),r}const wce=Object.freeze(Object.defineProperty({__proto__:null,get __assign(){return zI},__asyncDelegator:hce,__asyncGenerator:dce,__asyncValues:pce,__await:vb,__awaiter:oce,__classPrivateFieldGet:_ce,__classPrivateFieldSet:bce,__createBinding:cce,__decorate:nce,__exportStar:lce,__extends:tce,__generator:ace,__importDefault:yce,__importStar:mce,__makeTemplateObject:gce,__metadata:sce,__param:ice,__read:jj,__rest:rce,__spread:uce,__spreadArrays:fce,__values:GI},Symbol.toStringTag,{value:"Module"})),N1=Hn(wce);var EN={},vy={},uD;function vce(){if(uD)return vy;uD=1,Object.defineProperty(vy,"__esModule",{value:!0}),vy.delay=void 0;function t(e){return new Promise(r=>{setTimeout(()=>{r(!0)},e)})}return vy.delay=t,vy}var Vh={},AN={},Jh={},fD;function Ece(){return fD||(fD=1,Object.defineProperty(Jh,"__esModule",{value:!0}),Jh.ONE_THOUSAND=Jh.ONE_HUNDRED=void 0,Jh.ONE_HUNDRED=100,Jh.ONE_THOUSAND=1e3),Jh}var xN={},dD;function Ace(){return dD||(dD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),t.ONE_YEAR=t.FOUR_WEEKS=t.THREE_WEEKS=t.TWO_WEEKS=t.ONE_WEEK=t.THIRTY_DAYS=t.SEVEN_DAYS=t.FIVE_DAYS=t.THREE_DAYS=t.ONE_DAY=t.TWENTY_FOUR_HOURS=t.TWELVE_HOURS=t.SIX_HOURS=t.THREE_HOURS=t.ONE_HOUR=t.SIXTY_MINUTES=t.THIRTY_MINUTES=t.TEN_MINUTES=t.FIVE_MINUTES=t.ONE_MINUTE=t.SIXTY_SECONDS=t.THIRTY_SECONDS=t.TEN_SECONDS=t.FIVE_SECONDS=t.ONE_SECOND=void 0,t.ONE_SECOND=1,t.FIVE_SECONDS=5,t.TEN_SECONDS=10,t.THIRTY_SECONDS=30,t.SIXTY_SECONDS=60,t.ONE_MINUTE=t.SIXTY_SECONDS,t.FIVE_MINUTES=t.ONE_MINUTE*5,t.TEN_MINUTES=t.ONE_MINUTE*10,t.THIRTY_MINUTES=t.ONE_MINUTE*30,t.SIXTY_MINUTES=t.ONE_MINUTE*60,t.ONE_HOUR=t.SIXTY_MINUTES,t.THREE_HOURS=t.ONE_HOUR*3,t.SIX_HOURS=t.ONE_HOUR*6,t.TWELVE_HOURS=t.ONE_HOUR*12,t.TWENTY_FOUR_HOURS=t.ONE_HOUR*24,t.ONE_DAY=t.TWENTY_FOUR_HOURS,t.THREE_DAYS=t.ONE_DAY*3,t.FIVE_DAYS=t.ONE_DAY*5,t.SEVEN_DAYS=t.ONE_DAY*7,t.THIRTY_DAYS=t.ONE_DAY*30,t.ONE_WEEK=t.SEVEN_DAYS,t.TWO_WEEKS=t.ONE_WEEK*2,t.THREE_WEEKS=t.ONE_WEEK*3,t.FOUR_WEEKS=t.ONE_WEEK*4,t.ONE_YEAR=t.ONE_DAY*365})(xN)),xN}var hD;function Wj(){return hD||(hD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=N1;e.__exportStar(Ece(),t),e.__exportStar(Ace(),t)})(AN)),AN}var pD;function xce(){if(pD)return Vh;pD=1,Object.defineProperty(Vh,"__esModule",{value:!0}),Vh.fromMiliseconds=Vh.toMiliseconds=void 0;const t=Wj();function e(n){return n*t.ONE_THOUSAND}Vh.toMiliseconds=e;function r(n){return Math.floor(n/t.ONE_THOUSAND)}return Vh.fromMiliseconds=r,Vh}var gD;function Cce(){return gD||(gD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=N1;e.__exportStar(vce(),t),e.__exportStar(xce(),t)})(EN)),EN}var Lp={},mD;function Nce(){if(mD)return Lp;mD=1,Object.defineProperty(Lp,"__esModule",{value:!0}),Lp.Watch=void 0;class t{constructor(){this.timestamps=new Map}start(r){if(this.timestamps.has(r))throw new Error(`Watch already started for label: ${r}`);this.timestamps.set(r,{started:Date.now()})}stop(r){const n=this.get(r);if(typeof n.elapsed<"u")throw new Error(`Watch already stopped for label: ${r}`);const i=Date.now()-n.started;this.timestamps.set(r,{started:n.started,elapsed:i})}get(r){const n=this.timestamps.get(r);if(typeof n>"u")throw new Error(`No timestamp found for label: ${r}`);return n}elapsed(r){const n=this.get(r);return n.elapsed||Date.now()-n.started}}return Lp.Watch=t,Lp.default=t,Lp}var CN={},Ey={},yD;function Sce(){if(yD)return Ey;yD=1,Object.defineProperty(Ey,"__esModule",{value:!0}),Ey.IWatch=void 0;class t{}return Ey.IWatch=t,Ey}var _D;function Tce(){return _D||(_D=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0}),N1.__exportStar(Sce(),t)})(CN)),CN}var bD;function Ice(){return bD||(bD=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=N1;e.__exportStar(Cce(),t),e.__exportStar(Nce(),t),e.__exportStar(Tce(),t),e.__exportStar(Wj(),t)})(vN)),vN}var je=Ice();class ip{}let Rce=class extends ip{constructor(e){super()}};const wD=je.FIVE_SECONDS,sp={pulse:"heartbeat_pulse"};let Pce=class qj extends Rce{constructor(e){super(e),this.events=new gc.EventEmitter,this.interval=wD,this.interval=e?.interval||wD}static async init(e){const r=new qj(e);return await r.init(),r}async init(){await this.initialize()}stop(){clearInterval(this.intervalRef)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async initialize(){this.intervalRef=setInterval(()=>this.pulse(),je.toMiliseconds(this.interval))}pulse(){this.events.emit(sp.pulse)}};const Oce=/"(?:_|\\u0{2}5[Ff]){2}(?:p|\\u0{2}70)(?:r|\\u0{2}72)(?:o|\\u0{2}6[Ff])(?:t|\\u0{2}74)(?:o|\\u0{2}6[Ff])(?:_|\\u0{2}5[Ff]){2}"\s*:/,Dce=/"(?:c|\\u0063)(?:o|\\u006[Ff])(?:n|\\u006[Ee])(?:s|\\u0073)(?:t|\\u0074)(?:r|\\u0072)(?:u|\\u0075)(?:c|\\u0063)(?:t|\\u0074)(?:o|\\u006[Ff])(?:r|\\u0072)"\s*:/,kce=/^\s*["[{]|^\s*-?\d{1,16}(\.\d{1,17})?([Ee][+-]?\d+)?\s*$/;function Mce(t,e){if(t==="__proto__"||t==="constructor"&&e&&typeof e=="object"&&"prototype"in e){Uce(t);return}return e}function Uce(t){console.warn(`[destr] Dropping "${t}" key to prevent prototype pollution.`)}function Xw(t,e={}){if(typeof t!="string")return t;if(t[0]==='"'&&t[t.length-1]==='"'&&t.indexOf("\\")===-1)return t.slice(1,-1);const r=t.trim();if(r.length<=9)switch(r.toLowerCase()){case"true":return!0;case"false":return!1;case"undefined":return;case"null":return null;case"nan":return Number.NaN;case"infinity":return Number.POSITIVE_INFINITY;case"-infinity":return Number.NEGATIVE_INFINITY}if(!kce.test(t)){if(e.strict)throw new SyntaxError("[destr] Invalid JSON");return t}try{if(Oce.test(t)||Dce.test(t)){if(e.strict)throw new Error("[destr] Possible prototype pollution");return JSON.parse(t,Mce)}return JSON.parse(t)}catch(n){if(e.strict)throw n;return t}}function Lce(t){return!t||typeof t.then!="function"?Promise.resolve(t):t}function ji(t,...e){try{return Lce(t(...e))}catch(r){return Promise.reject(r)}}function $ce(t){const e=typeof t;return t===null||e!=="object"&&e!=="function"}function Fce(t){const e=Object.getPrototypeOf(t);return!e||e.isPrototypeOf(Object)}function jv(t){if($ce(t))return String(t);if(Fce(t)||Array.isArray(t))return JSON.stringify(t);if(typeof t.toJSON=="function")return jv(t.toJSON());throw new Error("[unstorage] Cannot stringify value!")}const KI="base64:";function Bce(t){return typeof t=="string"?t:KI+Wce(t)}function Hce(t){return typeof t!="string"||!t.startsWith(KI)?t:jce(t.slice(KI.length))}function jce(t){return globalThis.Buffer?Buffer.from(t,"base64"):Uint8Array.from(globalThis.atob(t),e=>e.codePointAt(0))}function Wce(t){return globalThis.Buffer?Buffer.from(t).toString("base64"):globalThis.btoa(String.fromCodePoint(...t))}function So(t){return t&&t.split("?")[0]?.replace(/[/\\]/g,":").replace(/:+/g,":").replace(/^:|:$/g,"")||""}function qce(...t){return So(t.join(":"))}function Qw(t){return t=So(t),t?t+":":""}function zce(t,e){if(e===void 0)return!0;let r=0,n=t.indexOf(":");for(;n>-1;)r++,n=t.indexOf(":",n+1);return r<=e}function Gce(t,e){return e?t.startsWith(e)&&t[t.length-1]!=="$":t[t.length-1]!=="$"}const Kce="memory",Vce=()=>{const t=new Map;return{name:Kce,getInstance:()=>t,hasItem(e){return t.has(e)},getItem(e){return t.get(e)??null},getItemRaw(e){return t.get(e)??null},setItem(e,r){t.set(e,r)},setItemRaw(e,r){t.set(e,r)},removeItem(e){t.delete(e)},getKeys(){return[...t.keys()]},clear(){t.clear()},dispose(){t.clear()}}};function Jce(t={}){const e={mounts:{"":t.driver||Vce()},mountpoints:[""],watching:!1,watchListeners:[],unwatch:{}},r=l=>{for(const u of e.mountpoints)if(l.startsWith(u))return{base:u,relativeKey:l.slice(u.length),driver:e.mounts[u]};return{base:"",relativeKey:l,driver:e.mounts[""]}},n=(l,u)=>e.mountpoints.filter(f=>f.startsWith(l)||u&&l.startsWith(f)).map(f=>({relativeBase:l.length>f.length?l.slice(f.length):void 0,mountpoint:f,driver:e.mounts[f]})),i=(l,u)=>{if(e.watching){u=So(u);for(const f of e.watchListeners)f(l,u)}},s=async()=>{if(!e.watching){e.watching=!0;for(const l in e.mounts)e.unwatch[l]=await vD(e.mounts[l],i,l)}},o=async()=>{if(e.watching){for(const l in e.unwatch)await e.unwatch[l]();e.unwatch={},e.watching=!1}},a=(l,u,f)=>{const h=new Map,g=_=>{let m=h.get(_.base);return m||(m={driver:_.driver,base:_.base,items:[]},h.set(_.base,m)),m};for(const _ of l){const m=typeof _=="string",b=So(m?_:_.key),A=m?void 0:_.value,N=m||!_.options?u:{...u,..._.options},R=r(b);g(R).items.push({key:b,value:A,relativeKey:R.relativeKey,options:N})}return Promise.all([...h.values()].map(_=>f(_))).then(_=>_.flat())},c={hasItem(l,u={}){l=So(l);const{relativeKey:f,driver:h}=r(l);return ji(h.hasItem,f,u)},getItem(l,u={}){l=So(l);const{relativeKey:f,driver:h}=r(l);return ji(h.getItem,f,u).then(g=>Xw(g))},getItems(l,u={}){return a(l,u,f=>f.driver.getItems?ji(f.driver.getItems,f.items.map(h=>({key:h.relativeKey,options:h.options})),u).then(h=>h.map(g=>({key:qce(f.base,g.key),value:Xw(g.value)}))):Promise.all(f.items.map(h=>ji(f.driver.getItem,h.relativeKey,h.options).then(g=>({key:h.key,value:Xw(g)})))))},getItemRaw(l,u={}){l=So(l);const{relativeKey:f,driver:h}=r(l);return h.getItemRaw?ji(h.getItemRaw,f,u):ji(h.getItem,f,u).then(g=>Hce(g))},async setItem(l,u,f={}){if(u===void 0)return c.removeItem(l);l=So(l);const{relativeKey:h,driver:g}=r(l);g.setItem&&(await ji(g.setItem,h,jv(u),f),g.watch||i("update",l))},async setItems(l,u){await a(l,u,async f=>{if(f.driver.setItems)return ji(f.driver.setItems,f.items.map(h=>({key:h.relativeKey,value:jv(h.value),options:h.options})),u);f.driver.setItem&&await Promise.all(f.items.map(h=>ji(f.driver.setItem,h.relativeKey,jv(h.value),h.options)))})},async setItemRaw(l,u,f={}){if(u===void 0)return c.removeItem(l,f);l=So(l);const{relativeKey:h,driver:g}=r(l);if(g.setItemRaw)await ji(g.setItemRaw,h,u,f);else if(g.setItem)await ji(g.setItem,h,Bce(u),f);else return;g.watch||i("update",l)},async removeItem(l,u={}){typeof u=="boolean"&&(u={removeMeta:u}),l=So(l);const{relativeKey:f,driver:h}=r(l);h.removeItem&&(await ji(h.removeItem,f,u),(u.removeMeta||u.removeMata)&&await ji(h.removeItem,f+"$",u),h.watch||i("remove",l))},async getMeta(l,u={}){typeof u=="boolean"&&(u={nativeOnly:u}),l=So(l);const{relativeKey:f,driver:h}=r(l),g=Object.create(null);if(h.getMeta&&Object.assign(g,await ji(h.getMeta,f,u)),!u.nativeOnly){const _=await ji(h.getItem,f+"$",u).then(m=>Xw(m));_&&typeof _=="object"&&(typeof _.atime=="string"&&(_.atime=new Date(_.atime)),typeof _.mtime=="string"&&(_.mtime=new Date(_.mtime)),Object.assign(g,_))}return g},setMeta(l,u,f={}){return this.setItem(l+"$",u,f)},removeMeta(l,u={}){return this.removeItem(l+"$",u)},async getKeys(l,u={}){l=Qw(l);const f=n(l,!0);let h=[];const g=[];let _=!0;for(const b of f){b.driver.flags?.maxDepth||(_=!1);const A=await ji(b.driver.getKeys,b.relativeBase,u);for(const N of A){const R=b.mountpoint+So(N);h.some(k=>R.startsWith(k))||g.push(R)}h=[b.mountpoint,...h.filter(N=>!N.startsWith(b.mountpoint))]}const m=u.maxDepth!==void 0&&!_;return g.filter(b=>(!m||zce(b,u.maxDepth))&&Gce(b,l))},async clear(l,u={}){l=Qw(l),await Promise.all(n(l,!1).map(async f=>{if(f.driver.clear)return ji(f.driver.clear,f.relativeBase,u);if(f.driver.removeItem){const h=await f.driver.getKeys(f.relativeBase||"",u);return Promise.all(h.map(g=>f.driver.removeItem(g,u)))}}))},async dispose(){await Promise.all(Object.values(e.mounts).map(l=>ED(l)))},async watch(l){return await s(),e.watchListeners.push(l),async()=>{e.watchListeners=e.watchListeners.filter(u=>u!==l),e.watchListeners.length===0&&await o()}},async unwatch(){e.watchListeners=[],await o()},mount(l,u){if(l=Qw(l),l&&e.mounts[l])throw new Error(`already mounted at ${l}`);return l&&(e.mountpoints.push(l),e.mountpoints.sort((f,h)=>h.length-f.length)),e.mounts[l]=u,e.watching&&Promise.resolve(vD(u,i,l)).then(f=>{e.unwatch[l]=f}).catch(console.error),c},async unmount(l,u=!0){l=Qw(l),!(!l||!e.mounts[l])&&(e.watching&&l in e.unwatch&&(e.unwatch[l]?.(),delete e.unwatch[l]),u&&await ED(e.mounts[l]),e.mountpoints=e.mountpoints.filter(f=>f!==l),delete e.mounts[l])},getMount(l=""){l=So(l)+":";const u=r(l);return{driver:u.driver,base:u.base}},getMounts(l="",u={}){return l=So(l),n(l,u.parents).map(h=>({driver:h.driver,base:h.mountpoint}))},keys:(l,u={})=>c.getKeys(l,u),get:(l,u={})=>c.getItem(l,u),set:(l,u,f={})=>c.setItem(l,u,f),has:(l,u={})=>c.hasItem(l,u),del:(l,u={})=>c.removeItem(l,u),remove:(l,u={})=>c.removeItem(l,u)};return c}function vD(t,e,r){return t.watch?t.watch((n,i)=>e(n,r+i)):()=>{}}async function ED(t){typeof t.dispose=="function"&&await ji(t.dispose)}function op(t){return new Promise((e,r)=>{t.oncomplete=t.onsuccess=()=>e(t.result),t.onabort=t.onerror=()=>r(t.error)})}function zj(t,e){let r;const n=()=>{if(r)return r;const i=indexedDB.open(t);return i.onupgradeneeded=()=>i.result.createObjectStore(e),r=op(i),r.then(s=>{s.onclose=()=>r=void 0},()=>{}),r};return(i,s)=>n().then(o=>s(o.transaction(e,i).objectStore(e)))}let NN;function S1(){return NN||(NN=zj("keyval-store","keyval")),NN}function AD(t,e=S1()){return e("readonly",r=>op(r.get(t)))}function Yce(t,e,r=S1()){return r("readwrite",n=>(n.put(e,t),op(n.transaction)))}function Xce(t,e=S1()){return e("readwrite",r=>(r.delete(t),op(r.transaction)))}function Qce(t=S1()){return t("readwrite",e=>(e.clear(),op(e.transaction)))}function Zce(t,e){return t.openCursor().onsuccess=function(){this.result&&(e(this.result),this.result.continue())},op(t.transaction)}function ele(t=S1()){return t("readonly",e=>{if(e.getAllKeys)return op(e.getAllKeys());const r=[];return Zce(e,n=>r.push(n.key)).then(()=>r)})}const tle=t=>JSON.stringify(t,(e,r)=>typeof r=="bigint"?r.toString()+"n":r),rle=t=>{const e=/([\[:])?(\d{17,}|(?:[9](?:[1-9]07199254740991|0[1-9]7199254740991|00[8-9]199254740991|007[2-9]99254740991|007199[3-9]54740991|0071992[6-9]4740991|00719925[5-9]740991|007199254[8-9]40991|0071992547[5-9]0991|00719925474[1-9]991|00719925474099[2-9])))([,\}\]])/g,r=t.replace(e,'$1"$2n"$3');return JSON.parse(r,(n,i)=>typeof i=="string"&&i.match(/^\d+n$/)?BigInt(i.substring(0,i.length-1)):i)};function B0(t){if(typeof t!="string")throw new Error(`Cannot safe json parse value of type ${typeof t}`);try{return rle(t)}catch{return t}}function Kf(t){return typeof t=="string"?t:tle(t)||""}const nle="idb-keyval";var ile=(t={})=>{const e=t.base&&t.base.length>0?`${t.base}:`:"",r=i=>e+i;let n;return t.dbName&&t.storeName&&(n=zj(t.dbName,t.storeName)),{name:nle,options:t,async hasItem(i){return!(typeof await AD(r(i),n)>"u")},async getItem(i){return await AD(r(i),n)??null},setItem(i,s){return Yce(r(i),s,n)},removeItem(i){return Xce(r(i),n)},getKeys(){return ele(n)},clear(){return Qce(n)}}};const sle="WALLET_CONNECT_V2_INDEXED_DB",ole="keyvaluestorage";let ale=class{constructor(){this.indexedDb=Jce({driver:ile({dbName:sle,storeName:ole})})}async getKeys(){return this.indexedDb.getKeys()}async getEntries(){return(await this.indexedDb.getItems(await this.indexedDb.getKeys())).map(e=>[e.key,e.value])}async getItem(e){const r=await this.indexedDb.getItem(e);if(r!==null)return r}async setItem(e,r){await this.indexedDb.setItem(e,Kf(r))}async removeItem(e){await this.indexedDb.removeItem(e)}};var SN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wv={exports:{}};(function(){let t;function e(){}t=e,t.prototype.getItem=function(r){return this.hasOwnProperty(r)?String(this[r]):null},t.prototype.setItem=function(r,n){this[r]=String(n)},t.prototype.removeItem=function(r){delete this[r]},t.prototype.clear=function(){const r=this;Object.keys(r).forEach(function(n){r[n]=void 0,delete r[n]})},t.prototype.key=function(r){return r=r||0,Object.keys(this)[r]},t.prototype.__defineGetter__("length",function(){return Object.keys(this).length}),typeof SN<"u"&&SN.localStorage?Wv.exports=SN.localStorage:typeof window<"u"&&window.localStorage?Wv.exports=window.localStorage:Wv.exports=new e})();function cle(t){var e;return[t[0],B0((e=t[1])!=null?e:"")]}let lle=class{constructor(){this.localStorage=Wv.exports}async getKeys(){return Object.keys(this.localStorage)}async getEntries(){return Object.entries(this.localStorage).map(cle)}async getItem(e){const r=this.localStorage.getItem(e);if(r!==null)return B0(r)}async setItem(e,r){this.localStorage.setItem(e,Kf(r))}async removeItem(e){this.localStorage.removeItem(e)}};const ule="wc_storage_version",xD=1,fle=async(t,e,r)=>{const n=ule,i=await e.getItem(n);if(i&&i>=xD){r(e);return}const s=await t.getKeys();if(!s.length){r(e);return}const o=[];for(;s.length;){const a=s.shift();if(!a)continue;const c=a.toLowerCase();if(c.includes("wc@")||c.includes("walletconnect")||c.includes("wc_")||c.includes("wallet_connect")){const l=await t.getItem(a);await e.setItem(a,l),o.push(a)}}await e.setItem(n,xD),r(e),dle(t,o)},dle=async(t,e)=>{e.length&&e.forEach(async r=>{await t.removeItem(r)})};let hle=class{constructor(){this.initialized=!1,this.setInitialized=r=>{this.storage=r,this.initialized=!0};const e=new lle;this.storage=e;try{const r=new ale;fle(e,r,this.setInitialized)}catch{this.initialized=!0}}async getKeys(){return await this.initialize(),this.storage.getKeys()}async getEntries(){return await this.initialize(),this.storage.getEntries()}async getItem(e){return await this.initialize(),this.storage.getItem(e)}async setItem(e,r){return await this.initialize(),this.storage.setItem(e,r)}async removeItem(e){return await this.initialize(),this.storage.removeItem(e)}async initialize(){this.initialized||await new Promise(e=>{const r=setInterval(()=>{this.initialized&&(clearInterval(r),e())},20)})}};var TN,CD;function ple(){if(CD)return TN;CD=1;function t(r){try{return JSON.stringify(r)}catch{return'"[Circular]"'}}TN=e;function e(r,n,i){var s=i&&i.stringify||t,o=1;if(typeof r=="object"&&r!==null){var a=n.length+o;if(a===1)return r;var c=new Array(a);c[0]=s(r);for(var l=1;l<a;l++)c[l]=s(n[l]);return c.join(" ")}if(typeof r!="string")return r;var u=n.length;if(u===0)return r;for(var f="",h=1-o,g=-1,_=r&&r.length||0,m=0;m<_;){if(r.charCodeAt(m)===37&&m+1<_){switch(g=g>-1?g:0,r.charCodeAt(m+1)){case 100:case 102:if(h>=u||n[h]==null)break;g<m&&(f+=r.slice(g,m)),f+=Number(n[h]),g=m+2,m++;break;case 105:if(h>=u||n[h]==null)break;g<m&&(f+=r.slice(g,m)),f+=Math.floor(Number(n[h])),g=m+2,m++;break;case 79:case 111:case 106:if(h>=u||n[h]===void 0)break;g<m&&(f+=r.slice(g,m));var b=typeof n[h];if(b==="string"){f+="'"+n[h]+"'",g=m+2,m++;break}if(b==="function"){f+=n[h].name||"<anonymous>",g=m+2,m++;break}f+=s(n[h]),g=m+2,m++;break;case 115:if(h>=u)break;g<m&&(f+=r.slice(g,m)),f+=String(n[h]),g=m+2,m++;break;case 37:g<m&&(f+=r.slice(g,m)),f+="%",g=m+2,m++,h--;break}++h}++m}return g===-1?r:(g<_&&(f+=r.slice(g)),f)}return TN}var IN,ND;function gle(){if(ND)return IN;ND=1;const t=ple();IN=i;const e=M().console||{},r={mapHttpRequest:_,mapHttpResponse:_,wrapRequestSerializer:m,wrapResponseSerializer:m,wrapErrorSerializer:m,req:_,res:_,err:h};function n(D,H){return Array.isArray(D)?D.filter(function(C){return C!=="!stdSerializers.err"}):D===!0?Object.keys(H):!1}function i(D){D=D||{},D.browser=D.browser||{};const H=D.browser.transmit;if(H&&typeof H.send!="function")throw Error("pino: transmit option must have a send function");const S=D.browser.write||e;D.browser.write&&(D.browser.asObject=!0);const C=D.serializers||{},$=n(D.browser.serialize,C);let B=D.browser.serialize;Array.isArray(D.browser.serialize)&&D.browser.serialize.indexOf("!stdSerializers.err")>-1&&(B=!1);const O=["error","fatal","warn","info","debug","trace"];typeof S=="function"&&(S.error=S.fatal=S.warn=S.info=S.debug=S.trace=S),D.enabled===!1&&(D.level="silent");const T=D.level||"info",y=Object.create(S);y.log||(y.log=b),Object.defineProperty(y,"levelVal",{get:E}),Object.defineProperty(y,"level",{get:I,set:U});const w={transmit:H,serialize:$,asObject:D.browser.asObject,levels:O,timestamp:g(D)};y.levels=i.levels,y.level=T,y.setMaxListeners=y.getMaxListeners=y.emit=y.addListener=y.on=y.prependListener=y.once=y.prependOnceListener=y.removeListener=y.removeAllListeners=y.listeners=y.listenerCount=y.eventNames=y.write=y.flush=b,y.serializers=C,y._serialize=$,y._stdErrSerialize=B,y.child=j,H&&(y._logEvent=f());function E(){return this.level==="silent"?1/0:this.levels.values[this.level]}function I(){return this._level}function U(z){if(z!=="silent"&&!this.levels.values[z])throw Error("unknown level "+z);this._level=z,s(w,y,"error","log"),s(w,y,"fatal","error"),s(w,y,"warn","error"),s(w,y,"info","log"),s(w,y,"debug","log"),s(w,y,"trace","log")}function j(z,L){if(!z)throw new Error("missing bindings for child Pino");L=L||{},$&&z.serializers&&(L.serializers=z.serializers);const x=L.serializers;if($&&x){var W=Object.assign({},C,x),K=D.browser.serialize===!0?Object.keys(W):$;delete z.serializers,c([z],K,W,this._stdErrSerialize)}function P(X){this._childLevel=(X._childLevel|0)+1,this.error=l(X,z,"error"),this.fatal=l(X,z,"fatal"),this.warn=l(X,z,"warn"),this.info=l(X,z,"info"),this.debug=l(X,z,"debug"),this.trace=l(X,z,"trace"),W&&(this.serializers=W,this._serialize=K),H&&(this._logEvent=f([].concat(X._logEvent.bindings,z)))}return P.prototype=this,new P(this)}return y}i.levels={values:{fatal:60,error:50,warn:40,info:30,debug:20,trace:10},labels:{10:"trace",20:"debug",30:"info",40:"warn",50:"error",60:"fatal"}},i.stdSerializers=r,i.stdTimeFunctions=Object.assign({},{nullTime:A,epochTime:N,unixTime:R,isoTime:k});function s(D,H,S,C){const $=Object.getPrototypeOf(H);H[S]=H.levelVal>H.levels.values[S]?b:$[S]?$[S]:e[S]||e[C]||b,o(D,H,S)}function o(D,H,S){!D.transmit&&H[S]===b||(H[S]=(function(C){return function(){const B=D.timestamp(),O=new Array(arguments.length),T=Object.getPrototypeOf&&Object.getPrototypeOf(this)===e?e:this;for(var y=0;y<O.length;y++)O[y]=arguments[y];if(D.serialize&&!D.asObject&&c(O,this._serialize,this.serializers,this._stdErrSerialize),D.asObject?C.call(T,a(this,S,O,B)):C.apply(T,O),D.transmit){const w=D.transmit.level||H.level,E=i.levels.values[w],I=i.levels.values[S];if(I<E)return;u(this,{ts:B,methodLevel:S,methodValue:I,transmitValue:i.levels.values[D.transmit.level||H.level],send:D.transmit.send,val:H.levelVal},O)}}})(H[S]))}function a(D,H,S,C){D._serialize&&c(S,D._serialize,D.serializers,D._stdErrSerialize);const $=S.slice();let B=$[0];const O={};C&&(O.time=C),O.level=i.levels.values[H];let T=(D._childLevel|0)+1;if(T<1&&(T=1),B!==null&&typeof B=="object"){for(;T--&&typeof $[0]=="object";)Object.assign(O,$.shift());B=$.length?t($.shift(),$):void 0}else typeof B=="string"&&(B=t($.shift(),$));return B!==void 0&&(O.msg=B),O}function c(D,H,S,C){for(const $ in D)if(C&&D[$]instanceof Error)D[$]=i.stdSerializers.err(D[$]);else if(typeof D[$]=="object"&&!Array.isArray(D[$]))for(const B in D[$])H&&H.indexOf(B)>-1&&B in S&&(D[$][B]=S[B](D[$][B]))}function l(D,H,S){return function(){const C=new Array(1+arguments.length);C[0]=H;for(var $=1;$<C.length;$++)C[$]=arguments[$-1];return D[S].apply(this,C)}}function u(D,H,S){const C=H.send,$=H.ts,B=H.methodLevel,O=H.methodValue,T=H.val,y=D._logEvent.bindings;c(S,D._serialize||Object.keys(D.serializers),D.serializers,D._stdErrSerialize===void 0?!0:D._stdErrSerialize),D._logEvent.ts=$,D._logEvent.messages=S.filter(function(w){return y.indexOf(w)===-1}),D._logEvent.level.label=B,D._logEvent.level.value=O,C(B,D._logEvent,T),D._logEvent=f(y)}function f(D){return{ts:0,messages:[],bindings:D||[],level:{label:"",value:0}}}function h(D){const H={type:D.constructor.name,msg:D.message,stack:D.stack};for(const S in D)H[S]===void 0&&(H[S]=D[S]);return H}function g(D){return typeof D.timestamp=="function"?D.timestamp:D.timestamp===!1?A:N}function _(){return{}}function m(D){return D}function b(){}function A(){return!1}function N(){return Date.now()}function R(){return Math.round(Date.now()/1e3)}function k(){return new Date(Date.now()).toISOString()}function M(){function D(H){return typeof H<"u"&&H}try{return typeof globalThis<"u"||Object.defineProperty(Object.prototype,"globalThis",{get:function(){return delete Object.prototype.globalThis,this.globalThis=this},configurable:!0}),globalThis}catch{return D(self)||D(window)||D(this)||{}}}return IN}var hg=gle();const T1=Ws(hg),mle={level:"info"},I1="custom_context",IP=1e3*1024;let yle=class{constructor(e){this.nodeValue=e,this.sizeInBytes=new TextEncoder().encode(this.nodeValue).length,this.next=null}get value(){return this.nodeValue}get size(){return this.sizeInBytes}},SD=class{constructor(e){this.head=null,this.tail=null,this.lengthInNodes=0,this.maxSizeInBytes=e,this.sizeInBytes=0}append(e){const r=new yle(e);if(r.size>this.maxSizeInBytes)throw new Error(`[LinkedList] Value too big to insert into list: ${e} with size ${r.size}`);for(;this.size+r.size>this.maxSizeInBytes;)this.shift();this.head?(this.tail&&(this.tail.next=r),this.tail=r):(this.head=r,this.tail=r),this.lengthInNodes++,this.sizeInBytes+=r.size}shift(){if(!this.head)return;const e=this.head;this.head=this.head.next,this.head||(this.tail=null),this.lengthInNodes--,this.sizeInBytes-=e.size}toArray(){const e=[];let r=this.head;for(;r!==null;)e.push(r.value),r=r.next;return e}get length(){return this.lengthInNodes}get size(){return this.sizeInBytes}toOrderedArray(){return Array.from(this)}[Symbol.iterator](){let e=this.head;return{next:()=>{if(!e)return{done:!0,value:null};const r=e.value;return e=e.next,{done:!1,value:r}}}}},Gj=class{constructor(e,r=IP){this.level=e??"error",this.levelValue=hg.levels.values[this.level],this.MAX_LOG_SIZE_IN_BYTES=r,this.logs=new SD(this.MAX_LOG_SIZE_IN_BYTES)}forwardToConsole(e,r){r===hg.levels.values.error?console.error(e):r===hg.levels.values.warn?console.warn(e):r===hg.levels.values.debug?console.debug(e):r===hg.levels.values.trace?console.trace(e):console.log(e)}appendToLogs(e){this.logs.append(Kf({timestamp:new Date().toISOString(),log:e}));const r=typeof e=="string"?JSON.parse(e).level:e.level;r>=this.levelValue&&this.forwardToConsole(e,r)}getLogs(){return this.logs}clearLogs(){this.logs=new SD(this.MAX_LOG_SIZE_IN_BYTES)}getLogArray(){return Array.from(this.logs)}logsToBlob(e){const r=this.getLogArray();return r.push(Kf({extraMetadata:e})),new Blob(r,{type:"application/json"})}},_le=class{constructor(e,r=IP){this.baseChunkLogger=new Gj(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}downloadLogsBlobInBrowser(e){const r=URL.createObjectURL(this.logsToBlob(e)),n=document.createElement("a");n.href=r,n.download=`walletconnect-logs-${new Date().toISOString()}.txt`,document.body.appendChild(n),n.click(),document.body.removeChild(n),URL.revokeObjectURL(r)}},ble=class{constructor(e,r=IP){this.baseChunkLogger=new Gj(e,r)}write(e){this.baseChunkLogger.appendToLogs(e)}getLogs(){return this.baseChunkLogger.getLogs()}clearLogs(){this.baseChunkLogger.clearLogs()}getLogArray(){return this.baseChunkLogger.getLogArray()}logsToBlob(e){return this.baseChunkLogger.logsToBlob(e)}};var wle=Object.defineProperty,vle=Object.defineProperties,Ele=Object.getOwnPropertyDescriptors,TD=Object.getOwnPropertySymbols,Ale=Object.prototype.hasOwnProperty,xle=Object.prototype.propertyIsEnumerable,ID=(t,e,r)=>e in t?wle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,cA=(t,e)=>{for(var r in e||(e={}))Ale.call(e,r)&&ID(t,r,e[r]);if(TD)for(var r of TD(e))xle.call(e,r)&&ID(t,r,e[r]);return t},lA=(t,e)=>vle(t,Ele(e));function Em(t){return lA(cA({},t),{level:t?.level||mle.level})}function Cle(t,e=I1){return t[e]||""}function Nle(t,e,r=I1){return t[r]=e,t}function qo(t,e=I1){let r="";return typeof t.bindings>"u"?r=Cle(t,e):r=t.bindings().context||"",r}function Sle(t,e,r=I1){const n=qo(t,r);return n.trim()?`${n}/${e}`:e}function qs(t,e,r=I1){const n=Sle(t,e,r),i=t.child({context:n});return Nle(i,n,r)}function Tle(t){var e,r;const n=new _le((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:T1(lA(cA({},t.opts),{level:"trace",browser:lA(cA({},(r=t.opts)==null?void 0:r.browser),{write:i=>n.write(i)})})),chunkLoggerController:n}}function Ile(t){var e;const r=new ble((e=t.opts)==null?void 0:e.level,t.maxSizeInBytes);return{logger:T1(lA(cA({},t.opts),{level:"trace"}),r),chunkLoggerController:r}}function RP(t){return typeof t.loggerOverride<"u"&&typeof t.loggerOverride!="string"?{logger:t.loggerOverride,chunkLoggerController:null}:typeof window<"u"?Tle(t):Ile(t)}var Rle=Object.defineProperty,Ple=(t,e,r)=>e in t?Rle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,RD=(t,e,r)=>Ple(t,typeof e!="symbol"?e+"":e,r);let Ole=class extends ip{constructor(e){super(),this.opts=e,RD(this,"protocol","wc"),RD(this,"version",2)}};var Dle=Object.defineProperty,kle=(t,e,r)=>e in t?Dle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mle=(t,e,r)=>kle(t,e+"",r);let Ule=class extends ip{constructor(e,r){super(),this.core=e,this.logger=r,Mle(this,"records",new Map)}},Lle=class{constructor(e,r){this.logger=e,this.core=r}},$le=class extends ip{constructor(e,r){super(),this.relayer=e,this.logger=r}},Fle=class extends ip{constructor(e){super()}},Ble=class{constructor(e,r,n,i){this.core=e,this.logger=r,this.name=n}},Hle=class extends ip{constructor(e,r){super(),this.relayer=e,this.logger=r}},jle=class extends ip{constructor(e,r){super(),this.core=e,this.logger=r}},Wle=class{constructor(e,r,n){this.core=e,this.logger=r,this.store=n}},qle=class{constructor(e,r){this.projectId=e,this.logger=r}},zle=class{constructor(e,r,n){this.core=e,this.logger=r,this.telemetryEnabled=n}};var Gle=Object.defineProperty,Kle=(t,e,r)=>e in t?Gle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,PD=(t,e,r)=>Kle(t,typeof e!="symbol"?e+"":e,r);let Vle=class{constructor(e){this.opts=e,PD(this,"protocol","wc"),PD(this,"version",2)}},Jle=class{constructor(e){this.client=e}};function Yle(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Kj(t,...e){if(!Yle(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function OD(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function Xle(t,e){Kj(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}const $p=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;/*! noble-hashes - MIT License (c) 2022 Paul Miller (paulmillr.com) */const RN=t=>new DataView(t.buffer,t.byteOffset,t.byteLength);function Qle(t){if(typeof t!="string")throw new Error("utf8ToBytes expected string, got "+typeof t);return new Uint8Array(new TextEncoder().encode(t))}function Vj(t){return typeof t=="string"&&(t=Qle(t)),Kj(t),t}let Zle=class{clone(){return this._cloneInto()}};function eue(t){const e=n=>t().update(Vj(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function Jj(t=32){if($p&&typeof $p.getRandomValues=="function")return $p.getRandomValues(new Uint8Array(t));if($p&&typeof $p.randomBytes=="function")return $p.randomBytes(t);throw new Error("crypto.getRandomValues must be defined")}function tue(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}let rue=class extends Zle{constructor(e,r,n,i){super(),this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.buffer=new Uint8Array(e),this.view=RN(this.buffer)}update(e){OD(this);const{view:r,buffer:n,blockLen:i}=this;e=Vj(e);const s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=RN(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){OD(this),Xle(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,this.buffer.subarray(o).fill(0),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;tue(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=RN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.length=i,e.pos=a,e.finished=s,e.destroyed=o,i%r&&e.buffer.set(n),e}};const Zw=BigInt(2**32-1),VI=BigInt(32);function Yj(t,e=!1){return e?{h:Number(t&Zw),l:Number(t>>VI&Zw)}:{h:Number(t>>VI&Zw)|0,l:Number(t&Zw)|0}}function nue(t,e=!1){let r=new Uint32Array(t.length),n=new Uint32Array(t.length);for(let i=0;i<t.length;i++){const{h:s,l:o}=Yj(t[i],e);[r[i],n[i]]=[s,o]}return[r,n]}const iue=(t,e)=>BigInt(t>>>0)<<VI|BigInt(e>>>0),sue=(t,e,r)=>t>>>r,oue=(t,e,r)=>t<<32-r|e>>>r,aue=(t,e,r)=>t>>>r|e<<32-r,cue=(t,e,r)=>t<<32-r|e>>>r,lue=(t,e,r)=>t<<64-r|e>>>r-32,uue=(t,e,r)=>t>>>r-32|e<<64-r,fue=(t,e)=>e,due=(t,e)=>t,hue=(t,e,r)=>t<<r|e>>>32-r,pue=(t,e,r)=>e<<r|t>>>32-r,gue=(t,e,r)=>e<<r-32|t>>>64-r,mue=(t,e,r)=>t<<r-32|e>>>64-r;function yue(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const _ue=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),bue=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,wue=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),vue=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Eue=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Aue=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Lt={fromBig:Yj,split:nue,toBig:iue,shrSH:sue,shrSL:oue,rotrSH:aue,rotrSL:cue,rotrBH:lue,rotrBL:uue,rotr32H:fue,rotr32L:due,rotlSH:hue,rotlSL:pue,rotlBH:gue,rotlBL:mue,add:yue,add3L:_ue,add3H:bue,add4L:wue,add4H:vue,add5H:Aue,add5L:Eue},[xue,Cue]=Lt.split(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),bd=new Uint32Array(80),wd=new Uint32Array(80);let Nue=class extends rue{constructor(){super(128,64,16,!1),this.Ah=1779033703,this.Al=-205731576,this.Bh=-1150833019,this.Bl=-2067093701,this.Ch=1013904242,this.Cl=-23791573,this.Dh=-1521486534,this.Dl=1595750129,this.Eh=1359893119,this.El=-1377402159,this.Fh=-1694144372,this.Fl=725511199,this.Gh=528734635,this.Gl=-79577749,this.Hh=1541459225,this.Hl=327033209}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:g,Gl:_,Hh:m,Hl:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,h,g,_,m,b]}set(e,r,n,i,s,o,a,c,l,u,f,h,g,_,m,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=_|0,this.Hh=m|0,this.Hl=b|0}process(e,r){for(let R=0;R<16;R++,r+=4)bd[R]=e.getUint32(r),wd[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){const k=bd[R-15]|0,M=wd[R-15]|0,D=Lt.rotrSH(k,M,1)^Lt.rotrSH(k,M,8)^Lt.shrSH(k,M,7),H=Lt.rotrSL(k,M,1)^Lt.rotrSL(k,M,8)^Lt.shrSL(k,M,7),S=bd[R-2]|0,C=wd[R-2]|0,$=Lt.rotrSH(S,C,19)^Lt.rotrBH(S,C,61)^Lt.shrSH(S,C,6),B=Lt.rotrSL(S,C,19)^Lt.rotrBL(S,C,61)^Lt.shrSL(S,C,6),O=Lt.add4L(H,B,wd[R-7],wd[R-16]),T=Lt.add4H(O,D,$,bd[R-7],bd[R-16]);bd[R]=T|0,wd[R]=O|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:g,Fl:_,Gh:m,Gl:b,Hh:A,Hl:N}=this;for(let R=0;R<80;R++){const k=Lt.rotrSH(f,h,14)^Lt.rotrSH(f,h,18)^Lt.rotrBH(f,h,41),M=Lt.rotrSL(f,h,14)^Lt.rotrSL(f,h,18)^Lt.rotrBL(f,h,41),D=f&g^~f&m,H=h&_^~h&b,S=Lt.add5L(N,M,H,Cue[R],wd[R]),C=Lt.add5H(S,A,k,D,xue[R],bd[R]),$=S|0,B=Lt.rotrSH(n,i,28)^Lt.rotrBH(n,i,34)^Lt.rotrBH(n,i,39),O=Lt.rotrSL(n,i,28)^Lt.rotrBL(n,i,34)^Lt.rotrBL(n,i,39),T=n&s^n&a^s&a,y=i&o^i&c^o&c;A=m|0,N=b|0,m=g|0,b=_|0,g=f|0,_=h|0,{h:f,l:h}=Lt.add(l|0,u|0,C|0,$|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const w=Lt.add3L($,O,y);n=Lt.add3H(w,C,B,T),i=w|0}({h:n,l:i}=Lt.add(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Lt.add(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Lt.add(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Lt.add(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Lt.add(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:_}=Lt.add(this.Fh|0,this.Fl|0,g|0,_|0),{h:m,l:b}=Lt.add(this.Gh|0,this.Gl|0,m|0,b|0),{h:A,l:N}=Lt.add(this.Hh|0,this.Hl|0,A|0,N|0),this.set(n,i,s,o,a,c,l,u,f,h,g,_,m,b,A,N)}roundClean(){bd.fill(0),wd.fill(0)}destroy(){this.buffer.fill(0),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}};const Sue=eue(()=>new Nue);/*! noble-curves - MIT License (c) 2022 Paul Miller (paulmillr.com) */const PP=BigInt(0),Xj=BigInt(1),Tue=BigInt(2);function OP(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function DP(t){if(!OP(t))throw new Error("Uint8Array expected")}function PN(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}const Iue=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function kP(t){DP(t);let e="";for(let r=0;r<t.length;r++)e+=Iue[t[r]];return e}function Qj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?PP:BigInt("0x"+t)}const sf={_0:48,_9:57,A:65,F:70,a:97,f:102};function DD(t){if(t>=sf._0&&t<=sf._9)return t-sf._0;if(t>=sf.A&&t<=sf.F)return t-(sf.A-10);if(t>=sf.a&&t<=sf.f)return t-(sf.a-10)}function Zj(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=DD(t.charCodeAt(s)),a=DD(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Rue(t){return Qj(kP(t))}function qv(t){return DP(t),Qj(kP(Uint8Array.from(t).reverse()))}function eW(t,e){return Zj(t.toString(16).padStart(e*2,"0"))}function JI(t,e){return eW(t,e).reverse()}function of(t,e,r){let n;if(typeof e=="string")try{n=Zj(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(OP(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}function kD(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];DP(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}const ON=t=>typeof t=="bigint"&&PP<=t;function Pue(t,e,r){return ON(t)&&ON(e)&&ON(r)&&e<=t&&t<r}function Ay(t,e,r,n){if(!Pue(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Oue(t){let e;for(e=0;t>PP;t>>=Xj,e+=1);return e}const Due=t=>(Tue<<BigInt(t-1))-Xj,kue={bigint:t=>typeof t=="bigint",function:t=>typeof t=="function",boolean:t=>typeof t=="boolean",string:t=>typeof t=="string",stringOrUint8Array:t=>typeof t=="string"||OP(t),isSafeInteger:t=>Number.isSafeInteger(t),array:t=>Array.isArray(t),field:(t,e)=>e.Fp.isValid(t),hash:t=>typeof t=="function"&&Number.isSafeInteger(t.outputLen)};function MP(t,e,r={}){const n=(i,s,o)=>{const a=kue[s];if(typeof a!="function")throw new Error("invalid validator function");const c=t[i];if(!(o&&c===void 0)&&!a(c,t))throw new Error("param "+String(i)+" is invalid. Expected "+s+", got "+c)};for(const[i,s]of Object.entries(e))n(i,s,!1);for(const[i,s]of Object.entries(r))n(i,s,!0);return t}function MD(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Gi=BigInt(0),ni=BigInt(1),u0=BigInt(2),Mue=BigInt(3),YI=BigInt(4),UD=BigInt(5),LD=BigInt(8);function Oi(t,e){const r=t%e;return r>=Gi?r:e+r}function Uue(t,e,r){if(e<Gi)throw new Error("invalid exponent, negatives unsupported");if(r<=Gi)throw new Error("invalid modulus");if(r===ni)return Gi;let n=ni;for(;e>Gi;)e&ni&&(n=n*t%r),t=t*t%r,e>>=ni;return n}function Yl(t,e,r){let n=t;for(;e-- >Gi;)n*=n,n%=r;return n}function $D(t,e){if(t===Gi)throw new Error("invert: expected non-zero number");if(e<=Gi)throw new Error("invert: expected positive modulus, got "+e);let r=Oi(t,e),n=e,i=Gi,s=ni;for(;r!==Gi;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==ni)throw new Error("invert: does not exist");return Oi(i,e)}function Lue(t){const e=(t-ni)/u0;let r,n,i;for(r=t-ni,n=0;r%u0===Gi;r/=u0,n++);for(i=u0;i<t&&Uue(i,e,t)!==t-ni;i++)if(i>1e3)throw new Error("Cannot find square root: likely non-prime P");if(n===1){const o=(t+ni)/YI;return function(a,c){const l=a.pow(c,o);if(!a.eql(a.sqr(l),c))throw new Error("Cannot find square root");return l}}const s=(r+ni)/u0;return function(o,a){if(o.pow(a,e)===o.neg(o.ONE))throw new Error("Cannot find square root");let c=n,l=o.pow(o.mul(o.ONE,i),r),u=o.pow(a,s),f=o.pow(a,r);for(;!o.eql(f,o.ONE);){if(o.eql(f,o.ZERO))return o.ZERO;let h=1;for(let _=o.sqr(f);h<c&&!o.eql(_,o.ONE);h++)_=o.sqr(_);const g=o.pow(l,ni<<BigInt(c-h-1));l=o.sqr(g),u=o.mul(u,g),f=o.mul(f,l),c=h}return u}}function $ue(t){if(t%YI===Mue){const e=(t+ni)/YI;return function(r,n){const i=r.pow(n,e);if(!r.eql(r.sqr(i),n))throw new Error("Cannot find square root");return i}}if(t%LD===UD){const e=(t-UD)/LD;return function(r,n){const i=r.mul(n,u0),s=r.pow(i,e),o=r.mul(n,s),a=r.mul(r.mul(o,u0),s),c=r.mul(o,r.sub(a,r.ONE));if(!r.eql(r.sqr(c),n))throw new Error("Cannot find square root");return c}}return Lue(t)}const Fue=(t,e)=>(Oi(t,e)&ni)===ni,Bue=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Hue(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"isSafeInteger",BITS:"isSafeInteger"},r=Bue.reduce((n,i)=>(n[i]="function",n),e);return MP(t,r)}function jue(t,e,r){if(r<Gi)throw new Error("invalid exponent, negatives unsupported");if(r===Gi)return t.ONE;if(r===ni)return e;let n=t.ONE,i=e;for(;r>Gi;)r&ni&&(n=t.mul(n,i)),i=t.sqr(i),r>>=ni;return n}function Wue(t,e){const r=new Array(e.length),n=e.reduce((s,o,a)=>t.is0(o)?s:(r[a]=s,t.mul(s,o)),t.ONE),i=t.inv(n);return e.reduceRight((s,o,a)=>t.is0(o)?s:(r[a]=t.mul(s,r[a]),t.mul(s,o)),i),r}function tW(t,e){const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function rW(t,e,r=!1,n={}){if(t<=Gi)throw new Error("invalid field: expected ORDER > 0, got "+t);const{nBitLength:i,nByteLength:s}=tW(t,e);if(s>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let o;const a=Object.freeze({ORDER:t,isLE:r,BITS:i,BYTES:s,MASK:Due(i),ZERO:Gi,ONE:ni,create:c=>Oi(c,t),isValid:c=>{if(typeof c!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof c);return Gi<=c&&c<t},is0:c=>c===Gi,isOdd:c=>(c&ni)===ni,neg:c=>Oi(-c,t),eql:(c,l)=>c===l,sqr:c=>Oi(c*c,t),add:(c,l)=>Oi(c+l,t),sub:(c,l)=>Oi(c-l,t),mul:(c,l)=>Oi(c*l,t),pow:(c,l)=>jue(a,c,l),div:(c,l)=>Oi(c*$D(l,t),t),sqrN:c=>c*c,addN:(c,l)=>c+l,subN:(c,l)=>c-l,mulN:(c,l)=>c*l,inv:c=>$D(c,t),sqrt:n.sqrt||(c=>(o||(o=$ue(t)),o(a,c))),invertBatch:c=>Wue(a,c),cmov:(c,l,u)=>u?l:c,toBytes:c=>r?JI(c,s):eW(c,s),fromBytes:c=>{if(c.length!==s)throw new Error("Field.fromBytes: expected "+s+" bytes, got "+c.length);return r?qv(c):Rue(c)}});return Object.freeze(a)}const FD=BigInt(0),ev=BigInt(1);function DN(t,e){const r=e.negate();return t?r:e}function nW(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function kN(t,e){nW(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1);return{windows:r,windowSize:n}}function que(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function zue(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const MN=new WeakMap,iW=new WeakMap;function UN(t){return iW.get(t)||1}function Gue(t,e){return{constTimeNegate:DN,hasPrecomputes(r){return UN(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>FD;)n&ev&&(i=i.add(s)),s=s.double(),n>>=ev;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=kN(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){const{windows:s,windowSize:o}=kN(r,e);let a=t.ZERO,c=t.BASE;const l=BigInt(2**r-1),u=2**r,f=BigInt(r);for(let h=0;h<s;h++){const g=h*o;let _=Number(i&l);i>>=f,_>o&&(_-=u,i+=ev);const m=g,b=g+Math.abs(_)-1,A=h%2!==0,N=_<0;_===0?c=c.add(DN(A,n[m])):a=a.add(DN(N,n[b]))}return{p:a,f:c}},wNAFUnsafe(r,n,i,s=t.ZERO){const{windows:o,windowSize:a}=kN(r,e),c=BigInt(2**r-1),l=2**r,u=BigInt(r);for(let f=0;f<o;f++){const h=f*a;if(i===FD)break;let g=Number(i&c);if(i>>=u,g>a&&(g-=l,i+=ev),g===0)continue;let _=n[h+Math.abs(g)-1];g<0&&(_=_.negate()),s=s.add(_)}return s},getPrecomputes(r,n,i){let s=MN.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&MN.set(n,i(s))),s},wNAFCached(r,n,i){const s=UN(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=UN(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){nW(n,e),iW.set(r,n),MN.delete(r)}}}function Kue(t,e,r,n){if(que(r,t),zue(n,e),r.length!==n.length)throw new Error("arrays of points and scalars must have equal length");const i=t.ZERO,s=Oue(BigInt(r.length)),o=s>12?s-3:s>4?s-2:s?2:1,a=(1<<o)-1,c=new Array(a+1).fill(i),l=Math.floor((e.BITS-1)/o)*o;let u=i;for(let f=l;f>=0;f-=o){c.fill(i);for(let g=0;g<n.length;g++){const _=n[g],m=Number(_>>BigInt(f)&BigInt(a));c[m]=c[m].add(r[g])}let h=i;for(let g=c.length-1,_=i;g>0;g--)_=_.add(c[g]),h=h.add(_);if(u=u.add(h),f!==0)for(let g=0;g<o;g++)u=u.double()}return u}function Vue(t){return Hue(t.Fp),MP(t,{n:"bigint",h:"bigint",Gx:"field",Gy:"field"},{nBitLength:"isSafeInteger",nByteLength:"isSafeInteger"}),Object.freeze({...tW(t.n,t.nBitLength),...t,p:t.Fp.ORDER})}const Dc=BigInt(0),yo=BigInt(1),tv=BigInt(2),Jue=BigInt(8),Yue={zip215:!0};function Xue(t){const e=Vue(t);return MP(t,{hash:"function",a:"bigint",d:"bigint",randomBytes:"function"},{adjustScalarBytes:"function",domain:"function",uvRatio:"function",mapToCurve:"function"}),Object.freeze({...e})}function Que(t){const e=Xue(t),{Fp:r,n,prehash:i,hash:s,randomBytes:o,nByteLength:a,h:c}=e,l=tv<<BigInt(a*8)-yo,u=r.create,f=rW(e.n,e.nBitLength),h=e.uvRatio||((w,E)=>{try{return{isValid:!0,value:r.sqrt(w*r.inv(E))}}catch{return{isValid:!1,value:Dc}}}),g=e.adjustScalarBytes||(w=>w),_=e.domain||((w,E,I)=>{if(PN("phflag",I),E.length||I)throw new Error("Contexts/pre-hash are not supported");return w});function m(w,E){Ay("coordinate "+w,E,Dc,l)}function b(w){if(!(w instanceof R))throw new Error("ExtendedPoint expected")}const A=MD((w,E)=>{const{ex:I,ey:U,ez:j}=w,z=w.is0();E==null&&(E=z?Jue:r.inv(j));const L=u(I*E),x=u(U*E),W=u(j*E);if(z)return{x:Dc,y:yo};if(W!==yo)throw new Error("invZ was invalid");return{x:L,y:x}}),N=MD(w=>{const{a:E,d:I}=e;if(w.is0())throw new Error("bad point: ZERO");const{ex:U,ey:j,ez:z,et:L}=w,x=u(U*U),W=u(j*j),K=u(z*z),P=u(K*K),X=u(x*E),q=u(K*u(X+W)),te=u(P+u(I*u(x*W)));if(q!==te)throw new Error("bad point: equation left != right (1)");const ne=u(U*j),le=u(z*L);if(ne!==le)throw new Error("bad point: equation left != right (2)");return!0});class R{constructor(E,I,U,j){this.ex=E,this.ey=I,this.ez=U,this.et=j,m("x",E),m("y",I),m("z",U),m("t",j),Object.freeze(this)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static fromAffine(E){if(E instanceof R)throw new Error("extended point not allowed");const{x:I,y:U}=E||{};return m("x",I),m("y",U),new R(I,U,yo,u(I*U))}static normalizeZ(E){const I=r.invertBatch(E.map(U=>U.ez));return E.map((U,j)=>U.toAffine(I[j])).map(R.fromAffine)}static msm(E,I){return Kue(R,f,E,I)}_setWindowSize(E){D.setWindowSize(this,E)}assertValidity(){N(this)}equals(E){b(E);const{ex:I,ey:U,ez:j}=this,{ex:z,ey:L,ez:x}=E,W=u(I*x),K=u(z*j),P=u(U*x),X=u(L*j);return W===K&&P===X}is0(){return this.equals(R.ZERO)}negate(){return new R(u(-this.ex),this.ey,this.ez,u(-this.et))}double(){const{a:E}=e,{ex:I,ey:U,ez:j}=this,z=u(I*I),L=u(U*U),x=u(tv*u(j*j)),W=u(E*z),K=I+U,P=u(u(K*K)-z-L),X=W+L,q=X-x,te=W-L,ne=u(P*q),le=u(X*te),me=u(P*te),Y=u(q*X);return new R(ne,le,Y,me)}add(E){b(E);const{a:I,d:U}=e,{ex:j,ey:z,ez:L,et:x}=this,{ex:W,ey:K,ez:P,et:X}=E;if(I===BigInt(-1)){const Ue=u((z-j)*(K+W)),Z=u((z+j)*(K-W)),ee=u(Z-Ue);if(ee===Dc)return this.double();const ge=u(L*tv*X),_e=u(x*tv*P),Re=_e+ge,Pe=Z+Ue,ue=_e-ge,be=u(Re*ee),ze=u(Pe*ue),Xe=u(Re*ue),lt=u(ee*Pe);return new R(be,ze,lt,Xe)}const q=u(j*W),te=u(z*K),ne=u(x*U*X),le=u(L*P),me=u((j+z)*(W+K)-q-te),Y=le-ne,ie=le+ne,J=u(te-I*q),ae=u(me*Y),Ee=u(ie*J),ye=u(me*J),Ie=u(Y*ie);return new R(ae,Ee,Ie,ye)}subtract(E){return this.add(E.negate())}wNAF(E){return D.wNAFCached(this,E,R.normalizeZ)}multiply(E){const I=E;Ay("scalar",I,yo,n);const{p:U,f:j}=this.wNAF(I);return R.normalizeZ([U,j])[0]}multiplyUnsafe(E,I=R.ZERO){const U=E;return Ay("scalar",U,Dc,n),U===Dc?M:this.is0()||U===yo?this:D.wNAFCachedUnsafe(this,U,R.normalizeZ,I)}isSmallOrder(){return this.multiplyUnsafe(c).is0()}isTorsionFree(){return D.unsafeLadder(this,n).is0()}toAffine(E){return A(this,E)}clearCofactor(){const{h:E}=e;return E===yo?this:this.multiplyUnsafe(E)}static fromHex(E,I=!1){const{d:U,a:j}=e,z=r.BYTES;E=of("pointHex",E,z),PN("zip215",I);const L=E.slice(),x=E[z-1];L[z-1]=x&-129;const W=qv(L),K=I?l:r.ORDER;Ay("pointHex.y",W,Dc,K);const P=u(W*W),X=u(P-yo),q=u(U*P-j);let{isValid:te,value:ne}=h(X,q);if(!te)throw new Error("Point.fromHex: invalid y coordinate");const le=(ne&yo)===yo,me=(x&128)!==0;if(!I&&ne===Dc&&me)throw new Error("Point.fromHex: x=0 and x_0=1");return me!==le&&(ne=u(-ne)),R.fromAffine({x:ne,y:W})}static fromPrivateKey(E){return C(E).point}toRawBytes(){const{x:E,y:I}=this.toAffine(),U=JI(I,r.BYTES);return U[U.length-1]|=E&yo?128:0,U}toHex(){return kP(this.toRawBytes())}}R.BASE=new R(e.Gx,e.Gy,yo,u(e.Gx*e.Gy)),R.ZERO=new R(Dc,yo,yo,Dc);const{BASE:k,ZERO:M}=R,D=Gue(R,a*8);function H(w){return Oi(w,n)}function S(w){return H(qv(w))}function C(w){const E=r.BYTES;w=of("private key",w,E);const I=of("hashed private key",s(w),2*E),U=g(I.slice(0,E)),j=I.slice(E,2*E),z=S(U),L=k.multiply(z),x=L.toRawBytes();return{head:U,prefix:j,scalar:z,point:L,pointBytes:x}}function $(w){return C(w).pointBytes}function B(w=new Uint8Array,...E){const I=kD(...E);return S(s(_(I,of("context",w),!!i)))}function O(w,E,I={}){w=of("message",w),i&&(w=i(w));const{prefix:U,scalar:j,pointBytes:z}=C(E),L=B(I.context,U,w),x=k.multiply(L).toRawBytes(),W=B(I.context,x,z,w),K=H(L+W*j);Ay("signature.s",K,Dc,n);const P=kD(x,JI(K,r.BYTES));return of("result",P,r.BYTES*2)}const T=Yue;function y(w,E,I,U=T){const{context:j,zip215:z}=U,L=r.BYTES;w=of("signature",w,2*L),E=of("message",E),I=of("publicKey",I,L),z!==void 0&&PN("zip215",z),i&&(E=i(E));const x=qv(w.slice(L,2*L));let W,K,P;try{W=R.fromHex(I,z),K=R.fromHex(w.slice(0,L),z),P=k.multiplyUnsafe(x)}catch{return!1}if(!z&&W.isSmallOrder())return!1;const X=B(j,K.toRawBytes(),W.toRawBytes(),E);return K.add(W.multiplyUnsafe(X)).subtract(P).clearCofactor().equals(R.ZERO)}return k._setWindowSize(8),{CURVE:e,getPublicKey:$,sign:O,verify:y,ExtendedPoint:R,utils:{getExtendedPublicKey:C,randomPrivateKey:()=>o(r.BYTES),precompute(w=8,E=R.BASE){return E._setWindowSize(w),E.multiply(BigInt(3)),E}}}}BigInt(0),BigInt(1);const UP=BigInt("57896044618658097711785492504343953926634992332820282019728792003956564819949"),BD=BigInt("19681161376707505956807079304988542015446066515923890162744021073123829784752");BigInt(0);const Zue=BigInt(1),HD=BigInt(2);BigInt(3);const efe=BigInt(5),tfe=BigInt(8);function rfe(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=UP,o=t*t%s*t%s,a=Yl(o,HD,s)*o%s,c=Yl(a,Zue,s)*t%s,l=Yl(c,efe,s)*c%s,u=Yl(l,e,s)*l%s,f=Yl(u,r,s)*u%s,h=Yl(f,n,s)*f%s,g=Yl(h,i,s)*h%s,_=Yl(g,i,s)*h%s,m=Yl(_,e,s)*l%s;return{pow_p_5_8:Yl(m,HD,s)*t%s,b2:o}}function nfe(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}function ife(t,e){const r=UP,n=Oi(e*e*e,r),i=Oi(n*n*e,r),s=rfe(t*i).pow_p_5_8;let o=Oi(t*n*s,r);const a=Oi(e*o*o,r),c=o,l=Oi(o*BD,r),u=a===t,f=a===Oi(-t,r),h=a===Oi(-t*BD,r);return u&&(o=c),(f||h)&&(o=l),Fue(o,r)&&(o=Oi(-o,r)),{isValid:u||f,value:o}}const sfe=rW(UP,void 0,!0),ofe={a:BigInt(-1),d:BigInt("37095705934669439343138083508754565189542113879843219016388785533085940283555"),Fp:sfe,n:BigInt("7237005577332262213973186563042994240857116359379907606001950938285454250989"),h:tfe,Gx:BigInt("15112221349535400772501151409588531511454012693041857206046113283949847762202"),Gy:BigInt("46316835694926478169428394003475163141307993866256225615783033603165251855960"),hash:Sue,randomBytes:Jj,adjustScalarBytes:nfe,uvRatio:ife},sW=Que(ofe),afe="EdDSA",cfe="JWT",uA=".",Mx="base64url",oW="utf8",aW="utf8",lfe=":",ufe="did",ffe="key",jD="base58btc",dfe="z",hfe="K36",pfe=32;function LP(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function cW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?LP(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function lW(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=cW(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return LP(r)}function gfe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var m=0,b=0,A=0,N=_.length;A!==N&&_[A]===0;)A++,m++;for(var R=(N-A)*u+1>>>0,k=new Uint8Array(R);A!==N;){for(var M=_[A],D=0,H=R-1;(M!==0||D<b)&&H!==-1;H--,D++)M+=256*k[H]>>>0,k[H]=M%a>>>0,M=M/a>>>0;if(M!==0)throw new Error("Non-zero carry");b=D,A++}for(var S=R-b;S!==R&&k[S]===0;)S++;for(var C=c.repeat(m);S<R;++S)C+=t.charAt(k[S]);return C}function h(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var m=0;if(_[m]!==" "){for(var b=0,A=0;_[m]===c;)b++,m++;for(var N=(_.length-m)*l+1>>>0,R=new Uint8Array(N);_[m];){var k=r[_.charCodeAt(m)];if(k===255)return;for(var M=0,D=N-1;(k!==0||M<A)&&D!==-1;D--,M++)k+=a*R[D]>>>0,R[D]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");A=M,m++}if(_[m]!==" "){for(var H=N-A;H!==N&&R[H]===0;)H++;for(var S=new Uint8Array(b+(N-H)),C=b;H!==N;)S[C++]=R[H++];return S}}}function g(_){var m=h(_);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:g}}var mfe=gfe,yfe=mfe;const uW=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},_fe=t=>new TextEncoder().encode(t),bfe=t=>new TextDecoder().decode(t);let wfe=class{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}},vfe=class{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return fW(this,e)}},Efe=class{constructor(e){this.decoders=e}or(e){return fW(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}};const fW=(t,e)=>new Efe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});let Afe=class{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new wfe(e,r,n),this.decoder=new vfe(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}};const Ux=({name:t,prefix:e,encode:r,decode:n})=>new Afe(t,e,r,n),R1=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=yfe(r,e);return Ux({prefix:t,name:e,encode:n,decode:s=>uW(i(s))})},xfe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},Cfe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},hs=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Ux({prefix:e,name:t,encode(i){return Cfe(i,n,r)},decode(i){return xfe(i,n,r,t)}}),Nfe=Ux({prefix:"\0",name:"identity",encode:t=>bfe(t),decode:t=>_fe(t)});var Sfe=Object.freeze({__proto__:null,identity:Nfe});const Tfe=hs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Ife=Object.freeze({__proto__:null,base2:Tfe});const Rfe=hs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Pfe=Object.freeze({__proto__:null,base8:Rfe});const Ofe=R1({prefix:"9",name:"base10",alphabet:"0123456789"});var Dfe=Object.freeze({__proto__:null,base10:Ofe});const kfe=hs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Mfe=hs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Ufe=Object.freeze({__proto__:null,base16:kfe,base16upper:Mfe});const Lfe=hs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),$fe=hs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),Ffe=hs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),Bfe=hs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),Hfe=hs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),jfe=hs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),Wfe=hs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),qfe=hs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),zfe=hs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var Gfe=Object.freeze({__proto__:null,base32:Lfe,base32upper:$fe,base32pad:Ffe,base32padupper:Bfe,base32hex:Hfe,base32hexupper:jfe,base32hexpad:Wfe,base32hexpadupper:qfe,base32z:zfe});const Kfe=R1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),Vfe=R1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var Jfe=Object.freeze({__proto__:null,base36:Kfe,base36upper:Vfe});const Yfe=R1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),Xfe=R1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var Qfe=Object.freeze({__proto__:null,base58btc:Yfe,base58flickr:Xfe});const Zfe=hs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),ede=hs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),tde=hs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),rde=hs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var nde=Object.freeze({__proto__:null,base64:Zfe,base64pad:ede,base64url:tde,base64urlpad:rde});const dW=Array.from(""),ide=dW.reduce((t,e,r)=>(t[r]=e,t),[]),sde=dW.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ode(t){return t.reduce((e,r)=>(e+=ide[r],e),"")}function ade(t){const e=[];for(const r of t){const n=sde[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const cde=Ux({prefix:"",name:"base256emoji",encode:ode,decode:ade});var lde=Object.freeze({__proto__:null,base256emoji:cde}),ude=hW,WD=128,fde=-128,dde=Math.pow(2,31);function hW(t,e,r){e=e||[],r=r||0;for(var n=r;t>=dde;)e[r++]=t&255|WD,t/=128;for(;t&fde;)e[r++]=t&255|WD,t>>>=7;return e[r]=t|0,hW.bytes=r-n+1,e}var hde=XI,pde=128,qD=127;function XI(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw XI.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&qD)<<i:(o&qD)*Math.pow(2,i),i+=7}while(o>=pde);return XI.bytes=s-n,r}var gde=Math.pow(2,7),mde=Math.pow(2,14),yde=Math.pow(2,21),_de=Math.pow(2,28),bde=Math.pow(2,35),wde=Math.pow(2,42),vde=Math.pow(2,49),Ede=Math.pow(2,56),Ade=Math.pow(2,63),xde=function(t){return t<gde?1:t<mde?2:t<yde?3:t<_de?4:t<bde?5:t<wde?6:t<vde?7:t<Ede?8:t<Ade?9:10},Cde={encode:ude,decode:hde,encodingLength:xde},pW=Cde;const zD=(t,e,r=0)=>(pW.encode(t,e,r),e),GD=t=>pW.encodingLength(t),QI=(t,e)=>{const r=e.byteLength,n=GD(t),i=n+GD(r),s=new Uint8Array(i+r);return zD(t,s,0),zD(r,s,n),s.set(e,i),new Nde(t,r,e,s)};let Nde=class{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}};const gW=({name:t,code:e,encode:r})=>new Sde(t,e,r);let Sde=class{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?QI(this.code,r):r.then(n=>QI(this.code,n))}else throw Error("Unknown type, must be binary type")}};const mW=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),Tde=gW({name:"sha2-256",code:18,encode:mW("SHA-256")}),Ide=gW({name:"sha2-512",code:19,encode:mW("SHA-512")});var Rde=Object.freeze({__proto__:null,sha256:Tde,sha512:Ide});const yW=0,Pde="identity",_W=uW,Ode=t=>QI(yW,_W(t)),Dde={code:yW,name:Pde,encode:_W,digest:Ode};var kde=Object.freeze({__proto__:null,identity:Dde});new TextEncoder,new TextDecoder;const KD={...Sfe,...Ife,...Pfe,...Dfe,...Ufe,...Gfe,...Jfe,...Qfe,...nde,...lde};({...Rde,...kde});function bW(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const VD=bW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),LN=bW("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=cW(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),wW={utf8:VD,"utf-8":VD,hex:KD.base16,latin1:LN,ascii:LN,binary:LN,...KD};function Lx(t,e="utf8"){const r=wW[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}function Am(t,e="utf8"){const r=wW[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?LP(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function JD(t){return B0(Lx(Am(t,Mx),oW))}function fA(t){return Lx(Am(Kf(t),oW),Mx)}function vW(t){const e=Am(hfe,jD),r=dfe+Lx(lW([e,t]),jD);return[ufe,ffe,r].join(lfe)}function Mde(t){return Lx(t,Mx)}function Ude(t){return Am(t,Mx)}function Lde(t){return Am([fA(t.header),fA(t.payload)].join(uA),aW)}function $de(t){return[fA(t.header),fA(t.payload),Mde(t.signature)].join(uA)}function ZI(t){const e=t.split(uA),r=JD(e[0]),n=JD(e[1]),i=Ude(e[2]),s=Am(e.slice(0,2).join(uA),aW);return{header:r,payload:n,signature:i,data:s}}function YD(t=Jj(pfe)){const e=sW.getPublicKey(t);return{secretKey:lW([t,e]),publicKey:e}}async function Fde(t,e,r,n,i=je.fromMiliseconds(Date.now())){const s={alg:afe,typ:cfe},o=vW(n.publicKey),a=i+r,c={iss:o,sub:t,aud:e,iat:i,exp:a},l=Lde({header:s,payload:c}),u=sW.sign(l,n.secretKey.slice(0,32));return $de({header:s,payload:c,signature:u})}var XD=function(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))},Bde=(function(){function t(e,r,n){this.name=e,this.version=r,this.os=n,this.type="browser"}return t})(),Hde=(function(){function t(e){this.version=e,this.type="node",this.name="node",this.os=process.platform}return t})(),jde=(function(){function t(e,r,n,i){this.name=e,this.version=r,this.os=n,this.bot=i,this.type="bot-device"}return t})(),Wde=(function(){function t(){this.type="bot",this.bot=!0,this.name="bot",this.version=null,this.os=null}return t})(),qde=(function(){function t(){this.type="react-native",this.name="react-native",this.version=null,this.os=null}return t})(),zde=/alexa|bot|crawl(er|ing)|facebookexternalhit|feedburner|google web preview|nagios|postrank|pingdom|slurp|spider|yahoo!|yandex/,Gde=/(nuhk|curl|Googlebot|Yammybot|Openbot|Slurp|MSNBot|Ask\ Jeeves\/Teoma|ia_archiver)/,QD=3,Kde=[["aol",/AOLShield\/([0-9\._]+)/],["edge",/Edge\/([0-9\._]+)/],["edge-ios",/EdgiOS\/([0-9\._]+)/],["yandexbrowser",/YaBrowser\/([0-9\._]+)/],["kakaotalk",/KAKAOTALK\s([0-9\.]+)/],["samsung",/SamsungBrowser\/([0-9\.]+)/],["silk",/\bSilk\/([0-9._-]+)\b/],["miui",/MiuiBrowser\/([0-9\.]+)$/],["beaker",/BeakerBrowser\/([0-9\.]+)/],["edge-chromium",/EdgA?\/([0-9\.]+)/],["chromium-webview",/(?!Chrom.*OPR)wv\).*Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["chrome",/(?!Chrom.*OPR)Chrom(?:e|ium)\/([0-9\.]+)(:?\s|$)/],["phantomjs",/PhantomJS\/([0-9\.]+)(:?\s|$)/],["crios",/CriOS\/([0-9\.]+)(:?\s|$)/],["firefox",/Firefox\/([0-9\.]+)(?:\s|$)/],["fxios",/FxiOS\/([0-9\.]+)/],["opera-mini",/Opera Mini.*Version\/([0-9\.]+)/],["opera",/Opera\/([0-9\.]+)(?:\s|$)/],["opera",/OPR\/([0-9\.]+)(:?\s|$)/],["pie",/^Microsoft Pocket Internet Explorer\/(\d+\.\d+)$/],["pie",/^Mozilla\/\d\.\d+\s\(compatible;\s(?:MSP?IE|MSInternet Explorer) (\d+\.\d+);.*Windows CE.*\)$/],["netfront",/^Mozilla\/\d\.\d+.*NetFront\/(\d.\d)/],["ie",/Trident\/7\.0.*rv\:([0-9\.]+).*\).*Gecko$/],["ie",/MSIE\s([0-9\.]+);.*Trident\/[4-7].0/],["ie",/MSIE\s(7\.0)/],["bb10",/BB10;\sTouch.*Version\/([0-9\.]+)/],["android",/Android\s([0-9\.]+)/],["ios",/Version\/([0-9\._]+).*Mobile.*Safari.*/],["safari",/Version\/([0-9\._]+).*Safari/],["facebook",/FB[AS]V\/([0-9\.]+)/],["instagram",/Instagram\s([0-9\.]+)/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Mobile/],["ios-webview",/AppleWebKit\/([0-9\.]+).*Gecko\)$/],["curl",/^curl\/([0-9\.]+)$/],["searchbot",zde]],ZD=[["iOS",/iP(hone|od|ad)/],["Android OS",/Android/],["BlackBerry OS",/BlackBerry|BB10/],["Windows Mobile",/IEMobile/],["Amazon OS",/Kindle/],["Windows 3.11",/Win16/],["Windows 95",/(Windows 95)|(Win95)|(Windows_95)/],["Windows 98",/(Windows 98)|(Win98)/],["Windows 2000",/(Windows NT 5.0)|(Windows 2000)/],["Windows XP",/(Windows NT 5.1)|(Windows XP)/],["Windows Server 2003",/(Windows NT 5.2)/],["Windows Vista",/(Windows NT 6.0)/],["Windows 7",/(Windows NT 6.1)/],["Windows 8",/(Windows NT 6.2)/],["Windows 8.1",/(Windows NT 6.3)/],["Windows 10",/(Windows NT 10.0)/],["Windows ME",/Windows ME/],["Windows CE",/Windows CE|WinCE|Microsoft Pocket Internet Explorer/],["Open BSD",/OpenBSD/],["Sun OS",/SunOS/],["Chrome OS",/CrOS/],["Linux",/(Linux)|(X11)/],["Mac OS",/(Mac_PowerPC)|(Macintosh)/],["QNX",/QNX/],["BeOS",/BeOS/],["OS/2",/OS\/2/]];function Vde(t){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"?new qde:typeof navigator<"u"?Yde(navigator.userAgent):Qde()}function Jde(t){return t!==""&&Kde.reduce(function(e,r){var n=r[0],i=r[1];if(e)return e;var s=i.exec(t);return!!s&&[n,s]},!1)}function Yde(t){var e=Jde(t);if(!e)return null;var r=e[0],n=e[1];if(r==="searchbot")return new Wde;var i=n[1]&&n[1].split(".").join("_").split("_").slice(0,3);i?i.length<QD&&(i=XD(XD([],i,!0),Zde(QD-i.length),!0)):i=[];var s=i.join("."),o=Xde(t),a=Gde.exec(t);return a&&a[1]?new jde(r,s,o,a[1]):new Bde(r,s,o)}function Xde(t){for(var e=0,r=ZD.length;e<r;e++){var n=ZD[e],i=n[0],s=n[1],o=s.exec(t);if(o)return i}return null}function Qde(){var t=typeof process<"u"&&process.version;return t?new Hde(process.version.slice(1)):null}function Zde(t){for(var e=[],r=0;r<t;r++)e.push("0");return e}var an={},ek;function EW(){if(ek)return an;ek=1,Object.defineProperty(an,"__esModule",{value:!0}),an.getLocalStorage=an.getLocalStorageOrThrow=an.getCrypto=an.getCryptoOrThrow=an.getLocation=an.getLocationOrThrow=an.getNavigator=an.getNavigatorOrThrow=an.getDocument=an.getDocumentOrThrow=an.getFromWindowOrThrow=an.getFromWindow=void 0;function t(h){let g;return typeof window<"u"&&typeof window[h]<"u"&&(g=window[h]),g}an.getFromWindow=t;function e(h){const g=t(h);if(!g)throw new Error(`${h} is not defined in Window`);return g}an.getFromWindowOrThrow=e;function r(){return e("document")}an.getDocumentOrThrow=r;function n(){return t("document")}an.getDocument=n;function i(){return e("navigator")}an.getNavigatorOrThrow=i;function s(){return t("navigator")}an.getNavigator=s;function o(){return e("location")}an.getLocationOrThrow=o;function a(){return t("location")}an.getLocation=a;function c(){return e("crypto")}an.getCryptoOrThrow=c;function l(){return t("crypto")}an.getCrypto=l;function u(){return e("localStorage")}an.getLocalStorageOrThrow=u;function f(){return t("localStorage")}return an.getLocalStorage=f,an}var Vf=EW(),xy={},tk;function ehe(){if(tk)return xy;tk=1,Object.defineProperty(xy,"__esModule",{value:!0}),xy.getWindowMetadata=void 0;const t=EW();function e(){let r,n;try{r=t.getDocumentOrThrow(),n=t.getLocationOrThrow()}catch{return null}function i(){const g=r.getElementsByTagName("link"),_=[];for(let m=0;m<g.length;m++){const b=g[m],A=b.getAttribute("rel");if(A&&A.toLowerCase().indexOf("icon")>-1){const N=b.getAttribute("href");if(N)if(N.toLowerCase().indexOf("https:")===-1&&N.toLowerCase().indexOf("http:")===-1&&N.indexOf("//")!==0){let R=n.protocol+"//"+n.host;if(N.indexOf("/")===0)R+=N;else{const k=n.pathname.split("/");k.pop();const M=k.join("/");R+=M+"/"+N}_.push(R)}else if(N.indexOf("//")===0){const R=n.protocol+N;_.push(R)}else _.push(N)}}return _}function s(...g){const _=r.getElementsByTagName("meta");for(let m=0;m<_.length;m++){const b=_[m],A=["itemprop","property","name"].map(N=>b.getAttribute(N)).filter(N=>N?g.includes(N):!1);if(A.length&&A){const N=b.getAttribute("content");if(N)return N}}return""}function o(){let g=s("name","og:site_name","og:title","twitter:title");return g||(g=r.title),g}function a(){return s("description","og:description","twitter:description","keywords")}const c=o(),l=a(),u=n.origin,f=i();return{description:l,url:u,icons:f,name:c}}return xy.getWindowMetadata=e,xy}var the=ehe();function Eb(t,{strict:e=!0}={}){return!t||typeof t!="string"?!1:e?/^0x[0-9a-fA-F]*$/.test(t):t.startsWith("0x")}function e3(t){return Eb(t,{strict:!1})?Math.ceil((t.length-2)/2):t.length}const AW="2.31.0";let $N={getDocsUrl:({docsBaseUrl:t,docsPath:e="",docsSlug:r})=>e?`${t??"https://viem.sh"}${e}${r?`#${r}`:""}`:void 0,version:`viem@${AW}`};class H0 extends Error{constructor(e,r={}){const n=r.cause instanceof H0?r.cause.details:r.cause?.message?r.cause.message:r.details,i=r.cause instanceof H0&&r.cause.docsPath||r.docsPath,s=$N.getDocsUrl?.({...r,docsPath:i}),o=[e||"An error occurred.","",...r.metaMessages?[...r.metaMessages,""]:[],...s?[`Docs: ${s}`]:[],...n?[`Details: ${n}`]:[],...$N.version?[`Version: ${$N.version}`]:[]].join(`
`);super(o,r.cause?{cause:r.cause}:void 0),Object.defineProperty(this,"details",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"docsPath",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"metaMessages",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"shortMessage",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"version",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),Object.defineProperty(this,"name",{enumerable:!0,configurable:!0,writable:!0,value:"BaseError"}),this.details=n,this.docsPath=i,this.metaMessages=r.metaMessages,this.name=r.name??this.name,this.shortMessage=e,this.version=AW}walk(e){return xW(this,e)}}function xW(t,e){return e?.(t)?t:t&&typeof t=="object"&&"cause"in t&&t.cause!==void 0?xW(t.cause,e):e?null:t}class CW extends H0{constructor({size:e,targetSize:r,type:n}){super(`${n.charAt(0).toUpperCase()}${n.slice(1).toLowerCase()} size (${e}) exceeds padding size (${r}).`,{name:"SizeExceedsPaddingSizeError"})}}function xm(t,{dir:e,size:r=32}={}){return typeof t=="string"?rhe(t,{dir:e,size:r}):nhe(t,{dir:e,size:r})}function rhe(t,{dir:e,size:r=32}={}){if(r===null)return t;const n=t.replace("0x","");if(n.length>r*2)throw new CW({size:Math.ceil(n.length/2),targetSize:r,type:"hex"});return`0x${n[e==="right"?"padEnd":"padStart"](r*2,"0")}`}function nhe(t,{dir:e,size:r=32}={}){if(r===null)return t;if(t.length>r)throw new CW({size:t.length,targetSize:r,type:"bytes"});const n=new Uint8Array(r);for(let i=0;i<r;i++){const s=e==="right";n[s?i:r-i-1]=t[s?i:t.length-i-1]}return n}class ihe extends H0{constructor({max:e,min:r,signed:n,size:i,value:s}){super(`Number "${s}" is not in safe ${i?`${i*8}-bit ${n?"signed":"unsigned"} `:""}integer range ${e?`(${r} to ${e})`:`(above ${r})`}`,{name:"IntegerOutOfRangeError"})}}class she extends H0{constructor({givenSize:e,maxSize:r}){super(`Size cannot exceed ${r} bytes. Given size: ${e} bytes.`,{name:"SizeOverflowError"})}}function Cm(t,{size:e}){if(e3(t)>e)throw new she({givenSize:e3(t),maxSize:e})}function t3(t,e={}){const{signed:r}=e;e.size&&Cm(t,{size:e.size});const n=BigInt(t);if(!r)return n;const i=(t.length-2)/2,s=(1n<<BigInt(i)*8n-1n)-1n;return n<=s?n:n-BigInt(`0x${"f".padStart(i*2,"f")}`)-1n}function ohe(t,e={}){return Number(t3(t,e))}const ahe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function r3(t,e={}){return typeof t=="number"||typeof t=="bigint"?SW(t,e):typeof t=="string"?uhe(t,e):typeof t=="boolean"?che(t,e):NW(t,e)}function che(t,e={}){const r=`0x${Number(t)}`;return typeof e.size=="number"?(Cm(r,{size:e.size}),xm(r,{size:e.size})):r}function NW(t,e={}){let r="";for(let i=0;i<t.length;i++)r+=ahe[t[i]];const n=`0x${r}`;return typeof e.size=="number"?(Cm(n,{size:e.size}),xm(n,{dir:"right",size:e.size})):n}function SW(t,e={}){const{signed:r,size:n}=e,i=BigInt(t);let s;n?r?s=(1n<<BigInt(n)*8n-1n)-1n:s=2n**(BigInt(n)*8n)-1n:typeof t=="number"&&(s=BigInt(Number.MAX_SAFE_INTEGER));const o=typeof s=="bigint"&&r?-s-1n:0;if(s&&i>s||i<o){const c=typeof t=="bigint"?"n":"";throw new ihe({max:s?`${s}${c}`:void 0,min:`${o}${c}`,signed:r,size:n,value:`${t}${c}`})}const a=`0x${(r&&i<0?(1n<<BigInt(n*8))+BigInt(i):i).toString(16)}`;return n?xm(a,{size:n}):a}const lhe=new TextEncoder;function uhe(t,e={}){const r=lhe.encode(t);return NW(r,e)}const fhe=new TextEncoder;function dhe(t,e={}){return typeof t=="number"||typeof t=="bigint"?phe(t,e):typeof t=="boolean"?hhe(t,e):Eb(t)?TW(t,e):IW(t,e)}function hhe(t,e={}){const r=new Uint8Array(1);return r[0]=Number(t),typeof e.size=="number"?(Cm(r,{size:e.size}),xm(r,{size:e.size})):r}const af={zero:48,nine:57,A:65,F:70,a:97,f:102};function rk(t){if(t>=af.zero&&t<=af.nine)return t-af.zero;if(t>=af.A&&t<=af.F)return t-(af.A-10);if(t>=af.a&&t<=af.f)return t-(af.a-10)}function TW(t,e={}){let r=t;e.size&&(Cm(r,{size:e.size}),r=xm(r,{dir:"right",size:e.size}));let n=r.slice(2);n.length%2&&(n=`0${n}`);const i=n.length/2,s=new Uint8Array(i);for(let o=0,a=0;o<i;o++){const c=rk(n.charCodeAt(a++)),l=rk(n.charCodeAt(a++));if(c===void 0||l===void 0)throw new H0(`Invalid byte sequence ("${n[a-2]}${n[a-1]}" in "${n}").`);s[o]=c*16+l}return s}function phe(t,e){const r=SW(t,e);return TW(r)}function IW(t,e={}){const r=fhe.encode(t);return typeof e.size=="number"?(Cm(r,{size:e.size}),xm(r,{dir:"right",size:e.size})):r}function RW(t,e){const r=e||"hex",n=Nae(Eb(t,{strict:!1})?dhe(t):t);return r==="bytes"?n:r3(n)}class ghe extends Map{constructor(e){super(),Object.defineProperty(this,"maxSize",{enumerable:!0,configurable:!0,writable:!0,value:void 0}),this.maxSize=e}get(e){const r=super.get(e);return super.has(e)&&r!==void 0&&(this.delete(e),super.set(e,r)),r}set(e,r){if(super.set(e,r),this.maxSize&&this.size>this.maxSize){const n=this.keys().next().value;n&&this.delete(n)}return this}}const FN=new ghe(8192);function mhe(t,e){if(FN.has(`${t}.${e}`))return FN.get(`${t}.${e}`);const r=t.substring(2).toLowerCase(),n=RW(IW(r),"bytes"),i=r.split("");for(let o=0;o<40;o+=2)n[o>>1]>>4>=8&&i[o]&&(i[o]=i[o].toUpperCase()),(n[o>>1]&15)>=8&&i[o+1]&&(i[o+1]=i[o+1].toUpperCase());const s=`0x${i.join("")}`;return FN.set(`${t}.${e}`,s),s}function yhe(t){const e=RW(`0x${t.substring(4)}`).substring(26);return mhe(`0x${e}`)}async function _he({hash:t,signature:e}){const r=Eb(t)?t:r3(t),{secp256k1:n}=await Wi(async()=>{const{secp256k1:o}=await import("./secp256k1-Bq1zJvfD.js");return{secp256k1:o}},__vite__mapDeps([0,1]),import.meta.url);return`0x${(()=>{if(typeof e=="object"&&"r"in e&&"s"in e){const{r:l,s:u,v:f,yParity:h}=e,g=Number(h??f),_=nk(g);return new n.Signature(t3(l),t3(u)).addRecoveryBit(_)}const o=Eb(e)?e:r3(e);if(e3(o)!==65)throw new Error("invalid signature length");const a=ohe(`0x${o.slice(130)}`),c=nk(a);return n.Signature.fromCompact(o.substring(2,130)).addRecoveryBit(c)})().recoverPublicKey(r.substring(2)).toHex(!1)}`}function nk(t){if(t===0||t===1)return t;if(t===27)return 0;if(t===28)return 1;throw new Error("Invalid yParityOrV value")}async function bhe({hash:t,signature:e}){return yhe(await _he({hash:t,signature:e}))}function whe(t){if(t.length>=255)throw new TypeError("Alphabet too long");const e=new Uint8Array(256);for(let l=0;l<e.length;l++)e[l]=255;for(let l=0;l<t.length;l++){const u=t.charAt(l),f=u.charCodeAt(0);if(e[f]!==255)throw new TypeError(u+" is ambiguous");e[f]=l}const r=t.length,n=t.charAt(0),i=Math.log(r)/Math.log(256),s=Math.log(256)/Math.log(r);function o(l){if(l instanceof Uint8Array||(ArrayBuffer.isView(l)?l=new Uint8Array(l.buffer,l.byteOffset,l.byteLength):Array.isArray(l)&&(l=Uint8Array.from(l))),!(l instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(l.length===0)return"";let u=0,f=0,h=0;const g=l.length;for(;h!==g&&l[h]===0;)h++,u++;const _=(g-h)*s+1>>>0,m=new Uint8Array(_);for(;h!==g;){let N=l[h],R=0;for(let k=_-1;(N!==0||R<f)&&k!==-1;k--,R++)N+=256*m[k]>>>0,m[k]=N%r>>>0,N=N/r>>>0;if(N!==0)throw new Error("Non-zero carry");f=R,h++}let b=_-f;for(;b!==_&&m[b]===0;)b++;let A=n.repeat(u);for(;b<_;++b)A+=t.charAt(m[b]);return A}function a(l){if(typeof l!="string")throw new TypeError("Expected String");if(l.length===0)return new Uint8Array;let u=0,f=0,h=0;for(;l[u]===n;)f++,u++;const g=(l.length-u)*i+1>>>0,_=new Uint8Array(g);for(;u<l.length;){const N=l.charCodeAt(u);if(N>255)return;let R=e[N];if(R===255)return;let k=0;for(let M=g-1;(R!==0||k<h)&&M!==-1;M--,k++)R+=r*_[M]>>>0,_[M]=R%256>>>0,R=R/256>>>0;if(R!==0)throw new Error("Non-zero carry");h=k,u++}let m=g-h;for(;m!==g&&_[m]===0;)m++;const b=new Uint8Array(f+(g-m));let A=f;for(;m!==g;)b[A++]=_[m++];return b}function c(l){const u=a(l);if(u)return u;throw new Error("Non-base"+r+" character")}return{encode:o,decodeUnsafe:a,decode:c}}var vhe="123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz";const Nm=whe(vhe);function Ehe(t){const e=t.length;let r=0,n=0;for(;n<e;){let i=t.charCodeAt(n++);if((i&4294967168)===0){r++;continue}else if((i&4294965248)===0)r+=2;else{if(i>=55296&&i<=56319&&n<e){const s=t.charCodeAt(n);(s&64512)===56320&&(++n,i=((i&1023)<<10)+(s&1023)+65536)}(i&4294901760)===0?r+=3:r+=4}}return r}function Ahe(t,e,r){const n=t.length;let i=r,s=0;for(;s<n;){let o=t.charCodeAt(s++);if((o&4294967168)===0){e[i++]=o;continue}else if((o&4294965248)===0)e[i++]=o>>6&31|192;else{if(o>=55296&&o<=56319&&s<n){const a=t.charCodeAt(s);(a&64512)===56320&&(++s,o=((o&1023)<<10)+(a&1023)+65536)}(o&4294901760)===0?(e[i++]=o>>12&15|224,e[i++]=o>>6&63|128):(e[i++]=o>>18&7|240,e[i++]=o>>12&63|128,e[i++]=o>>6&63|128)}e[i++]=o&63|128}}const xhe=new TextEncoder,Che=50;function Nhe(t,e,r){xhe.encodeInto(t,e.subarray(r))}function She(t,e,r){t.length>Che?Nhe(t,e,r):Ahe(t,e,r)}const The=4096;function PW(t,e,r){let n=e;const i=n+r,s=[];let o="";for(;n<i;){const a=t[n++];if((a&128)===0)s.push(a);else if((a&224)===192){const c=t[n++]&63;s.push((a&31)<<6|c)}else if((a&240)===224){const c=t[n++]&63,l=t[n++]&63;s.push((a&31)<<12|c<<6|l)}else if((a&248)===240){const c=t[n++]&63,l=t[n++]&63,u=t[n++]&63;let f=(a&7)<<18|c<<12|l<<6|u;f>65535&&(f-=65536,s.push(f>>>10&1023|55296),f=56320|f&1023),s.push(f)}else s.push(a);s.length>=The&&(o+=String.fromCharCode(...s),s.length=0)}return s.length>0&&(o+=String.fromCharCode(...s)),o}const Ihe=new TextDecoder,Rhe=200;function Phe(t,e,r){const n=t.subarray(e,e+r);return Ihe.decode(n)}function Ohe(t,e,r){return r>Rhe?Phe(t,e,r):PW(t,e,r)}class rv{constructor(e,r){this.type=e,this.data=r}}class ta extends Error{constructor(e){super(e);const r=Object.create(ta.prototype);Object.setPrototypeOf(this,r),Object.defineProperty(this,"name",{configurable:!0,enumerable:!1,value:ta.name})}}const Cy=4294967295;function Dhe(t,e,r){const n=r/4294967296,i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function OW(t,e,r){const n=Math.floor(r/4294967296),i=r;t.setUint32(e,n),t.setUint32(e+4,i)}function DW(t,e){const r=t.getInt32(e),n=t.getUint32(e+4);return r*4294967296+n}function khe(t,e){const r=t.getUint32(e),n=t.getUint32(e+4);return r*4294967296+n}const Mhe=-1,Uhe=4294967296-1,Lhe=17179869184-1;function $he({sec:t,nsec:e}){if(t>=0&&e>=0&&t<=Lhe)if(e===0&&t<=Uhe){const r=new Uint8Array(4);return new DataView(r.buffer).setUint32(0,t),r}else{const r=t/4294967296,n=t&4294967295,i=new Uint8Array(8),s=new DataView(i.buffer);return s.setUint32(0,e<<2|r&3),s.setUint32(4,n),i}else{const r=new Uint8Array(12),n=new DataView(r.buffer);return n.setUint32(0,e),OW(n,4,t),r}}function Fhe(t){const e=t.getTime(),r=Math.floor(e/1e3),n=(e-r*1e3)*1e6,i=Math.floor(n/1e9);return{sec:r+i,nsec:n-i*1e9}}function Bhe(t){if(t instanceof Date){const e=Fhe(t);return $he(e)}else return null}function Hhe(t){const e=new DataView(t.buffer,t.byteOffset,t.byteLength);switch(t.byteLength){case 4:return{sec:e.getUint32(0),nsec:0};case 8:{const r=e.getUint32(0),n=e.getUint32(4),i=(r&3)*4294967296+n,s=r>>>2;return{sec:i,nsec:s}}case 12:{const r=DW(e,4),n=e.getUint32(0);return{sec:r,nsec:n}}default:throw new ta(`Unrecognized data size for timestamp (expected 4, 8, or 12): ${t.length}`)}}function jhe(t){const e=Hhe(t);return new Date(e.sec*1e3+e.nsec/1e6)}const Whe={type:Mhe,encode:Bhe,decode:jhe};class dA{constructor(){this.builtInEncoders=[],this.builtInDecoders=[],this.encoders=[],this.decoders=[],this.register(Whe)}register({type:e,encode:r,decode:n}){if(e>=0)this.encoders[e]=r,this.decoders[e]=n;else{const i=-1-e;this.builtInEncoders[i]=r,this.builtInDecoders[i]=n}}tryToEncode(e,r){for(let n=0;n<this.builtInEncoders.length;n++){const i=this.builtInEncoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=-1-n;return new rv(o,s)}}}for(let n=0;n<this.encoders.length;n++){const i=this.encoders[n];if(i!=null){const s=i(e,r);if(s!=null){const o=n;return new rv(o,s)}}}return e instanceof rv?e:null}decode(e,r,n){const i=r<0?this.builtInDecoders[-1-r]:this.decoders[r];return i?i(e,r,n):new rv(r,e)}}dA.defaultCodec=new dA;function qhe(t){return t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer}function n3(t){return t instanceof Uint8Array?t:ArrayBuffer.isView(t)?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):qhe(t)?new Uint8Array(t):Uint8Array.from(t)}const zhe=100,Ghe=2048;let Khe=class kW{constructor(e){this.entered=!1,this.extensionCodec=e?.extensionCodec??dA.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.maxDepth=e?.maxDepth??zhe,this.initialBufferSize=e?.initialBufferSize??Ghe,this.sortKeys=e?.sortKeys??!1,this.forceFloat32=e?.forceFloat32??!1,this.ignoreUndefined=e?.ignoreUndefined??!1,this.forceIntegerToFloat=e?.forceIntegerToFloat??!1,this.pos=0,this.view=new DataView(new ArrayBuffer(this.initialBufferSize)),this.bytes=new Uint8Array(this.view.buffer)}clone(){return new kW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,maxDepth:this.maxDepth,initialBufferSize:this.initialBufferSize,sortKeys:this.sortKeys,forceFloat32:this.forceFloat32,ignoreUndefined:this.ignoreUndefined,forceIntegerToFloat:this.forceIntegerToFloat})}reinitializeState(){this.pos=0}encodeSharedRef(e){if(this.entered)return this.clone().encodeSharedRef(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.subarray(0,this.pos)}finally{this.entered=!1}}encode(e){if(this.entered)return this.clone().encode(e);try{return this.entered=!0,this.reinitializeState(),this.doEncode(e,1),this.bytes.slice(0,this.pos)}finally{this.entered=!1}}doEncode(e,r){if(r>this.maxDepth)throw new Error(`Too deep objects in depth ${r}`);e==null?this.encodeNil():typeof e=="boolean"?this.encodeBoolean(e):typeof e=="number"?this.forceIntegerToFloat?this.encodeNumberAsFloat(e):this.encodeNumber(e):typeof e=="string"?this.encodeString(e):this.useBigInt64&&typeof e=="bigint"?this.encodeBigInt64(e):this.encodeObject(e,r)}ensureBufferSizeToWrite(e){const r=this.pos+e;this.view.byteLength<r&&this.resizeBuffer(r*2)}resizeBuffer(e){const r=new ArrayBuffer(e),n=new Uint8Array(r),i=new DataView(r);n.set(this.bytes),this.view=i,this.bytes=n}encodeNil(){this.writeU8(192)}encodeBoolean(e){e===!1?this.writeU8(194):this.writeU8(195)}encodeNumber(e){!this.forceIntegerToFloat&&Number.isSafeInteger(e)?e>=0?e<128?this.writeU8(e):e<256?(this.writeU8(204),this.writeU8(e)):e<65536?(this.writeU8(205),this.writeU16(e)):e<4294967296?(this.writeU8(206),this.writeU32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(207),this.writeU64(e)):e>=-32?this.writeU8(224|e+32):e>=-128?(this.writeU8(208),this.writeI8(e)):e>=-32768?(this.writeU8(209),this.writeI16(e)):e>=-2147483648?(this.writeU8(210),this.writeI32(e)):this.useBigInt64?this.encodeNumberAsFloat(e):(this.writeU8(211),this.writeI64(e)):this.encodeNumberAsFloat(e)}encodeNumberAsFloat(e){this.forceFloat32?(this.writeU8(202),this.writeF32(e)):(this.writeU8(203),this.writeF64(e))}encodeBigInt64(e){e>=BigInt(0)?(this.writeU8(207),this.writeBigUint64(e)):(this.writeU8(211),this.writeBigInt64(e))}writeStringHeader(e){if(e<32)this.writeU8(160+e);else if(e<256)this.writeU8(217),this.writeU8(e);else if(e<65536)this.writeU8(218),this.writeU16(e);else if(e<4294967296)this.writeU8(219),this.writeU32(e);else throw new Error(`Too long string: ${e} bytes in UTF-8`)}encodeString(e){const n=Ehe(e);this.ensureBufferSizeToWrite(5+n),this.writeStringHeader(n),She(e,this.bytes,this.pos),this.pos+=n}encodeObject(e,r){const n=this.extensionCodec.tryToEncode(e,this.context);if(n!=null)this.encodeExtension(n);else if(Array.isArray(e))this.encodeArray(e,r);else if(ArrayBuffer.isView(e))this.encodeBinary(e);else if(typeof e=="object")this.encodeMap(e,r);else throw new Error(`Unrecognized object: ${Object.prototype.toString.apply(e)}`)}encodeBinary(e){const r=e.byteLength;if(r<256)this.writeU8(196),this.writeU8(r);else if(r<65536)this.writeU8(197),this.writeU16(r);else if(r<4294967296)this.writeU8(198),this.writeU32(r);else throw new Error(`Too large binary: ${r}`);const n=n3(e);this.writeU8a(n)}encodeArray(e,r){const n=e.length;if(n<16)this.writeU8(144+n);else if(n<65536)this.writeU8(220),this.writeU16(n);else if(n<4294967296)this.writeU8(221),this.writeU32(n);else throw new Error(`Too large array: ${n}`);for(const i of e)this.doEncode(i,r+1)}countWithoutUndefined(e,r){let n=0;for(const i of r)e[i]!==void 0&&n++;return n}encodeMap(e,r){const n=Object.keys(e);this.sortKeys&&n.sort();const i=this.ignoreUndefined?this.countWithoutUndefined(e,n):n.length;if(i<16)this.writeU8(128+i);else if(i<65536)this.writeU8(222),this.writeU16(i);else if(i<4294967296)this.writeU8(223),this.writeU32(i);else throw new Error(`Too large map object: ${i}`);for(const s of n){const o=e[s];this.ignoreUndefined&&o===void 0||(this.encodeString(s),this.doEncode(o,r+1))}}encodeExtension(e){if(typeof e.data=="function"){const n=e.data(this.pos+6),i=n.length;if(i>=4294967296)throw new Error(`Too large extension object: ${i}`);this.writeU8(201),this.writeU32(i),this.writeI8(e.type),this.writeU8a(n);return}const r=e.data.length;if(r===1)this.writeU8(212);else if(r===2)this.writeU8(213);else if(r===4)this.writeU8(214);else if(r===8)this.writeU8(215);else if(r===16)this.writeU8(216);else if(r<256)this.writeU8(199),this.writeU8(r);else if(r<65536)this.writeU8(200),this.writeU16(r);else if(r<4294967296)this.writeU8(201),this.writeU32(r);else throw new Error(`Too large extension object: ${r}`);this.writeI8(e.type),this.writeU8a(e.data)}writeU8(e){this.ensureBufferSizeToWrite(1),this.view.setUint8(this.pos,e),this.pos++}writeU8a(e){const r=e.length;this.ensureBufferSizeToWrite(r),this.bytes.set(e,this.pos),this.pos+=r}writeI8(e){this.ensureBufferSizeToWrite(1),this.view.setInt8(this.pos,e),this.pos++}writeU16(e){this.ensureBufferSizeToWrite(2),this.view.setUint16(this.pos,e),this.pos+=2}writeI16(e){this.ensureBufferSizeToWrite(2),this.view.setInt16(this.pos,e),this.pos+=2}writeU32(e){this.ensureBufferSizeToWrite(4),this.view.setUint32(this.pos,e),this.pos+=4}writeI32(e){this.ensureBufferSizeToWrite(4),this.view.setInt32(this.pos,e),this.pos+=4}writeF32(e){this.ensureBufferSizeToWrite(4),this.view.setFloat32(this.pos,e),this.pos+=4}writeF64(e){this.ensureBufferSizeToWrite(8),this.view.setFloat64(this.pos,e),this.pos+=8}writeU64(e){this.ensureBufferSizeToWrite(8),Dhe(this.view,this.pos,e),this.pos+=8}writeI64(e){this.ensureBufferSizeToWrite(8),OW(this.view,this.pos,e),this.pos+=8}writeBigUint64(e){this.ensureBufferSizeToWrite(8),this.view.setBigUint64(this.pos,e),this.pos+=8}writeBigInt64(e){this.ensureBufferSizeToWrite(8),this.view.setBigInt64(this.pos,e),this.pos+=8}};function Vhe(t,e){return new Khe(e).encodeSharedRef(t)}function BN(t){return`${t<0?"-":""}0x${Math.abs(t).toString(16).padStart(2,"0")}`}const Jhe=16,Yhe=16;class Xhe{constructor(e=Jhe,r=Yhe){this.hit=0,this.miss=0,this.maxKeyLength=e,this.maxLengthPerKey=r,this.caches=[];for(let n=0;n<this.maxKeyLength;n++)this.caches.push([])}canBeCached(e){return e>0&&e<=this.maxKeyLength}find(e,r,n){const i=this.caches[n-1];e:for(const s of i){const o=s.bytes;for(let a=0;a<n;a++)if(o[a]!==e[r+a])continue e;return s.str}return null}store(e,r){const n=this.caches[e.length-1],i={bytes:e,str:r};n.length>=this.maxLengthPerKey?n[Math.random()*n.length|0]=i:n.push(i)}decode(e,r,n){const i=this.find(e,r,n);if(i!=null)return this.hit++,i;this.miss++;const s=PW(e,r,n),o=Uint8Array.prototype.slice.call(e,r,r+n);return this.store(o,s),s}}const i3="array",w_="map_key",MW="map_value",Qhe=t=>{if(typeof t=="string"||typeof t=="number")return t;throw new ta("The type of key must be string or number but "+typeof t)};class Zhe{constructor(){this.stack=[],this.stackHeadPosition=-1}get length(){return this.stackHeadPosition+1}top(){return this.stack[this.stackHeadPosition]}pushArrayState(e){const r=this.getUninitializedStateFromPool();r.type=i3,r.position=0,r.size=e,r.array=new Array(e)}pushMapState(e){const r=this.getUninitializedStateFromPool();r.type=w_,r.readCount=0,r.size=e,r.map={}}getUninitializedStateFromPool(){if(this.stackHeadPosition++,this.stackHeadPosition===this.stack.length){const e={type:void 0,size:0,array:void 0,position:0,readCount:0,map:void 0,key:null};this.stack.push(e)}return this.stack[this.stackHeadPosition]}release(e){if(this.stack[this.stackHeadPosition]!==e)throw new Error("Invalid stack state. Released state is not on top of the stack.");if(e.type===i3){const n=e;n.size=0,n.array=void 0,n.position=0,n.type=void 0}if(e.type===w_||e.type===MW){const n=e;n.size=0,n.map=void 0,n.readCount=0,n.type=void 0}this.stackHeadPosition--}reset(){this.stack.length=0,this.stackHeadPosition=-1}}const Ny=-1,$P=new DataView(new ArrayBuffer(0)),e0e=new Uint8Array($P.buffer);try{$P.getInt8(0)}catch(t){if(!(t instanceof RangeError))throw new Error("This module is not supported in the current JavaScript engine because DataView does not throw RangeError on out-of-bounds access")}const ik=new RangeError("Insufficient data"),t0e=new Xhe;let r0e=class UW{constructor(e){this.totalPos=0,this.pos=0,this.view=$P,this.bytes=e0e,this.headByte=Ny,this.stack=new Zhe,this.entered=!1,this.extensionCodec=e?.extensionCodec??dA.defaultCodec,this.context=e?.context,this.useBigInt64=e?.useBigInt64??!1,this.rawStrings=e?.rawStrings??!1,this.maxStrLength=e?.maxStrLength??Cy,this.maxBinLength=e?.maxBinLength??Cy,this.maxArrayLength=e?.maxArrayLength??Cy,this.maxMapLength=e?.maxMapLength??Cy,this.maxExtLength=e?.maxExtLength??Cy,this.keyDecoder=e?.keyDecoder!==void 0?e.keyDecoder:t0e,this.mapKeyConverter=e?.mapKeyConverter??Qhe}clone(){return new UW({extensionCodec:this.extensionCodec,context:this.context,useBigInt64:this.useBigInt64,rawStrings:this.rawStrings,maxStrLength:this.maxStrLength,maxBinLength:this.maxBinLength,maxArrayLength:this.maxArrayLength,maxMapLength:this.maxMapLength,maxExtLength:this.maxExtLength,keyDecoder:this.keyDecoder})}reinitializeState(){this.totalPos=0,this.headByte=Ny,this.stack.reset()}setBuffer(e){const r=n3(e);this.bytes=r,this.view=new DataView(r.buffer,r.byteOffset,r.byteLength),this.pos=0}appendBuffer(e){if(this.headByte===Ny&&!this.hasRemaining(1))this.setBuffer(e);else{const r=this.bytes.subarray(this.pos),n=n3(e),i=new Uint8Array(r.length+n.length);i.set(r),i.set(n,r.length),this.setBuffer(i)}}hasRemaining(e){return this.view.byteLength-this.pos>=e}createExtraByteError(e){const{view:r,pos:n}=this;return new RangeError(`Extra ${r.byteLength-n} of ${r.byteLength} byte(s) found at buffer[${e}]`)}decode(e){if(this.entered)return this.clone().decode(e);try{this.entered=!0,this.reinitializeState(),this.setBuffer(e);const r=this.doDecodeSync();if(this.hasRemaining(1))throw this.createExtraByteError(this.pos);return r}finally{this.entered=!1}}*decodeMulti(e){if(this.entered){yield*this.clone().decodeMulti(e);return}try{for(this.entered=!0,this.reinitializeState(),this.setBuffer(e);this.hasRemaining(1);)yield this.doDecodeSync()}finally{this.entered=!1}}async decodeAsync(e){if(this.entered)return this.clone().decodeAsync(e);try{this.entered=!0;let r=!1,n;for await(const a of e){if(r)throw this.entered=!1,this.createExtraByteError(this.totalPos);this.appendBuffer(a);try{n=this.doDecodeSync(),r=!0}catch(c){if(!(c instanceof RangeError))throw c}this.totalPos+=this.pos}if(r){if(this.hasRemaining(1))throw this.createExtraByteError(this.totalPos);return n}const{headByte:i,pos:s,totalPos:o}=this;throw new RangeError(`Insufficient data in parsing ${BN(i)} at ${o} (${s} in the current buffer)`)}finally{this.entered=!1}}decodeArrayStream(e){return this.decodeMultiAsync(e,!0)}decodeStream(e){return this.decodeMultiAsync(e,!1)}async*decodeMultiAsync(e,r){if(this.entered){yield*this.clone().decodeMultiAsync(e,r);return}try{this.entered=!0;let n=r,i=-1;for await(const s of e){if(r&&i===0)throw this.createExtraByteError(this.totalPos);this.appendBuffer(s),n&&(i=this.readArraySize(),n=!1,this.complete());try{for(;yield this.doDecodeSync(),--i!==0;);}catch(o){if(!(o instanceof RangeError))throw o}this.totalPos+=this.pos}}finally{this.entered=!1}}doDecodeSync(){e:for(;;){const e=this.readHeadByte();let r;if(e>=224)r=e-256;else if(e<192)if(e<128)r=e;else if(e<144){const i=e-128;if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e<160){const i=e-144;if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else{const i=e-160;r=this.decodeString(i,0)}else if(e===192)r=null;else if(e===194)r=!1;else if(e===195)r=!0;else if(e===202)r=this.readF32();else if(e===203)r=this.readF64();else if(e===204)r=this.readU8();else if(e===205)r=this.readU16();else if(e===206)r=this.readU32();else if(e===207)this.useBigInt64?r=this.readU64AsBigInt():r=this.readU64();else if(e===208)r=this.readI8();else if(e===209)r=this.readI16();else if(e===210)r=this.readI32();else if(e===211)this.useBigInt64?r=this.readI64AsBigInt():r=this.readI64();else if(e===217){const i=this.lookU8();r=this.decodeString(i,1)}else if(e===218){const i=this.lookU16();r=this.decodeString(i,2)}else if(e===219){const i=this.lookU32();r=this.decodeString(i,4)}else if(e===220){const i=this.readU16();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===221){const i=this.readU32();if(i!==0){this.pushArrayState(i),this.complete();continue e}else r=[]}else if(e===222){const i=this.readU16();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===223){const i=this.readU32();if(i!==0){this.pushMapState(i),this.complete();continue e}else r={}}else if(e===196){const i=this.lookU8();r=this.decodeBinary(i,1)}else if(e===197){const i=this.lookU16();r=this.decodeBinary(i,2)}else if(e===198){const i=this.lookU32();r=this.decodeBinary(i,4)}else if(e===212)r=this.decodeExtension(1,0);else if(e===213)r=this.decodeExtension(2,0);else if(e===214)r=this.decodeExtension(4,0);else if(e===215)r=this.decodeExtension(8,0);else if(e===216)r=this.decodeExtension(16,0);else if(e===199){const i=this.lookU8();r=this.decodeExtension(i,1)}else if(e===200){const i=this.lookU16();r=this.decodeExtension(i,2)}else if(e===201){const i=this.lookU32();r=this.decodeExtension(i,4)}else throw new ta(`Unrecognized type byte: ${BN(e)}`);this.complete();const n=this.stack;for(;n.length>0;){const i=n.top();if(i.type===i3)if(i.array[i.position]=r,i.position++,i.position===i.size)r=i.array,n.release(i);else continue e;else if(i.type===w_){if(r==="__proto__")throw new ta("The key __proto__ is not allowed");i.key=this.mapKeyConverter(r),i.type=MW;continue e}else if(i.map[i.key]=r,i.readCount++,i.readCount===i.size)r=i.map,n.release(i);else{i.key=null,i.type=w_;continue e}}return r}}readHeadByte(){return this.headByte===Ny&&(this.headByte=this.readU8()),this.headByte}complete(){this.headByte=Ny}readArraySize(){const e=this.readHeadByte();switch(e){case 220:return this.readU16();case 221:return this.readU32();default:{if(e<160)return e-144;throw new ta(`Unrecognized array type byte: ${BN(e)}`)}}}pushMapState(e){if(e>this.maxMapLength)throw new ta(`Max length exceeded: map length (${e}) > maxMapLengthLength (${this.maxMapLength})`);this.stack.pushMapState(e)}pushArrayState(e){if(e>this.maxArrayLength)throw new ta(`Max length exceeded: array length (${e}) > maxArrayLength (${this.maxArrayLength})`);this.stack.pushArrayState(e)}decodeString(e,r){return!this.rawStrings||this.stateIsMapKey()?this.decodeUtf8String(e,r):this.decodeBinary(e,r)}decodeUtf8String(e,r){if(e>this.maxStrLength)throw new ta(`Max length exceeded: UTF-8 byte length (${e}) > maxStrLength (${this.maxStrLength})`);if(this.bytes.byteLength<this.pos+r+e)throw ik;const n=this.pos+r;let i;return this.stateIsMapKey()&&this.keyDecoder?.canBeCached(e)?i=this.keyDecoder.decode(this.bytes,n,e):i=Ohe(this.bytes,n,e),this.pos+=r+e,i}stateIsMapKey(){return this.stack.length>0?this.stack.top().type===w_:!1}decodeBinary(e,r){if(e>this.maxBinLength)throw new ta(`Max length exceeded: bin length (${e}) > maxBinLength (${this.maxBinLength})`);if(!this.hasRemaining(e+r))throw ik;const n=this.pos+r,i=this.bytes.subarray(n,n+e);return this.pos+=r+e,i}decodeExtension(e,r){if(e>this.maxExtLength)throw new ta(`Max length exceeded: ext length (${e}) > maxExtLength (${this.maxExtLength})`);const n=this.view.getInt8(this.pos+r),i=this.decodeBinary(e,r+1);return this.extensionCodec.decode(i,n,this.context)}lookU8(){return this.view.getUint8(this.pos)}lookU16(){return this.view.getUint16(this.pos)}lookU32(){return this.view.getUint32(this.pos)}readU8(){const e=this.view.getUint8(this.pos);return this.pos++,e}readI8(){const e=this.view.getInt8(this.pos);return this.pos++,e}readU16(){const e=this.view.getUint16(this.pos);return this.pos+=2,e}readI16(){const e=this.view.getInt16(this.pos);return this.pos+=2,e}readU32(){const e=this.view.getUint32(this.pos);return this.pos+=4,e}readI32(){const e=this.view.getInt32(this.pos);return this.pos+=4,e}readU64(){const e=khe(this.view,this.pos);return this.pos+=8,e}readI64(){const e=DW(this.view,this.pos);return this.pos+=8,e}readU64AsBigInt(){const e=this.view.getBigUint64(this.pos);return this.pos+=8,e}readI64AsBigInt(){const e=this.view.getBigInt64(this.pos);return this.pos+=8,e}readF32(){const e=this.view.getFloat32(this.pos);return this.pos+=4,e}readF64(){const e=this.view.getFloat64(this.pos);return this.pos+=8,e}};function n0e(t,e){return new r0e(e).decode(t)}/*! scure-base - MIT License (c) 2022 Paul Miller (paulmillr.com) */function i0e(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function LW(t,e){return Array.isArray(e)?e.length===0?!0:t?e.every(r=>typeof r=="string"):e.every(r=>Number.isSafeInteger(r)):!1}function hA(t,e){if(typeof e!="string")throw new Error(`${t}: string expected`);return!0}function FP(t){if(!Number.isSafeInteger(t))throw new Error(`invalid integer: ${t}`)}function s3(t){if(!Array.isArray(t))throw new Error("array expected")}function pA(t,e){if(!LW(!0,e))throw new Error(`${t}: array of strings expected`)}function s0e(t,e){if(!LW(!1,e))throw new Error(`${t}: array of numbers expected`)}function o0e(...t){const e=s=>s,r=(s,o)=>a=>s(o(a)),n=t.map(s=>s.encode).reduceRight(r,e),i=t.map(s=>s.decode).reduce(r,e);return{encode:n,decode:i}}function a0e(t){const e=typeof t=="string"?t.split(""):t,r=e.length;pA("alphabet",e);const n=new Map(e.map((i,s)=>[i,s]));return{encode:i=>(s3(i),i.map(s=>{if(!Number.isSafeInteger(s)||s<0||s>=r)throw new Error(`alphabet.encode: digit index outside alphabet "${s}". Allowed: ${t}`);return e[s]})),decode:i=>(s3(i),i.map(s=>{hA("alphabet.decode",s);const o=n.get(s);if(o===void 0)throw new Error(`Unknown letter: "${s}". Allowed: ${t}`);return o}))}}function c0e(t=""){return hA("join",t),{encode:e=>(pA("join.decode",e),e.join(t)),decode:e=>(hA("join.decode",e),e.split(t))}}function l0e(t,e="="){return FP(t),hA("padding",e),{encode(r){for(pA("padding.encode",r);r.length*t%8;)r.push(e);return r},decode(r){pA("padding.decode",r);let n=r.length;if(n*t%8)throw new Error("padding: invalid, string should have whole number of bytes");for(;n>0&&r[n-1]===e;n--)if((n-1)*t%8===0)throw new Error("padding: invalid, string has too much padding");return r.slice(0,n)}}}const $W=(t,e)=>e===0?t:$W(e,t%e),gA=(t,e)=>t+(e-$W(t,e)),HN=(()=>{let t=[];for(let e=0;e<40;e++)t.push(2**e);return t})();function sk(t,e,r,n){if(s3(t),e<=0||e>32)throw new Error(`convertRadix2: wrong from=${e}`);if(r<=0||r>32)throw new Error(`convertRadix2: wrong to=${r}`);if(gA(e,r)>32)throw new Error(`convertRadix2: carry overflow from=${e} to=${r} carryBits=${gA(e,r)}`);let i=0,s=0;const o=HN[e],a=HN[r]-1,c=[];for(const l of t){if(FP(l),l>=o)throw new Error(`convertRadix2: invalid data word=${l} from=${e}`);if(i=i<<e|l,s+e>32)throw new Error(`convertRadix2: carry overflow pos=${s} from=${e}`);for(s+=e;s>=r;s-=r)c.push((i>>s-r&a)>>>0);const u=HN[s];if(u===void 0)throw new Error("invalid carry");i&=u-1}if(i=i<<r-s&a,!n&&s>=e)throw new Error("Excess padding");if(!n&&i>0)throw new Error(`Non-zero padding: ${i}`);return n&&s>0&&c.push(i>>>0),c}function u0e(t,e=!1){if(FP(t),t<=0||t>32)throw new Error("radix2: bits should be in (0..32]");if(gA(8,t)>32||gA(t,8)>32)throw new Error("radix2: carry overflow");return{encode:r=>{if(!i0e(r))throw new Error("radix2.encode input should be Uint8Array");return sk(Array.from(r),8,t,!e)},decode:r=>(s0e("radix2.decode",r),Uint8Array.from(sk(r,t,8,e)))}}const f0e=o0e(u0e(5),a0e("ABCDEFGHIJKLMNOPQRSTUVWXYZ234567"),l0e(5),c0e(""));function BP(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function FW(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?BP(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function v_(t,e){e||(e=t.reduce((i,s)=>i+s.length,0));const r=FW(e);let n=0;for(const i of t)r.set(i,n),n+=i.length;return BP(r)}function d0e(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var m=0,b=0,A=0,N=_.length;A!==N&&_[A]===0;)A++,m++;for(var R=(N-A)*u+1>>>0,k=new Uint8Array(R);A!==N;){for(var M=_[A],D=0,H=R-1;(M!==0||D<b)&&H!==-1;H--,D++)M+=256*k[H]>>>0,k[H]=M%a>>>0,M=M/a>>>0;if(M!==0)throw new Error("Non-zero carry");b=D,A++}for(var S=R-b;S!==R&&k[S]===0;)S++;for(var C=c.repeat(m);S<R;++S)C+=t.charAt(k[S]);return C}function h(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var m=0;if(_[m]!==" "){for(var b=0,A=0;_[m]===c;)b++,m++;for(var N=(_.length-m)*l+1>>>0,R=new Uint8Array(N);_[m];){var k=r[_.charCodeAt(m)];if(k===255)return;for(var M=0,D=N-1;(k!==0||M<A)&&D!==-1;D--,M++)k+=a*R[D]>>>0,R[D]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");A=M,m++}if(_[m]!==" "){for(var H=N-A;H!==N&&R[H]===0;)H++;for(var S=new Uint8Array(b+(N-H)),C=b;H!==N;)S[C++]=R[H++];return S}}}function g(_){var m=h(_);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:g}}var h0e=d0e,p0e=h0e;const g0e=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},m0e=t=>new TextEncoder().encode(t),y0e=t=>new TextDecoder().decode(t);class _0e{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class b0e{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return BW(this,e)}}class w0e{constructor(e){this.decoders=e}or(e){return BW(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const BW=(t,e)=>new w0e({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class v0e{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new _0e(e,r,n),this.decoder=new b0e(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const $x=({name:t,prefix:e,encode:r,decode:n})=>new v0e(t,e,r,n),P1=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=p0e(r,e);return $x({prefix:t,name:e,encode:n,decode:s=>g0e(i(s))})},E0e=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},A0e=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},ps=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>$x({prefix:e,name:t,encode(i){return A0e(i,n,r)},decode(i){return E0e(i,n,r,t)}}),x0e=$x({prefix:"\0",name:"identity",encode:t=>y0e(t),decode:t=>m0e(t)}),C0e=Object.freeze(Object.defineProperty({__proto__:null,identity:x0e},Symbol.toStringTag,{value:"Module"})),N0e=ps({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1}),S0e=Object.freeze(Object.defineProperty({__proto__:null,base2:N0e},Symbol.toStringTag,{value:"Module"})),T0e=ps({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3}),I0e=Object.freeze(Object.defineProperty({__proto__:null,base8:T0e},Symbol.toStringTag,{value:"Module"})),R0e=P1({prefix:"9",name:"base10",alphabet:"0123456789"}),P0e=Object.freeze(Object.defineProperty({__proto__:null,base10:R0e},Symbol.toStringTag,{value:"Module"})),O0e=ps({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),D0e=ps({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4}),k0e=Object.freeze(Object.defineProperty({__proto__:null,base16:O0e,base16upper:D0e},Symbol.toStringTag,{value:"Module"})),M0e=ps({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),U0e=ps({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),L0e=ps({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),$0e=ps({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),F0e=ps({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),B0e=ps({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),H0e=ps({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),j0e=ps({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),W0e=ps({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5}),q0e=Object.freeze(Object.defineProperty({__proto__:null,base32:M0e,base32hex:F0e,base32hexpad:H0e,base32hexpadupper:j0e,base32hexupper:B0e,base32pad:L0e,base32padupper:$0e,base32upper:U0e,base32z:W0e},Symbol.toStringTag,{value:"Module"})),z0e=P1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),G0e=P1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"}),K0e=Object.freeze(Object.defineProperty({__proto__:null,base36:z0e,base36upper:G0e},Symbol.toStringTag,{value:"Module"})),V0e=P1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),J0e=P1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"}),Y0e=Object.freeze(Object.defineProperty({__proto__:null,base58btc:V0e,base58flickr:J0e},Symbol.toStringTag,{value:"Module"})),X0e=ps({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),Q0e=ps({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),Z0e=ps({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),epe=ps({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6}),tpe=Object.freeze(Object.defineProperty({__proto__:null,base64:X0e,base64pad:Q0e,base64url:Z0e,base64urlpad:epe},Symbol.toStringTag,{value:"Module"})),HW=Array.from(""),rpe=HW.reduce((t,e,r)=>(t[r]=e,t),[]),npe=HW.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function ipe(t){return t.reduce((e,r)=>(e+=rpe[r],e),"")}function spe(t){const e=[];for(const r of t){const n=npe[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const ope=$x({prefix:"",name:"base256emoji",encode:ipe,decode:spe}),ape=Object.freeze(Object.defineProperty({__proto__:null,base256emoji:ope},Symbol.toStringTag,{value:"Module"}));new TextEncoder;new TextDecoder;const ok={...C0e,...S0e,...I0e,...P0e,...k0e,...q0e,...K0e,...Y0e,...tpe,...ape};function jW(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const ak=jW("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),jN=jW("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=FW(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),WW={utf8:ak,"utf-8":ak,hex:ok.base16,latin1:jN,ascii:jN,binary:jN,...ok};function rc(t,e="utf8"){const r=WW[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?BP(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}function Bo(t,e="utf8"){const r=WW[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?globalThis.Buffer.from(t.buffer,t.byteOffset,t.byteLength).toString("utf8"):r.encoder.encode(t).substring(1)}const cpe={waku:{publish:"waku_publish",batchPublish:"waku_batchPublish",subscribe:"waku_subscribe",batchSubscribe:"waku_batchSubscribe",subscription:"waku_subscription",unsubscribe:"waku_unsubscribe",batchUnsubscribe:"waku_batchUnsubscribe",batchFetchMessages:"waku_batchFetchMessages"},irn:{publish:"irn_publish",batchPublish:"irn_batchPublish",subscribe:"irn_subscribe",batchSubscribe:"irn_batchSubscribe",subscription:"irn_subscription",unsubscribe:"irn_unsubscribe",batchUnsubscribe:"irn_batchUnsubscribe",batchFetchMessages:"irn_batchFetchMessages"},iridium:{publish:"iridium_publish",batchPublish:"iridium_batchPublish",subscribe:"iridium_subscribe",batchSubscribe:"iridium_batchSubscribe",subscription:"iridium_subscription",unsubscribe:"iridium_unsubscribe",batchUnsubscribe:"iridium_batchUnsubscribe",batchFetchMessages:"iridium_batchFetchMessages"}};var WN,ck;function qW(){if(ck)return WN;ck=1;const t="Input must be an string, Buffer or Uint8Array";function e(o){let a;if(o instanceof Uint8Array)a=o;else if(typeof o=="string")a=new TextEncoder().encode(o);else throw new Error(t);return a}function r(o){return Array.prototype.map.call(o,function(a){return(a<16?"0":"")+a.toString(16)}).join("")}function n(o){return(4294967296+o).toString(16).substring(1)}function i(o,a,c){let l=`
`+o+" = ";for(let u=0;u<a.length;u+=2){if(c===32)l+=n(a[u]).toUpperCase(),l+=" ",l+=n(a[u+1]).toUpperCase();else if(c===64)l+=n(a[u+1]).toUpperCase(),l+=n(a[u]).toUpperCase();else throw new Error("Invalid size "+c);u%6===4?l+=`
`+new Array(o.length+4).join(" "):u<a.length-2&&(l+=" ")}console.log(l)}function s(o,a,c){let l=new Date().getTime();const u=new Uint8Array(a);for(let h=0;h<a;h++)u[h]=h%256;const f=new Date().getTime();console.log("Generated random input in "+(f-l)+"ms"),l=f;for(let h=0;h<c;h++){const g=o(u),_=new Date().getTime(),m=_-l;l=_,console.log("Hashed in "+m+"ms: "+g.substring(0,20)+"..."),console.log(Math.round(a/(1<<20)/(m/1e3)*100)/100+" MB PER SECOND")}}return WN={normalizeInput:e,toHex:r,debugPrint:i,testSpeed:s},WN}var qN,lk;function lpe(){if(lk)return qN;lk=1;const t=qW();function e(A,N,R){const k=A[N]+A[R];let M=A[N+1]+A[R+1];k>=4294967296&&M++,A[N]=k,A[N+1]=M}function r(A,N,R,k){let M=A[N]+R;R<0&&(M+=4294967296);let D=A[N+1]+k;M>=4294967296&&D++,A[N]=M,A[N+1]=D}function n(A,N){return A[N]^A[N+1]<<8^A[N+2]<<16^A[N+3]<<24}function i(A,N,R,k,M,D){const H=l[M],S=l[M+1],C=l[D],$=l[D+1];e(c,A,N),r(c,A,H,S);let B=c[k]^c[A],O=c[k+1]^c[A+1];c[k]=O,c[k+1]=B,e(c,R,k),B=c[N]^c[R],O=c[N+1]^c[R+1],c[N]=B>>>24^O<<8,c[N+1]=O>>>24^B<<8,e(c,A,N),r(c,A,C,$),B=c[k]^c[A],O=c[k+1]^c[A+1],c[k]=B>>>16^O<<16,c[k+1]=O>>>16^B<<16,e(c,R,k),B=c[N]^c[R],O=c[N+1]^c[R+1],c[N]=O>>>31^B<<1,c[N+1]=B>>>31^O<<1}const s=new Uint32Array([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),o=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3],a=new Uint8Array(o.map(function(A){return A*2})),c=new Uint32Array(32),l=new Uint32Array(32);function u(A,N){let R=0;for(R=0;R<16;R++)c[R]=A.h[R],c[R+16]=s[R];for(c[24]=c[24]^A.t,c[25]=c[25]^A.t/4294967296,N&&(c[28]=~c[28],c[29]=~c[29]),R=0;R<32;R++)l[R]=n(A.b,4*R);for(R=0;R<12;R++)i(0,8,16,24,a[R*16+0],a[R*16+1]),i(2,10,18,26,a[R*16+2],a[R*16+3]),i(4,12,20,28,a[R*16+4],a[R*16+5]),i(6,14,22,30,a[R*16+6],a[R*16+7]),i(0,10,20,30,a[R*16+8],a[R*16+9]),i(2,12,22,24,a[R*16+10],a[R*16+11]),i(4,14,16,26,a[R*16+12],a[R*16+13]),i(6,8,18,28,a[R*16+14],a[R*16+15]);for(R=0;R<16;R++)A.h[R]=A.h[R]^c[R]^c[R+16]}const f=new Uint8Array([0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]);function h(A,N,R,k){if(A===0||A>64)throw new Error("Illegal output length, expected 0 < length <= 64");if(N&&N.length>64)throw new Error("Illegal key, expected Uint8Array with 0 < length <= 64");if(R&&R.length!==16)throw new Error("Illegal salt, expected Uint8Array with length is 16");if(k&&k.length!==16)throw new Error("Illegal personal, expected Uint8Array with length is 16");const M={b:new Uint8Array(128),h:new Uint32Array(16),t:0,c:0,outlen:A};f.fill(0),f[0]=A,N&&(f[1]=N.length),f[2]=1,f[3]=1,R&&f.set(R,32),k&&f.set(k,48);for(let D=0;D<16;D++)M.h[D]=s[D]^n(f,D*4);return N&&(g(M,N),M.c=128),M}function g(A,N){for(let R=0;R<N.length;R++)A.c===128&&(A.t+=A.c,u(A,!1),A.c=0),A.b[A.c++]=N[R]}function _(A){for(A.t+=A.c;A.c<128;)A.b[A.c++]=0;u(A,!0);const N=new Uint8Array(A.outlen);for(let R=0;R<A.outlen;R++)N[R]=A.h[R>>2]>>8*(R&3);return N}function m(A,N,R,k,M){R=R||64,A=t.normalizeInput(A),k&&(k=t.normalizeInput(k)),M&&(M=t.normalizeInput(M));const D=h(R,N,k,M);return g(D,A),_(D)}function b(A,N,R,k,M){const D=m(A,N,R,k,M);return t.toHex(D)}return qN={blake2b:m,blake2bHex:b,blake2bInit:h,blake2bUpdate:g,blake2bFinal:_},qN}var zN,uk;function upe(){if(uk)return zN;uk=1;const t=qW();function e(_,m){return _[m]^_[m+1]<<8^_[m+2]<<16^_[m+3]<<24}function r(_,m,b,A,N,R){o[_]=o[_]+o[m]+N,o[A]=n(o[A]^o[_],16),o[b]=o[b]+o[A],o[m]=n(o[m]^o[b],12),o[_]=o[_]+o[m]+R,o[A]=n(o[A]^o[_],8),o[b]=o[b]+o[A],o[m]=n(o[m]^o[b],7)}function n(_,m){return _>>>m^_<<32-m}const i=new Uint32Array([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),s=new Uint8Array([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0]),o=new Uint32Array(16),a=new Uint32Array(16);function c(_,m){let b=0;for(b=0;b<8;b++)o[b]=_.h[b],o[b+8]=i[b];for(o[12]^=_.t,o[13]^=_.t/4294967296,m&&(o[14]=~o[14]),b=0;b<16;b++)a[b]=e(_.b,4*b);for(b=0;b<10;b++)r(0,4,8,12,a[s[b*16+0]],a[s[b*16+1]]),r(1,5,9,13,a[s[b*16+2]],a[s[b*16+3]]),r(2,6,10,14,a[s[b*16+4]],a[s[b*16+5]]),r(3,7,11,15,a[s[b*16+6]],a[s[b*16+7]]),r(0,5,10,15,a[s[b*16+8]],a[s[b*16+9]]),r(1,6,11,12,a[s[b*16+10]],a[s[b*16+11]]),r(2,7,8,13,a[s[b*16+12]],a[s[b*16+13]]),r(3,4,9,14,a[s[b*16+14]],a[s[b*16+15]]);for(b=0;b<8;b++)_.h[b]^=o[b]^o[b+8]}function l(_,m){if(!(_>0&&_<=32))throw new Error("Incorrect output length, should be in [1, 32]");const b=m?m.length:0;if(m&&!(b>0&&b<=32))throw new Error("Incorrect key length, should be in [1, 32]");const A={h:new Uint32Array(i),b:new Uint8Array(64),c:0,t:0,outlen:_};return A.h[0]^=16842752^b<<8^_,b>0&&(u(A,m),A.c=64),A}function u(_,m){for(let b=0;b<m.length;b++)_.c===64&&(_.t+=_.c,c(_,!1),_.c=0),_.b[_.c++]=m[b]}function f(_){for(_.t+=_.c;_.c<64;)_.b[_.c++]=0;c(_,!0);const m=new Uint8Array(_.outlen);for(let b=0;b<_.outlen;b++)m[b]=_.h[b>>2]>>8*(b&3)&255;return m}function h(_,m,b){b=b||32,_=t.normalizeInput(_);const A=l(b,m);return u(A,_),f(A)}function g(_,m,b){const A=h(_,m,b);return t.toHex(A)}return zN={blake2s:h,blake2sHex:g,blake2sInit:l,blake2sUpdate:u,blake2sFinal:f},zN}var GN,fk;function fpe(){if(fk)return GN;fk=1;const t=lpe(),e=upe();return GN={blake2b:t.blake2b,blake2bHex:t.blake2bHex,blake2bInit:t.blake2bInit,blake2bUpdate:t.blake2bUpdate,blake2bFinal:t.blake2bFinal,blake2s:e.blake2s,blake2sHex:e.blake2sHex,blake2sInit:e.blake2sInit,blake2sUpdate:e.blake2sUpdate,blake2sFinal:e.blake2sFinal},GN}var dpe=fpe(),hpe={};const ppe=":";function R0(t){const[e,r]=t.split(ppe);return{namespace:e,reference:r}}function zW(t,e){return t.includes(":")?[t]:e.chains||[]}var gpe=Object.defineProperty,mpe=Object.defineProperties,ype=Object.getOwnPropertyDescriptors,dk=Object.getOwnPropertySymbols,_pe=Object.prototype.hasOwnProperty,bpe=Object.prototype.propertyIsEnumerable,o3=(t,e,r)=>e in t?gpe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hk=(t,e)=>{for(var r in e||(e={}))_pe.call(e,r)&&o3(t,r,e[r]);if(dk)for(var r of dk(e))bpe.call(e,r)&&o3(t,r,e[r]);return t},wpe=(t,e)=>mpe(t,ype(e)),pk=(t,e,r)=>o3(t,typeof e!="symbol"?e+"":e,r);const vpe="ReactNative",ga={reactNative:"react-native",node:"node",browser:"browser",unknown:"unknown"},Epe="js";function mA(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}function Ch(){return!Vf.getDocument()&&!!Vf.getNavigator()&&navigator.product===vpe}function Ape(){return Ch()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="android"}function xpe(){return Ch()&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"&&(global==null?void 0:global.Platform.OS)==="ios"}function Sm(){return!mA()&&!!Vf.getNavigator()&&!!Vf.getDocument()}function O1(){return Ch()?ga.reactNative:mA()?ga.node:Sm()?ga.browser:ga.unknown}function gk(){var t;try{return Ch()&&typeof global<"u"&&typeof(global==null?void 0:global.Application)<"u"?(t=global.Application)==null?void 0:t.applicationId:void 0}catch{return}}function Cpe(t,e){const r=new URLSearchParams(t);for(const n of Object.keys(e).sort())if(e.hasOwnProperty(n)){const i=e[n];i!==void 0&&r.set(n,i)}return r.toString()}function Npe(t){var e,r;const n=GW();try{return t!=null&&t.url&&n.url&&new URL(t.url).host!==new URL(n.url).host&&(console.warn(`The configured WalletConnect 'metadata.url':${t.url} differs from the actual page url:${n.url}. This is probably unintended and can lead to issues.`),t.url=n.url),(e=t?.icons)!=null&&e.length&&t.icons.length>0&&(t.icons=t.icons.filter(i=>i!=="")),wpe(hk(hk({},n),t),{url:t?.url||n.url,name:t?.name||n.name,description:t?.description||n.description,icons:(r=t?.icons)!=null&&r.length&&t.icons.length>0?t.icons:n.icons})}catch(i){return console.warn("Error populating app metadata",i),t||n}}function GW(){return the.getWindowMetadata()||{name:"",description:"",url:"",icons:[""]}}function Spe(){if(O1()===ga.reactNative&&typeof global<"u"&&typeof(global==null?void 0:global.Platform)<"u"){const{OS:r,Version:n}=global.Platform;return[r,n].join("-")}const t=Vde();if(t===null)return"unknown";const e=t.os?t.os.replace(" ","").toLowerCase():"unknown";return t.type==="browser"?[e,t.name,t.version].join("-"):[e,t.version].join("-")}function Tpe(){var t;const e=O1();return e===ga.browser?[e,((t=Vf.getLocation())==null?void 0:t.host)||"unknown"].join(":"):e}function KW(t,e,r){const n=Spe(),i=Tpe();return[[t,e].join("-"),[Epe,r].join("-"),n,i].join("/")}function Ipe({protocol:t,version:e,relayUrl:r,sdkVersion:n,auth:i,projectId:s,useOnCloseEvent:o,bundleId:a,packageName:c}){const l=r.split("?"),u=KW(t,e,n),f={auth:i,ua:u,projectId:s,useOnCloseEvent:o,packageName:c||void 0,bundleId:a||void 0},h=Cpe(l[1]||"",f);return l[0]+"?"+h}function b0(t,e){return t.filter(r=>e.includes(r)).length===t.length}function a3(t){return Object.fromEntries(t.entries())}function c3(t){return new Map(Object.entries(t))}function a0(t=je.FIVE_MINUTES,e){const r=je.toMiliseconds(t||je.FIVE_MINUTES);let n,i,s,o;return{resolve:a=>{s&&n&&(clearTimeout(s),n(a),o=Promise.resolve(a))},reject:a=>{s&&i&&(clearTimeout(s),i(a))},done:()=>new Promise((a,c)=>{if(o)return a(o);s=setTimeout(()=>{const l=new Error(e);o=Promise.reject(l),c(l)},r),n=a,i=c})}}function yu(t,e,r){return new Promise(async(n,i)=>{const s=setTimeout(()=>i(new Error(r)),e);try{const o=await t;n(o)}catch(o){i(o)}clearTimeout(s)})}function VW(t,e){if(typeof e=="string"&&e.startsWith(`${t}:`))return e;if(t.toLowerCase()==="topic"){if(typeof e!="string")throw new Error('Value must be "string" for expirer target type: topic');return`topic:${e}`}else if(t.toLowerCase()==="id"){if(typeof e!="number")throw new Error('Value must be "number" for expirer target type: id');return`id:${e}`}throw new Error(`Unknown expirer target type: ${t}`)}function Rpe(t){return VW("topic",t)}function Ppe(t){return VW("id",t)}function JW(t){const[e,r]=t.split(":"),n={id:void 0,topic:void 0};if(e==="topic"&&typeof r=="string")n.topic=r;else if(e==="id"&&Number.isInteger(Number(r)))n.id=Number(r);else throw new Error(`Invalid target, expected id:number or topic:string, got ${e}:${r}`);return n}function Pi(t,e){return je.fromMiliseconds(Date.now()+je.toMiliseconds(t))}function Bd(t){return Date.now()>=je.toMiliseconds(t)}function Tr(t,e){return`${t}${e?`:${e}`:""}`}function Au(t=[],e=[]){return[...new Set([...t,...e])]}async function Ope({id:t,topic:e,wcDeepLink:r}){var n;try{if(!r)return;const i=typeof r=="string"?JSON.parse(r):r,s=i?.href;if(typeof s!="string")return;const o=Dpe(s,t,e),a=O1();if(a===ga.browser){if(!((n=Vf.getDocument())!=null&&n.hasFocus())){console.warn("Document does not have focus, skipping deeplink.");return}kpe(o)}else a===ga.reactNative&&typeof(global==null?void 0:global.Linking)<"u"&&await global.Linking.openURL(o)}catch(i){console.error(i)}}function Dpe(t,e,r){const n=`requestId=${e}&sessionTopic=${r}`;t.endsWith("/")&&(t=t.slice(0,-1));let i=`${t}`;if(t.startsWith("https://t.me")){const s=t.includes("?")?"&startapp=":"?startapp=";i=`${i}${s}${$pe(n,!0)}`}else i=`${i}/wc?${n}`;return i}function kpe(t){let e="_self";Lpe()?e="_top":(Upe()||t.startsWith("https://")||t.startsWith("http://"))&&(e="_blank"),window.open(t,e,"noreferrer noopener")}async function Mpe(t,e){let r="";try{if(Sm()&&(r=localStorage.getItem(e),r))return r;r=await t.getItem(e)}catch(n){console.error(n)}return r}function mk(t,e){if(!t.includes(e))return null;const r=t.split(/([&,?,=])/),n=r.indexOf(e);return r[n+2]}function yk(){return typeof crypto<"u"&&crypto!=null&&crypto.randomUUID?crypto.randomUUID():"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/gu,t=>{const e=Math.random()*16|0;return(t==="x"?e:e&3|8).toString(16)})}function HP(){return typeof process<"u"&&hpe.IS_VITEST==="true"}function Upe(){return typeof window<"u"&&(!!window.TelegramWebviewProxy||!!window.Telegram||!!window.TelegramWebviewProxyProto)}function Lpe(){try{return window.self!==window.top}catch{return!1}}function $pe(t,e=!1){const r=Buffer.from(t).toString("base64");return e?r.replace(/[=]/g,""):r}function YW(t){return Buffer.from(t,"base64").toString("utf-8")}function Fpe(t){return new Promise(e=>setTimeout(e,t))}let Bpe=class{constructor({limit:e}){pk(this,"limit"),pk(this,"set"),this.limit=e,this.set=new Set}add(e){if(!this.set.has(e)){if(this.set.size>=this.limit){const r=this.set.values().next().value;r&&this.set.delete(r)}this.set.add(e)}}has(e){return this.set.has(e)}};const nv=BigInt(2**32-1),_k=BigInt(32);function XW(t,e=!1){return e?{h:Number(t&nv),l:Number(t>>_k&nv)}:{h:Number(t>>_k&nv)|0,l:Number(t&nv)|0}}function QW(t,e=!1){const r=t.length;let n=new Uint32Array(r),i=new Uint32Array(r);for(let s=0;s<r;s++){const{h:o,l:a}=XW(t[s],e);[n[s],i[s]]=[o,a]}return[n,i]}const bk=(t,e,r)=>t>>>r,wk=(t,e,r)=>t<<32-r|e>>>r,Hd=(t,e,r)=>t>>>r|e<<32-r,jd=(t,e,r)=>t<<32-r|e>>>r,Zy=(t,e,r)=>t<<64-r|e>>>r-32,e_=(t,e,r)=>t>>>r-32|e<<64-r,Hpe=(t,e)=>e,jpe=(t,e)=>t,Wpe=(t,e,r)=>t<<r|e>>>32-r,qpe=(t,e,r)=>e<<r|t>>>32-r,zpe=(t,e,r)=>e<<r-32|t>>>64-r,Gpe=(t,e,r)=>t<<r-32|e>>>64-r;function Vc(t,e,r,n){const i=(e>>>0)+(n>>>0);return{h:t+r+(i/2**32|0)|0,l:i|0}}const jP=(t,e,r)=>(t>>>0)+(e>>>0)+(r>>>0),WP=(t,e,r,n)=>e+r+n+(t/2**32|0)|0,Kpe=(t,e,r,n)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0),Vpe=(t,e,r,n,i)=>e+r+n+i+(t/2**32|0)|0,Jpe=(t,e,r,n,i)=>(t>>>0)+(e>>>0)+(r>>>0)+(n>>>0)+(i>>>0),Ype=(t,e,r,n,i,s)=>e+r+n+i+s+(t/2**32|0)|0,Fp=typeof globalThis=="object"&&"crypto"in globalThis?globalThis.crypto:void 0;function qP(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function Jf(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function lc(t,...e){if(!qP(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function zP(t){if(typeof t!="function"||typeof t.create!="function")throw new Error("Hash should be wrapped by utils.createHasher");Jf(t.outputLen),Jf(t.blockLen)}function lh(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function GP(t,e){lc(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function Ab(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function uc(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function KN(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function Xl(t,e){return t<<32-e|t>>>e}const ZW=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function eq(t){return t<<24&4278190080|t<<8&16711680|t>>>8&65280|t>>>24&255}const _f=ZW?t=>t:t=>eq(t);function Xpe(t){for(let e=0;e<t.length;e++)t[e]=eq(t[e]);return t}const Wd=ZW?t=>t:Xpe,tq=typeof Uint8Array.from([]).toHex=="function"&&typeof Uint8Array.fromHex=="function",Qpe=Array.from({length:256},(t,e)=>e.toString(16).padStart(2,"0"));function xb(t){if(lc(t),tq)return t.toHex();let e="";for(let r=0;r<t.length;r++)e+=Qpe[t[r]];return e}const cf={_0:48,_9:57,A:65,F:70,a:97,f:102};function vk(t){if(t>=cf._0&&t<=cf._9)return t-cf._0;if(t>=cf.A&&t<=cf.F)return t-(cf.A-10);if(t>=cf.a&&t<=cf.f)return t-(cf.a-10)}function KP(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);if(tq)return Uint8Array.fromHex(t);const e=t.length,r=e/2;if(e%2)throw new Error("hex string expected, got unpadded hex of length "+e);const n=new Uint8Array(r);for(let i=0,s=0;i<r;i++,s+=2){const o=vk(t.charCodeAt(s)),a=vk(t.charCodeAt(s+1));if(o===void 0||a===void 0){const c=t[s]+t[s+1];throw new Error('hex string expected, got non-hex character "'+c+'" at index '+s)}n[i]=o*16+a}return n}function Zpe(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function Il(t){return typeof t=="string"&&(t=Zpe(t)),lc(t),t}function w0(...t){let e=0;for(let n=0;n<t.length;n++){const i=t[n];lc(i),e+=i.length}const r=new Uint8Array(e);for(let n=0,i=0;n<t.length;n++){const s=t[n];r.set(s,i),i+=s.length}return r}let Fx=class{};function D1(t){const e=n=>t().update(Il(n)).digest(),r=t();return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=()=>t(),e}function ege(t){const e=(n,i)=>t(i).update(Il(n)).digest(),r=t({});return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}function Tm(t=32){if(Fp&&typeof Fp.getRandomValues=="function")return Fp.getRandomValues(new Uint8Array(t));if(Fp&&typeof Fp.randomBytes=="function")return Uint8Array.from(Fp.randomBytes(t));throw new Error("crypto.getRandomValues must be defined")}const tge=BigInt(0),Sy=BigInt(1),rge=BigInt(2),nge=BigInt(7),ige=BigInt(256),sge=BigInt(113),rq=[],nq=[],iq=[];for(let t=0,e=Sy,r=1,n=0;t<24;t++){[r,n]=[n,(2*r+3*n)%5],rq.push(2*(5*n+r)),nq.push((t+1)*(t+2)/2%64);let i=tge;for(let s=0;s<7;s++)e=(e<<Sy^(e>>nge)*sge)%ige,e&rge&&(i^=Sy<<(Sy<<BigInt(s))-Sy);iq.push(i)}const sq=QW(iq,!0),oge=sq[0],age=sq[1],Ek=(t,e,r)=>r>32?zpe(t,e,r):Wpe(t,e,r),Ak=(t,e,r)=>r>32?Gpe(t,e,r):qpe(t,e,r);function cge(t,e=24){const r=new Uint32Array(10);for(let n=24-e;n<24;n++){for(let o=0;o<10;o++)r[o]=t[o]^t[o+10]^t[o+20]^t[o+30]^t[o+40];for(let o=0;o<10;o+=2){const a=(o+8)%10,c=(o+2)%10,l=r[c],u=r[c+1],f=Ek(l,u,1)^r[a],h=Ak(l,u,1)^r[a+1];for(let g=0;g<50;g+=10)t[o+g]^=f,t[o+g+1]^=h}let i=t[2],s=t[3];for(let o=0;o<24;o++){const a=nq[o],c=Ek(i,s,a),l=Ak(i,s,a),u=rq[o];i=t[u],s=t[u+1],t[u]=c,t[u+1]=l}for(let o=0;o<50;o+=10){for(let a=0;a<10;a++)r[a]=t[o+a];for(let a=0;a<10;a++)t[o+a]^=~r[(a+2)%10]&r[(a+4)%10]}t[0]^=oge[n],t[1]^=age[n]}uc(r)}let lge=class oq extends Fx{constructor(e,r,n,i=!1,s=24){if(super(),this.pos=0,this.posOut=0,this.finished=!1,this.destroyed=!1,this.enableXOF=!1,this.blockLen=e,this.suffix=r,this.outputLen=n,this.enableXOF=i,this.rounds=s,Jf(n),!(0<e&&e<200))throw new Error("only keccak-f1600 function is supported");this.state=new Uint8Array(200),this.state32=Ab(this.state)}clone(){return this._cloneInto()}keccak(){Wd(this.state32),cge(this.state32,this.rounds),Wd(this.state32),this.posOut=0,this.pos=0}update(e){lh(this),e=Il(e),lc(e);const{blockLen:r,state:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(r-this.pos,i-s);for(let a=0;a<o;a++)n[this.pos++]^=e[s++];this.pos===r&&this.keccak()}return this}finish(){if(this.finished)return;this.finished=!0;const{state:e,suffix:r,pos:n,blockLen:i}=this;e[n]^=r,(r&128)!==0&&n===i-1&&this.keccak(),e[i-1]^=128,this.keccak()}writeInto(e){lh(this,!1),lc(e),this.finish();const r=this.state,{blockLen:n}=this;for(let i=0,s=e.length;i<s;){this.posOut>=n&&this.keccak();const o=Math.min(n-this.posOut,s-i);e.set(r.subarray(this.posOut,this.posOut+o),i),this.posOut+=o,i+=o}return e}xofInto(e){if(!this.enableXOF)throw new Error("XOF is not possible for this instance");return this.writeInto(e)}xof(e){return Jf(e),this.xofInto(new Uint8Array(e))}digestInto(e){if(GP(e,this),this.finished)throw new Error("digest() was already called");return this.writeInto(e),this.destroy(),e}digest(){return this.digestInto(new Uint8Array(this.outputLen))}destroy(){this.destroyed=!0,uc(this.state)}_cloneInto(e){const{blockLen:r,suffix:n,outputLen:i,rounds:s,enableXOF:o}=this;return e||(e=new oq(r,n,i,o,s)),e.state32.set(this.state32),e.pos=this.pos,e.posOut=this.posOut,e.finished=this.finished,e.rounds=s,e.suffix=n,e.outputLen=i,e.enableXOF=o,e.destroyed=this.destroyed,e}};const uge=(t,e,r)=>D1(()=>new lge(e,t,r)),fge=uge(1,136,256/8);function dge(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s),c=n?4:0,l=n?0:4;t.setUint32(e+c,o,n),t.setUint32(e+l,a,n)}function hge(t,e,r){return t&e^~t&r}function pge(t,e,r){return t&e^t&r^e&r}let aq=class extends Fx{constructor(e,r,n,i){super(),this.finished=!1,this.length=0,this.pos=0,this.destroyed=!1,this.blockLen=e,this.outputLen=r,this.padOffset=n,this.isLE=i,this.buffer=new Uint8Array(e),this.view=KN(this.buffer)}update(e){lh(this),e=Il(e),lc(e);const{view:r,buffer:n,blockLen:i}=this,s=e.length;for(let o=0;o<s;){const a=Math.min(i-this.pos,s-o);if(a===i){const c=KN(e);for(;i<=s-o;o+=i)this.process(c,o);continue}n.set(e.subarray(o,o+a),this.pos),this.pos+=a,o+=a,this.pos===i&&(this.process(r,0),this.pos=0)}return this.length+=e.length,this.roundClean(),this}digestInto(e){lh(this),GP(e,this),this.finished=!0;const{buffer:r,view:n,blockLen:i,isLE:s}=this;let{pos:o}=this;r[o++]=128,uc(this.buffer.subarray(o)),this.padOffset>i-o&&(this.process(n,0),o=0);for(let f=o;f<i;f++)r[f]=0;dge(n,i-8,BigInt(this.length*8),s),this.process(n,0);const a=KN(e),c=this.outputLen;if(c%4)throw new Error("_sha2: outputLen should be aligned to 32bit");const l=c/4,u=this.get();if(l>u.length)throw new Error("_sha2: outputLen bigger than state");for(let f=0;f<l;f++)a.setUint32(4*f,u[f],s)}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){e||(e=new this.constructor),e.set(...this.get());const{blockLen:r,buffer:n,length:i,finished:s,destroyed:o,pos:a}=this;return e.destroyed=o,e.finished=s,e.length=i,e.pos=a,i%r&&e.buffer.set(n),e}clone(){return this._cloneInto()}};const vd=Uint32Array.from([1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225]),Es=Uint32Array.from([3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]),As=Uint32Array.from([1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209]),gge=Uint32Array.from([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]),Ed=new Uint32Array(64);let mge=class extends aq{constructor(e=32){super(64,e,8,!1),this.A=vd[0]|0,this.B=vd[1]|0,this.C=vd[2]|0,this.D=vd[3]|0,this.E=vd[4]|0,this.F=vd[5]|0,this.G=vd[6]|0,this.H=vd[7]|0}get(){const{A:e,B:r,C:n,D:i,E:s,F:o,G:a,H:c}=this;return[e,r,n,i,s,o,a,c]}set(e,r,n,i,s,o,a,c){this.A=e|0,this.B=r|0,this.C=n|0,this.D=i|0,this.E=s|0,this.F=o|0,this.G=a|0,this.H=c|0}process(e,r){for(let f=0;f<16;f++,r+=4)Ed[f]=e.getUint32(r,!1);for(let f=16;f<64;f++){const h=Ed[f-15],g=Ed[f-2],_=Xl(h,7)^Xl(h,18)^h>>>3,m=Xl(g,17)^Xl(g,19)^g>>>10;Ed[f]=m+Ed[f-7]+_+Ed[f-16]|0}let{A:n,B:i,C:s,D:o,E:a,F:c,G:l,H:u}=this;for(let f=0;f<64;f++){const h=Xl(a,6)^Xl(a,11)^Xl(a,25),g=u+h+hge(a,c,l)+gge[f]+Ed[f]|0,_=(Xl(n,2)^Xl(n,13)^Xl(n,22))+pge(n,i,s)|0;u=l,l=c,c=a,a=o+g|0,o=s,s=i,i=n,n=g+_|0}n=n+this.A|0,i=i+this.B|0,s=s+this.C|0,o=o+this.D|0,a=a+this.E|0,c=c+this.F|0,l=l+this.G|0,u=u+this.H|0,this.set(n,i,s,o,a,c,l,u)}roundClean(){uc(Ed)}destroy(){this.set(0,0,0,0,0,0,0,0),uc(this.buffer)}};const cq=QW(["0x428a2f98d728ae22","0x7137449123ef65cd","0xb5c0fbcfec4d3b2f","0xe9b5dba58189dbbc","0x3956c25bf348b538","0x59f111f1b605d019","0x923f82a4af194f9b","0xab1c5ed5da6d8118","0xd807aa98a3030242","0x12835b0145706fbe","0x243185be4ee4b28c","0x550c7dc3d5ffb4e2","0x72be5d74f27b896f","0x80deb1fe3b1696b1","0x9bdc06a725c71235","0xc19bf174cf692694","0xe49b69c19ef14ad2","0xefbe4786384f25e3","0x0fc19dc68b8cd5b5","0x240ca1cc77ac9c65","0x2de92c6f592b0275","0x4a7484aa6ea6e483","0x5cb0a9dcbd41fbd4","0x76f988da831153b5","0x983e5152ee66dfab","0xa831c66d2db43210","0xb00327c898fb213f","0xbf597fc7beef0ee4","0xc6e00bf33da88fc2","0xd5a79147930aa725","0x06ca6351e003826f","0x142929670a0e6e70","0x27b70a8546d22ffc","0x2e1b21385c26c926","0x4d2c6dfc5ac42aed","0x53380d139d95b3df","0x650a73548baf63de","0x766a0abb3c77b2a8","0x81c2c92e47edaee6","0x92722c851482353b","0xa2bfe8a14cf10364","0xa81a664bbc423001","0xc24b8b70d0f89791","0xc76c51a30654be30","0xd192e819d6ef5218","0xd69906245565a910","0xf40e35855771202a","0x106aa07032bbd1b8","0x19a4c116b8d2d0c8","0x1e376c085141ab53","0x2748774cdf8eeb99","0x34b0bcb5e19b48a8","0x391c0cb3c5c95a63","0x4ed8aa4ae3418acb","0x5b9cca4f7763e373","0x682e6ff3d6b2b8a3","0x748f82ee5defb2fc","0x78a5636f43172f60","0x84c87814a1f0ab72","0x8cc702081a6439ec","0x90befffa23631e28","0xa4506cebde82bde9","0xbef9a3f7b2c67915","0xc67178f2e372532b","0xca273eceea26619c","0xd186b8c721c0c207","0xeada7dd6cde0eb1e","0xf57d4f7fee6ed178","0x06f067aa72176fba","0x0a637dc5a2c898a6","0x113f9804bef90dae","0x1b710b35131c471b","0x28db77f523047d84","0x32caab7b40c72493","0x3c9ebe0a15c9bebc","0x431d67c49c100d4c","0x4cc5d4becb3e42b6","0x597f299cfc657e2a","0x5fcb6fab3ad6faec","0x6c44198c4a475817"].map(t=>BigInt(t))),yge=cq[0],_ge=cq[1],Ad=new Uint32Array(80),xd=new Uint32Array(80);let VP=class extends aq{constructor(e=64){super(128,e,16,!1),this.Ah=As[0]|0,this.Al=As[1]|0,this.Bh=As[2]|0,this.Bl=As[3]|0,this.Ch=As[4]|0,this.Cl=As[5]|0,this.Dh=As[6]|0,this.Dl=As[7]|0,this.Eh=As[8]|0,this.El=As[9]|0,this.Fh=As[10]|0,this.Fl=As[11]|0,this.Gh=As[12]|0,this.Gl=As[13]|0,this.Hh=As[14]|0,this.Hl=As[15]|0}get(){const{Ah:e,Al:r,Bh:n,Bl:i,Ch:s,Cl:o,Dh:a,Dl:c,Eh:l,El:u,Fh:f,Fl:h,Gh:g,Gl:_,Hh:m,Hl:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,h,g,_,m,b]}set(e,r,n,i,s,o,a,c,l,u,f,h,g,_,m,b){this.Ah=e|0,this.Al=r|0,this.Bh=n|0,this.Bl=i|0,this.Ch=s|0,this.Cl=o|0,this.Dh=a|0,this.Dl=c|0,this.Eh=l|0,this.El=u|0,this.Fh=f|0,this.Fl=h|0,this.Gh=g|0,this.Gl=_|0,this.Hh=m|0,this.Hl=b|0}process(e,r){for(let R=0;R<16;R++,r+=4)Ad[R]=e.getUint32(r),xd[R]=e.getUint32(r+=4);for(let R=16;R<80;R++){const k=Ad[R-15]|0,M=xd[R-15]|0,D=Hd(k,M,1)^Hd(k,M,8)^bk(k,M,7),H=jd(k,M,1)^jd(k,M,8)^wk(k,M,7),S=Ad[R-2]|0,C=xd[R-2]|0,$=Hd(S,C,19)^Zy(S,C,61)^bk(S,C,6),B=jd(S,C,19)^e_(S,C,61)^wk(S,C,6),O=Kpe(H,B,xd[R-7],xd[R-16]),T=Vpe(O,D,$,Ad[R-7],Ad[R-16]);Ad[R]=T|0,xd[R]=O|0}let{Ah:n,Al:i,Bh:s,Bl:o,Ch:a,Cl:c,Dh:l,Dl:u,Eh:f,El:h,Fh:g,Fl:_,Gh:m,Gl:b,Hh:A,Hl:N}=this;for(let R=0;R<80;R++){const k=Hd(f,h,14)^Hd(f,h,18)^Zy(f,h,41),M=jd(f,h,14)^jd(f,h,18)^e_(f,h,41),D=f&g^~f&m,H=h&_^~h&b,S=Jpe(N,M,H,_ge[R],xd[R]),C=Ype(S,A,k,D,yge[R],Ad[R]),$=S|0,B=Hd(n,i,28)^Zy(n,i,34)^Zy(n,i,39),O=jd(n,i,28)^e_(n,i,34)^e_(n,i,39),T=n&s^n&a^s&a,y=i&o^i&c^o&c;A=m|0,N=b|0,m=g|0,b=_|0,g=f|0,_=h|0,{h:f,l:h}=Vc(l|0,u|0,C|0,$|0),l=a|0,u=c|0,a=s|0,c=o|0,s=n|0,o=i|0;const w=jP($,O,y);n=WP(w,C,B,T),i=w|0}({h:n,l:i}=Vc(this.Ah|0,this.Al|0,n|0,i|0)),{h:s,l:o}=Vc(this.Bh|0,this.Bl|0,s|0,o|0),{h:a,l:c}=Vc(this.Ch|0,this.Cl|0,a|0,c|0),{h:l,l:u}=Vc(this.Dh|0,this.Dl|0,l|0,u|0),{h:f,l:h}=Vc(this.Eh|0,this.El|0,f|0,h|0),{h:g,l:_}=Vc(this.Fh|0,this.Fl|0,g|0,_|0),{h:m,l:b}=Vc(this.Gh|0,this.Gl|0,m|0,b|0),{h:A,l:N}=Vc(this.Hh|0,this.Hl|0,A|0,N|0),this.set(n,i,s,o,a,c,l,u,f,h,g,_,m,b,A,N)}roundClean(){uc(Ad,xd)}destroy(){uc(this.buffer),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}},bge=class extends VP{constructor(){super(48),this.Ah=Es[0]|0,this.Al=Es[1]|0,this.Bh=Es[2]|0,this.Bl=Es[3]|0,this.Ch=Es[4]|0,this.Cl=Es[5]|0,this.Dh=Es[6]|0,this.Dl=Es[7]|0,this.Eh=Es[8]|0,this.El=Es[9]|0,this.Fh=Es[10]|0,this.Fl=Es[11]|0,this.Gh=Es[12]|0,this.Gl=Es[13]|0,this.Hh=Es[14]|0,this.Hl=Es[15]|0}};const xs=Uint32Array.from([573645204,4230739756,2673172387,3360449730,596883563,1867755857,2520282905,1497426621,2519219938,2827943907,3193839141,1401305490,721525244,746961066,246885852,2177182882]);class wge extends VP{constructor(){super(32),this.Ah=xs[0]|0,this.Al=xs[1]|0,this.Bh=xs[2]|0,this.Bl=xs[3]|0,this.Ch=xs[4]|0,this.Cl=xs[5]|0,this.Dh=xs[6]|0,this.Dl=xs[7]|0,this.Eh=xs[8]|0,this.El=xs[9]|0,this.Fh=xs[10]|0,this.Fl=xs[11]|0,this.Gh=xs[12]|0,this.Gl=xs[13]|0,this.Hh=xs[14]|0,this.Hl=xs[15]|0}}const Bx=D1(()=>new mge),vge=D1(()=>new VP),Ege=D1(()=>new bge),Age=D1(()=>new wge),xge=Uint8Array.from([0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9,12,5,1,15,14,13,4,10,0,7,6,3,9,2,8,11,13,11,7,14,12,1,3,9,5,0,15,4,8,6,2,10,6,15,14,9,11,3,0,8,12,2,13,7,1,4,10,5,10,2,8,4,7,6,1,5,15,11,9,14,3,12,13,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,14,10,4,8,9,15,13,6,1,12,0,2,11,7,5,3,11,8,12,0,5,2,15,13,10,14,3,6,7,1,9,4,7,9,3,1,13,12,11,14,2,6,5,10,4,0,15,8,9,0,5,7,2,4,10,15,14,1,11,12,6,8,3,13,2,12,6,10,0,11,8,3,4,13,7,5,15,14,1,9]),pi=Uint32Array.from([4089235720,1779033703,2227873595,3144134277,4271175723,1013904242,1595750129,2773480762,2917565137,1359893119,725511199,2600822924,4215389547,528734635,327033209,1541459225]),Ve=new Uint32Array(32);function Cd(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Ve[2*t],l=Ve[2*t+1],u=Ve[2*e],f=Ve[2*e+1],h=Ve[2*r],g=Ve[2*r+1],_=Ve[2*n],m=Ve[2*n+1],b=jP(c,u,o);l=WP(b,l,f,a),c=b|0,{Dh:m,Dl:_}={Dh:m^l,Dl:_^c},{Dh:m,Dl:_}={Dh:Hpe(m,_),Dl:jpe(m)},{h:g,l:h}=Vc(g,h,m,_),{Bh:f,Bl:u}={Bh:f^g,Bl:u^h},{Bh:f,Bl:u}={Bh:Hd(f,u,24),Bl:jd(f,u,24)},Ve[2*t]=c,Ve[2*t+1]=l,Ve[2*e]=u,Ve[2*e+1]=f,Ve[2*r]=h,Ve[2*r+1]=g,Ve[2*n]=_,Ve[2*n+1]=m}function Nd(t,e,r,n,i,s){const o=i[s],a=i[s+1];let c=Ve[2*t],l=Ve[2*t+1],u=Ve[2*e],f=Ve[2*e+1],h=Ve[2*r],g=Ve[2*r+1],_=Ve[2*n],m=Ve[2*n+1],b=jP(c,u,o);l=WP(b,l,f,a),c=b|0,{Dh:m,Dl:_}={Dh:m^l,Dl:_^c},{Dh:m,Dl:_}={Dh:Hd(m,_,16),Dl:jd(m,_,16)},{h:g,l:h}=Vc(g,h,m,_),{Bh:f,Bl:u}={Bh:f^g,Bl:u^h},{Bh:f,Bl:u}={Bh:Zy(f,u,63),Bl:e_(f,u,63)},Ve[2*t]=c,Ve[2*t+1]=l,Ve[2*e]=u,Ve[2*e+1]=f,Ve[2*r]=h,Ve[2*r+1]=g,Ve[2*n]=_,Ve[2*n+1]=m}function Cge(t,e={},r,n,i){if(Jf(r),t<0||t>r)throw new Error("outputLen bigger than keyLen");const{key:s,salt:o,personalization:a}=e;if(s!==void 0&&(s.length<1||s.length>r))throw new Error("key length must be undefined or 1.."+r);if(o!==void 0&&o.length!==n)throw new Error("salt must be undefined or "+n);if(a!==void 0&&a.length!==i)throw new Error("personalization must be undefined or "+i)}class Nge extends Fx{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,this.length=0,this.pos=0,Jf(e),Jf(r),this.blockLen=e,this.outputLen=r,this.buffer=new Uint8Array(e),this.buffer32=Ab(this.buffer)}update(e){lh(this),e=Il(e),lc(e);const{blockLen:r,buffer:n,buffer32:i}=this,s=e.length,o=e.byteOffset,a=e.buffer;for(let c=0;c<s;){this.pos===r&&(Wd(i),this.compress(i,0,!1),Wd(i),this.pos=0);const l=Math.min(r-this.pos,s-c),u=o+c;if(l===r&&!(u%4)&&c+l<s){const f=new Uint32Array(a,u,Math.floor((s-c)/4));Wd(f);for(let h=0;c+r<s;h+=i.length,c+=r)this.length+=r,this.compress(f,h,!1);Wd(f);continue}n.set(e.subarray(c,c+l),this.pos),this.pos+=l,this.length+=l,c+=l}return this}digestInto(e){lh(this),GP(e,this);const{pos:r,buffer32:n}=this;this.finished=!0,uc(this.buffer.subarray(r)),Wd(n),this.compress(n,0,!0),Wd(n);const i=Ab(e);this.get().forEach((s,o)=>i[o]=_f(s))}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}_cloneInto(e){const{buffer:r,length:n,finished:i,destroyed:s,outputLen:o,pos:a}=this;return e||(e=new this.constructor({dkLen:o})),e.set(...this.get()),e.buffer.set(r),e.destroyed=s,e.finished=i,e.length=n,e.pos=a,e.outputLen=o,e}clone(){return this._cloneInto()}}class Sge extends Nge{constructor(e={}){const r=e.dkLen===void 0?64:e.dkLen;super(128,r),this.v0l=pi[0]|0,this.v0h=pi[1]|0,this.v1l=pi[2]|0,this.v1h=pi[3]|0,this.v2l=pi[4]|0,this.v2h=pi[5]|0,this.v3l=pi[6]|0,this.v3h=pi[7]|0,this.v4l=pi[8]|0,this.v4h=pi[9]|0,this.v5l=pi[10]|0,this.v5h=pi[11]|0,this.v6l=pi[12]|0,this.v6h=pi[13]|0,this.v7l=pi[14]|0,this.v7h=pi[15]|0,Cge(r,e,64,16,16);let{key:n,personalization:i,salt:s}=e,o=0;if(n!==void 0&&(n=Il(n),o=n.length),this.v0l^=this.outputLen|o<<8|65536|1<<24,s!==void 0){s=Il(s);const a=Ab(s);this.v4l^=_f(a[0]),this.v4h^=_f(a[1]),this.v5l^=_f(a[2]),this.v5h^=_f(a[3])}if(i!==void 0){i=Il(i);const a=Ab(i);this.v6l^=_f(a[0]),this.v6h^=_f(a[1]),this.v7l^=_f(a[2]),this.v7h^=_f(a[3])}if(n!==void 0){const a=new Uint8Array(this.blockLen);a.set(n),this.update(a)}}get(){let{v0l:e,v0h:r,v1l:n,v1h:i,v2l:s,v2h:o,v3l:a,v3h:c,v4l:l,v4h:u,v5l:f,v5h:h,v6l:g,v6h:_,v7l:m,v7h:b}=this;return[e,r,n,i,s,o,a,c,l,u,f,h,g,_,m,b]}set(e,r,n,i,s,o,a,c,l,u,f,h,g,_,m,b){this.v0l=e|0,this.v0h=r|0,this.v1l=n|0,this.v1h=i|0,this.v2l=s|0,this.v2h=o|0,this.v3l=a|0,this.v3h=c|0,this.v4l=l|0,this.v4h=u|0,this.v5l=f|0,this.v5h=h|0,this.v6l=g|0,this.v6h=_|0,this.v7l=m|0,this.v7h=b|0}compress(e,r,n){this.get().forEach((c,l)=>Ve[l]=c),Ve.set(pi,16);let{h:i,l:s}=XW(BigInt(this.length));Ve[24]=pi[8]^s,Ve[25]=pi[9]^i,n&&(Ve[28]=~Ve[28],Ve[29]=~Ve[29]);let o=0;const a=xge;for(let c=0;c<12;c++)Cd(0,4,8,12,e,r+2*a[o++]),Nd(0,4,8,12,e,r+2*a[o++]),Cd(1,5,9,13,e,r+2*a[o++]),Nd(1,5,9,13,e,r+2*a[o++]),Cd(2,6,10,14,e,r+2*a[o++]),Nd(2,6,10,14,e,r+2*a[o++]),Cd(3,7,11,15,e,r+2*a[o++]),Nd(3,7,11,15,e,r+2*a[o++]),Cd(0,5,10,15,e,r+2*a[o++]),Nd(0,5,10,15,e,r+2*a[o++]),Cd(1,6,11,12,e,r+2*a[o++]),Nd(1,6,11,12,e,r+2*a[o++]),Cd(2,7,8,13,e,r+2*a[o++]),Nd(2,7,8,13,e,r+2*a[o++]),Cd(3,4,9,14,e,r+2*a[o++]),Nd(3,4,9,14,e,r+2*a[o++]);this.v0l^=Ve[0]^Ve[16],this.v0h^=Ve[1]^Ve[17],this.v1l^=Ve[2]^Ve[18],this.v1h^=Ve[3]^Ve[19],this.v2l^=Ve[4]^Ve[20],this.v2h^=Ve[5]^Ve[21],this.v3l^=Ve[6]^Ve[22],this.v3h^=Ve[7]^Ve[23],this.v4l^=Ve[8]^Ve[24],this.v4h^=Ve[9]^Ve[25],this.v5l^=Ve[10]^Ve[26],this.v5h^=Ve[11]^Ve[27],this.v6l^=Ve[12]^Ve[28],this.v6h^=Ve[13]^Ve[29],this.v7l^=Ve[14]^Ve[30],this.v7h^=Ve[15]^Ve[31],uc(Ve)}destroy(){this.destroyed=!0,uc(this.buffer32),this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0)}}const Tge=ege(t=>new Sge(t)),Ige="https://rpc.walletconnect.org/v1";function lq(t){const e=`Ethereum Signed Message:
${t.length}`,r=new TextEncoder().encode(e+t);return"0x"+Buffer.from(fge(r)).toString("hex")}async function Rge(t,e,r,n,i,s){switch(r.t){case"eip191":return await Pge(t,e,r.s);case"eip1271":return await Oge(t,e,r.s,n,i,s);default:throw new Error(`verifySignature failed: Attempted to verify CacaoSignature with unknown type: ${r.t}`)}}async function Pge(t,e,r){return(await bhe({hash:lq(e),signature:r})).toLowerCase()===t.toLowerCase()}async function Oge(t,e,r,n,i,s){const o=R0(n);if(!o.namespace||!o.reference)throw new Error(`isValidEip1271Signature failed: chainId must be in CAIP-2 format, received: ${n}`);try{const a="0x1626ba7e",c="0000000000000000000000000000000000000000000000000000000000000040",l=r.substring(2),u=(l.length/2).toString(16).padStart(64,"0"),f=(e.startsWith("0x")?e:lq(e)).substring(2),h=a+f+c+u+l,g=await fetch(`${s||Ige}/?chainId=${n}&projectId=${i}`,{headers:{"Content-Type":"application/json"},method:"POST",body:JSON.stringify({id:Dge(),jsonrpc:"2.0",method:"eth_call",params:[{to:t,data:h},"latest"]})}),{result:_}=await g.json();return _?_.slice(0,a.length).toLowerCase()===a.toLowerCase():!1}catch(a){return console.error("isValidEip1271Signature: ",a),!1}}function Dge(){return Date.now()+Math.floor(Math.random()*1e3)}function kge(t){const e=atob(t),r=new Uint8Array(e.length);for(let o=0;o<e.length;o++)r[o]=e.charCodeAt(o);const n=r[0];if(n===0)throw new Error("No signatures found");const i=1+n*64;if(r.length<i)throw new Error("Transaction data too short for claimed signature count");if(r.length<100)throw new Error("Transaction too short");const s=Buffer.from(t,"base64").slice(1,65);return Nm.encode(s)}function Mge(t){const e=new Uint8Array(Buffer.from(t,"base64")),r=Array.from("TransactionData::").map(s=>s.charCodeAt(0)),n=new Uint8Array(r.length+e.length);n.set(r),n.set(e,r.length);const i=Tge(n,{dkLen:32});return Nm.encode(i)}function xk(t){const e=new Uint8Array(Bx(Uge(t)));return Nm.encode(e)}function Uge(t){if(t instanceof Uint8Array)return t;if(Array.isArray(t))return new Uint8Array(t);if(typeof t=="object"&&t!=null&&t.data)return new Uint8Array(Object.values(t.data));if(typeof t=="object"&&t)return new Uint8Array(Object.values(t));throw new Error("getNearUint8ArrayFromBytes: Unexpected result type from bytes array")}function Ck(t){const e=Buffer.from(t,"base64"),r=n0e(e).txn;if(!r)throw new Error("Invalid signed transaction: missing 'txn' field");const n=Vhe(r),i=Buffer.from("TX"),s=Buffer.concat([i,Buffer.from(n)]),o=Age(s);return f0e.encode(o).replace(/=+$/,"")}function VN(t){const e=[];let r=BigInt(t);for(;r>=BigInt(128);)e.push(Number(r&BigInt(127)|BigInt(128))),r>>=BigInt(7);return e.push(Number(r)),Buffer.from(e)}function Lge(t){const e=Buffer.from(t.signed.bodyBytes,"base64"),r=Buffer.from(t.signed.authInfoBytes,"base64"),n=Buffer.from(t.signature.signature,"base64"),i=[];i.push(Buffer.from([10])),i.push(VN(e.length)),i.push(e),i.push(Buffer.from([18])),i.push(VN(r.length)),i.push(r),i.push(Buffer.from([26])),i.push(VN(n.length)),i.push(n);const s=Buffer.concat(i),o=Bx(s);return Buffer.from(o).toString("hex").toUpperCase()}var $ge=Object.defineProperty,Fge=Object.defineProperties,Bge=Object.getOwnPropertyDescriptors,Nk=Object.getOwnPropertySymbols,Hge=Object.prototype.hasOwnProperty,jge=Object.prototype.propertyIsEnumerable,Sk=(t,e,r)=>e in t?$ge(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Wge=(t,e)=>{for(var r in e||(e={}))Hge.call(e,r)&&Sk(t,r,e[r]);if(Nk)for(var r of Nk(e))jge.call(e,r)&&Sk(t,r,e[r]);return t},qge=(t,e)=>Fge(t,Bge(e));const zge="did:pkh:",JP=t=>t?.split(":"),Gge=t=>{const e=t&&JP(t);if(e)return t.includes(zge)?e[3]:e[1]},l3=t=>{const e=t&&JP(t);if(e)return e[2]+":"+e[3]},yA=t=>{const e=t&&JP(t);if(e)return e.pop()};async function Tk(t){const{cacao:e,projectId:r}=t,{s:n,p:i}=e,s=uq(i,i.iss),o=yA(i.iss);return await Rge(o,s,n,l3(i.iss),r)}const uq=(t,e)=>{const r=`${t.domain} wants you to sign in with your Ethereum account:`,n=yA(e);if(!t.aud&&!t.uri)throw new Error("Either `aud` or `uri` is required to construct the message");let i=t.statement||void 0;const s=`URI: ${t.aud||t.uri}`,o=`Version: ${t.version}`,a=`Chain ID: ${Gge(e)}`,c=`Nonce: ${t.nonce}`,l=`Issued At: ${t.iat}`,u=t.exp?`Expiration Time: ${t.exp}`:void 0,f=t.nbf?`Not Before: ${t.nbf}`:void 0,h=t.requestId?`Request ID: ${t.requestId}`:void 0,g=t.resources?`Resources:${t.resources.map(m=>`
- ${m}`).join("")}`:void 0,_=zv(t.resources);if(_){const m=Cb(_);i=tme(i,m)}return[r,n,"",i,"",s,o,a,c,l,u,f,h,g].filter(m=>m!=null).join(`
`)};function Kge(t){return Buffer.from(JSON.stringify(t)).toString("base64")}function Vge(t){return JSON.parse(Buffer.from(t,"base64").toString("utf-8"))}function j0(t){if(!t)throw new Error("No recap provided, value is undefined");if(!t.att)throw new Error("No `att` property found");const e=Object.keys(t.att);if(!(e!=null&&e.length))throw new Error("No resources found in `att` property");e.forEach(r=>{const n=t.att[r];if(Array.isArray(n))throw new Error(`Resource must be an object: ${r}`);if(typeof n!="object")throw new Error(`Resource must be an object: ${r}`);if(!Object.keys(n).length)throw new Error(`Resource object is empty: ${r}`);Object.keys(n).forEach(i=>{const s=n[i];if(!Array.isArray(s))throw new Error(`Ability limits ${i} must be an array of objects, found: ${s}`);if(!s.length)throw new Error(`Value of ${i} is empty array, must be an array with objects`);s.forEach(o=>{if(typeof o!="object")throw new Error(`Ability limits (${i}) must be an array of objects, found: ${o}`)})})})}function Jge(t,e,r,n={}){return r?.sort((i,s)=>i.localeCompare(s)),{att:{[t]:Yge(e,r,n)}}}function Yge(t,e,r={}){e=e?.sort((i,s)=>i.localeCompare(s));const n=e.map(i=>({[`${t}/${i}`]:[r]}));return Object.assign({},...n)}function fq(t){return j0(t),`urn:recap:${Kge(t).replace(/=/g,"")}`}function Cb(t){const e=Vge(t.replace("urn:recap:",""));return j0(e),e}function Xge(t,e,r){const n=Jge(t,e,r);return fq(n)}function Qge(t){return t&&t.includes("urn:recap:")}function Zge(t,e){const r=Cb(t),n=Cb(e),i=eme(r,n);return fq(i)}function eme(t,e){j0(t),j0(e);const r=Object.keys(t.att).concat(Object.keys(e.att)).sort((i,s)=>i.localeCompare(s)),n={att:{}};return r.forEach(i=>{var s,o;Object.keys(((s=t.att)==null?void 0:s[i])||{}).concat(Object.keys(((o=e.att)==null?void 0:o[i])||{})).sort((a,c)=>a.localeCompare(c)).forEach(a=>{var c,l;n.att[i]=qge(Wge({},n.att[i]),{[a]:((c=t.att[i])==null?void 0:c[a])||((l=e.att[i])==null?void 0:l[a])})})}),n}function tme(t="",e){j0(e);const r="I further authorize the stated URI to perform the following actions on my behalf: ";if(t.includes(r))return t;const n=[];let i=0;Object.keys(e.att).forEach(a=>{const c=Object.keys(e.att[a]).map(f=>({ability:f.split("/")[0],action:f.split("/")[1]}));c.sort((f,h)=>f.action.localeCompare(h.action));const l={};c.forEach(f=>{l[f.ability]||(l[f.ability]=[]),l[f.ability].push(f.action)});const u=Object.keys(l).map(f=>(i++,`(${i}) '${f}': '${l[f].join("', '")}' for '${a}'.`));n.push(u.join(", ").replace(".,","."))});const s=n.join(" "),o=`${r}${s}`;return`${t?t+" ":""}${o}`}function Ik(t){var e;const r=Cb(t);j0(r);const n=(e=r.att)==null?void 0:e.eip155;return n?Object.keys(n).map(i=>i.split("/")[1]):[]}function Rk(t){const e=Cb(t);j0(e);const r=[];return Object.values(e.att).forEach(n=>{Object.values(n).forEach(i=>{var s;(s=i?.[0])!=null&&s.chains&&r.push(i[0].chains)})}),[...new Set(r.flat())]}function zv(t){if(!t)return;const e=t?.[t.length-1];return Qge(e)?e:void 0}/*! noble-ciphers - MIT License (c) 2023 Paul Miller (paulmillr.com) */function dq(t){return t instanceof Uint8Array||ArrayBuffer.isView(t)&&t.constructor.name==="Uint8Array"}function u3(t){if(typeof t!="boolean")throw new Error(`boolean expected, not ${t}`)}function JN(t){if(!Number.isSafeInteger(t)||t<0)throw new Error("positive integer expected, got "+t)}function Oo(t,...e){if(!dq(t))throw new Error("Uint8Array expected");if(e.length>0&&!e.includes(t.length))throw new Error("Uint8Array expected of length "+e+", got length="+t.length)}function Pk(t,e=!0){if(t.destroyed)throw new Error("Hash instance has been destroyed");if(e&&t.finished)throw new Error("Hash#digest() has already been called")}function rme(t,e){Oo(t);const r=e.outputLen;if(t.length<r)throw new Error("digestInto() expects output buffer of length at least "+r)}function th(t){return new Uint32Array(t.buffer,t.byteOffset,Math.floor(t.byteLength/4))}function cm(...t){for(let e=0;e<t.length;e++)t[e].fill(0)}function nme(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}const ime=new Uint8Array(new Uint32Array([287454020]).buffer)[0]===68;function sme(t){if(typeof t!="string")throw new Error("string expected");return new Uint8Array(new TextEncoder().encode(t))}function f3(t){if(typeof t=="string")t=sme(t);else if(dq(t))t=d3(t);else throw new Error("Uint8Array expected, got "+typeof t);return t}function ome(t,e){if(e==null||typeof e!="object")throw new Error("options must be defined");return Object.assign(t,e)}function ame(t,e){if(t.length!==e.length)return!1;let r=0;for(let n=0;n<t.length;n++)r|=t[n]^e[n];return r===0}const cme=(t,e)=>{function r(n,...i){if(Oo(n),!ime)throw new Error("Non little-endian hardware is not yet supported");if(t.nonceLength!==void 0){const l=i[0];if(!l)throw new Error("nonce / iv required");t.varSizeNonce?Oo(l):Oo(l,t.nonceLength)}const s=t.tagLength;s&&i[1]!==void 0&&Oo(i[1]);const o=e(n,...i),a=(l,u)=>{if(u!==void 0){if(l!==2)throw new Error("cipher output not supported");Oo(u)}};let c=!1;return{encrypt(l,u){if(c)throw new Error("cannot encrypt() twice with same key + nonce");return c=!0,Oo(l),a(o.encrypt.length,u),o.encrypt(l,u)},decrypt(l,u){if(Oo(l),s&&l.length<s)throw new Error("invalid ciphertext length: smaller than tagLength="+s);return a(o.decrypt.length,u),o.decrypt(l,u)}}}return Object.assign(r,t),r};function Ok(t,e,r=!0){if(e===void 0)return new Uint8Array(t);if(e.length!==t)throw new Error("invalid output length, expected "+t+", got: "+e.length);if(r&&!ume(e))throw new Error("invalid output, must be aligned");return e}function Dk(t,e,r,n){if(typeof t.setBigUint64=="function")return t.setBigUint64(e,r,n);const i=BigInt(32),s=BigInt(4294967295),o=Number(r>>i&s),a=Number(r&s);t.setUint32(e+4,o,n),t.setUint32(e+0,a,n)}function lme(t,e,r){u3(r);const n=new Uint8Array(16),i=nme(n);return Dk(i,0,BigInt(e),r),Dk(i,8,BigInt(t),r),n}function ume(t){return t.byteOffset%4===0}function d3(t){return Uint8Array.from(t)}const hq=t=>Uint8Array.from(t.split("").map(e=>e.charCodeAt(0))),fme=hq("expand 16-byte k"),dme=hq("expand 32-byte k"),hme=th(fme),pme=th(dme);function gr(t,e){return t<<e|t>>>32-e}function h3(t){return t.byteOffset%4===0}const iv=64,gme=16,pq=2**32-1,kk=new Uint32Array;function mme(t,e,r,n,i,s,o,a){const c=i.length,l=new Uint8Array(iv),u=th(l),f=h3(i)&&h3(s),h=f?th(i):kk,g=f?th(s):kk;for(let _=0;_<c;o++){if(t(e,r,n,u,o,a),o>=pq)throw new Error("arx: counter overflow");const m=Math.min(iv,c-_);if(f&&m===iv){const b=_/4;if(_%4!==0)throw new Error("arx: invalid block position");for(let A=0,N;A<gme;A++)N=b+A,g[N]=h[N]^u[A];_+=iv;continue}for(let b=0,A;b<m;b++)A=_+b,s[A]=i[A]^l[b];_+=m}}function yme(t,e){const{allowShortKeys:r,extendNonceFn:n,counterLength:i,counterRight:s,rounds:o}=ome({allowShortKeys:!1,counterLength:8,counterRight:!1,rounds:20},e);if(typeof t!="function")throw new Error("core must be a function");return JN(i),JN(o),u3(s),u3(r),(a,c,l,u,f=0)=>{Oo(a),Oo(c),Oo(l);const h=l.length;if(u===void 0&&(u=new Uint8Array(h)),Oo(u),JN(f),f<0||f>=pq)throw new Error("arx: counter overflow");if(u.length<h)throw new Error(`arx: output (${u.length}) is shorter than data (${h})`);const g=[];let _=a.length,m,b;if(_===32)g.push(m=d3(a)),b=pme;else if(_===16&&r)m=new Uint8Array(32),m.set(a),m.set(a,16),b=hme,g.push(m);else throw new Error(`arx: invalid 32-byte key, got length=${_}`);h3(c)||g.push(c=d3(c));const A=th(m);if(n){if(c.length!==24)throw new Error("arx: extended nonce must be 24 bytes");n(b,A,th(c.subarray(0,16)),A),c=c.subarray(16)}const N=16-i;if(N!==c.length)throw new Error(`arx: nonce must be ${N} or 16 bytes`);if(N!==12){const k=new Uint8Array(12);k.set(c,s?0:12-c.length),c=k,g.push(c)}const R=th(c);return mme(t,b,A,R,l,u,f,o),cm(...g),u}}const ts=(t,e)=>t[e++]&255|(t[e++]&255)<<8;class _me{constructor(e){this.blockLen=16,this.outputLen=16,this.buffer=new Uint8Array(16),this.r=new Uint16Array(10),this.h=new Uint16Array(10),this.pad=new Uint16Array(8),this.pos=0,this.finished=!1,e=f3(e),Oo(e,32);const r=ts(e,0),n=ts(e,2),i=ts(e,4),s=ts(e,6),o=ts(e,8),a=ts(e,10),c=ts(e,12),l=ts(e,14);this.r[0]=r&8191,this.r[1]=(r>>>13|n<<3)&8191,this.r[2]=(n>>>10|i<<6)&7939,this.r[3]=(i>>>7|s<<9)&8191,this.r[4]=(s>>>4|o<<12)&255,this.r[5]=o>>>1&8190,this.r[6]=(o>>>14|a<<2)&8191,this.r[7]=(a>>>11|c<<5)&8065,this.r[8]=(c>>>8|l<<8)&8191,this.r[9]=l>>>5&127;for(let u=0;u<8;u++)this.pad[u]=ts(e,16+2*u)}process(e,r,n=!1){const i=n?0:2048,{h:s,r:o}=this,a=o[0],c=o[1],l=o[2],u=o[3],f=o[4],h=o[5],g=o[6],_=o[7],m=o[8],b=o[9],A=ts(e,r+0),N=ts(e,r+2),R=ts(e,r+4),k=ts(e,r+6),M=ts(e,r+8),D=ts(e,r+10),H=ts(e,r+12),S=ts(e,r+14);let C=s[0]+(A&8191),$=s[1]+((A>>>13|N<<3)&8191),B=s[2]+((N>>>10|R<<6)&8191),O=s[3]+((R>>>7|k<<9)&8191),T=s[4]+((k>>>4|M<<12)&8191),y=s[5]+(M>>>1&8191),w=s[6]+((M>>>14|D<<2)&8191),E=s[7]+((D>>>11|H<<5)&8191),I=s[8]+((H>>>8|S<<8)&8191),U=s[9]+(S>>>5|i),j=0,z=j+C*a+$*(5*b)+B*(5*m)+O*(5*_)+T*(5*g);j=z>>>13,z&=8191,z+=y*(5*h)+w*(5*f)+E*(5*u)+I*(5*l)+U*(5*c),j+=z>>>13,z&=8191;let L=j+C*c+$*a+B*(5*b)+O*(5*m)+T*(5*_);j=L>>>13,L&=8191,L+=y*(5*g)+w*(5*h)+E*(5*f)+I*(5*u)+U*(5*l),j+=L>>>13,L&=8191;let x=j+C*l+$*c+B*a+O*(5*b)+T*(5*m);j=x>>>13,x&=8191,x+=y*(5*_)+w*(5*g)+E*(5*h)+I*(5*f)+U*(5*u),j+=x>>>13,x&=8191;let W=j+C*u+$*l+B*c+O*a+T*(5*b);j=W>>>13,W&=8191,W+=y*(5*m)+w*(5*_)+E*(5*g)+I*(5*h)+U*(5*f),j+=W>>>13,W&=8191;let K=j+C*f+$*u+B*l+O*c+T*a;j=K>>>13,K&=8191,K+=y*(5*b)+w*(5*m)+E*(5*_)+I*(5*g)+U*(5*h),j+=K>>>13,K&=8191;let P=j+C*h+$*f+B*u+O*l+T*c;j=P>>>13,P&=8191,P+=y*a+w*(5*b)+E*(5*m)+I*(5*_)+U*(5*g),j+=P>>>13,P&=8191;let X=j+C*g+$*h+B*f+O*u+T*l;j=X>>>13,X&=8191,X+=y*c+w*a+E*(5*b)+I*(5*m)+U*(5*_),j+=X>>>13,X&=8191;let q=j+C*_+$*g+B*h+O*f+T*u;j=q>>>13,q&=8191,q+=y*l+w*c+E*a+I*(5*b)+U*(5*m),j+=q>>>13,q&=8191;let te=j+C*m+$*_+B*g+O*h+T*f;j=te>>>13,te&=8191,te+=y*u+w*l+E*c+I*a+U*(5*b),j+=te>>>13,te&=8191;let ne=j+C*b+$*m+B*_+O*g+T*h;j=ne>>>13,ne&=8191,ne+=y*f+w*u+E*l+I*c+U*a,j+=ne>>>13,ne&=8191,j=(j<<2)+j|0,j=j+z|0,z=j&8191,j=j>>>13,L+=j,s[0]=z,s[1]=L,s[2]=x,s[3]=W,s[4]=K,s[5]=P,s[6]=X,s[7]=q,s[8]=te,s[9]=ne}finalize(){const{h:e,pad:r}=this,n=new Uint16Array(10);let i=e[1]>>>13;e[1]&=8191;for(let a=2;a<10;a++)e[a]+=i,i=e[a]>>>13,e[a]&=8191;e[0]+=i*5,i=e[0]>>>13,e[0]&=8191,e[1]+=i,i=e[1]>>>13,e[1]&=8191,e[2]+=i,n[0]=e[0]+5,i=n[0]>>>13,n[0]&=8191;for(let a=1;a<10;a++)n[a]=e[a]+i,i=n[a]>>>13,n[a]&=8191;n[9]-=8192;let s=(i^1)-1;for(let a=0;a<10;a++)n[a]&=s;s=~s;for(let a=0;a<10;a++)e[a]=e[a]&s|n[a];e[0]=(e[0]|e[1]<<13)&65535,e[1]=(e[1]>>>3|e[2]<<10)&65535,e[2]=(e[2]>>>6|e[3]<<7)&65535,e[3]=(e[3]>>>9|e[4]<<4)&65535,e[4]=(e[4]>>>12|e[5]<<1|e[6]<<14)&65535,e[5]=(e[6]>>>2|e[7]<<11)&65535,e[6]=(e[7]>>>5|e[8]<<8)&65535,e[7]=(e[8]>>>8|e[9]<<5)&65535;let o=e[0]+r[0];e[0]=o&65535;for(let a=1;a<8;a++)o=(e[a]+r[a]|0)+(o>>>16)|0,e[a]=o&65535;cm(n)}update(e){Pk(this),e=f3(e),Oo(e);const{buffer:r,blockLen:n}=this,i=e.length;for(let s=0;s<i;){const o=Math.min(n-this.pos,i-s);if(o===n){for(;n<=i-s;s+=n)this.process(e,s);continue}r.set(e.subarray(s,s+o),this.pos),this.pos+=o,s+=o,this.pos===n&&(this.process(r,0,!1),this.pos=0)}return this}destroy(){cm(this.h,this.r,this.buffer,this.pad)}digestInto(e){Pk(this),rme(e,this),this.finished=!0;const{buffer:r,h:n}=this;let{pos:i}=this;if(i){for(r[i++]=1;i<16;i++)r[i]=0;this.process(r,0,!0)}this.finalize();let s=0;for(let o=0;o<8;o++)e[s++]=n[o]>>>0,e[s++]=n[o]>>>8;return e}digest(){const{buffer:e,outputLen:r}=this;this.digestInto(e);const n=e.slice(0,r);return this.destroy(),n}}function bme(t){const e=(n,i)=>t(i).update(f3(n)).digest(),r=t(new Uint8Array(32));return e.outputLen=r.outputLen,e.blockLen=r.blockLen,e.create=n=>t(n),e}const wme=bme(t=>new _me(t));function vme(t,e,r,n,i,s=20){let o=t[0],a=t[1],c=t[2],l=t[3],u=e[0],f=e[1],h=e[2],g=e[3],_=e[4],m=e[5],b=e[6],A=e[7],N=i,R=r[0],k=r[1],M=r[2],D=o,H=a,S=c,C=l,$=u,B=f,O=h,T=g,y=_,w=m,E=b,I=A,U=N,j=R,z=k,L=M;for(let W=0;W<s;W+=2)D=D+$|0,U=gr(U^D,16),y=y+U|0,$=gr($^y,12),D=D+$|0,U=gr(U^D,8),y=y+U|0,$=gr($^y,7),H=H+B|0,j=gr(j^H,16),w=w+j|0,B=gr(B^w,12),H=H+B|0,j=gr(j^H,8),w=w+j|0,B=gr(B^w,7),S=S+O|0,z=gr(z^S,16),E=E+z|0,O=gr(O^E,12),S=S+O|0,z=gr(z^S,8),E=E+z|0,O=gr(O^E,7),C=C+T|0,L=gr(L^C,16),I=I+L|0,T=gr(T^I,12),C=C+T|0,L=gr(L^C,8),I=I+L|0,T=gr(T^I,7),D=D+B|0,L=gr(L^D,16),E=E+L|0,B=gr(B^E,12),D=D+B|0,L=gr(L^D,8),E=E+L|0,B=gr(B^E,7),H=H+O|0,U=gr(U^H,16),I=I+U|0,O=gr(O^I,12),H=H+O|0,U=gr(U^H,8),I=I+U|0,O=gr(O^I,7),S=S+T|0,j=gr(j^S,16),y=y+j|0,T=gr(T^y,12),S=S+T|0,j=gr(j^S,8),y=y+j|0,T=gr(T^y,7),C=C+$|0,z=gr(z^C,16),w=w+z|0,$=gr($^w,12),C=C+$|0,z=gr(z^C,8),w=w+z|0,$=gr($^w,7);let x=0;n[x++]=o+D|0,n[x++]=a+H|0,n[x++]=c+S|0,n[x++]=l+C|0,n[x++]=u+$|0,n[x++]=f+B|0,n[x++]=h+O|0,n[x++]=g+T|0,n[x++]=_+y|0,n[x++]=m+w|0,n[x++]=b+E|0,n[x++]=A+I|0,n[x++]=N+U|0,n[x++]=R+j|0,n[x++]=k+z|0,n[x++]=M+L|0}const Eme=yme(vme,{counterRight:!1,counterLength:4,allowShortKeys:!1}),Ame=new Uint8Array(16),Mk=(t,e)=>{t.update(e);const r=e.length%16;r&&t.update(Ame.subarray(r))},xme=new Uint8Array(32);function Uk(t,e,r,n,i){const s=t(e,r,xme),o=wme.create(s);i&&Mk(o,i),Mk(o,n);const a=lme(n.length,i?i.length:0,!0);o.update(a);const c=o.digest();return cm(s,a),c}const Cme=t=>(e,r,n)=>({encrypt(i,s){const o=i.length;s=Ok(o+16,s,!1),s.set(i);const a=s.subarray(0,-16);t(e,r,a,a,1);const c=Uk(t,e,r,a,n);return s.set(c,o),cm(c),s},decrypt(i,s){s=Ok(i.length-16,s,!1);const o=i.subarray(0,-16),a=i.subarray(-16),c=Uk(t,e,r,o,n);if(!ame(a,c))throw new Error("invalid tag");return s.set(i.subarray(0,-16)),t(e,r,s,s,1),cm(c),s}}),gq=cme({blockSize:64,nonceLength:12,tagLength:16},Cme(Eme));let mq=class extends Fx{constructor(e,r){super(),this.finished=!1,this.destroyed=!1,zP(e);const n=Il(r);if(this.iHash=e.create(),typeof this.iHash.update!="function")throw new Error("Expected instance of class which extends utils.Hash");this.blockLen=this.iHash.blockLen,this.outputLen=this.iHash.outputLen;const i=this.blockLen,s=new Uint8Array(i);s.set(n.length>i?e.create().update(n).digest():n);for(let o=0;o<s.length;o++)s[o]^=54;this.iHash.update(s),this.oHash=e.create();for(let o=0;o<s.length;o++)s[o]^=106;this.oHash.update(s),uc(s)}update(e){return lh(this),this.iHash.update(e),this}digestInto(e){lh(this),lc(e,this.outputLen),this.finished=!0,this.iHash.digestInto(e),this.oHash.update(e),this.oHash.digestInto(e),this.destroy()}digest(){const e=new Uint8Array(this.oHash.outputLen);return this.digestInto(e),e}_cloneInto(e){e||(e=Object.create(Object.getPrototypeOf(this),{}));const{oHash:r,iHash:n,finished:i,destroyed:s,blockLen:o,outputLen:a}=this;return e=e,e.finished=i,e.destroyed=s,e.blockLen=o,e.outputLen=a,e.oHash=r._cloneInto(e.oHash),e.iHash=n._cloneInto(e.iHash),e}clone(){return this._cloneInto()}destroy(){this.destroyed=!0,this.oHash.destroy(),this.iHash.destroy()}};const Hx=(t,e,r)=>new mq(t,e).update(r).digest();Hx.create=(t,e)=>new mq(t,e);function Nme(t,e,r){return zP(t),r===void 0&&(r=new Uint8Array(t.outputLen)),Hx(t,Il(r),Il(e))}const YN=Uint8Array.from([0]),Lk=Uint8Array.of();function Sme(t,e,r,n=32){zP(t),Jf(n);const i=t.outputLen;if(n>255*i)throw new Error("Length should be <= 255*HashLen");const s=Math.ceil(n/i);r===void 0&&(r=Lk);const o=new Uint8Array(s*i),a=Hx.create(t,e),c=a._cloneInto(),l=new Uint8Array(a.outputLen);for(let u=0;u<s;u++)YN[0]=u+1,c.update(u===0?Lk:l).update(r).update(YN).digestInto(l),o.set(l,i*u),a._cloneInto(c);return a.destroy(),c.destroy(),uc(l,YN),o.slice(0,n)}const Tme=(t,e,r,n,i)=>Sme(t,Nme(t,e,r),n,i),jx=Bx,YP=BigInt(0),p3=BigInt(1);function _A(t,e){if(typeof e!="boolean")throw new Error(t+" boolean expected, got "+e)}function sv(t){const e=t.toString(16);return e.length&1?"0"+e:e}function yq(t){if(typeof t!="string")throw new Error("hex string expected, got "+typeof t);return t===""?YP:BigInt("0x"+t)}function Wx(t){return yq(xb(t))}function bA(t){return lc(t),yq(xb(Uint8Array.from(t).reverse()))}function XP(t,e){return KP(t.toString(16).padStart(e*2,"0"))}function QP(t,e){return XP(t,e).reverse()}function Po(t,e,r){let n;if(typeof e=="string")try{n=KP(e)}catch(s){throw new Error(t+" must be hex string or Uint8Array, cause: "+s)}else if(qP(e))n=Uint8Array.from(e);else throw new Error(t+" must be hex string or Uint8Array");const i=n.length;if(typeof r=="number"&&i!==r)throw new Error(t+" of length "+r+" expected, got "+i);return n}const XN=t=>typeof t=="bigint"&&YP<=t;function Ime(t,e,r){return XN(t)&&XN(e)&&XN(r)&&e<=t&&t<r}function g3(t,e,r,n){if(!Ime(e,r,n))throw new Error("expected valid "+t+": "+r+" <= n < "+n+", got "+e)}function Rme(t){let e;for(e=0;t>YP;t>>=p3,e+=1);return e}const qx=t=>(p3<<BigInt(t))-p3;function Pme(t,e,r){if(typeof t!="number"||t<2)throw new Error("hashLen must be a number");if(typeof e!="number"||e<2)throw new Error("qByteLen must be a number");if(typeof r!="function")throw new Error("hmacFn must be a function");const n=h=>new Uint8Array(h),i=h=>Uint8Array.of(h);let s=n(t),o=n(t),a=0;const c=()=>{s.fill(1),o.fill(0),a=0},l=(...h)=>r(o,s,...h),u=(h=n(0))=>{o=l(i(0),h),s=l(),h.length!==0&&(o=l(i(1),h),s=l())},f=()=>{if(a++>=1e3)throw new Error("drbg: tried 1000 values");let h=0;const g=[];for(;h<e;){s=l();const _=s.slice();g.push(_),h+=s.length}return w0(...g)};return(h,g)=>{c(),u(h);let _;for(;!(_=g(f()));)u();return c(),_}}function zx(t,e,r={}){if(!t||typeof t!="object")throw new Error("expected valid options object");function n(i,s,o){const a=t[i];if(o&&a===void 0)return;const c=typeof a;if(c!==s||a===null)throw new Error(`param "${i}" is invalid: expected ${s}, got ${c}`)}Object.entries(e).forEach(([i,s])=>n(i,s,!1)),Object.entries(r).forEach(([i,s])=>n(i,s,!0))}function $k(t){const e=new WeakMap;return(r,...n)=>{const i=e.get(r);if(i!==void 0)return i;const s=t(r,...n);return e.set(r,s),s}}const Uo=BigInt(0),so=BigInt(1),v0=BigInt(2),Ome=BigInt(3),_q=BigInt(4),bq=BigInt(5),wq=BigInt(8);function Qa(t,e){const r=t%e;return r>=Uo?r:e+r}function Fc(t,e,r){let n=t;for(;e-- >Uo;)n*=n,n%=r;return n}function Fk(t,e){if(t===Uo)throw new Error("invert: expected non-zero number");if(e<=Uo)throw new Error("invert: expected positive modulus, got "+e);let r=Qa(t,e),n=e,i=Uo,s=so;for(;r!==Uo;){const o=n/r,a=n%r,c=i-s*o;n=r,r=a,i=s,s=c}if(n!==so)throw new Error("invert: does not exist");return Qa(i,e)}function vq(t,e){const r=(t.ORDER+so)/_q,n=t.pow(e,r);if(!t.eql(t.sqr(n),e))throw new Error("Cannot find square root");return n}function Dme(t,e){const r=(t.ORDER-bq)/wq,n=t.mul(e,v0),i=t.pow(n,r),s=t.mul(e,i),o=t.mul(t.mul(s,v0),i),a=t.mul(s,t.sub(o,t.ONE));if(!t.eql(t.sqr(a),e))throw new Error("Cannot find square root");return a}function kme(t){if(t<BigInt(3))throw new Error("sqrt is not defined for small field");let e=t-so,r=0;for(;e%v0===Uo;)e/=v0,r++;let n=v0;const i=Im(t);for(;Bk(i,n)===1;)if(n++>1e3)throw new Error("Cannot find square root: probably non-prime P");if(r===1)return vq;let s=i.pow(n,e);const o=(e+so)/v0;return function(a,c){if(a.is0(c))return c;if(Bk(a,c)!==1)throw new Error("Cannot find square root");let l=r,u=a.mul(a.ONE,s),f=a.pow(c,e),h=a.pow(c,o);for(;!a.eql(f,a.ONE);){if(a.is0(f))return a.ZERO;let g=1,_=a.sqr(f);for(;!a.eql(_,a.ONE);)if(g++,_=a.sqr(_),g===l)throw new Error("Cannot find square root");const m=so<<BigInt(l-g-1),b=a.pow(u,m);l=g,u=a.sqr(b),f=a.mul(f,u),h=a.mul(h,b)}return h}}function Mme(t){return t%_q===Ome?vq:t%wq===bq?Dme:kme(t)}const Ume=["create","isValid","is0","neg","inv","sqrt","sqr","eql","add","sub","mul","pow","div","addN","subN","mulN","sqrN"];function Lme(t){const e={ORDER:"bigint",MASK:"bigint",BYTES:"number",BITS:"number"},r=Ume.reduce((n,i)=>(n[i]="function",n),e);return zx(t,r),t}function $me(t,e,r){if(r<Uo)throw new Error("invalid exponent, negatives unsupported");if(r===Uo)return t.ONE;if(r===so)return e;let n=t.ONE,i=e;for(;r>Uo;)r&so&&(n=t.mul(n,i)),i=t.sqr(i),r>>=so;return n}function Eq(t,e,r=!1){const n=new Array(e.length).fill(r?t.ZERO:void 0),i=e.reduce((o,a,c)=>t.is0(a)?o:(n[c]=o,t.mul(o,a)),t.ONE),s=t.inv(i);return e.reduceRight((o,a,c)=>t.is0(a)?o:(n[c]=t.mul(o,n[c]),t.mul(o,a)),s),n}function Bk(t,e){const r=(t.ORDER-so)/v0,n=t.pow(e,r),i=t.eql(n,t.ONE),s=t.eql(n,t.ZERO),o=t.eql(n,t.neg(t.ONE));if(!i&&!s&&!o)throw new Error("invalid Legendre symbol result");return i?1:s?0:-1}function Fme(t,e){e!==void 0&&Jf(e);const r=e!==void 0?e:t.toString(2).length,n=Math.ceil(r/8);return{nBitLength:r,nByteLength:n}}function Im(t,e,r=!1,n={}){if(t<=Uo)throw new Error("invalid field: expected ORDER > 0, got "+t);let i,s;if(typeof e=="object"&&e!=null){if(n.sqrt||r)throw new Error("cannot specify opts in two arguments");const u=e;u.BITS&&(i=u.BITS),u.sqrt&&(s=u.sqrt),typeof u.isLE=="boolean"&&(r=u.isLE)}else typeof e=="number"&&(i=e),n.sqrt&&(s=n.sqrt);const{nBitLength:o,nByteLength:a}=Fme(t,i);if(a>2048)throw new Error("invalid field: expected ORDER of <= 2048 bytes");let c;const l=Object.freeze({ORDER:t,isLE:r,BITS:o,BYTES:a,MASK:qx(o),ZERO:Uo,ONE:so,create:u=>Qa(u,t),isValid:u=>{if(typeof u!="bigint")throw new Error("invalid field element: expected bigint, got "+typeof u);return Uo<=u&&u<t},is0:u=>u===Uo,isValidNot0:u=>!l.is0(u)&&l.isValid(u),isOdd:u=>(u&so)===so,neg:u=>Qa(-u,t),eql:(u,f)=>u===f,sqr:u=>Qa(u*u,t),add:(u,f)=>Qa(u+f,t),sub:(u,f)=>Qa(u-f,t),mul:(u,f)=>Qa(u*f,t),pow:(u,f)=>$me(l,u,f),div:(u,f)=>Qa(u*Fk(f,t),t),sqrN:u=>u*u,addN:(u,f)=>u+f,subN:(u,f)=>u-f,mulN:(u,f)=>u*f,inv:u=>Fk(u,t),sqrt:s||(u=>(c||(c=Mme(t)),c(l,u))),toBytes:u=>r?QP(u,a):XP(u,a),fromBytes:u=>{if(u.length!==a)throw new Error("Field.fromBytes: expected "+a+" bytes, got "+u.length);return r?bA(u):Wx(u)},invertBatch:u=>Eq(l,u),cmov:(u,f,h)=>h?f:u});return Object.freeze(l)}function Aq(t){if(typeof t!="bigint")throw new Error("field order must be bigint");const e=t.toString(2).length;return Math.ceil(e/8)}function xq(t){const e=Aq(t);return e+Math.ceil(e/2)}function Bme(t,e,r=!1){const n=t.length,i=Aq(e),s=xq(e);if(n<16||n<s||n>1024)throw new Error("expected "+s+"-1024 bytes of input, got "+n);const o=r?bA(t):Wx(t),a=Qa(o,e-so)+so;return r?QP(a,i):XP(a,i)}const lm=BigInt(0),E0=BigInt(1);function E_(t,e){const r=e.negate();return t?r:e}function Hme(t,e,r){const n=s=>s.pz,i=Eq(t.Fp,r.map(n));return r.map((s,o)=>s.toAffine(i[o])).map(t.fromAffine)}function Cq(t,e){if(!Number.isSafeInteger(t)||t<=0||t>e)throw new Error("invalid window size, expected [1.."+e+"], got W="+t)}function QN(t,e){Cq(t,e);const r=Math.ceil(e/t)+1,n=2**(t-1),i=2**t,s=qx(t),o=BigInt(t);return{windows:r,windowSize:n,mask:s,maxNumber:i,shiftBy:o}}function Hk(t,e,r){const{windowSize:n,mask:i,maxNumber:s,shiftBy:o}=r;let a=Number(t&i),c=t>>o;a>n&&(a-=s,c+=E0);const l=e*n,u=l+Math.abs(a)-1,f=a===0,h=a<0,g=e%2!==0;return{nextN:c,offset:u,isZero:f,isNeg:h,isNegF:g,offsetF:l}}function jme(t,e){if(!Array.isArray(t))throw new Error("array expected");t.forEach((r,n)=>{if(!(r instanceof e))throw new Error("invalid point at index "+n)})}function Wme(t,e){if(!Array.isArray(t))throw new Error("array of scalars expected");t.forEach((r,n)=>{if(!e.isValid(r))throw new Error("invalid scalar at index "+n)})}const ZN=new WeakMap,Nq=new WeakMap;function eS(t){return Nq.get(t)||1}function jk(t){if(t!==lm)throw new Error("invalid wNAF")}function qme(t,e){return{constTimeNegate:E_,hasPrecomputes(r){return eS(r)!==1},unsafeLadder(r,n,i=t.ZERO){let s=r;for(;n>lm;)n&E0&&(i=i.add(s)),s=s.double(),n>>=E0;return i},precomputeWindow(r,n){const{windows:i,windowSize:s}=QN(n,e),o=[];let a=r,c=a;for(let l=0;l<i;l++){c=a,o.push(c);for(let u=1;u<s;u++)c=c.add(a),o.push(c);a=c.double()}return o},wNAF(r,n,i){let s=t.ZERO,o=t.BASE;const a=QN(r,e);for(let c=0;c<a.windows;c++){const{nextN:l,offset:u,isZero:f,isNeg:h,isNegF:g,offsetF:_}=Hk(i,c,a);i=l,f?o=o.add(E_(g,n[_])):s=s.add(E_(h,n[u]))}return jk(i),{p:s,f:o}},wNAFUnsafe(r,n,i,s=t.ZERO){const o=QN(r,e);for(let a=0;a<o.windows&&i!==lm;a++){const{nextN:c,offset:l,isZero:u,isNeg:f}=Hk(i,a,o);if(i=c,!u){const h=n[l];s=s.add(f?h.negate():h)}}return jk(i),s},getPrecomputes(r,n,i){let s=ZN.get(n);return s||(s=this.precomputeWindow(n,r),r!==1&&(typeof i=="function"&&(s=i(s)),ZN.set(n,s))),s},wNAFCached(r,n,i){const s=eS(r);return this.wNAF(s,this.getPrecomputes(s,r,i),n)},wNAFCachedUnsafe(r,n,i,s){const o=eS(r);return o===1?this.unsafeLadder(r,n,s):this.wNAFUnsafe(o,this.getPrecomputes(o,r,i),n,s)},setWindowSize(r,n){Cq(n,e),Nq.set(r,n),ZN.delete(r)}}}function zme(t,e,r,n){let i=e,s=t.ZERO,o=t.ZERO;for(;r>lm||n>lm;)r&E0&&(s=s.add(i)),n&E0&&(o=o.add(i)),i=i.double(),r>>=E0,n>>=E0;return{p1:s,p2:o}}function Gme(t,e,r,n){jme(r,t),Wme(n,e);const i=r.length,s=n.length;if(i!==s)throw new Error("arrays of points and scalars must have equal length");const o=t.ZERO,a=Rme(BigInt(i));let c=1;a>12?c=a-3:a>4?c=a-2:a>0&&(c=2);const l=qx(c),u=new Array(Number(l)+1).fill(o),f=Math.floor((e.BITS-1)/c)*c;let h=o;for(let g=f;g>=0;g-=c){u.fill(o);for(let m=0;m<s;m++){const b=n[m],A=Number(b>>BigInt(g)&l);u[A]=u[A].add(r[m])}let _=o;for(let m=u.length-1,b=o;m>0;m--)b=b.add(u[m]),_=_.add(b);if(h=h.add(_),g!==0)for(let m=0;m<c;m++)h=h.double()}return h}function Wk(t,e){if(e){if(e.ORDER!==t)throw new Error("Field.ORDER must match order: Fp == p, Fn == n");return Lme(e),e}else return Im(t)}function Kme(t,e,r={}){if(!e||typeof e!="object")throw new Error(`expected valid ${t} CURVE object`);for(const o of["p","n","h"]){const a=e[o];if(!(typeof a=="bigint"&&a>lm))throw new Error(`CURVE.${o} must be positive bigint`)}const n=Wk(e.p,r.Fp),i=Wk(e.n,r.Fn),s=["Gx","Gy","a","b"];for(const o of s)if(!n.isValid(e[o]))throw new Error(`CURVE.${o} must be valid field element of CURVE.Fp`);return{Fp:n,Fn:i}}BigInt(0),BigInt(1),BigInt(2),BigInt(8);const Ty=BigInt(0),Bp=BigInt(1),ov=BigInt(2);function Vme(t){return zx(t,{adjustScalarBytes:"function",powPminus2:"function"}),Object.freeze({...t})}function Jme(t){const e=Vme(t),{P:r,type:n,adjustScalarBytes:i,powPminus2:s,randomBytes:o}=e,a=n==="x25519";if(!a&&n!=="x448")throw new Error("invalid type");const c=o||Tm,l=a?255:448,u=a?32:56,f=BigInt(a?9:5),h=BigInt(a?121665:39081),g=a?ov**BigInt(254):ov**BigInt(447),_=a?BigInt(8)*ov**BigInt(251)-Bp:BigInt(4)*ov**BigInt(445)-Bp,m=g+_+Bp,b=C=>Qa(C,r),A=N(f);function N(C){return QP(b(C),u)}function R(C){const $=Po("u coordinate",C,u);return a&&($[31]&=127),b(bA($))}function k(C){return bA(i(Po("scalar",C,u)))}function M(C,$){const B=S(R($),k(C));if(B===Ty)throw new Error("invalid private or public key received");return N(B)}function D(C){return M(C,A)}function H(C,$,B){const O=b(C*($-B));return $=b($-O),B=b(B+O),{x_2:$,x_3:B}}function S(C,$){g3("u",C,Ty,r),g3("scalar",$,g,m);const B=$,O=C;let T=Bp,y=Ty,w=C,E=Bp,I=Ty;for(let j=BigInt(l-1);j>=Ty;j--){const z=B>>j&Bp;I^=z,{x_2:T,x_3:w}=H(I,T,w),{x_2:y,x_3:E}=H(I,y,E),I=z;const L=T+y,x=b(L*L),W=T-y,K=b(W*W),P=x-K,X=w+E,q=w-E,te=b(q*L),ne=b(X*W),le=te+ne,me=te-ne;w=b(le*le),E=b(O*b(me*me)),T=b(x*K),y=b(P*(x+b(h*P)))}({x_2:T,x_3:w}=H(I,T,w)),{x_2:y,x_3:E}=H(I,y,E);const U=s(y);return b(T*U)}return{scalarMult:M,scalarMultBase:D,getSharedSecret:(C,$)=>M(C,$),getPublicKey:C=>D(C),utils:{randomPrivateKey:()=>c(u)},GuBytes:A.slice()}}BigInt(0);const Yme=BigInt(1),qk=BigInt(2),Xme=BigInt(3),Qme=BigInt(5);BigInt(8);const Sq={p:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffed"),n:BigInt("0x1000000000000000000000000000000014def9dea2f79cd65812631a5cf5d3ed"),a:BigInt("0x7fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffec"),d:BigInt("0x52036cee2b6ffe738cc740797779e89800700a4d4141d8ab75eb4dca135978a3"),Gx:BigInt("0x216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a"),Gy:BigInt("0x6666666666666666666666666666666666666666666666666666666666666658")};function Zme(t){const e=BigInt(10),r=BigInt(20),n=BigInt(40),i=BigInt(80),s=Sq.p,o=t*t%s*t%s,a=Fc(o,qk,s)*o%s,c=Fc(a,Yme,s)*t%s,l=Fc(c,Qme,s)*c%s,u=Fc(l,e,s)*l%s,f=Fc(u,r,s)*u%s,h=Fc(f,n,s)*f%s,g=Fc(h,i,s)*h%s,_=Fc(g,i,s)*h%s,m=Fc(_,e,s)*l%s;return{pow_p_5_8:Fc(m,qk,s)*t%s,b2:o}}function eye(t){return t[0]&=248,t[31]&=127,t[31]|=64,t}const m3=(()=>{const t=Sq.p;return Jme({P:t,type:"x25519",powPminus2:e=>{const{pow_p_5_8:r,b2:n}=Zme(e);return Qa(Fc(r,Xme,t)*n,t)},adjustScalarBytes:eye})})();function zk(t){t.lowS!==void 0&&_A("lowS",t.lowS),t.prehash!==void 0&&_A("prehash",t.prehash)}class tye extends Error{constructor(e=""){super(e)}}const Pf={Err:tye,_tlv:{encode:(t,e)=>{const{Err:r}=Pf;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length&1)throw new r("tlv.encode: unpadded data");const n=e.length/2,i=sv(n);if(i.length/2&128)throw new r("tlv.encode: long form length too big");const s=n>127?sv(i.length/2|128):"";return sv(t)+s+i+e},decode(t,e){const{Err:r}=Pf;let n=0;if(t<0||t>256)throw new r("tlv.encode: wrong tag");if(e.length<2||e[n++]!==t)throw new r("tlv.decode: wrong tlv");const i=e[n++],s=!!(i&128);let o=0;if(!s)o=i;else{const c=i&127;if(!c)throw new r("tlv.decode(long): indefinite length not supported");if(c>4)throw new r("tlv.decode(long): byte length is too big");const l=e.subarray(n,n+c);if(l.length!==c)throw new r("tlv.decode: length bytes not complete");if(l[0]===0)throw new r("tlv.decode(long): zero leftmost byte");for(const u of l)o=o<<8|u;if(n+=c,o<128)throw new r("tlv.decode(long): not minimal encoding")}const a=e.subarray(n,n+o);if(a.length!==o)throw new r("tlv.decode: wrong value length");return{v:a,l:e.subarray(n+o)}}},_int:{encode(t){const{Err:e}=Pf;if(t<A_)throw new e("integer: negative integers are not allowed");let r=sv(t);if(Number.parseInt(r[0],16)&8&&(r="00"+r),r.length&1)throw new e("unexpected DER parsing assertion: unpadded hex");return r},decode(t){const{Err:e}=Pf;if(t[0]&128)throw new e("invalid signature integer: negative");if(t[0]===0&&!(t[1]&128))throw new e("invalid signature integer: unnecessary leading zero");return Wx(t)}},toSig(t){const{Err:e,_int:r,_tlv:n}=Pf,i=Po("signature",t),{v:s,l:o}=n.decode(48,i);if(o.length)throw new e("invalid signature: left bytes after parsing");const{v:a,l:c}=n.decode(2,s),{v:l,l:u}=n.decode(2,c);if(u.length)throw new e("invalid signature: left bytes after parsing");return{r:r.decode(a),s:r.decode(l)}},hexFromSig(t){const{_tlv:e,_int:r}=Pf,n=e.encode(2,r.encode(t.r)),i=e.encode(2,r.encode(t.s)),s=n+i;return e.encode(48,s)}},A_=BigInt(0),x_=BigInt(1),rye=BigInt(2),av=BigInt(3),nye=BigInt(4);function iye(t,e,r){function n(i){const s=t.sqr(i),o=t.mul(s,i);return t.add(t.add(o,t.mul(i,e)),r)}return n}function Tq(t,e,r){const{BYTES:n}=t;function i(s){let o;if(typeof s=="bigint")o=s;else{let a=Po("private key",s);if(e){if(!e.includes(a.length*2))throw new Error("invalid private key");const c=new Uint8Array(n);c.set(a,c.length-a.length),a=c}try{o=t.fromBytes(a)}catch{throw new Error(`invalid private key: expected ui8a of size ${n}, got ${typeof s}`)}}if(r&&(o=t.create(o)),!t.isValidNot0(o))throw new Error("invalid private key: out of range [1..N-1]");return o}return i}function sye(t,e={}){const{Fp:r,Fn:n}=Kme("weierstrass",t,e),{h:i,n:s}=t;zx(e,{},{allowInfinityPoint:"boolean",clearCofactor:"function",isTorsionFree:"function",fromBytes:"function",toBytes:"function",endo:"object",wrapPrivateKey:"boolean"});const{endo:o}=e;if(o&&(!r.is0(t.a)||typeof o.beta!="bigint"||typeof o.splitScalar!="function"))throw new Error('invalid endo: expected "beta": bigint and "splitScalar": function');function a(){if(!r.isOdd)throw new Error("compression is not supported: Field does not have .isOdd()")}function c(S,C,$){const{x:B,y:O}=C.toAffine(),T=r.toBytes(B);if(_A("isCompressed",$),$){a();const y=!r.isOdd(O);return w0(Iq(y),T)}else return w0(Uint8Array.of(4),T,r.toBytes(O))}function l(S){lc(S);const C=r.BYTES,$=C+1,B=2*C+1,O=S.length,T=S[0],y=S.subarray(1);if(O===$&&(T===2||T===3)){const w=r.fromBytes(y);if(!r.isValid(w))throw new Error("bad point: is not on curve, wrong x");const E=h(w);let I;try{I=r.sqrt(E)}catch(j){const z=j instanceof Error?": "+j.message:"";throw new Error("bad point: is not on curve, sqrt error"+z)}a();const U=r.isOdd(I);return(T&1)===1!==U&&(I=r.neg(I)),{x:w,y:I}}else if(O===B&&T===4){const w=r.fromBytes(y.subarray(C*0,C*1)),E=r.fromBytes(y.subarray(C*1,C*2));if(!g(w,E))throw new Error("bad point: is not on curve");return{x:w,y:E}}else throw new Error(`bad point: got length ${O}, expected compressed=${$} or uncompressed=${B}`)}const u=e.toBytes||c,f=e.fromBytes||l,h=iye(r,t.a,t.b);function g(S,C){const $=r.sqr(C),B=h(S);return r.eql($,B)}if(!g(t.Gx,t.Gy))throw new Error("bad curve params: generator point");const _=r.mul(r.pow(t.a,av),nye),m=r.mul(r.sqr(t.b),BigInt(27));if(r.is0(r.add(_,m)))throw new Error("bad curve params: a or b");function b(S,C,$=!1){if(!r.isValid(C)||$&&r.is0(C))throw new Error(`bad point coordinate ${S}`);return C}function A(S){if(!(S instanceof M))throw new Error("ProjectivePoint expected")}const N=$k((S,C)=>{const{px:$,py:B,pz:O}=S;if(r.eql(O,r.ONE))return{x:$,y:B};const T=S.is0();C==null&&(C=T?r.ONE:r.inv(O));const y=r.mul($,C),w=r.mul(B,C),E=r.mul(O,C);if(T)return{x:r.ZERO,y:r.ZERO};if(!r.eql(E,r.ONE))throw new Error("invZ was invalid");return{x:y,y:w}}),R=$k(S=>{if(S.is0()){if(e.allowInfinityPoint&&!r.is0(S.py))return;throw new Error("bad point: ZERO")}const{x:C,y:$}=S.toAffine();if(!r.isValid(C)||!r.isValid($))throw new Error("bad point: x or y not field elements");if(!g(C,$))throw new Error("bad point: equation left != right");if(!S.isTorsionFree())throw new Error("bad point: not in prime-order subgroup");return!0});function k(S,C,$,B,O){return $=new M(r.mul($.px,S),$.py,$.pz),C=E_(B,C),$=E_(O,$),C.add($)}class M{constructor(C,$,B){this.px=b("x",C),this.py=b("y",$,!0),this.pz=b("z",B),Object.freeze(this)}static fromAffine(C){const{x:$,y:B}=C||{};if(!C||!r.isValid($)||!r.isValid(B))throw new Error("invalid affine point");if(C instanceof M)throw new Error("projective point not allowed");return r.is0($)&&r.is0(B)?M.ZERO:new M($,B,r.ONE)}get x(){return this.toAffine().x}get y(){return this.toAffine().y}static normalizeZ(C){return Hme(M,"pz",C)}static fromBytes(C){return lc(C),M.fromHex(C)}static fromHex(C){const $=M.fromAffine(f(Po("pointHex",C)));return $.assertValidity(),$}static fromPrivateKey(C){const $=Tq(n,e.allowedPrivateKeyLengths,e.wrapPrivateKey);return M.BASE.multiply($(C))}static msm(C,$){return Gme(M,n,C,$)}precompute(C=8,$=!0){return H.setWindowSize(this,C),$||this.multiply(av),this}_setWindowSize(C){this.precompute(C)}assertValidity(){R(this)}hasEvenY(){const{y:C}=this.toAffine();if(!r.isOdd)throw new Error("Field doesn't support isOdd");return!r.isOdd(C)}equals(C){A(C);const{px:$,py:B,pz:O}=this,{px:T,py:y,pz:w}=C,E=r.eql(r.mul($,w),r.mul(T,O)),I=r.eql(r.mul(B,w),r.mul(y,O));return E&&I}negate(){return new M(this.px,r.neg(this.py),this.pz)}double(){const{a:C,b:$}=t,B=r.mul($,av),{px:O,py:T,pz:y}=this;let w=r.ZERO,E=r.ZERO,I=r.ZERO,U=r.mul(O,O),j=r.mul(T,T),z=r.mul(y,y),L=r.mul(O,T);return L=r.add(L,L),I=r.mul(O,y),I=r.add(I,I),w=r.mul(C,I),E=r.mul(B,z),E=r.add(w,E),w=r.sub(j,E),E=r.add(j,E),E=r.mul(w,E),w=r.mul(L,w),I=r.mul(B,I),z=r.mul(C,z),L=r.sub(U,z),L=r.mul(C,L),L=r.add(L,I),I=r.add(U,U),U=r.add(I,U),U=r.add(U,z),U=r.mul(U,L),E=r.add(E,U),z=r.mul(T,y),z=r.add(z,z),U=r.mul(z,L),w=r.sub(w,U),I=r.mul(z,j),I=r.add(I,I),I=r.add(I,I),new M(w,E,I)}add(C){A(C);const{px:$,py:B,pz:O}=this,{px:T,py:y,pz:w}=C;let E=r.ZERO,I=r.ZERO,U=r.ZERO;const j=t.a,z=r.mul(t.b,av);let L=r.mul($,T),x=r.mul(B,y),W=r.mul(O,w),K=r.add($,B),P=r.add(T,y);K=r.mul(K,P),P=r.add(L,x),K=r.sub(K,P),P=r.add($,O);let X=r.add(T,w);return P=r.mul(P,X),X=r.add(L,W),P=r.sub(P,X),X=r.add(B,O),E=r.add(y,w),X=r.mul(X,E),E=r.add(x,W),X=r.sub(X,E),U=r.mul(j,P),E=r.mul(z,W),U=r.add(E,U),E=r.sub(x,U),U=r.add(x,U),I=r.mul(E,U),x=r.add(L,L),x=r.add(x,L),W=r.mul(j,W),P=r.mul(z,P),x=r.add(x,W),W=r.sub(L,W),W=r.mul(j,W),P=r.add(P,W),L=r.mul(x,P),I=r.add(I,L),L=r.mul(X,P),E=r.mul(K,E),E=r.sub(E,L),L=r.mul(K,x),U=r.mul(X,U),U=r.add(U,L),new M(E,I,U)}subtract(C){return this.add(C.negate())}is0(){return this.equals(M.ZERO)}multiply(C){const{endo:$}=e;if(!n.isValidNot0(C))throw new Error("invalid scalar: out of range");let B,O;const T=y=>H.wNAFCached(this,y,M.normalizeZ);if($){const{k1neg:y,k1:w,k2neg:E,k2:I}=$.splitScalar(C),{p:U,f:j}=T(w),{p:z,f:L}=T(I);O=j.add(L),B=k($.beta,U,z,y,E)}else{const{p:y,f:w}=T(C);B=y,O=w}return M.normalizeZ([B,O])[0]}multiplyUnsafe(C){const{endo:$}=e,B=this;if(!n.isValid(C))throw new Error("invalid scalar: out of range");if(C===A_||B.is0())return M.ZERO;if(C===x_)return B;if(H.hasPrecomputes(this))return this.multiply(C);if($){const{k1neg:O,k1:T,k2neg:y,k2:w}=$.splitScalar(C),{p1:E,p2:I}=zme(M,B,T,w);return k($.beta,E,I,O,y)}else return H.wNAFCachedUnsafe(B,C)}multiplyAndAddUnsafe(C,$,B){const O=this.multiplyUnsafe($).add(C.multiplyUnsafe(B));return O.is0()?void 0:O}toAffine(C){return N(this,C)}isTorsionFree(){const{isTorsionFree:C}=e;return i===x_?!0:C?C(M,this):H.wNAFCachedUnsafe(this,s).is0()}clearCofactor(){const{clearCofactor:C}=e;return i===x_?this:C?C(M,this):this.multiplyUnsafe(i)}toBytes(C=!0){return _A("isCompressed",C),this.assertValidity(),u(M,this,C)}toRawBytes(C=!0){return this.toBytes(C)}toHex(C=!0){return xb(this.toBytes(C))}toString(){return`<Point ${this.is0()?"ZERO":this.toHex()}>`}}M.BASE=new M(t.Gx,t.Gy,r.ONE),M.ZERO=new M(r.ZERO,r.ONE,r.ZERO),M.Fp=r,M.Fn=n;const D=n.BITS,H=qme(M,e.endo?Math.ceil(D/2):D);return M}function Iq(t){return Uint8Array.of(t?2:3)}function oye(t,e,r={}){zx(e,{hash:"function"},{hmac:"function",lowS:"boolean",randomBytes:"function",bits2int:"function",bits2int_modN:"function"});const n=e.randomBytes||Tm,i=e.hmac||((B,...O)=>Hx(e.hash,B,w0(...O))),{Fp:s,Fn:o}=t,{ORDER:a,BITS:c}=o;function l(B){const O=a>>x_;return B>O}function u(B){return l(B)?o.neg(B):B}function f(B,O){if(!o.isValidNot0(O))throw new Error(`invalid signature ${B}: out of range 1..CURVE.n`)}class h{constructor(O,T,y){f("r",O),f("s",T),this.r=O,this.s=T,y!=null&&(this.recovery=y),Object.freeze(this)}static fromCompact(O){const T=o.BYTES,y=Po("compactSignature",O,T*2);return new h(o.fromBytes(y.subarray(0,T)),o.fromBytes(y.subarray(T,T*2)))}static fromDER(O){const{r:T,s:y}=Pf.toSig(Po("DER",O));return new h(T,y)}assertValidity(){}addRecoveryBit(O){return new h(this.r,this.s,O)}recoverPublicKey(O){const T=s.ORDER,{r:y,s:w,recovery:E}=this;if(E==null||![0,1,2,3].includes(E))throw new Error("recovery id invalid");if(a*rye<T&&E>1)throw new Error("recovery id is ambiguous for h>1 curve");const I=E===2||E===3?y+a:y;if(!s.isValid(I))throw new Error("recovery id 2 or 3 invalid");const U=s.toBytes(I),j=t.fromHex(w0(Iq((E&1)===0),U)),z=o.inv(I),L=R(Po("msgHash",O)),x=o.create(-L*z),W=o.create(w*z),K=t.BASE.multiplyUnsafe(x).add(j.multiplyUnsafe(W));if(K.is0())throw new Error("point at infinify");return K.assertValidity(),K}hasHighS(){return l(this.s)}normalizeS(){return this.hasHighS()?new h(this.r,o.neg(this.s),this.recovery):this}toBytes(O){if(O==="compact")return w0(o.toBytes(this.r),o.toBytes(this.s));if(O==="der")return KP(Pf.hexFromSig(this));throw new Error("invalid format")}toDERRawBytes(){return this.toBytes("der")}toDERHex(){return xb(this.toBytes("der"))}toCompactRawBytes(){return this.toBytes("compact")}toCompactHex(){return xb(this.toBytes("compact"))}}const g=Tq(o,r.allowedPrivateKeyLengths,r.wrapPrivateKey),_={isValidPrivateKey(B){try{return g(B),!0}catch{return!1}},normPrivateKeyToScalar:g,randomPrivateKey:()=>{const B=a;return Bme(n(xq(B)),B)},precompute(B=8,O=t.BASE){return O.precompute(B,!1)}};function m(B,O=!0){return t.fromPrivateKey(B).toBytes(O)}function b(B){if(typeof B=="bigint")return!1;if(B instanceof t)return!0;const O=Po("key",B).length,T=s.BYTES,y=T+1,w=2*T+1;if(!(r.allowedPrivateKeyLengths||o.BYTES===y))return O===y||O===w}function A(B,O,T=!0){if(b(B)===!0)throw new Error("first arg must be private key");if(b(O)===!1)throw new Error("second arg must be public key");return t.fromHex(O).multiply(g(B)).toBytes(T)}const N=e.bits2int||function(B){if(B.length>8192)throw new Error("input is too large");const O=Wx(B),T=B.length*8-c;return T>0?O>>BigInt(T):O},R=e.bits2int_modN||function(B){return o.create(N(B))},k=qx(c);function M(B){return g3("num < 2^"+c,B,A_,k),o.toBytes(B)}function D(B,O,T=H){if(["recovered","canonical"].some(K=>K in T))throw new Error("sign() legacy options not supported");const{hash:y}=e;let{lowS:w,prehash:E,extraEntropy:I}=T;w==null&&(w=!0),B=Po("msgHash",B),zk(T),E&&(B=Po("prehashed msgHash",y(B)));const U=R(B),j=g(O),z=[M(j),M(U)];if(I!=null&&I!==!1){const K=I===!0?n(s.BYTES):I;z.push(Po("extraEntropy",K))}const L=w0(...z),x=U;function W(K){const P=N(K);if(!o.isValidNot0(P))return;const X=o.inv(P),q=t.BASE.multiply(P).toAffine(),te=o.create(q.x);if(te===A_)return;const ne=o.create(X*o.create(x+te*j));if(ne===A_)return;let le=(q.x===te?0:2)|Number(q.y&x_),me=ne;return w&&l(ne)&&(me=u(ne),le^=1),new h(te,me,le)}return{seed:L,k2sig:W}}const H={lowS:e.lowS,prehash:!1},S={lowS:e.lowS,prehash:!1};function C(B,O,T=H){const{seed:y,k2sig:w}=D(B,O,T);return Pme(e.hash.outputLen,o.BYTES,i)(y,w)}t.BASE.precompute(8);function $(B,O,T,y=S){const w=B;O=Po("msgHash",O),T=Po("publicKey",T),zk(y);const{lowS:E,prehash:I,format:U}=y;if("strict"in y)throw new Error("options.strict was renamed to lowS");if(U!==void 0&&!["compact","der","js"].includes(U))throw new Error('format must be "compact", "der" or "js"');const j=typeof w=="string"||qP(w),z=!j&&!U&&typeof w=="object"&&w!==null&&typeof w.r=="bigint"&&typeof w.s=="bigint";if(!j&&!z)throw new Error("invalid signature, expected Uint8Array, hex string or Signature instance");let L,x;try{if(z)if(U===void 0||U==="js")L=new h(w.r,w.s);else throw new Error("invalid format");if(j){try{U!=="compact"&&(L=h.fromDER(w))}catch(le){if(!(le instanceof Pf.Err))throw le}!L&&U!=="der"&&(L=h.fromCompact(w))}x=t.fromHex(T)}catch{return!1}if(!L||E&&L.hasHighS())return!1;I&&(O=e.hash(O));const{r:W,s:K}=L,P=R(O),X=o.inv(K),q=o.create(P*X),te=o.create(W*X),ne=t.BASE.multiplyUnsafe(q).add(x.multiplyUnsafe(te));return ne.is0()?!1:o.create(ne.x)===W}return Object.freeze({getPublicKey:m,getSharedSecret:A,sign:C,verify:$,utils:_,Point:t,Signature:h})}function aye(t){const e={a:t.a,b:t.b,p:t.Fp.ORDER,n:t.n,h:t.h,Gx:t.Gx,Gy:t.Gy},r=t.Fp,n=Im(e.n,t.nBitLength),i={Fp:r,Fn:n,allowedPrivateKeyLengths:t.allowedPrivateKeyLengths,allowInfinityPoint:t.allowInfinityPoint,endo:t.endo,wrapPrivateKey:t.wrapPrivateKey,isTorsionFree:t.isTorsionFree,clearCofactor:t.clearCofactor,fromBytes:t.fromBytes,toBytes:t.toBytes};return{CURVE:e,curveOpts:i}}function cye(t){const{CURVE:e,curveOpts:r}=aye(t),n={hash:t.hash,hmac:t.hmac,randomBytes:t.randomBytes,lowS:t.lowS,bits2int:t.bits2int,bits2int_modN:t.bits2int_modN};return{CURVE:e,curveOpts:r,ecdsaOpts:n}}function lye(t,e){return Object.assign({},e,{ProjectivePoint:e.Point,CURVE:t})}function uye(t){const{CURVE:e,curveOpts:r,ecdsaOpts:n}=cye(t),i=sye(e,r),s=oye(i,n,r);return lye(t,s)}function y3(t,e){const r=n=>uye({...t,hash:n});return{...r(e),create:r}}const Rq={p:BigInt("0xffffffff00000001000000000000000000000000ffffffffffffffffffffffff"),n:BigInt("0xffffffff00000000ffffffffffffffffbce6faada7179e84f3b9cac2fc632551"),h:BigInt(1),a:BigInt("0xffffffff00000001000000000000000000000000fffffffffffffffffffffffc"),b:BigInt("0x5ac635d8aa3a93e7b3ebbd55769886bc651d06b0cc53b0f63bce3c3e27d2604b"),Gx:BigInt("0x6b17d1f2e12c4247f8bce6e563a440f277037d812deb33a0f4a13945d898c296"),Gy:BigInt("0x4fe342e2fe1a7f9b8ee7eb4a7c0f9e162bce33576b315ececbb6406837bf51f5")},Pq={p:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000ffffffff"),n:BigInt("0xffffffffffffffffffffffffffffffffffffffffffffffffc7634d81f4372ddf581a0db248b0a77aecec196accc52973"),h:BigInt(1),a:BigInt("0xfffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffeffffffff0000000000000000fffffffc"),b:BigInt("0xb3312fa7e23ee7e4988e056be3f82d19181d9c6efe8141120314088f5013875ac656398d8a2ed19d2a85c8edd3ec2aef"),Gx:BigInt("0xaa87ca22be8b05378eb1c71ef320ad746e1d3b628ba79b9859f741e082542a385502f25dbf55296c3a545e3872760ab7"),Gy:BigInt("0x3617de4a96262c6f5d9e98bf9292dc29f8f41dbd289a147ce9da3113b5f0b8c00a60b1ce1d7e819d7a431d7c90ea0e5f")},Oq={p:BigInt("0x1ffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),n:BigInt("0x01fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffa51868783bf2f966b7fcc0148f709a5d03bb5c9b8899c47aebb6fb71e91386409"),h:BigInt(1),a:BigInt("0x1fffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffc"),b:BigInt("0x0051953eb9618e1c9a1f929a21a0b68540eea2da725b99b315f3b8b489918ef109e156193951ec7e937b1652c0bd3bb1bf073573df883d2c34f1ef451fd46b503f00"),Gx:BigInt("0x00c6858e06b70404e9cd9e3ecb662395b4429c648139053fb521f828af606b4d3dbaa14b5e77efe75928fe1dc127a2ffa8de3348b3c1856a429bf97e7e31c2e5bd66"),Gy:BigInt("0x011839296a789a3bc0045c8a5fb42c7d1bd998f54449579b446817afbd17273e662c97ee72995ef42640c550b9013fad0761353c7086a272c24088be94769fd16650")},fye=Im(Rq.p),dye=Im(Pq.p),hye=Im(Oq.p),pye=y3({...Rq,Fp:fye,lowS:!1},Bx);y3({...Pq,Fp:dye,lowS:!1},Ege),y3({...Oq,Fp:hye,lowS:!1,allowedPrivateKeyLengths:[130,131,132]},vge);const gye=pye,Dq="base10",oo="base16",Do="base64pad",Kd="base64url",k1="utf8",kq=0,$f=1,M1=2,mye=0,Gk=1,C_=12,ZP=32;function yye(){const t=m3.utils.randomPrivateKey(),e=m3.getPublicKey(t);return{privateKey:Bo(t,oo),publicKey:Bo(e,oo)}}function _3(){const t=Tm(ZP);return Bo(t,oo)}function _ye(t,e){const r=m3.getSharedSecret(rc(t,oo),rc(e,oo)),n=Tme(jx,r,void 0,void 0,ZP);return Bo(n,oo)}function Gv(t){const e=jx(rc(t,oo));return Bo(e,oo)}function Ja(t){const e=jx(rc(t,k1));return Bo(e,oo)}function Mq(t){return rc(`${t}`,Dq)}function W0(t){return Number(Bo(t,Dq))}function Uq(t){return t.replace(/\+/g,"-").replace(/\//g,"_").replace(/=/g,"")}function Lq(t){const e=t.replace(/-/g,"+").replace(/_/g,"/"),r=(4-e.length%4)%4;return e+"=".repeat(r)}function bye(t){const e=Mq(typeof t.type<"u"?t.type:kq);if(W0(e)===$f&&typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");const r=typeof t.senderPublicKey<"u"?rc(t.senderPublicKey,oo):void 0,n=typeof t.iv<"u"?rc(t.iv,oo):Tm(C_),i=rc(t.symKey,oo),s=gq(i,n).encrypt(rc(t.message,k1)),o=$q({type:e,sealed:s,iv:n,senderPublicKey:r});return t.encoding===Kd?Uq(o):o}function wye(t){const e=rc(t.symKey,oo),{sealed:r,iv:n}=Nb({encoded:t.encoded,encoding:t.encoding}),i=gq(e,n).decrypt(r);if(i===null)throw new Error("Failed to decrypt");return Bo(i,k1)}function vye(t,e){const r=Mq(M1),n=Tm(C_),i=rc(t,k1),s=$q({type:r,sealed:i,iv:n});return e===Kd?Uq(s):s}function Eye(t,e){const{sealed:r}=Nb({encoded:t,encoding:e});return Bo(r,k1)}function $q(t){if(W0(t.type)===M1)return Bo(v_([t.type,t.sealed]),Do);if(W0(t.type)===$f){if(typeof t.senderPublicKey>"u")throw new Error("Missing sender public key for type 1 envelope");return Bo(v_([t.type,t.senderPublicKey,t.iv,t.sealed]),Do)}return Bo(v_([t.type,t.iv,t.sealed]),Do)}function Nb(t){const e=(t.encoding||Do)===Kd?Lq(t.encoded):t.encoded,r=rc(e,Do),n=r.slice(mye,Gk),i=Gk;if(W0(n)===$f){const c=i+ZP,l=c+C_,u=r.slice(i,c),f=r.slice(c,l),h=r.slice(l);return{type:n,sealed:h,iv:f,senderPublicKey:u}}if(W0(n)===M1){const c=r.slice(i),l=Tm(C_);return{type:n,sealed:c,iv:l}}const s=i+C_,o=r.slice(i,s),a=r.slice(s);return{type:n,sealed:a,iv:o}}function Aye(t,e){const r=Nb({encoded:t,encoding:e?.encoding});return Fq({type:W0(r.type),senderPublicKey:typeof r.senderPublicKey<"u"?Bo(r.senderPublicKey,oo):void 0,receiverPublicKey:e?.receiverPublicKey})}function Fq(t){const e=t?.type||kq;if(e===$f){if(typeof t?.senderPublicKey>"u")throw new Error("missing sender public key");if(typeof t?.receiverPublicKey>"u")throw new Error("missing receiver public key")}return{type:e,senderPublicKey:t?.senderPublicKey,receiverPublicKey:t?.receiverPublicKey}}function Kk(t){return t.type===$f&&typeof t.senderPublicKey=="string"&&typeof t.receiverPublicKey=="string"}function Vk(t){return t.type===M1}function xye(t){const e=Buffer.from(t.x,"base64"),r=Buffer.from(t.y,"base64");return v_([new Uint8Array([4]),e,r])}function Cye(t,e){const[r,n,i]=t.split("."),s=Buffer.from(Lq(i),"base64");if(s.length!==64)throw new Error("Invalid signature length");const o=s.slice(0,32),a=s.slice(32,64),c=`${r}.${n}`,l=jx(c),u=xye(e);if(!gye.verify(v_([o,a]),l,u))throw new Error("Invalid signature");return ZI(t).payload}const Nye="irn";function wA(t){return t?.relay||{protocol:Nye}}function Ig(t){const e=cpe[t];if(typeof e>"u")throw new Error(`Relay Protocol not supported: ${t}`);return e}function Sye(t,e="-"){const r={},n="relay"+e;return Object.keys(t).forEach(i=>{if(i.startsWith(n)){const s=i.replace(n,""),o=t[i];r[s]=o}}),r}function Jk(t){if(!t.includes("wc:")){const l=YW(t);l!=null&&l.includes("wc:")&&(t=l)}t=t.includes("wc://")?t.replace("wc://",""):t,t=t.includes("wc:")?t.replace("wc:",""):t;const e=t.indexOf(":"),r=t.indexOf("?")!==-1?t.indexOf("?"):void 0,n=t.substring(0,e),i=t.substring(e+1,r).split("@"),s=typeof r<"u"?t.substring(r):"",o=new URLSearchParams(s),a={};o.forEach((l,u)=>{a[u]=l});const c=typeof a.methods=="string"?a.methods.split(","):void 0;return{protocol:n,topic:Tye(i[0]),version:parseInt(i[1],10),symKey:a.symKey,relay:Sye(a),methods:c,expiryTimestamp:a.expiryTimestamp?parseInt(a.expiryTimestamp,10):void 0}}function Tye(t){return t.startsWith("//")?t.substring(2):t}function Iye(t,e="-"){const r="relay",n={};return Object.keys(t).forEach(i=>{const s=i,o=r+e+s;t[s]&&(n[o]=t[s])}),n}function Yk(t){const e=new URLSearchParams,r=Iye(t.relay);Object.keys(r).sort().forEach(i=>{e.set(i,r[i])}),e.set("symKey",t.symKey),t.expiryTimestamp&&e.set("expiryTimestamp",t.expiryTimestamp.toString()),t.methods&&e.set("methods",t.methods.join(","));const n=e.toString();return`${t.protocol}:${t.topic}@${t.version}?${n}`}function cv(t,e,r){return`${t}?wc_ev=${r}&topic=${e}`}var Rye=Object.defineProperty,Pye=Object.defineProperties,Oye=Object.getOwnPropertyDescriptors,Xk=Object.getOwnPropertySymbols,Dye=Object.prototype.hasOwnProperty,kye=Object.prototype.propertyIsEnumerable,Qk=(t,e,r)=>e in t?Rye(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Mye=(t,e)=>{for(var r in e||(e={}))Dye.call(e,r)&&Qk(t,r,e[r]);if(Xk)for(var r of Xk(e))kye.call(e,r)&&Qk(t,r,e[r]);return t},Uye=(t,e)=>Pye(t,Oye(e));function Rm(t){const e=[];return t.forEach(r=>{const[n,i]=r.split(":");e.push(`${n}:${i}`)}),e}function Lye(t){const e=[];return Object.values(t).forEach(r=>{e.push(...Rm(r.accounts))}),e}function $ye(t,e){const r=[];return Object.values(t).forEach(n=>{Rm(n.accounts).includes(e)&&r.push(...n.methods)}),r}function Fye(t,e){const r=[];return Object.values(t).forEach(n=>{Rm(n.accounts).includes(e)&&r.push(...n.events)}),r}function Gx(t){return t.includes(":")}function Rg(t){return Gx(t)?t.split(":")[0]:t}function Zk(t){var e,r,n;const i={};if(!xu(t))return i;for(const[s,o]of Object.entries(t)){const a=Gx(s)?[s]:o.chains,c=o.methods||[],l=o.events||[],u=Rg(s);i[u]=Uye(Mye({},i[u]),{chains:Au(a,(e=i[u])==null?void 0:e.chains),methods:Au(c,(r=i[u])==null?void 0:r.methods),events:Au(l,(n=i[u])==null?void 0:n.events)})}return i}function Bye(t){const e={};return t?.forEach(r=>{var n;const[i,s]=r.split(":");e[i]||(e[i]={accounts:[],chains:[],events:[],methods:[]}),e[i].accounts.push(r),(n=e[i].chains)==null||n.push(`${i}:${s}`)}),e}function eM(t,e){e=e.map(n=>n.replace("did:pkh:",""));const r=Bye(e);for(const[n,i]of Object.entries(r))i.methods?i.methods=Au(i.methods,t):i.methods=t,i.events=["chainChanged","accountsChanged"];return r}function Hye(t,e){var r,n,i,s,o,a;const c=Zk(t),l=Zk(e),u={},f=Object.keys(c).concat(Object.keys(l));for(const h of f)u[h]={chains:Au((r=c[h])==null?void 0:r.chains,(n=l[h])==null?void 0:n.chains),methods:Au((i=c[h])==null?void 0:i.methods,(s=l[h])==null?void 0:s.methods),events:Au((o=c[h])==null?void 0:o.events,(a=l[h])==null?void 0:a.events)};return u}const jye={INVALID_METHOD:{message:"Invalid method.",code:1001},INVALID_EVENT:{message:"Invalid event.",code:1002},INVALID_UPDATE_REQUEST:{message:"Invalid update request.",code:1003},INVALID_EXTEND_REQUEST:{message:"Invalid extend request.",code:1004},INVALID_SESSION_SETTLE_REQUEST:{message:"Invalid session settle request.",code:1005},UNAUTHORIZED_METHOD:{message:"Unauthorized method.",code:3001},UNAUTHORIZED_EVENT:{message:"Unauthorized event.",code:3002},UNAUTHORIZED_UPDATE_REQUEST:{message:"Unauthorized update request.",code:3003},UNAUTHORIZED_EXTEND_REQUEST:{message:"Unauthorized extend request.",code:3004},USER_REJECTED:{message:"User rejected.",code:5e3},USER_REJECTED_CHAINS:{message:"User rejected chains.",code:5001},USER_REJECTED_METHODS:{message:"User rejected methods.",code:5002},USER_REJECTED_EVENTS:{message:"User rejected events.",code:5003},UNSUPPORTED_CHAINS:{message:"Unsupported chains.",code:5100},UNSUPPORTED_METHODS:{message:"Unsupported methods.",code:5101},UNSUPPORTED_EVENTS:{message:"Unsupported events.",code:5102},UNSUPPORTED_ACCOUNTS:{message:"Unsupported accounts.",code:5103},UNSUPPORTED_NAMESPACE_KEY:{message:"Unsupported namespace key.",code:5104},USER_DISCONNECTED:{message:"User disconnected.",code:6e3},SESSION_SETTLEMENT_FAILED:{message:"Session settlement failed.",code:7e3},WC_METHOD_UNSUPPORTED:{message:"Unsupported wc_ method.",code:10001}},Wye={NOT_INITIALIZED:{message:"Not initialized.",code:1},NO_MATCHING_KEY:{message:"No matching key.",code:2},RESTORE_WILL_OVERRIDE:{message:"Restore will override.",code:3},RESUBSCRIBED:{message:"Resubscribed.",code:4},MISSING_OR_INVALID:{message:"Missing or invalid.",code:5},EXPIRED:{message:"Expired.",code:6},UNKNOWN_TYPE:{message:"Unknown type.",code:7},MISMATCHED_TOPIC:{message:"Mismatched topic.",code:8},NON_CONFORMING_NAMESPACES:{message:"Non conforming namespaces.",code:9}};function He(t,e){const{message:r,code:n}=Wye[t];return{message:e?`${r} ${e}`:r,code:n}}function Nn(t,e){const{message:r,code:n}=jye[t];return{message:e?`${r} ${e}`:r,code:n}}function Ff(t,e){return!!Array.isArray(t)}function xu(t){return Object.getPrototypeOf(t)===Object.prototype&&Object.keys(t).length}function Di(t){return typeof t>"u"}function ci(t,e){return e&&Di(t)?!0:typeof t=="string"&&!!t.trim().length}function e6(t,e){return e&&Di(t)?!0:typeof t=="number"&&!isNaN(t)}function qye(t,e){const{requiredNamespaces:r}=e,n=Object.keys(t.namespaces),i=Object.keys(r);let s=!0;return b0(i,n)?(n.forEach(o=>{const{accounts:a,methods:c,events:l}=t.namespaces[o],u=Rm(a),f=r[o];(!b0(zW(o,f),u)||!b0(f.methods,c)||!b0(f.events,l))&&(s=!1)}),s):!1}function vA(t){return ci(t,!1)&&t.includes(":")?t.split(":").length===2:!1}function zye(t){if(ci(t,!1)&&t.includes(":")){const e=t.split(":");if(e.length===3){const r=e[0]+":"+e[1];return!!e[2]&&vA(r)}}return!1}function Gye(t){function e(r){try{return typeof new URL(r)<"u"}catch{return!1}}try{if(ci(t,!1)){if(e(t))return!0;const r=YW(t);return e(r)}}catch{}return!1}function Kye(t){var e;return(e=t?.proposer)==null?void 0:e.publicKey}function Vye(t){return t?.topic}function Jye(t,e){let r=null;return ci(t?.publicKey,!1)||(r=He("MISSING_OR_INVALID",`${e} controller public key should be a string`)),r}function tM(t){let e=!0;return Ff(t)?t.length&&(e=t.every(r=>ci(r,!1))):e=!1,e}function Yye(t,e,r){let n=null;return Ff(e)&&e.length?e.forEach(i=>{n||vA(i)||(n=Nn("UNSUPPORTED_CHAINS",`${r}, chain ${i} should be a string and conform to "namespace:chainId" format`))}):vA(t)||(n=Nn("UNSUPPORTED_CHAINS",`${r}, chains must be defined as "namespace:chainId" e.g. "eip155:1": {...} in the namespace key OR as an array of CAIP-2 chainIds e.g. eip155: { chains: ["eip155:1", "eip155:5"] }`)),n}function Xye(t,e,r){let n=null;return Object.entries(t).forEach(([i,s])=>{if(n)return;const o=Yye(i,zW(i,s),`${e} ${r}`);o&&(n=o)}),n}function Qye(t,e){let r=null;return Ff(t)?t.forEach(n=>{r||zye(n)||(r=Nn("UNSUPPORTED_ACCOUNTS",`${e}, account ${n} should be a string and conform to "namespace:chainId:address" format`))}):r=Nn("UNSUPPORTED_ACCOUNTS",`${e}, accounts should be an array of strings conforming to "namespace:chainId:address" format`),r}function Zye(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=Qye(n?.accounts,`${e} namespace`);i&&(r=i)}),r}function e_e(t,e){let r=null;return tM(t?.methods)?tM(t?.events)||(r=Nn("UNSUPPORTED_EVENTS",`${e}, events should be an array of strings or empty array for no events`)):r=Nn("UNSUPPORTED_METHODS",`${e}, methods should be an array of strings or empty array for no methods`),r}function Bq(t,e){let r=null;return Object.values(t).forEach(n=>{if(r)return;const i=e_e(n,`${e}, namespace`);i&&(r=i)}),r}function t_e(t,e,r){let n=null;if(t&&xu(t)){const i=Bq(t,e);i&&(n=i);const s=Xye(t,e,r);s&&(n=s)}else n=He("MISSING_OR_INVALID",`${e}, ${r} should be an object with data`);return n}function tS(t,e){let r=null;if(t&&xu(t)){const n=Bq(t,e);n&&(r=n);const i=Zye(t,e);i&&(r=i)}else r=He("MISSING_OR_INVALID",`${e}, namespaces should be an object with data`);return r}function Hq(t){return ci(t.protocol,!0)}function r_e(t,e){let r=!1;return t?t&&Ff(t)&&t.length&&t.forEach(n=>{r=Hq(n)}):r=!0,r}function n_e(t){return typeof t=="number"}function Io(t){return typeof t<"u"&&typeof t!==null}function i_e(t){return!(!t||typeof t!="object"||!t.code||!e6(t.code,!1)||!t.message||!ci(t.message,!1))}function s_e(t){return!(Di(t)||!ci(t.method,!1))}function o_e(t){return!(Di(t)||Di(t.result)&&Di(t.error)||!e6(t.id,!1)||!ci(t.jsonrpc,!1))}function a_e(t){return!(Di(t)||!ci(t.name,!1))}function rM(t,e){return!(!vA(e)||!Lye(t).includes(e))}function c_e(t,e,r){return ci(r,!1)?$ye(t,e).includes(r):!1}function l_e(t,e,r){return ci(r,!1)?Fye(t,e).includes(r):!1}function nM(t,e,r){let n=null;const i=u_e(t),s=f_e(e),o=Object.keys(i),a=Object.keys(s),c=iM(Object.keys(t)),l=iM(Object.keys(e)),u=c.filter(f=>!l.includes(f));return u.length&&(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces keys don't satisfy requiredNamespaces.
      Required: ${u.toString()}
      Received: ${Object.keys(e).toString()}`)),b0(o,a)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces chains don't satisfy required namespaces.
      Required: ${o.toString()}
      Approved: ${a.toString()}`)),Object.keys(e).forEach(f=>{if(!f.includes(":")||n)return;const h=Rm(e[f].accounts);h.includes(f)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces accounts don't satisfy namespace accounts for ${f}
        Required: ${f}
        Approved: ${h.toString()}`))}),o.forEach(f=>{n||(b0(i[f].methods,s[f].methods)?b0(i[f].events,s[f].events)||(n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces events don't satisfy namespace events for ${f}`)):n=He("NON_CONFORMING_NAMESPACES",`${r} namespaces methods don't satisfy namespace methods for ${f}`))}),n}function u_e(t){const e={};return Object.keys(t).forEach(r=>{var n;r.includes(":")?e[r]=t[r]:(n=t[r].chains)==null||n.forEach(i=>{e[i]={methods:t[r].methods,events:t[r].events}})}),e}function iM(t){return[...new Set(t.map(e=>e.includes(":")?e.split(":")[0]:e))]}function f_e(t){const e={};return Object.keys(t).forEach(r=>{r.includes(":")?e[r]=t[r]:Rm(t[r].accounts)?.forEach(i=>{e[i]={accounts:t[r].accounts.filter(s=>s.includes(`${i}:`)),methods:t[r].methods,events:t[r].events}})}),e}function d_e(t,e){return e6(t,!1)&&t<=e.max&&t>=e.min}function sM(){const t=O1();return new Promise(e=>{switch(t){case ga.browser:e(h_e());break;case ga.reactNative:e(p_e());break;case ga.node:e(g_e());break;default:e(!0)}})}function h_e(){return Sm()&&navigator?.onLine}async function p_e(){return Ch()&&typeof global<"u"&&global!=null&&global.NetInfo?(await(global==null?void 0:global.NetInfo.fetch()))?.isConnected:!0}function g_e(){return!0}function m_e(t){switch(O1()){case ga.browser:y_e(t);break;case ga.reactNative:__e(t);break}}function y_e(t){!Ch()&&Sm()&&(window.addEventListener("online",()=>t(!0)),window.addEventListener("offline",()=>t(!1)))}function __e(t){Ch()&&typeof global<"u"&&global!=null&&global.NetInfo&&global?.NetInfo.addEventListener(e=>t(e?.isConnected))}function b_e(){var t;return Sm()&&Vf.getDocument()?((t=Vf.getDocument())==null?void 0:t.visibilityState)==="visible":!0}const rS={};class Iy{static get(e){return rS[e]}static set(e,r){rS[e]=r}static delete(e){delete rS[e]}}function w_e(t){const e=Nm.decode(t);if(e.length<33)throw new Error("Too short to contain a public key");return e.slice(1,33)}function v_e({publicKey:t,signature:e,payload:r}){var n;const i=b3(r.method),s=128|parseInt(((n=r.version)==null?void 0:n.toString())||"4"),o=x_e(r.address),a=r.era==="00"?new Uint8Array([0]):b3(r.era);if(a.length!==1&&a.length!==2)throw new Error("Invalid era length");const c=parseInt(r.nonce,16),l=new Uint8Array([c&255,c>>8&255]),u=BigInt(`0x${A_e(r.tip)}`),f=N_e(u),h=new Uint8Array([0,...t,o,...e,...a,...l,...f,...i]),g=C_e(h.length+1);return new Uint8Array([...g,s,...h])}function E_e(t){const e=b3(t),r=dpe.blake2b(e,void 0,32);return"0x"+Buffer.from(r).toString("hex")}function b3(t){return new Uint8Array(t.replace(/^0x/,"").match(/.{1,2}/g).map(e=>parseInt(e,16)))}function A_e(t){return t.startsWith("0x")?t.slice(2):t}function x_e(t){const e=Nm.decode(t)[0];return e===42?0:e===60?2:1}function C_e(t){if(t<64)return new Uint8Array([t<<2]);if(t<16384){const e=t<<2|1;return new Uint8Array([e&255,e>>8&255])}else if(t<1<<30){const e=t<<2|2;return new Uint8Array([e&255,e>>8&255,e>>16&255,e>>24&255])}else throw new Error("Compact encoding > 2^30 not supported")}function N_e(t){if(t<BigInt(1)<<BigInt(6))return new Uint8Array([Number(t<<BigInt(2))]);if(t<BigInt(1)<<BigInt(14)){const e=t<<BigInt(2)|BigInt(1);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255))])}else if(t<BigInt(1)<<BigInt(30)){const e=t<<BigInt(2)|BigInt(2);return new Uint8Array([Number(e&BigInt(255)),Number(e>>BigInt(8)&BigInt(255)),Number(e>>BigInt(16)&BigInt(255)),Number(e>>BigInt(24)&BigInt(255))])}else throw new Error("BigInt compact encoding not supported > 2^30")}function S_e(t){const e=Uint8Array.from(Buffer.from(t.signature,"hex")),r=w_e(t.transaction.address),n=v_e({publicKey:r,signature:e,payload:t.transaction}),i=Buffer.from(n).toString("hex");return E_e(i)}const T_e="PARSE_ERROR",I_e="INVALID_REQUEST",R_e="METHOD_NOT_FOUND",P_e="INVALID_PARAMS",jq="INTERNAL_ERROR",t6="SERVER_ERROR",O_e=[-32700,-32600,-32601,-32602,-32603],N_={[T_e]:{code:-32700,message:"Parse error"},[I_e]:{code:-32600,message:"Invalid Request"},[R_e]:{code:-32601,message:"Method not found"},[P_e]:{code:-32602,message:"Invalid params"},[jq]:{code:-32603,message:"Internal error"},[t6]:{code:-32e3,message:"Server error"}},Wq=t6;function D_e(t){return O_e.includes(t)}function oM(t){return Object.keys(N_).includes(t)?N_[t]:N_[Wq]}function k_e(t){const e=Object.values(N_).find(r=>r.code===t);return e||N_[Wq]}function qq(t,e,r){return t.message.includes("getaddrinfo ENOTFOUND")||t.message.includes("connect ECONNREFUSED")?new Error(`Unavailable ${r} RPC url at ${e}`):t}var nS={},lf={},aM;function M_e(){if(aM)return lf;aM=1,Object.defineProperty(lf,"__esModule",{value:!0}),lf.isBrowserCryptoAvailable=lf.getSubtleCrypto=lf.getBrowerCrypto=void 0;function t(){return to?.crypto||to?.msCrypto||{}}lf.getBrowerCrypto=t;function e(){const n=t();return n.subtle||n.webkitSubtle}lf.getSubtleCrypto=e;function r(){return!!t()&&!!e()}return lf.isBrowserCryptoAvailable=r,lf}var uf={},cM;function U_e(){if(cM)return uf;cM=1,Object.defineProperty(uf,"__esModule",{value:!0}),uf.isBrowser=uf.isNode=uf.isReactNative=void 0;function t(){return typeof document>"u"&&typeof navigator<"u"&&navigator.product==="ReactNative"}uf.isReactNative=t;function e(){return typeof process<"u"&&typeof process.versions<"u"&&typeof process.versions.node<"u"}uf.isNode=e;function r(){return!t()&&!e()}return uf.isBrowser=r,uf}var lM;function L_e(){return lM||(lM=1,(function(t){Object.defineProperty(t,"__esModule",{value:!0});const e=N1;e.__exportStar(M_e(),t),e.__exportStar(U_e(),t)})(nS)),nS}var $_e=L_e();function su(t=3){const e=Date.now()*Math.pow(10,t),r=Math.floor(Math.random()*Math.pow(10,t));return e+r}function Xd(t=6){return BigInt(su(t))}function du(t,e,r){return{id:r||su(),jsonrpc:"2.0",method:t,params:e}}function Sb(t,e){return{id:t,jsonrpc:"2.0",result:e}}function Kx(t,e,r){return{id:t,jsonrpc:"2.0",error:F_e(e)}}function F_e(t,e){return typeof t>"u"?oM(jq):(typeof t=="string"&&(t=Object.assign(Object.assign({},oM(t6)),{message:t})),D_e(t.code)&&(t=k_e(t.code)),t)}let B_e=class{},H_e=class extends B_e{constructor(){super()}},j_e=class extends H_e{constructor(e){super()}};const W_e="^https?:",q_e="^wss?:";function z_e(t){const e=t.match(new RegExp(/^\w+:/,"gi"));if(!(!e||!e.length))return e[0]}function zq(t,e){const r=z_e(t);return typeof r>"u"?!1:new RegExp(e).test(r)}function uM(t){return zq(t,W_e)}function fM(t){return zq(t,q_e)}function G_e(t){return new RegExp("wss?://localhost(:d{2,5})?").test(t)}function Gq(t){return typeof t=="object"&&"id"in t&&"jsonrpc"in t&&t.jsonrpc==="2.0"}function r6(t){return Gq(t)&&"method"in t}function Vx(t){return Gq(t)&&(ou(t)||Ya(t))}function ou(t){return"result"in t}function Ya(t){return"error"in t}let mc=class extends j_e{constructor(e){super(e),this.events=new gc.EventEmitter,this.hasRegisteredEventListeners=!1,this.connection=this.setConnection(e),this.connection.connected&&this.registerEventListeners()}async connect(e=this.connection){await this.open(e)}async disconnect(){await this.close()}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async request(e,r){return this.requestStrict(du(e.method,e.params||[],e.id||Xd().toString()),r)}async requestStrict(e,r){return new Promise(async(n,i)=>{if(!this.connection.connected)try{await this.open()}catch(s){i(s)}this.events.on(`${e.id}`,s=>{Ya(s)?i(s.error):n(s.result)});try{await this.connection.send(e,r)}catch(s){i(s)}})}setConnection(e=this.connection){return e}onPayload(e){this.events.emit("payload",e),Vx(e)?this.events.emit(`${e.id}`,e):this.events.emit("message",{type:e.method,data:e.params})}onClose(e){e&&e.code===3e3&&this.events.emit("error",new Error(`WebSocket connection closed abnormally with code: ${e.code} ${e.reason?`(${e.reason})`:""}`)),this.events.emit("disconnect")}async open(e=this.connection){this.connection===e&&this.connection.connected||(this.connection.connected&&this.close(),typeof e=="string"&&(await this.connection.open(e),e=this.connection),this.connection=this.setConnection(e),await this.connection.open(),this.registerEventListeners(),this.events.emit("connect"))}async close(){await this.connection.close()}registerEventListeners(){this.hasRegisteredEventListeners||(this.connection.on("payload",e=>this.onPayload(e)),this.connection.on("close",e=>this.onClose(e)),this.connection.on("error",e=>this.events.emit("error",e)),this.connection.on("register_error",e=>this.onClose()),this.hasRegisteredEventListeners=!0)}};const K_e=()=>typeof WebSocket<"u"?WebSocket:typeof global<"u"&&typeof global.WebSocket<"u"?global.WebSocket:typeof window<"u"&&typeof window.WebSocket<"u"?window.WebSocket:typeof self<"u"&&typeof self.WebSocket<"u"?self.WebSocket:require("ws"),V_e=()=>typeof WebSocket<"u"||typeof global<"u"&&typeof global.WebSocket<"u"||typeof window<"u"&&typeof window.WebSocket<"u"||typeof self<"u"&&typeof self.WebSocket<"u",dM=t=>t.split("?")[0],hM=10,J_e=K_e();let Y_e=class{constructor(e){if(this.url=e,this.events=new gc.EventEmitter,this.registering=!1,!fM(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);this.url=e}get connected(){return typeof this.socket<"u"}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){return new Promise((e,r)=>{if(typeof this.socket>"u"){r(new Error("Connection already closed"));return}this.socket.onclose=n=>{this.onClose(n),e()},this.socket.close()})}async send(e){typeof this.socket>"u"&&(this.socket=await this.register());try{this.socket.send(Kf(e))}catch(r){this.onError(e.id,r)}}register(e=this.url){if(!fM(e))throw new Error(`Provided URL is not compatible with WebSocket connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.socket>"u")return i(new Error("WebSocket connection is missing or invalid"));n(this.socket)})})}return this.url=e,this.registering=!0,new Promise((r,n)=>{const i=$_e.isReactNative()?void 0:{rejectUnauthorized:!G_e(e)},s=new J_e(e,[],i);V_e()?s.onerror=o=>{const a=o;n(this.emitError(a.error))}:s.on("error",o=>{n(this.emitError(o))}),s.onopen=()=>{this.onOpen(s),r(s)}})}onOpen(e){e.onmessage=r=>this.onPayload(r),e.onclose=r=>this.onClose(r),this.socket=e,this.registering=!1,this.events.emit("open")}onClose(e){this.socket=void 0,this.registering=!1,this.events.emit("close",e)}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?B0(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Kx(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return qq(e,dM(r),"WS")}resetMaxListeners(){this.events.getMaxListeners()>hM&&this.events.setMaxListeners(hM)}emitError(e){const r=this.parseError(new Error(e?.message||`WebSocket connection failed for host: ${dM(this.url)}`));return this.events.emit("register_error",r),r}};var X_e={};const Kq="wc",Vq=2,w3="core",Ru=`${Kq}@2:${w3}:`,Q_e={logger:"error"},Z_e={database:":memory:"},ebe="crypto",pM="client_ed25519_seed",tbe=je.ONE_DAY,rbe="keychain",nbe="0.3",ibe="messages",sbe="0.3",obe=je.SIX_HOURS,abe="publisher",Jq="irn",cbe="error",Yq="wss://relay.walletconnect.org",lbe="relayer",ri={message:"relayer_message",message_ack:"relayer_message_ack",connect:"relayer_connect",disconnect:"relayer_disconnect",error:"relayer_error",connection_stalled:"relayer_connection_stalled",transport_closed:"relayer_transport_closed",publish:"relayer_publish"},ube="_subscription",ka={payload:"payload",connect:"connect",disconnect:"disconnect",error:"error"},fbe=.1,v3="2.21.7",vn={link_mode:"link_mode",relay:"relay"},Kv={inbound:"inbound",outbound:"outbound"},dbe="0.3",hbe="WALLETCONNECT_CLIENT_ID",gM="WALLETCONNECT_LINK_MODE_APPS",ea={created:"subscription_created",deleted:"subscription_deleted",expired:"subscription_expired",disabled:"subscription_disabled",sync:"subscription_sync",resubscribed:"subscription_resubscribed"},pbe="subscription",gbe="0.3",mbe="pairing",ybe="0.3",Ry={wc_pairingDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1e3},res:{ttl:je.ONE_DAY,prompt:!1,tag:1001}},wc_pairingPing:{req:{ttl:je.THIRTY_SECONDS,prompt:!1,tag:1002},res:{ttl:je.THIRTY_SECONDS,prompt:!1,tag:1003}},unregistered_method:{req:{ttl:je.ONE_DAY,prompt:!1,tag:0},res:{ttl:je.ONE_DAY,prompt:!1,tag:0}}},f0={create:"pairing_create",expire:"pairing_expire",delete:"pairing_delete",ping:"pairing_ping"},kc={created:"history_created",updated:"history_updated",deleted:"history_deleted",sync:"history_sync"},_be="history",bbe="0.3",wbe="expirer",Ka={created:"expirer_created",deleted:"expirer_deleted",expired:"expirer_expired",sync:"expirer_sync"},vbe="0.3",Ebe="verify-api",Abe="https://verify.walletconnect.com",Xq="https://verify.walletconnect.org",S_=Xq,xbe=`${S_}/v3`,Cbe=[Abe,Xq],Nbe="echo",Sbe="https://echo.walletconnect.com",ru={pairing_started:"pairing_started",pairing_uri_validation_success:"pairing_uri_validation_success",pairing_uri_not_expired:"pairing_uri_not_expired",store_new_pairing:"store_new_pairing",subscribing_pairing_topic:"subscribing_pairing_topic",subscribe_pairing_topic_success:"subscribe_pairing_topic_success",existing_pairing:"existing_pairing",pairing_not_expired:"pairing_not_expired",emit_inactive_pairing:"emit_inactive_pairing",emit_session_proposal:"emit_session_proposal",subscribing_to_pairing_topic:"subscribing_to_pairing_topic"},bf={no_wss_connection:"no_wss_connection",no_internet_connection:"no_internet_connection",malformed_pairing_uri:"malformed_pairing_uri",active_pairing_already_exists:"active_pairing_already_exists",subscribe_pairing_topic_failure:"subscribe_pairing_topic_failure",pairing_expired:"pairing_expired",proposal_expired:"proposal_expired",proposal_listener_not_found:"proposal_listener_not_found"},Sd={session_approve_started:"session_approve_started",proposal_not_expired:"proposal_not_expired",session_namespaces_validation_success:"session_namespaces_validation_success",create_session_topic:"create_session_topic",subscribing_session_topic:"subscribing_session_topic",subscribe_session_topic_success:"subscribe_session_topic_success",publishing_session_approve:"publishing_session_approve",session_approve_publish_success:"session_approve_publish_success",store_session:"store_session",publishing_session_settle:"publishing_session_settle",session_settle_publish_success:"session_settle_publish_success"},Py={no_internet_connection:"no_internet_connection",no_wss_connection:"no_wss_connection",proposal_expired:"proposal_expired",subscribe_session_topic_failure:"subscribe_session_topic_failure",session_approve_publish_failure:"session_approve_publish_failure",session_settle_publish_failure:"session_settle_publish_failure",session_approve_namespace_validation_failure:"session_approve_namespace_validation_failure",proposal_not_found:"proposal_not_found"},Yh={authenticated_session_approve_started:"authenticated_session_approve_started",create_authenticated_session_topic:"create_authenticated_session_topic",cacaos_verified:"cacaos_verified",store_authenticated_session:"store_authenticated_session",subscribing_authenticated_session_topic:"subscribing_authenticated_session_topic",subscribe_authenticated_session_topic_success:"subscribe_authenticated_session_topic_success",publishing_authenticated_session_approve:"publishing_authenticated_session_approve"},Oy={no_internet_connection:"no_internet_connection",invalid_cacao:"invalid_cacao",subscribe_authenticated_session_topic_failure:"subscribe_authenticated_session_topic_failure",authenticated_session_approve_publish_failure:"authenticated_session_approve_publish_failure",authenticated_session_pending_request_not_found:"authenticated_session_pending_request_not_found"},Tbe=.1,Ibe="event-client",Rbe=86400,Pbe="https://pulse.walletconnect.org/batch";function Obe(t,e){if(t.length>=255)throw new TypeError("Alphabet too long");for(var r=new Uint8Array(256),n=0;n<r.length;n++)r[n]=255;for(var i=0;i<t.length;i++){var s=t.charAt(i),o=s.charCodeAt(0);if(r[o]!==255)throw new TypeError(s+" is ambiguous");r[o]=i}var a=t.length,c=t.charAt(0),l=Math.log(a)/Math.log(256),u=Math.log(256)/Math.log(a);function f(_){if(_ instanceof Uint8Array||(ArrayBuffer.isView(_)?_=new Uint8Array(_.buffer,_.byteOffset,_.byteLength):Array.isArray(_)&&(_=Uint8Array.from(_))),!(_ instanceof Uint8Array))throw new TypeError("Expected Uint8Array");if(_.length===0)return"";for(var m=0,b=0,A=0,N=_.length;A!==N&&_[A]===0;)A++,m++;for(var R=(N-A)*u+1>>>0,k=new Uint8Array(R);A!==N;){for(var M=_[A],D=0,H=R-1;(M!==0||D<b)&&H!==-1;H--,D++)M+=256*k[H]>>>0,k[H]=M%a>>>0,M=M/a>>>0;if(M!==0)throw new Error("Non-zero carry");b=D,A++}for(var S=R-b;S!==R&&k[S]===0;)S++;for(var C=c.repeat(m);S<R;++S)C+=t.charAt(k[S]);return C}function h(_){if(typeof _!="string")throw new TypeError("Expected String");if(_.length===0)return new Uint8Array;var m=0;if(_[m]!==" "){for(var b=0,A=0;_[m]===c;)b++,m++;for(var N=(_.length-m)*l+1>>>0,R=new Uint8Array(N);_[m];){var k=r[_.charCodeAt(m)];if(k===255)return;for(var M=0,D=N-1;(k!==0||M<A)&&D!==-1;D--,M++)k+=a*R[D]>>>0,R[D]=k%256>>>0,k=k/256>>>0;if(k!==0)throw new Error("Non-zero carry");A=M,m++}if(_[m]!==" "){for(var H=N-A;H!==N&&R[H]===0;)H++;for(var S=new Uint8Array(b+(N-H)),C=b;H!==N;)S[C++]=R[H++];return S}}}function g(_){var m=h(_);if(m)return m;throw new Error(`Non-${e} character`)}return{encode:f,decodeUnsafe:h,decode:g}}var Dbe=Obe,kbe=Dbe;const Qq=t=>{if(t instanceof Uint8Array&&t.constructor.name==="Uint8Array")return t;if(t instanceof ArrayBuffer)return new Uint8Array(t);if(ArrayBuffer.isView(t))return new Uint8Array(t.buffer,t.byteOffset,t.byteLength);throw new Error("Unknown type, must be binary type")},Mbe=t=>new TextEncoder().encode(t),Ube=t=>new TextDecoder().decode(t);class Lbe{constructor(e,r,n){this.name=e,this.prefix=r,this.baseEncode=n}encode(e){if(e instanceof Uint8Array)return`${this.prefix}${this.baseEncode(e)}`;throw Error("Unknown type, must be binary type")}}class $be{constructor(e,r,n){if(this.name=e,this.prefix=r,r.codePointAt(0)===void 0)throw new Error("Invalid prefix character");this.prefixCodePoint=r.codePointAt(0),this.baseDecode=n}decode(e){if(typeof e=="string"){if(e.codePointAt(0)!==this.prefixCodePoint)throw Error(`Unable to decode multibase string ${JSON.stringify(e)}, ${this.name} decoder only supports inputs prefixed with ${this.prefix}`);return this.baseDecode(e.slice(this.prefix.length))}else throw Error("Can only multibase decode strings")}or(e){return Zq(this,e)}}class Fbe{constructor(e){this.decoders=e}or(e){return Zq(this,e)}decode(e){const r=e[0],n=this.decoders[r];if(n)return n.decode(e);throw RangeError(`Unable to decode multibase string ${JSON.stringify(e)}, only inputs prefixed with ${Object.keys(this.decoders)} are supported`)}}const Zq=(t,e)=>new Fbe({...t.decoders||{[t.prefix]:t},...e.decoders||{[e.prefix]:e}});class Bbe{constructor(e,r,n,i){this.name=e,this.prefix=r,this.baseEncode=n,this.baseDecode=i,this.encoder=new Lbe(e,r,n),this.decoder=new $be(e,r,i)}encode(e){return this.encoder.encode(e)}decode(e){return this.decoder.decode(e)}}const Jx=({name:t,prefix:e,encode:r,decode:n})=>new Bbe(t,e,r,n),U1=({prefix:t,name:e,alphabet:r})=>{const{encode:n,decode:i}=kbe(r,e);return Jx({prefix:t,name:e,encode:n,decode:s=>Qq(i(s))})},Hbe=(t,e,r,n)=>{const i={};for(let u=0;u<e.length;++u)i[e[u]]=u;let s=t.length;for(;t[s-1]==="=";)--s;const o=new Uint8Array(s*r/8|0);let a=0,c=0,l=0;for(let u=0;u<s;++u){const f=i[t[u]];if(f===void 0)throw new SyntaxError(`Non-${n} character`);c=c<<r|f,a+=r,a>=8&&(a-=8,o[l++]=255&c>>a)}if(a>=r||255&c<<8-a)throw new SyntaxError("Unexpected end of data");return o},jbe=(t,e,r)=>{const n=e[e.length-1]==="=",i=(1<<r)-1;let s="",o=0,a=0;for(let c=0;c<t.length;++c)for(a=a<<8|t[c],o+=8;o>r;)o-=r,s+=e[i&a>>o];if(o&&(s+=e[i&a<<r-o]),n)for(;s.length*r&7;)s+="=";return s},gs=({name:t,prefix:e,bitsPerChar:r,alphabet:n})=>Jx({prefix:e,name:t,encode(i){return jbe(i,n,r)},decode(i){return Hbe(i,n,r,t)}}),Wbe=Jx({prefix:"\0",name:"identity",encode:t=>Ube(t),decode:t=>Mbe(t)});var qbe=Object.freeze({__proto__:null,identity:Wbe});const zbe=gs({prefix:"0",name:"base2",alphabet:"01",bitsPerChar:1});var Gbe=Object.freeze({__proto__:null,base2:zbe});const Kbe=gs({prefix:"7",name:"base8",alphabet:"01234567",bitsPerChar:3});var Vbe=Object.freeze({__proto__:null,base8:Kbe});const Jbe=U1({prefix:"9",name:"base10",alphabet:"0123456789"});var Ybe=Object.freeze({__proto__:null,base10:Jbe});const Xbe=gs({prefix:"f",name:"base16",alphabet:"0123456789abcdef",bitsPerChar:4}),Qbe=gs({prefix:"F",name:"base16upper",alphabet:"0123456789ABCDEF",bitsPerChar:4});var Zbe=Object.freeze({__proto__:null,base16:Xbe,base16upper:Qbe});const e1e=gs({prefix:"b",name:"base32",alphabet:"abcdefghijklmnopqrstuvwxyz234567",bitsPerChar:5}),t1e=gs({prefix:"B",name:"base32upper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567",bitsPerChar:5}),r1e=gs({prefix:"c",name:"base32pad",alphabet:"abcdefghijklmnopqrstuvwxyz234567=",bitsPerChar:5}),n1e=gs({prefix:"C",name:"base32padupper",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZ234567=",bitsPerChar:5}),i1e=gs({prefix:"v",name:"base32hex",alphabet:"0123456789abcdefghijklmnopqrstuv",bitsPerChar:5}),s1e=gs({prefix:"V",name:"base32hexupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV",bitsPerChar:5}),o1e=gs({prefix:"t",name:"base32hexpad",alphabet:"0123456789abcdefghijklmnopqrstuv=",bitsPerChar:5}),a1e=gs({prefix:"T",name:"base32hexpadupper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUV=",bitsPerChar:5}),c1e=gs({prefix:"h",name:"base32z",alphabet:"ybndrfg8ejkmcpqxot1uwisza345h769",bitsPerChar:5});var l1e=Object.freeze({__proto__:null,base32:e1e,base32upper:t1e,base32pad:r1e,base32padupper:n1e,base32hex:i1e,base32hexupper:s1e,base32hexpad:o1e,base32hexpadupper:a1e,base32z:c1e});const u1e=U1({prefix:"k",name:"base36",alphabet:"0123456789abcdefghijklmnopqrstuvwxyz"}),f1e=U1({prefix:"K",name:"base36upper",alphabet:"0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ"});var d1e=Object.freeze({__proto__:null,base36:u1e,base36upper:f1e});const h1e=U1({name:"base58btc",prefix:"z",alphabet:"123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"}),p1e=U1({name:"base58flickr",prefix:"Z",alphabet:"123456789abcdefghijkmnopqrstuvwxyzABCDEFGHJKLMNPQRSTUVWXYZ"});var g1e=Object.freeze({__proto__:null,base58btc:h1e,base58flickr:p1e});const m1e=gs({prefix:"m",name:"base64",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",bitsPerChar:6}),y1e=gs({prefix:"M",name:"base64pad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",bitsPerChar:6}),_1e=gs({prefix:"u",name:"base64url",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_",bitsPerChar:6}),b1e=gs({prefix:"U",name:"base64urlpad",alphabet:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_=",bitsPerChar:6});var w1e=Object.freeze({__proto__:null,base64:m1e,base64pad:y1e,base64url:_1e,base64urlpad:b1e});const ez=Array.from(""),v1e=ez.reduce((t,e,r)=>(t[r]=e,t),[]),E1e=ez.reduce((t,e,r)=>(t[e.codePointAt(0)]=r,t),[]);function A1e(t){return t.reduce((e,r)=>(e+=v1e[r],e),"")}function x1e(t){const e=[];for(const r of t){const n=E1e[r.codePointAt(0)];if(n===void 0)throw new Error(`Non-base256emoji character: ${r}`);e.push(n)}return new Uint8Array(e)}const C1e=Jx({prefix:"",name:"base256emoji",encode:A1e,decode:x1e});var N1e=Object.freeze({__proto__:null,base256emoji:C1e}),S1e=tz,mM=128,T1e=-128,I1e=Math.pow(2,31);function tz(t,e,r){e=e||[],r=r||0;for(var n=r;t>=I1e;)e[r++]=t&255|mM,t/=128;for(;t&T1e;)e[r++]=t&255|mM,t>>>=7;return e[r]=t|0,tz.bytes=r-n+1,e}var R1e=E3,P1e=128,yM=127;function E3(t,n){var r=0,n=n||0,i=0,s=n,o,a=t.length;do{if(s>=a)throw E3.bytes=0,new RangeError("Could not decode varint");o=t[s++],r+=i<28?(o&yM)<<i:(o&yM)*Math.pow(2,i),i+=7}while(o>=P1e);return E3.bytes=s-n,r}var O1e=Math.pow(2,7),D1e=Math.pow(2,14),k1e=Math.pow(2,21),M1e=Math.pow(2,28),U1e=Math.pow(2,35),L1e=Math.pow(2,42),$1e=Math.pow(2,49),F1e=Math.pow(2,56),B1e=Math.pow(2,63),H1e=function(t){return t<O1e?1:t<D1e?2:t<k1e?3:t<M1e?4:t<U1e?5:t<L1e?6:t<$1e?7:t<F1e?8:t<B1e?9:10},j1e={encode:S1e,decode:R1e,encodingLength:H1e},rz=j1e;const _M=(t,e,r=0)=>(rz.encode(t,e,r),e),bM=t=>rz.encodingLength(t),A3=(t,e)=>{const r=e.byteLength,n=bM(t),i=n+bM(r),s=new Uint8Array(i+r);return _M(t,s,0),_M(r,s,n),s.set(e,i),new W1e(t,r,e,s)};class W1e{constructor(e,r,n,i){this.code=e,this.size=r,this.digest=n,this.bytes=i}}const nz=({name:t,code:e,encode:r})=>new q1e(t,e,r);class q1e{constructor(e,r,n){this.name=e,this.code=r,this.encode=n}digest(e){if(e instanceof Uint8Array){const r=this.encode(e);return r instanceof Uint8Array?A3(this.code,r):r.then(n=>A3(this.code,n))}else throw Error("Unknown type, must be binary type")}}const iz=t=>async e=>new Uint8Array(await crypto.subtle.digest(t,e)),z1e=nz({name:"sha2-256",code:18,encode:iz("SHA-256")}),G1e=nz({name:"sha2-512",code:19,encode:iz("SHA-512")});var K1e=Object.freeze({__proto__:null,sha256:z1e,sha512:G1e});const sz=0,V1e="identity",oz=Qq,J1e=t=>A3(sz,oz(t)),Y1e={code:sz,name:V1e,encode:oz,digest:J1e};var X1e=Object.freeze({__proto__:null,identity:Y1e});new TextEncoder,new TextDecoder;const wM={...qbe,...Gbe,...Vbe,...Ybe,...Zbe,...l1e,...d1e,...g1e,...w1e,...N1e};({...K1e,...X1e});function az(t){return globalThis.Buffer!=null?new Uint8Array(t.buffer,t.byteOffset,t.byteLength):t}function Q1e(t=0){return globalThis.Buffer!=null&&globalThis.Buffer.allocUnsafe!=null?az(globalThis.Buffer.allocUnsafe(t)):new Uint8Array(t)}function cz(t,e,r,n){return{name:t,prefix:e,encoder:{name:t,prefix:e,encode:r},decoder:{decode:n}}}const vM=cz("utf8","u",t=>"u"+new TextDecoder("utf8").decode(t),t=>new TextEncoder().encode(t.substring(1))),iS=cz("ascii","a",t=>{let e="a";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return e},t=>{t=t.substring(1);const e=Q1e(t.length);for(let r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}),Z1e={utf8:vM,"utf-8":vM,hex:wM.base16,latin1:iS,ascii:iS,binary:iS,...wM};function ewe(t,e="utf8"){const r=Z1e[e];if(!r)throw new Error(`Unsupported encoding "${e}"`);return(e==="utf8"||e==="utf-8")&&globalThis.Buffer!=null&&globalThis.Buffer.from!=null?az(globalThis.Buffer.from(t,"utf-8")):r.decoder.decode(`${r.prefix}${t}`)}var twe=Object.defineProperty,rwe=(t,e,r)=>e in t?twe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ql=(t,e,r)=>rwe(t,typeof e!="symbol"?e+"":e,r);class nwe{constructor(e,r){this.core=e,this.logger=r,Ql(this,"keychain",new Map),Ql(this,"name",rbe),Ql(this,"version",nbe),Ql(this,"initialized",!1),Ql(this,"storagePrefix",Ru),Ql(this,"init",async()=>{if(!this.initialized){const n=await this.getKeyChain();typeof n<"u"&&(this.keychain=n),this.initialized=!0}}),Ql(this,"has",n=>(this.isInitialized(),this.keychain.has(n))),Ql(this,"set",async(n,i)=>{this.isInitialized(),this.keychain.set(n,i),await this.persist()}),Ql(this,"get",n=>{this.isInitialized();const i=this.keychain.get(n);if(typeof i>"u"){const{message:s}=He("NO_MATCHING_KEY",`${this.name}: ${n}`);throw new Error(s)}return i}),Ql(this,"del",async n=>{this.isInitialized(),this.keychain.delete(n),await this.persist()}),this.core=e,this.logger=qs(r,this.name)}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}async setKeyChain(e){await this.core.storage.setItem(this.storageKey,a3(e))}async getKeyChain(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?c3(e):void 0}async persist(){await this.setKeyChain(this.keychain)}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var iwe=Object.defineProperty,swe=(t,e,r)=>e in t?iwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rs=(t,e,r)=>swe(t,typeof e!="symbol"?e+"":e,r);class owe{constructor(e,r,n){this.core=e,this.logger=r,rs(this,"name",ebe),rs(this,"keychain"),rs(this,"randomSessionIdentifier",_3()),rs(this,"initialized",!1),rs(this,"init",async()=>{this.initialized||(await this.keychain.init(),this.initialized=!0)}),rs(this,"hasKeys",i=>(this.isInitialized(),this.keychain.has(i))),rs(this,"getClientId",async()=>{this.isInitialized();const i=await this.getClientSeed(),s=YD(i);return vW(s.publicKey)}),rs(this,"generateKeyPair",()=>{this.isInitialized();const i=yye();return this.setPrivateKey(i.publicKey,i.privateKey)}),rs(this,"signJWT",async i=>{this.isInitialized();const s=await this.getClientSeed(),o=YD(s),a=this.randomSessionIdentifier;return await Fde(a,i,tbe,o)}),rs(this,"generateSharedKey",(i,s,o)=>{this.isInitialized();const a=this.getPrivateKey(i),c=_ye(a,s);return this.setSymKey(c,o)}),rs(this,"setSymKey",async(i,s)=>{this.isInitialized();const o=s||Gv(i);return await this.keychain.set(o,i),o}),rs(this,"deleteKeyPair",async i=>{this.isInitialized(),await this.keychain.del(i)}),rs(this,"deleteSymKey",async i=>{this.isInitialized(),await this.keychain.del(i)}),rs(this,"encode",async(i,s,o)=>{this.isInitialized();const a=Fq(o),c=Kf(s);if(Vk(a))return vye(c,o?.encoding);if(Kk(a)){const h=a.senderPublicKey,g=a.receiverPublicKey;i=await this.generateSharedKey(h,g)}const l=this.getSymKey(i),{type:u,senderPublicKey:f}=a;return bye({type:u,symKey:l,message:c,senderPublicKey:f,encoding:o?.encoding})}),rs(this,"decode",async(i,s,o)=>{this.isInitialized();const a=Aye(s,o);if(Vk(a)){const c=Eye(s,o?.encoding);return B0(c)}if(Kk(a)){const c=a.receiverPublicKey,l=a.senderPublicKey;i=await this.generateSharedKey(c,l)}try{const c=this.getSymKey(i),l=wye({symKey:c,encoded:s,encoding:o?.encoding});return B0(l)}catch(c){this.logger.error(`Failed to decode message from topic: '${i}', clientId: '${await this.getClientId()}'`),this.logger.error(c)}}),rs(this,"getPayloadType",(i,s=Do)=>{const o=Nb({encoded:i,encoding:s});return W0(o.type)}),rs(this,"getPayloadSenderPublicKey",(i,s=Do)=>{const o=Nb({encoded:i,encoding:s});return o.senderPublicKey?Bo(o.senderPublicKey,oo):void 0}),this.core=e,this.logger=qs(r,this.name),this.keychain=n||new nwe(this.core,this.logger)}get context(){return qo(this.logger)}async setPrivateKey(e,r){return await this.keychain.set(e,r),e}getPrivateKey(e){return this.keychain.get(e)}async getClientSeed(){let e="";try{e=this.keychain.get(pM)}catch{e=_3(),await this.keychain.set(pM,e)}return ewe(e,"base16")}getSymKey(e){return this.keychain.get(e)}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var awe=Object.defineProperty,cwe=Object.defineProperties,lwe=Object.getOwnPropertyDescriptors,EM=Object.getOwnPropertySymbols,uwe=Object.prototype.hasOwnProperty,fwe=Object.prototype.propertyIsEnumerable,x3=(t,e,r)=>e in t?awe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,dwe=(t,e)=>{for(var r in e||(e={}))uwe.call(e,r)&&x3(t,r,e[r]);if(EM)for(var r of EM(e))fwe.call(e,r)&&x3(t,r,e[r]);return t},hwe=(t,e)=>cwe(t,lwe(e)),Qo=(t,e,r)=>x3(t,typeof e!="symbol"?e+"":e,r);class pwe extends Lle{constructor(e,r){super(e,r),this.logger=e,this.core=r,Qo(this,"messages",new Map),Qo(this,"messagesWithoutClientAck",new Map),Qo(this,"name",ibe),Qo(this,"version",sbe),Qo(this,"initialized",!1),Qo(this,"storagePrefix",Ru),Qo(this,"init",async()=>{if(!this.initialized){this.logger.trace("Initialized");try{const n=await this.getRelayerMessages();typeof n<"u"&&(this.messages=n);const i=await this.getRelayerMessagesWithoutClientAck();typeof i<"u"&&(this.messagesWithoutClientAck=i),this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",size:this.messages.size})}catch(n){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(n)}finally{this.initialized=!0}}}),Qo(this,"set",async(n,i,s)=>{this.isInitialized();const o=Ja(i);let a=this.messages.get(n);if(typeof a>"u"&&(a={}),typeof a[o]<"u")return o;if(a[o]=i,this.messages.set(n,a),s===Kv.inbound){const c=this.messagesWithoutClientAck.get(n)||{};this.messagesWithoutClientAck.set(n,hwe(dwe({},c),{[o]:i}))}return await this.persist(),o}),Qo(this,"get",n=>{this.isInitialized();let i=this.messages.get(n);return typeof i>"u"&&(i={}),i}),Qo(this,"getWithoutAck",n=>{this.isInitialized();const i={};for(const s of n){const o=this.messagesWithoutClientAck.get(s)||{};i[s]=Object.values(o)}return i}),Qo(this,"has",(n,i)=>{this.isInitialized();const s=this.get(n),o=Ja(i);return typeof s[o]<"u"}),Qo(this,"ack",async(n,i)=>{this.isInitialized();const s=this.messagesWithoutClientAck.get(n);if(typeof s>"u")return;const o=Ja(i);delete s[o],Object.keys(s).length===0?this.messagesWithoutClientAck.delete(n):this.messagesWithoutClientAck.set(n,s),await this.persist()}),Qo(this,"del",async n=>{this.isInitialized(),this.messages.delete(n),this.messagesWithoutClientAck.delete(n),await this.persist()}),this.logger=qs(e,this.name),this.core=r}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get storageKeyWithoutClientAck(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name+"_withoutClientAck"}async setRelayerMessages(e){await this.core.storage.setItem(this.storageKey,a3(e))}async setRelayerMessagesWithoutClientAck(e){await this.core.storage.setItem(this.storageKeyWithoutClientAck,a3(e))}async getRelayerMessages(){const e=await this.core.storage.getItem(this.storageKey);return typeof e<"u"?c3(e):void 0}async getRelayerMessagesWithoutClientAck(){const e=await this.core.storage.getItem(this.storageKeyWithoutClientAck);return typeof e<"u"?c3(e):void 0}async persist(){await this.setRelayerMessages(this.messages),await this.setRelayerMessagesWithoutClientAck(this.messagesWithoutClientAck)}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var gwe=Object.defineProperty,mwe=Object.defineProperties,ywe=Object.getOwnPropertyDescriptors,AM=Object.getOwnPropertySymbols,_we=Object.prototype.hasOwnProperty,bwe=Object.prototype.propertyIsEnumerable,C3=(t,e,r)=>e in t?gwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Hp=(t,e)=>{for(var r in e||(e={}))_we.call(e,r)&&C3(t,r,e[r]);if(AM)for(var r of AM(e))bwe.call(e,r)&&C3(t,r,e[r]);return t},xM=(t,e)=>mwe(t,ywe(e)),Ma=(t,e,r)=>C3(t,typeof e!="symbol"?e+"":e,r);class wwe extends $le{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,Ma(this,"events",new gc.EventEmitter),Ma(this,"name",abe),Ma(this,"queue",new Map),Ma(this,"publishTimeout",je.toMiliseconds(je.ONE_MINUTE)),Ma(this,"initialPublishTimeout",je.toMiliseconds(je.ONE_SECOND*15)),Ma(this,"needsTransportRestart",!1),Ma(this,"publish",async(n,i,s)=>{var o,a,c,l,u;this.logger.debug("Publishing Payload"),this.logger.trace({type:"method",method:"publish",params:{topic:n,message:i,opts:s}});const f=s?.ttl||obe,h=s?.prompt||!1,g=s?.tag||0,_=s?.id||Xd().toString(),m=Ig(wA().protocol),b={id:_,method:s?.publishMethod||m.publish,params:Hp({topic:n,message:i,ttl:f,prompt:h,tag:g,attestation:s?.attestation},s?.tvf&&{tvf:s.tvf})},A=`Failed to publish payload, please try again. id:${_} tag:${g}`;try{Di((o=b.params)==null?void 0:o.prompt)&&((a=b.params)==null||delete a.prompt),Di((c=b.params)==null?void 0:c.tag)&&((l=b.params)==null||delete l.tag);const N=new Promise(async R=>{const k=({id:D})=>{var H;((H=b.id)==null?void 0:H.toString())===D.toString()&&(this.removeRequestFromQueue(D),this.relayer.events.removeListener(ri.publish,k),R())};this.relayer.events.on(ri.publish,k);const M=yu(new Promise((D,H)=>{this.rpcPublish(b,s).then(D).catch(S=>{this.logger.warn(S,S?.message),H(S)})}),this.initialPublishTimeout,`Failed initial publish, retrying.... id:${_} tag:${g}`);try{await M,this.events.removeListener(ri.publish,k)}catch(D){this.queue.set(_,{request:b,opts:s,attempt:1}),this.logger.warn(D,D?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:_,topic:n,message:i,opts:s}}),await yu(N,this.publishTimeout,A)}catch(N){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(N),(u=s?.internal)!=null&&u.throwOnFailedPublish)throw N}finally{this.queue.delete(_)}}),Ma(this,"publishCustom",async n=>{var i,s,o,a,c;this.logger.debug("Publishing custom payload"),this.logger.trace({type:"method",method:"publishCustom",params:n});const{payload:l,opts:u={}}=n,{attestation:f,tvf:h,publishMethod:g,prompt:_,tag:m,ttl:b=je.FIVE_MINUTES}=u,A=u.id||Xd().toString(),N=Ig(wA().protocol),R=g||N.publish,k={id:A,method:R,params:Hp(xM(Hp({},l),{ttl:b,prompt:_,tag:m,attestation:f}),h)},M=`Failed to publish custom payload, please try again. id:${A} tag:${m}`;try{Di((i=k.params)==null?void 0:i.prompt)&&((s=k.params)==null||delete s.prompt),Di((o=k.params)==null?void 0:o.tag)&&((a=k.params)==null||delete a.tag);const D=new Promise(async H=>{const S=({id:$})=>{var B;((B=k.id)==null?void 0:B.toString())===$.toString()&&(this.removeRequestFromQueue($),this.relayer.events.removeListener(ri.publish,S),H())};this.relayer.events.on(ri.publish,S);const C=yu(new Promise(($,B)=>{this.rpcPublish(k,u).then($).catch(O=>{this.logger.warn(O,O?.message),B(O)})}),this.initialPublishTimeout,`Failed initial custom payload publish, retrying.... method:${R} id:${A} tag:${m}`);try{await C,this.events.removeListener(ri.publish,S)}catch($){this.queue.set(A,{request:k,opts:u,attempt:1}),this.logger.warn($,$?.message)}});this.logger.trace({type:"method",method:"publish",params:{id:A,payload:l,opts:u}}),await yu(D,this.publishTimeout,M)}catch(D){if(this.logger.debug("Failed to Publish Payload"),this.logger.error(D),(c=u?.internal)!=null&&c.throwOnFailedPublish)throw D}finally{this.queue.delete(A)}}),Ma(this,"on",(n,i)=>{this.events.on(n,i)}),Ma(this,"once",(n,i)=>{this.events.once(n,i)}),Ma(this,"off",(n,i)=>{this.events.off(n,i)}),Ma(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.relayer=e,this.logger=qs(r,this.name),this.registerEventListeners()}get context(){return qo(this.logger)}async rpcPublish(e,r){this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"message",direction:"outgoing",request:e});const n=await this.relayer.request(e);return this.relayer.events.emit(ri.publish,Hp(Hp({},e),r)),this.logger.debug("Successfully Published Payload"),n}removeRequestFromQueue(e){this.queue.delete(e)}checkQueue(){this.queue.forEach(async(e,r)=>{var n;const i=e.attempt+1;this.queue.set(r,xM(Hp({},e),{attempt:i})),this.logger.warn({},`Publisher: queue->publishing: ${e.request.id}, tag: ${(n=e.request.params)==null?void 0:n.tag}, attempt: ${i}`),await this.rpcPublish(e.request,e.opts),this.logger.warn({},`Publisher: queue->published: ${e.request.id}`)})}registerEventListeners(){this.relayer.core.heartbeat.on(sp.pulse,()=>{if(this.needsTransportRestart){this.needsTransportRestart=!1,this.relayer.events.emit(ri.connection_stalled);return}this.checkQueue()}),this.relayer.on(ri.message_ack,e=>{this.removeRequestFromQueue(e.id.toString())})}}var vwe=Object.defineProperty,Ewe=(t,e,r)=>e in t?vwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,jp=(t,e,r)=>Ewe(t,typeof e!="symbol"?e+"":e,r);class Awe{constructor(){jp(this,"map",new Map),jp(this,"set",(e,r)=>{const n=this.get(e);this.exists(e,r)||this.map.set(e,[...n,r])}),jp(this,"get",e=>this.map.get(e)||[]),jp(this,"exists",(e,r)=>this.get(e).includes(r)),jp(this,"delete",(e,r)=>{if(typeof r>"u"){this.map.delete(e);return}if(!this.map.has(e))return;const n=this.get(e);if(!this.exists(e,r))return;const i=n.filter(s=>s!==r);if(!i.length){this.map.delete(e);return}this.map.set(e,i)}),jp(this,"clear",()=>{this.map.clear()})}get topics(){return Array.from(this.map.keys())}}var xwe=Object.defineProperty,Cwe=Object.defineProperties,Nwe=Object.getOwnPropertyDescriptors,CM=Object.getOwnPropertySymbols,Swe=Object.prototype.hasOwnProperty,Twe=Object.prototype.propertyIsEnumerable,N3=(t,e,r)=>e in t?xwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Dy=(t,e)=>{for(var r in e||(e={}))Swe.call(e,r)&&N3(t,r,e[r]);if(CM)for(var r of CM(e))Twe.call(e,r)&&N3(t,r,e[r]);return t},sS=(t,e)=>Cwe(t,Nwe(e)),cn=(t,e,r)=>N3(t,typeof e!="symbol"?e+"":e,r);class Iwe extends Hle{constructor(e,r){super(e,r),this.relayer=e,this.logger=r,cn(this,"subscriptions",new Map),cn(this,"topicMap",new Awe),cn(this,"events",new gc.EventEmitter),cn(this,"name",pbe),cn(this,"version",gbe),cn(this,"pending",new Map),cn(this,"cached",[]),cn(this,"initialized",!1),cn(this,"storagePrefix",Ru),cn(this,"subscribeTimeout",je.toMiliseconds(je.ONE_MINUTE)),cn(this,"initialSubscribeTimeout",je.toMiliseconds(je.ONE_SECOND*15)),cn(this,"clientId"),cn(this,"batchSubscribeTopicsLimit",500),cn(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),this.registerEventListeners(),await this.restore()),this.initialized=!0}),cn(this,"subscribe",async(n,i)=>{var s;this.isInitialized(),this.logger.debug("Subscribing Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}});try{const o=wA(i),a={topic:n,relay:o,transportType:i?.transportType};(s=i?.internal)!=null&&s.skipSubscribe||this.pending.set(n,a);const c=await this.rpcSubscribe(n,o,i);return typeof c=="string"&&(this.onSubscribe(c,a),this.logger.debug("Successfully Subscribed Topic"),this.logger.trace({type:"method",method:"subscribe",params:{topic:n,opts:i}})),c}catch(o){throw this.logger.debug("Failed to Subscribe Topic"),this.logger.error(o),o}}),cn(this,"unsubscribe",async(n,i)=>{this.isInitialized(),typeof i?.id<"u"?await this.unsubscribeById(n,i.id,i):await this.unsubscribeByTopic(n,i)}),cn(this,"isSubscribed",n=>new Promise(i=>{i(this.topicMap.topics.includes(n))})),cn(this,"isKnownTopic",n=>new Promise(i=>{i(this.topicMap.topics.includes(n)||this.pending.has(n)||this.cached.some(s=>s.topic===n))})),cn(this,"on",(n,i)=>{this.events.on(n,i)}),cn(this,"once",(n,i)=>{this.events.once(n,i)}),cn(this,"off",(n,i)=>{this.events.off(n,i)}),cn(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),cn(this,"start",async()=>{await this.onConnect()}),cn(this,"stop",async()=>{await this.onDisconnect()}),cn(this,"restart",async()=>{await this.restore(),await this.onRestart()}),cn(this,"checkPending",async()=>{if(this.pending.size===0&&(!this.initialized||!this.relayer.connected))return;const n=[];this.pending.forEach(i=>{n.push(i)}),await this.batchSubscribe(n)}),cn(this,"registerEventListeners",()=>{this.relayer.core.heartbeat.on(sp.pulse,async()=>{await this.checkPending()}),this.events.on(ea.created,async n=>{const i=ea.created;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()}),this.events.on(ea.deleted,async n=>{const i=ea.deleted;this.logger.info(`Emitting ${i}`),this.logger.debug({type:"event",event:i,data:n}),await this.persist()})}),this.relayer=e,this.logger=qs(r,this.name),this.clientId=""}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.relayer.core.customStoragePrefix+"//"+this.name}get length(){return this.subscriptions.size}get ids(){return Array.from(this.subscriptions.keys())}get values(){return Array.from(this.subscriptions.values())}get topics(){return this.topicMap.topics}get hasAnyTopics(){return this.topicMap.topics.length>0||this.pending.size>0||this.cached.length>0||this.subscriptions.size>0}hasSubscription(e,r){let n=!1;try{n=this.getSubscription(e).topic===r}catch{}return n}reset(){this.cached=[],this.initialized=!0}onDisable(){this.values.length>0&&(this.cached=this.values),this.subscriptions.clear(),this.topicMap.clear()}async unsubscribeByTopic(e,r){const n=this.topicMap.get(e);await Promise.all(n.map(async i=>await this.unsubscribeById(e,i,r)))}async unsubscribeById(e,r,n){this.logger.debug("Unsubscribing Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}});try{const i=wA(n);await this.restartToComplete({topic:e,id:r,relay:i}),await this.rpcUnsubscribe(e,r,i);const s=Nn("USER_DISCONNECTED",`${this.name}, ${e}`);await this.onUnsubscribe(e,r,s),this.logger.debug("Successfully Unsubscribed Topic"),this.logger.trace({type:"method",method:"unsubscribe",params:{topic:e,id:r,opts:n}})}catch(i){throw this.logger.debug("Failed to Unsubscribe Topic"),this.logger.error(i),i}}async rpcSubscribe(e,r,n){var i,s;const o=await this.getSubscriptionId(e);if((i=n?.internal)!=null&&i.skipSubscribe)return o;(!n||n?.transportType===vn.relay)&&await this.restartToComplete({topic:e,id:e,relay:r});const a={method:Ig(r.protocol).subscribe,params:{topic:e}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:a});const c=(s=n?.internal)==null?void 0:s.throwOnFailedPublish;try{if(n?.transportType===vn.link_mode)return setTimeout(()=>{(this.relayer.connected||this.relayer.connecting)&&this.relayer.request(a).catch(f=>this.logger.warn(f))},je.toMiliseconds(je.ONE_SECOND)),o;const l=new Promise(async f=>{const h=g=>{g.topic===e&&(this.events.removeListener(ea.created,h),f(g.id))};this.events.on(ea.created,h);try{const g=await yu(new Promise((_,m)=>{this.relayer.request(a).catch(b=>{this.logger.warn(b,b?.message),m(b)}).then(_)}),this.initialSubscribeTimeout,`Subscribing to ${e} failed, please try again`);this.events.removeListener(ea.created,h),f(g)}catch{}}),u=await yu(l,this.subscribeTimeout,`Subscribing to ${e} failed, please try again`);if(!u&&c)throw new Error(`Subscribing to ${e} failed, please try again`);return u?o:null}catch(l){if(this.logger.debug("Outgoing Relay Subscribe Payload stalled"),this.relayer.events.emit(ri.connection_stalled),c)throw l}return null}async rpcBatchSubscribe(e){if(!e.length)return;const r=e[0].relay,n={method:Ig(r.protocol).batchSubscribe,params:{topics:e.map(i=>i.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});try{await await yu(new Promise(i=>{this.relayer.request(n).catch(s=>this.logger.warn(s)).then(i)}),this.subscribeTimeout,"rpcBatchSubscribe failed, please try again")}catch{this.relayer.events.emit(ri.connection_stalled)}}async rpcBatchFetchMessages(e){if(!e.length)return;const r=e[0].relay,n={method:Ig(r.protocol).batchFetchMessages,params:{topics:e.map(s=>s.topic)}};this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:n});let i;try{i=await await yu(new Promise((s,o)=>{this.relayer.request(n).catch(a=>{this.logger.warn(a),o(a)}).then(s)}),this.subscribeTimeout,"rpcBatchFetchMessages failed, please try again")}catch{this.relayer.events.emit(ri.connection_stalled)}return i}rpcUnsubscribe(e,r,n){const i={method:Ig(n.protocol).unsubscribe,params:{topic:e,id:r}};return this.logger.debug("Outgoing Relay Payload"),this.logger.trace({type:"payload",direction:"outgoing",request:i}),this.relayer.request(i)}onSubscribe(e,r){this.setSubscription(e,sS(Dy({},r),{id:e})),this.pending.delete(r.topic)}onBatchSubscribe(e){e.length&&e.forEach(r=>{this.setSubscription(r.id,Dy({},r)),this.pending.delete(r.topic)})}async onUnsubscribe(e,r,n){this.events.removeAllListeners(r),this.hasSubscription(r,e)&&this.deleteSubscription(r,n),await this.relayer.messages.del(e)}async setRelayerSubscriptions(e){await this.relayer.core.storage.setItem(this.storageKey,e)}async getRelayerSubscriptions(){return await this.relayer.core.storage.getItem(this.storageKey)}setSubscription(e,r){this.logger.debug("Setting subscription"),this.logger.trace({type:"method",method:"setSubscription",id:e,subscription:r}),this.addSubscription(e,r)}addSubscription(e,r){this.subscriptions.set(e,Dy({},r)),this.topicMap.set(r.topic,e),this.events.emit(ea.created,r)}getSubscription(e){this.logger.debug("Getting subscription"),this.logger.trace({type:"method",method:"getSubscription",id:e});const r=this.subscriptions.get(e);if(!r){const{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}deleteSubscription(e,r){this.logger.debug("Deleting subscription"),this.logger.trace({type:"method",method:"deleteSubscription",id:e,reason:r});const n=this.getSubscription(e);this.subscriptions.delete(e),this.topicMap.delete(n.topic,e),this.events.emit(ea.deleted,sS(Dy({},n),{reason:r}))}async persist(){await this.setRelayerSubscriptions(this.values),this.events.emit(ea.sync)}async onRestart(){if(this.cached.length){const e=[...this.cached],r=Math.ceil(this.cached.length/this.batchSubscribeTopicsLimit);for(let n=0;n<r;n++){const i=e.splice(0,this.batchSubscribeTopicsLimit);await this.batchSubscribe(i)}}this.events.emit(ea.resubscribed)}async restore(){try{const e=await this.getRelayerSubscriptions();if(typeof e>"u"||!e.length)return;if(this.subscriptions.size&&!e.every(r=>{var n;return r.topic===((n=this.subscriptions.get(r.id))==null?void 0:n.topic)})){const{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),this.logger.error(`${this.name}: ${JSON.stringify(this.values)}`),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored subscriptions for ${this.name}`),this.logger.trace({type:"method",method:"restore",subscriptions:this.values})}catch(e){this.logger.debug(`Failed to Restore subscriptions for ${this.name}`),this.logger.error(e)}}async batchSubscribe(e){e.length&&(await this.rpcBatchSubscribe(e),this.onBatchSubscribe(await Promise.all(e.map(async r=>sS(Dy({},r),{id:await this.getSubscriptionId(r.topic)})))))}async batchFetchMessages(e){if(!e.length)return;this.logger.trace(`Fetching batch messages for ${e.length} subscriptions`);const r=await this.rpcBatchFetchMessages(e);r&&r.messages&&(await Fpe(je.toMiliseconds(je.ONE_SECOND)),await this.relayer.handleBatchMessageEvents(r.messages))}async onConnect(){await this.restart(),this.reset()}onDisconnect(){this.onDisable()}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async restartToComplete(e){!this.relayer.connected&&!this.relayer.connecting&&(this.cached.push(e),await this.relayer.transportOpen())}async getClientId(){return this.clientId||(this.clientId=await this.relayer.core.crypto.getClientId()),this.clientId}async getSubscriptionId(e){return Ja(e+await this.getClientId())}}var Rwe=Object.defineProperty,NM=Object.getOwnPropertySymbols,Pwe=Object.prototype.hasOwnProperty,Owe=Object.prototype.propertyIsEnumerable,S3=(t,e,r)=>e in t?Rwe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,SM=(t,e)=>{for(var r in e||(e={}))Pwe.call(e,r)&&S3(t,r,e[r]);if(NM)for(var r of NM(e))Owe.call(e,r)&&S3(t,r,e[r]);return t},mr=(t,e,r)=>S3(t,typeof e!="symbol"?e+"":e,r);class Dwe extends Fle{constructor(e){super(e),mr(this,"protocol","wc"),mr(this,"version",2),mr(this,"core"),mr(this,"logger"),mr(this,"events",new gc.EventEmitter),mr(this,"provider"),mr(this,"messages"),mr(this,"subscriber"),mr(this,"publisher"),mr(this,"name",lbe),mr(this,"transportExplicitlyClosed",!1),mr(this,"initialized",!1),mr(this,"connectionAttemptInProgress",!1),mr(this,"relayUrl"),mr(this,"projectId"),mr(this,"packageName"),mr(this,"bundleId"),mr(this,"hasExperiencedNetworkDisruption",!1),mr(this,"pingTimeout"),mr(this,"heartBeatTimeout",je.toMiliseconds(je.THIRTY_SECONDS+je.FIVE_SECONDS)),mr(this,"reconnectTimeout"),mr(this,"connectPromise"),mr(this,"reconnectInProgress",!1),mr(this,"requestsInFlight",[]),mr(this,"connectTimeout",je.toMiliseconds(je.ONE_SECOND*15)),mr(this,"request",async r=>{var n,i;this.logger.debug("Publishing Request Payload");const s=r.id||Xd().toString();await this.toEstablishConnection();try{this.logger.trace({id:s,method:r.method,topic:(n=r.params)==null?void 0:n.topic},"relayer.request - publishing...");const o=`${s}:${((i=r.params)==null?void 0:i.tag)||""}`;this.requestsInFlight.push(o);const a=await this.provider.request(r);return this.requestsInFlight=this.requestsInFlight.filter(c=>c!==o),a}catch(o){throw this.logger.debug(`Failed to Publish Request: ${s}`),o}}),mr(this,"resetPingTimeout",()=>{mA()&&(clearTimeout(this.pingTimeout),this.pingTimeout=setTimeout(()=>{var r,n,i,s;try{this.logger.debug({},"pingTimeout: Connection stalled, terminating..."),(s=(i=(n=(r=this.provider)==null?void 0:r.connection)==null?void 0:n.socket)==null?void 0:i.terminate)==null||s.call(i)}catch(o){this.logger.warn(o,o?.message)}},this.heartBeatTimeout))}),mr(this,"onPayloadHandler",r=>{this.onProviderPayload(r),this.resetPingTimeout()}),mr(this,"onConnectHandler",()=>{this.logger.warn({},"Relayer connected "),this.startPingTimeout(),this.events.emit(ri.connect)}),mr(this,"onDisconnectHandler",()=>{this.logger.warn({},"Relayer disconnected "),this.requestsInFlight=[],this.onProviderDisconnect()}),mr(this,"onProviderErrorHandler",r=>{this.logger.fatal(`Fatal socket error: ${r.message}`),this.events.emit(ri.error,r),this.logger.fatal("Fatal socket error received, closing transport"),this.transportClose()}),mr(this,"registerProviderListeners",()=>{this.provider.on(ka.payload,this.onPayloadHandler),this.provider.on(ka.connect,this.onConnectHandler),this.provider.on(ka.disconnect,this.onDisconnectHandler),this.provider.on(ka.error,this.onProviderErrorHandler)}),this.core=e.core,this.logger=typeof e.logger<"u"&&typeof e.logger!="string"?qs(e.logger,this.name):T1(Em({level:e.logger||cbe})),this.messages=new pwe(this.logger,e.core),this.subscriber=new Iwe(this,this.logger),this.publisher=new wwe(this,this.logger),this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Yq,Ape()?this.packageName=gk():xpe()&&(this.bundleId=gk()),this.provider={}}async init(){this.logger.trace("Initialized"),this.registerEventListeners(),await Promise.all([this.messages.init(),this.subscriber.init()]),this.initialized=!0,this.transportOpen().catch(e=>this.logger.warn(e,e?.message))}get context(){return qo(this.logger)}get connected(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===1||!1}get connecting(){var e,r,n;return((n=(r=(e=this.provider)==null?void 0:e.connection)==null?void 0:r.socket)==null?void 0:n.readyState)===0||this.connectPromise!==void 0||!1}async publish(e,r,n){this.isInitialized(),await this.publisher.publish(e,r,n),await this.recordMessageEvent({topic:e,message:r,publishedAt:Date.now(),transportType:vn.relay},Kv.outbound)}async publishCustom(e){this.isInitialized(),await this.publisher.publishCustom(e)}async subscribe(e,r){var n,i,s;this.isInitialized(),(!(r!=null&&r.transportType)||r?.transportType==="relay")&&await this.toEstablishConnection();const o=typeof((n=r?.internal)==null?void 0:n.throwOnFailedPublish)>"u"?!0:(i=r?.internal)==null?void 0:i.throwOnFailedPublish;let a=((s=this.subscriber.topicMap.get(e))==null?void 0:s[0])||"",c;const l=u=>{u.topic===e&&(this.subscriber.off(ea.created,l),c())};return await Promise.all([new Promise(u=>{c=u,this.subscriber.on(ea.created,l)}),new Promise(async(u,f)=>{a=await this.subscriber.subscribe(e,SM({internal:{throwOnFailedPublish:o}},r)).catch(h=>{o&&f(h)})||a,u()})]),a}async unsubscribe(e,r){this.isInitialized(),await this.subscriber.unsubscribe(e,r)}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async transportDisconnect(){this.provider.disconnect&&(this.hasExperiencedNetworkDisruption||this.connected)?await yu(this.provider.disconnect(),2e3,"provider.disconnect()").catch(()=>this.onProviderDisconnect()):this.onProviderDisconnect()}async transportClose(){this.transportExplicitlyClosed=!0,await this.transportDisconnect()}async transportOpen(e){if(!this.subscriber.hasAnyTopics){this.logger.info("Starting WS connection skipped because the client has no topics to work with.");return}if(this.connectPromise?(this.logger.debug({},"Waiting for existing connection attempt to resolve..."),await this.connectPromise,this.logger.debug({},"Existing connection attempt resolved")):(this.connectPromise=new Promise(async(r,n)=>{await this.connect(e).then(r).catch(n).finally(()=>{this.connectPromise=void 0})}),await this.connectPromise),!this.connected)throw new Error(`Couldn't establish socket connection to the relay server: ${this.relayUrl}`)}async restartTransport(e){this.logger.debug({},"Restarting transport..."),!this.connectionAttemptInProgress&&(this.relayUrl=e||this.relayUrl,await this.confirmOnlineStateOrThrow(),await this.transportClose(),await this.transportOpen())}async confirmOnlineStateOrThrow(){if(!await sM())throw new Error("No internet connection detected. Please restart your network and try again.")}async handleBatchMessageEvents(e){if(e?.length===0){this.logger.trace("Batch message events is empty. Ignoring...");return}const r=e.sort((n,i)=>n.publishedAt-i.publishedAt);this.logger.debug(`Batch of ${r.length} message events sorted`);for(const n of r)try{await this.onMessageEvent(n)}catch(i){this.logger.warn(i,"Error while processing batch message event: "+i?.message)}this.logger.trace(`Batch of ${r.length} message events processed`)}async onLinkMessageEvent(e,r){const{topic:n}=e;if(!r.sessionExists){const i=Pi(je.FIVE_MINUTES),s={topic:n,expiry:i,relay:{protocol:"irn"},active:!1};await this.core.pairing.pairings.set(n,s)}this.events.emit(ri.message,e),await this.recordMessageEvent(e,Kv.inbound)}async connect(e){await this.confirmOnlineStateOrThrow(),e&&e!==this.relayUrl&&(this.relayUrl=e,await this.transportDisconnect()),this.connectionAttemptInProgress=!0,this.transportExplicitlyClosed=!1;let r=1;for(;r<6;){try{if(this.transportExplicitlyClosed)break;this.logger.debug({},`Connecting to ${this.relayUrl}, attempt: ${r}...`),await this.createProvider(),await new Promise(async(n,i)=>{const s=()=>{i(new Error("Connection interrupted while trying to connect"))};this.provider.once(ka.disconnect,s),await yu(new Promise((o,a)=>{this.provider.connect().then(o).catch(a)}),this.connectTimeout,`Socket stalled when trying to connect to ${this.relayUrl}`).catch(o=>{i(o)}).finally(()=>{this.provider.off(ka.disconnect,s),clearTimeout(this.reconnectTimeout)}),await new Promise(async(o,a)=>{const c=()=>{i(new Error("Connection interrupted while trying to subscribe"))};this.provider.once(ka.disconnect,c),await this.subscriber.start().then(o).catch(a).finally(()=>{this.provider.off(ka.disconnect,c)})}),this.hasExperiencedNetworkDisruption=!1,n()})}catch(n){await this.subscriber.stop();const i=n;this.logger.warn({},i.message),this.hasExperiencedNetworkDisruption=!0}finally{this.connectionAttemptInProgress=!1}if(this.connected){this.logger.debug({},`Connected to ${this.relayUrl} successfully on attempt: ${r}`);break}await new Promise(n=>setTimeout(n,je.toMiliseconds(r*1))),r++}}startPingTimeout(){var e,r,n,i,s;if(mA())try{(r=(e=this.provider)==null?void 0:e.connection)!=null&&r.socket&&((s=(i=(n=this.provider)==null?void 0:n.connection)==null?void 0:i.socket)==null||s.on("ping",()=>{this.resetPingTimeout()})),this.resetPingTimeout()}catch(o){this.logger.warn(o,o?.message)}}async createProvider(){this.provider.connection&&this.unregisterProviderListeners();const e=await this.core.crypto.signJWT(this.relayUrl);this.provider=new mc(new Y_e(Ipe({sdkVersion:v3,protocol:this.protocol,version:this.version,relayUrl:this.relayUrl,projectId:this.projectId,auth:e,useOnCloseEvent:!0,bundleId:this.bundleId,packageName:this.packageName}))),this.registerProviderListeners()}async recordMessageEvent(e,r){const{topic:n,message:i}=e;await this.messages.set(n,i,r)}async shouldIgnoreMessageEvent(e){const{topic:r,message:n}=e;if(!n||n.length===0)return this.logger.warn(`Ignoring invalid/empty message: ${n}`),!0;if(!await this.subscriber.isKnownTopic(r))return this.logger.warn(`Ignoring message for unknown topic ${r}`),!0;const i=this.messages.has(r,n);return i&&this.logger.warn(`Ignoring duplicate message: ${n}`),i}async onProviderPayload(e){if(this.logger.debug("Incoming Relay Payload"),this.logger.trace({type:"payload",direction:"incoming",payload:e}),r6(e)){if(!e.method.endsWith(ube))return;const r=e.params,{topic:n,message:i,publishedAt:s,attestation:o}=r.data,a={topic:n,message:i,publishedAt:s,transportType:vn.relay,attestation:o};this.logger.debug("Emitting Relayer Payload"),this.logger.trace(SM({type:"event",event:r.id},a)),this.events.emit(r.id,a),await this.acknowledgePayload(e),await this.onMessageEvent(a)}else Vx(e)&&this.events.emit(ri.message_ack,e)}async onMessageEvent(e){await this.shouldIgnoreMessageEvent(e)||(await this.recordMessageEvent(e,Kv.inbound),this.events.emit(ri.message,e))}async acknowledgePayload(e){const r=Sb(e.id,!0);await this.provider.connection.send(r)}unregisterProviderListeners(){this.provider.off(ka.payload,this.onPayloadHandler),this.provider.off(ka.connect,this.onConnectHandler),this.provider.off(ka.disconnect,this.onDisconnectHandler),this.provider.off(ka.error,this.onProviderErrorHandler),clearTimeout(this.pingTimeout)}async registerEventListeners(){let e=await sM();m_e(async r=>{e!==r&&(e=r,r?await this.transportOpen().catch(n=>this.logger.error(n,n?.message)):(this.hasExperiencedNetworkDisruption=!0,await this.transportDisconnect(),this.transportExplicitlyClosed=!1))}),this.core.heartbeat.on(sp.pulse,async()=>{if(!this.transportExplicitlyClosed&&!this.connected&&b_e())try{await this.confirmOnlineStateOrThrow(),await this.transportOpen()}catch(r){this.logger.warn(r,r?.message)}})}async onProviderDisconnect(){clearTimeout(this.pingTimeout),this.events.emit(ri.disconnect),this.connectionAttemptInProgress=!1,!this.reconnectInProgress&&(this.reconnectInProgress=!0,await this.subscriber.stop(),this.subscriber.hasAnyTopics&&(this.transportExplicitlyClosed||(this.reconnectTimeout=setTimeout(async()=>{await this.transportOpen().catch(e=>this.logger.error(e,e?.message)),this.reconnectTimeout=void 0,this.reconnectInProgress=!1},je.toMiliseconds(fbe)))))}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async toEstablishConnection(){if(await this.confirmOnlineStateOrThrow(),!this.connected){if(this.connectPromise){await this.connectPromise;return}await this.connect()}}}function kwe(t,e){return t===e||Number.isNaN(t)&&Number.isNaN(e)}function TM(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function IM(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const Mwe="[object RegExp]",Uwe="[object String]",Lwe="[object Number]",$we="[object Boolean]",RM="[object Arguments]",Fwe="[object Symbol]",Bwe="[object Date]",Hwe="[object Map]",jwe="[object Set]",Wwe="[object Array]",qwe="[object Function]",zwe="[object ArrayBuffer]",oS="[object Object]",Gwe="[object Error]",Kwe="[object DataView]",Vwe="[object Uint8Array]",Jwe="[object Uint8ClampedArray]",Ywe="[object Uint16Array]",Xwe="[object Uint32Array]",Qwe="[object BigUint64Array]",Zwe="[object Int8Array]",eve="[object Int16Array]",tve="[object Int32Array]",rve="[object BigInt64Array]",nve="[object Float32Array]",ive="[object Float64Array]";function sve(){}function PM(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);return e===null||e===Object.prototype||Object.getPrototypeOf(e)===null?Object.prototype.toString.call(t)==="[object Object]":!1}function ove(t,e,r){return t_(t,e,void 0,void 0,void 0,void 0,r)}function t_(t,e,r,n,i,s,o){const a=o(t,e,r,n,i,s);if(a!==void 0)return a;if(typeof t==typeof e)switch(typeof t){case"bigint":case"string":case"boolean":case"symbol":case"undefined":return t===e;case"number":return t===e||Object.is(t,e);case"function":return t===e;case"object":return T_(t,e,s,o)}return T_(t,e,s,o)}function T_(t,e,r,n){if(Object.is(t,e))return!0;let i=IM(t),s=IM(e);if(i===RM&&(i=oS),s===RM&&(s=oS),i!==s)return!1;switch(i){case Uwe:return t.toString()===e.toString();case Lwe:{const c=t.valueOf(),l=e.valueOf();return kwe(c,l)}case $we:case Bwe:case Fwe:return Object.is(t.valueOf(),e.valueOf());case Mwe:return t.source===e.source&&t.flags===e.flags;case qwe:return t===e}r=r??new Map;const o=r.get(t),a=r.get(e);if(o!=null&&a!=null)return o===e;r.set(t,e),r.set(e,t);try{switch(i){case Hwe:{if(t.size!==e.size)return!1;for(const[c,l]of t.entries())if(!e.has(c)||!t_(l,e.get(c),c,t,e,r,n))return!1;return!0}case jwe:{if(t.size!==e.size)return!1;const c=Array.from(t.values()),l=Array.from(e.values());for(let u=0;u<c.length;u++){const f=c[u],h=l.findIndex(g=>t_(f,g,void 0,t,e,r,n));if(h===-1)return!1;l.splice(h,1)}return!0}case Wwe:case Vwe:case Jwe:case Ywe:case Xwe:case Qwe:case Zwe:case eve:case tve:case rve:case nve:case ive:{if(typeof Buffer<"u"&&Buffer.isBuffer(t)!==Buffer.isBuffer(e)||t.length!==e.length)return!1;for(let c=0;c<t.length;c++)if(!t_(t[c],e[c],c,t,e,r,n))return!1;return!0}case zwe:return t.byteLength!==e.byteLength?!1:T_(new Uint8Array(t),new Uint8Array(e),r,n);case Kwe:return t.byteLength!==e.byteLength||t.byteOffset!==e.byteOffset?!1:T_(new Uint8Array(t),new Uint8Array(e),r,n);case Gwe:return t.name===e.name&&t.message===e.message;case oS:{if(!(T_(t.constructor,e.constructor,r,n)||PM(t)&&PM(e)))return!1;const c=[...Object.keys(t),...TM(t)],l=[...Object.keys(e),...TM(e)];if(c.length!==l.length)return!1;for(let u=0;u<c.length;u++){const f=c[u],h=t[f];if(!Object.hasOwn(e,f))return!1;const g=e[f];if(!t_(h,g,f,t,e,r,n))return!1}return!0}default:return!1}}finally{r.delete(t),r.delete(e)}}function ave(t,e){return ove(t,e,sve)}var cve=Object.defineProperty,OM=Object.getOwnPropertySymbols,lve=Object.prototype.hasOwnProperty,uve=Object.prototype.propertyIsEnumerable,T3=(t,e,r)=>e in t?cve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,DM=(t,e)=>{for(var r in e||(e={}))lve.call(e,r)&&T3(t,r,e[r]);if(OM)for(var r of OM(e))uve.call(e,r)&&T3(t,r,e[r]);return t},_o=(t,e,r)=>T3(t,typeof e!="symbol"?e+"":e,r);class ap extends Ble{constructor(e,r,n,i=Ru,s=void 0){super(e,r,n,i),this.core=e,this.logger=r,this.name=n,_o(this,"map",new Map),_o(this,"version",dbe),_o(this,"cached",[]),_o(this,"initialized",!1),_o(this,"getKey"),_o(this,"storagePrefix",Ru),_o(this,"recentlyDeleted",[]),_o(this,"recentlyDeletedLimit",200),_o(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(o=>{this.getKey&&o!==null&&!Di(o)?this.map.set(this.getKey(o),o):Kye(o)?this.map.set(o.id,o):Vye(o)&&this.map.set(o.topic,o)}),this.cached=[],this.initialized=!0)}),_o(this,"set",async(o,a)=>{this.isInitialized(),this.map.has(o)?await this.update(o,a):(this.logger.debug("Setting value"),this.logger.trace({type:"method",method:"set",key:o,value:a}),this.map.set(o,a),await this.persist())}),_o(this,"get",o=>(this.isInitialized(),this.logger.debug("Getting value"),this.logger.trace({type:"method",method:"get",key:o}),this.getData(o))),_o(this,"getAll",o=>(this.isInitialized(),o?this.values.filter(a=>Object.keys(o).every(c=>ave(a[c],o[c]))):this.values)),_o(this,"update",async(o,a)=>{this.isInitialized(),this.logger.debug("Updating value"),this.logger.trace({type:"method",method:"update",key:o,update:a});const c=DM(DM({},this.getData(o)),a);this.map.set(o,c),await this.persist()}),_o(this,"delete",async(o,a)=>{this.isInitialized(),this.map.has(o)&&(this.logger.debug("Deleting value"),this.logger.trace({type:"method",method:"delete",key:o,reason:a}),this.map.delete(o),this.addToRecentlyDeleted(o),await this.persist())}),this.logger=qs(r,this.name),this.storagePrefix=i,this.getKey=s}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.map.size}get keys(){return Array.from(this.map.keys())}get values(){return Array.from(this.map.values())}addToRecentlyDeleted(e){this.recentlyDeleted.push(e),this.recentlyDeleted.length>=this.recentlyDeletedLimit&&this.recentlyDeleted.splice(0,this.recentlyDeletedLimit/2)}async setDataStore(e){await this.core.storage.setItem(this.storageKey,e)}async getDataStore(){return await this.core.storage.getItem(this.storageKey)}getData(e){const r=this.map.get(e);if(!r){if(this.recentlyDeleted.includes(e)){const{message:i}=He("MISSING_OR_INVALID",`Record was recently deleted - ${this.name}: ${e}`);throw this.logger.error(i),new Error(i)}const{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.error(n),new Error(n)}return r}async persist(){await this.setDataStore(this.values)}async restore(){try{const e=await this.getDataStore();if(typeof e>"u"||!e.length)return;if(this.map.size){const{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored value for ${this.name}`),this.logger.trace({type:"method",method:"restore",value:this.values})}catch(e){this.logger.debug(`Failed to Restore value for ${this.name}`),this.logger.error(e)}}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var fve=Object.defineProperty,dve=(t,e,r)=>e in t?fve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,tr=(t,e,r)=>dve(t,typeof e!="symbol"?e+"":e,r);class hve{constructor(e,r){this.core=e,this.logger=r,tr(this,"name",mbe),tr(this,"version",ybe),tr(this,"events",new TP),tr(this,"pairings"),tr(this,"initialized",!1),tr(this,"storagePrefix",Ru),tr(this,"ignoredPayloadTypes",[$f]),tr(this,"registeredMethods",[]),tr(this,"init",async()=>{this.initialized||(await this.pairings.init(),await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.initialized=!0,this.logger.trace("Initialized"))}),tr(this,"register",({methods:n})=>{this.isInitialized(),this.registeredMethods=[...new Set([...this.registeredMethods,...n])]}),tr(this,"create",async n=>{this.isInitialized();const i=_3(),s=await this.core.crypto.setSymKey(i),o=Pi(je.FIVE_MINUTES),a={protocol:Jq},c={topic:s,expiry:o,relay:a,active:!1,methods:n?.methods},l=Yk({protocol:this.core.protocol,version:this.core.version,topic:s,symKey:i,relay:a,expiryTimestamp:o,methods:n?.methods});return this.events.emit(f0.create,c),this.core.expirer.set(s,o),await this.pairings.set(s,c),await this.core.relayer.subscribe(s,{transportType:n?.transportType,internal:n?.internal}),{topic:s,uri:l}}),tr(this,"pair",async n=>{this.isInitialized();const i=this.core.eventClient.createEvent({properties:{topic:n?.uri,trace:[ru.pairing_started]}});this.isValidPair(n,i);const{topic:s,symKey:o,relay:a,expiryTimestamp:c,methods:l}=Jk(n.uri);i.props.properties.topic=s,i.addTrace(ru.pairing_uri_validation_success),i.addTrace(ru.pairing_uri_not_expired);let u;if(this.pairings.keys.includes(s)){if(u=this.pairings.get(s),i.addTrace(ru.existing_pairing),u.active)throw i.setError(bf.active_pairing_already_exists),new Error(`Pairing already exists: ${s}. Please try again with a new connection URI.`);i.addTrace(ru.pairing_not_expired)}const f=c||Pi(je.FIVE_MINUTES),h={topic:s,relay:a,expiry:f,active:!1,methods:l};this.core.expirer.set(s,f),await this.pairings.set(s,h),i.addTrace(ru.store_new_pairing),n.activatePairing&&await this.activate({topic:s}),this.events.emit(f0.create,h),i.addTrace(ru.emit_inactive_pairing),this.core.crypto.keychain.has(s)||await this.core.crypto.setSymKey(o,s),i.addTrace(ru.subscribing_pairing_topic);try{await this.core.relayer.confirmOnlineStateOrThrow()}catch{i.setError(bf.no_internet_connection)}try{await this.core.relayer.subscribe(s,{relay:a})}catch(g){throw i.setError(bf.subscribe_pairing_topic_failure),g}return i.addTrace(ru.subscribe_pairing_topic_success),h}),tr(this,"activate",async({topic:n})=>{this.isInitialized();const i=Pi(je.FIVE_MINUTES);this.core.expirer.set(n,i),await this.pairings.update(n,{active:!0,expiry:i})}),tr(this,"ping",async n=>{this.isInitialized(),await this.isValidPing(n),this.logger.warn("ping() is deprecated and will be removed in the next major release.");const{topic:i}=n;if(this.pairings.keys.includes(i)){const s=await this.sendRequest(i,"wc_pairingPing",{}),{done:o,resolve:a,reject:c}=a0();this.events.once(Tr("pairing_ping",s),({error:l})=>{l?c(l):a()}),await o()}}),tr(this,"updateExpiry",async({topic:n,expiry:i})=>{this.isInitialized(),await this.pairings.update(n,{expiry:i})}),tr(this,"updateMetadata",async({topic:n,metadata:i})=>{this.isInitialized(),await this.pairings.update(n,{peerMetadata:i})}),tr(this,"getPairings",()=>(this.isInitialized(),this.pairings.values)),tr(this,"disconnect",async n=>{this.isInitialized(),await this.isValidDisconnect(n);const{topic:i}=n;this.pairings.keys.includes(i)&&(await this.sendRequest(i,"wc_pairingDelete",Nn("USER_DISCONNECTED")),await this.deletePairing(i))}),tr(this,"formatUriFromPairing",n=>{this.isInitialized();const{topic:i,relay:s,expiry:o,methods:a}=n,c=this.core.crypto.keychain.get(i);return Yk({protocol:this.core.protocol,version:this.core.version,topic:i,symKey:c,relay:s,expiryTimestamp:o,methods:a})}),tr(this,"sendRequest",async(n,i,s)=>{const o=du(i,s),a=await this.core.crypto.encode(n,o),c=Ry[i].req;return this.core.history.set(n,o),this.core.relayer.publish(n,a,c),o.id}),tr(this,"sendResult",async(n,i,s)=>{const o=Sb(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=Ry[c].res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),tr(this,"sendError",async(n,i,s)=>{const o=Kx(n,s),a=await this.core.crypto.encode(i,o),c=(await this.core.history.get(i,n)).request.method,l=Ry[c]?Ry[c].res:Ry.unregistered_method.res;await this.core.relayer.publish(i,a,l),await this.core.history.resolve(o)}),tr(this,"deletePairing",async(n,i)=>{await this.core.relayer.unsubscribe(n),await Promise.all([this.pairings.delete(n,Nn("USER_DISCONNECTED")),this.core.crypto.deleteSymKey(n),i?Promise.resolve():this.core.expirer.del(n)])}),tr(this,"cleanup",async()=>{const n=this.pairings.getAll().filter(i=>Bd(i.expiry));await Promise.all(n.map(i=>this.deletePairing(i.topic)))}),tr(this,"onRelayEventRequest",async n=>{const{topic:i,payload:s}=n;switch(s.method){case"wc_pairingPing":return await this.onPairingPingRequest(i,s);case"wc_pairingDelete":return await this.onPairingDeleteRequest(i,s);default:return await this.onUnknownRpcMethodRequest(i,s)}}),tr(this,"onRelayEventResponse",async n=>{const{topic:i,payload:s}=n,o=(await this.core.history.get(i,s.id)).request.method;switch(o){case"wc_pairingPing":return this.onPairingPingResponse(i,s);default:return this.onUnknownRpcMethodResponse(o)}}),tr(this,"onPairingPingRequest",async(n,i)=>{const{id:s}=i;try{this.isValidPing({topic:n}),await this.sendResult(s,n,!0),this.events.emit(f0.ping,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),tr(this,"onPairingPingResponse",(n,i)=>{const{id:s}=i;setTimeout(()=>{ou(i)?this.events.emit(Tr("pairing_ping",s),{}):Ya(i)&&this.events.emit(Tr("pairing_ping",s),{error:i.error})},500)}),tr(this,"onPairingDeleteRequest",async(n,i)=>{const{id:s}=i;try{this.isValidDisconnect({topic:n}),await this.deletePairing(n),this.events.emit(f0.delete,{id:s,topic:n})}catch(o){await this.sendError(s,n,o),this.logger.error(o)}}),tr(this,"onUnknownRpcMethodRequest",async(n,i)=>{const{id:s,method:o}=i;try{if(this.registeredMethods.includes(o))return;const a=Nn("WC_METHOD_UNSUPPORTED",o);await this.sendError(s,n,a),this.logger.error(a)}catch(a){await this.sendError(s,n,a),this.logger.error(a)}}),tr(this,"onUnknownRpcMethodResponse",n=>{this.registeredMethods.includes(n)||this.logger.error(Nn("WC_METHOD_UNSUPPORTED",n))}),tr(this,"isValidPair",(n,i)=>{var s;if(!Io(n)){const{message:a}=He("MISSING_OR_INVALID",`pair() params: ${n}`);throw i.setError(bf.malformed_pairing_uri),new Error(a)}if(!Gye(n.uri)){const{message:a}=He("MISSING_OR_INVALID",`pair() uri: ${n.uri}`);throw i.setError(bf.malformed_pairing_uri),new Error(a)}const o=Jk(n?.uri);if(!((s=o?.relay)!=null&&s.protocol)){const{message:a}=He("MISSING_OR_INVALID","pair() uri#relay-protocol");throw i.setError(bf.malformed_pairing_uri),new Error(a)}if(!(o!=null&&o.symKey)){const{message:a}=He("MISSING_OR_INVALID","pair() uri#symKey");throw i.setError(bf.malformed_pairing_uri),new Error(a)}if(o!=null&&o.expiryTimestamp&&je.toMiliseconds(o?.expiryTimestamp)<Date.now()){i.setError(bf.pairing_expired);const{message:a}=He("EXPIRED","pair() URI has expired. Please try again with a new connection URI.");throw new Error(a)}}),tr(this,"isValidPing",async n=>{if(!Io(n)){const{message:s}=He("MISSING_OR_INVALID",`ping() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),tr(this,"isValidDisconnect",async n=>{if(!Io(n)){const{message:s}=He("MISSING_OR_INVALID",`disconnect() params: ${n}`);throw new Error(s)}const{topic:i}=n;await this.isValidPairingTopic(i)}),tr(this,"isValidPairingTopic",async n=>{if(!ci(n,!1)){const{message:i}=He("MISSING_OR_INVALID",`pairing topic should be a string: ${n}`);throw new Error(i)}if(!this.pairings.keys.includes(n)){const{message:i}=He("NO_MATCHING_KEY",`pairing topic doesn't exist: ${n}`);throw new Error(i)}if(Bd(this.pairings.get(n).expiry)){await this.deletePairing(n);const{message:i}=He("EXPIRED",`pairing topic: ${n}`);throw new Error(i)}}),this.core=e,this.logger=qs(r,this.name),this.pairings=new ap(this.core,this.logger,this.name,this.storagePrefix)}get context(){return qo(this.logger)}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}registerRelayerEvents(){this.core.relayer.on(ri.message,async e=>{const{topic:r,message:n,transportType:i}=e;if(this.pairings.keys.includes(r)&&i!==vn.link_mode&&!this.ignoredPayloadTypes.includes(this.core.crypto.getPayloadType(n)))try{const s=await this.core.crypto.decode(r,n);r6(s)?(this.core.history.set(r,s),await this.onRelayEventRequest({topic:r,payload:s})):Vx(s)&&(await this.core.history.resolve(s),await this.onRelayEventResponse({topic:r,payload:s}),this.core.history.delete(r,s.id)),await this.core.relayer.messages.ack(r,n)}catch(s){this.logger.error(s)}})}registerExpirerEvents(){this.core.expirer.on(Ka.expired,async e=>{const{topic:r}=JW(e.target);r&&this.pairings.keys.includes(r)&&(await this.deletePairing(r,!0),this.events.emit(f0.expire,{topic:r}))})}}var pve=Object.defineProperty,gve=(t,e,r)=>e in t?pve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ns=(t,e,r)=>gve(t,typeof e!="symbol"?e+"":e,r);class mve extends Ule{constructor(e,r){super(e,r),this.core=e,this.logger=r,ns(this,"records",new Map),ns(this,"events",new gc.EventEmitter),ns(this,"name",_be),ns(this,"version",bbe),ns(this,"cached",[]),ns(this,"initialized",!1),ns(this,"storagePrefix",Ru),ns(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.records.set(n.id,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),ns(this,"set",(n,i,s)=>{if(this.isInitialized(),this.logger.debug("Setting JSON-RPC request history record"),this.logger.trace({type:"method",method:"set",topic:n,request:i,chainId:s}),this.records.has(i.id))return;const o={id:i.id,topic:n,request:{method:i.method,params:i.params||null},chainId:s,expiry:Pi(je.THIRTY_DAYS)};this.records.set(o.id,o),this.persist(),this.events.emit(kc.created,o)}),ns(this,"resolve",async n=>{if(this.isInitialized(),this.logger.debug("Updating JSON-RPC response history record"),this.logger.trace({type:"method",method:"update",response:n}),!this.records.has(n.id))return;const i=await this.getRecord(n.id);typeof i.response>"u"&&(i.response=Ya(n)?{error:n.error}:{result:n.result},this.records.set(i.id,i),this.persist(),this.events.emit(kc.updated,i))}),ns(this,"get",async(n,i)=>(this.isInitialized(),this.logger.debug("Getting record"),this.logger.trace({type:"method",method:"get",topic:n,id:i}),await this.getRecord(i))),ns(this,"delete",(n,i)=>{this.isInitialized(),this.logger.debug("Deleting record"),this.logger.trace({type:"method",method:"delete",id:i}),this.values.forEach(s=>{if(s.topic===n){if(typeof i<"u"&&s.id!==i)return;this.records.delete(s.id),this.events.emit(kc.deleted,s)}}),this.persist()}),ns(this,"exists",async(n,i)=>(this.isInitialized(),this.records.has(i)?(await this.getRecord(i)).topic===n:!1)),ns(this,"on",(n,i)=>{this.events.on(n,i)}),ns(this,"once",(n,i)=>{this.events.once(n,i)}),ns(this,"off",(n,i)=>{this.events.off(n,i)}),ns(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=qs(r,this.name)}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get size(){return this.records.size}get keys(){return Array.from(this.records.keys())}get values(){return Array.from(this.records.values())}get pending(){const e=[];return this.values.forEach(r=>{if(typeof r.response<"u")return;const n={topic:r.topic,request:du(r.request.method,r.request.params,r.id),chainId:r.chainId};return e.push(n)}),e}async setJsonRpcRecords(e){await this.core.storage.setItem(this.storageKey,e)}async getJsonRpcRecords(){return await this.core.storage.getItem(this.storageKey)}getRecord(e){this.isInitialized();const r=this.records.get(e);if(!r){const{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw new Error(n)}return r}async persist(){await this.setJsonRpcRecords(this.values),this.events.emit(kc.sync)}async restore(){try{const e=await this.getJsonRpcRecords();if(typeof e>"u"||!e.length)return;if(this.records.size){const{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored records for ${this.name}`),this.logger.trace({type:"method",method:"restore",records:this.values})}catch(e){this.logger.debug(`Failed to Restore records for ${this.name}`),this.logger.error(e)}}registerEventListeners(){this.events.on(kc.created,e=>{const r=kc.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(kc.updated,e=>{const r=kc.updated;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.events.on(kc.deleted,e=>{const r=kc.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,record:e})}),this.core.heartbeat.on(sp.pulse,()=>{this.cleanup()})}cleanup(){try{this.isInitialized();let e=!1;this.records.forEach(r=>{je.toMiliseconds(r.expiry||0)-Date.now()<=0&&(this.logger.info(`Deleting expired history log: ${r.id}`),this.records.delete(r.id),this.events.emit(kc.deleted,r,!1),e=!0)}),e&&this.persist()}catch(e){this.logger.warn(e)}}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var yve=Object.defineProperty,_ve=(t,e,r)=>e in t?yve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Cs=(t,e,r)=>_ve(t,typeof e!="symbol"?e+"":e,r);class bve extends jle{constructor(e,r){super(e,r),this.core=e,this.logger=r,Cs(this,"expirations",new Map),Cs(this,"events",new gc.EventEmitter),Cs(this,"name",wbe),Cs(this,"version",vbe),Cs(this,"cached",[]),Cs(this,"initialized",!1),Cs(this,"storagePrefix",Ru),Cs(this,"init",async()=>{this.initialized||(this.logger.trace("Initialized"),await this.restore(),this.cached.forEach(n=>this.expirations.set(n.target,n)),this.cached=[],this.registerEventListeners(),this.initialized=!0)}),Cs(this,"has",n=>{try{const i=this.formatTarget(n);return typeof this.getExpiration(i)<"u"}catch{return!1}}),Cs(this,"set",(n,i)=>{this.isInitialized();const s=this.formatTarget(n),o={target:s,expiry:i};this.expirations.set(s,o),this.checkExpiry(s,o),this.events.emit(Ka.created,{target:s,expiration:o})}),Cs(this,"get",n=>{this.isInitialized();const i=this.formatTarget(n);return this.getExpiration(i)}),Cs(this,"del",n=>{if(this.isInitialized(),this.has(n)){const i=this.formatTarget(n),s=this.getExpiration(i);this.expirations.delete(i),this.events.emit(Ka.deleted,{target:i,expiration:s})}}),Cs(this,"on",(n,i)=>{this.events.on(n,i)}),Cs(this,"once",(n,i)=>{this.events.once(n,i)}),Cs(this,"off",(n,i)=>{this.events.off(n,i)}),Cs(this,"removeListener",(n,i)=>{this.events.removeListener(n,i)}),this.logger=qs(r,this.name)}get context(){return qo(this.logger)}get storageKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//"+this.name}get length(){return this.expirations.size}get keys(){return Array.from(this.expirations.keys())}get values(){return Array.from(this.expirations.values())}formatTarget(e){if(typeof e=="string")return Rpe(e);if(typeof e=="number")return Ppe(e);const{message:r}=He("UNKNOWN_TYPE",`Target type: ${typeof e}`);throw new Error(r)}async setExpirations(e){await this.core.storage.setItem(this.storageKey,e)}async getExpirations(){return await this.core.storage.getItem(this.storageKey)}async persist(){await this.setExpirations(this.values),this.events.emit(Ka.sync)}async restore(){try{const e=await this.getExpirations();if(typeof e>"u"||!e.length)return;if(this.expirations.size){const{message:r}=He("RESTORE_WILL_OVERRIDE",this.name);throw this.logger.error(r),new Error(r)}this.cached=e,this.logger.debug(`Successfully Restored expirations for ${this.name}`),this.logger.trace({type:"method",method:"restore",expirations:this.values})}catch(e){this.logger.debug(`Failed to Restore expirations for ${this.name}`),this.logger.error(e)}}getExpiration(e){const r=this.expirations.get(e);if(!r){const{message:n}=He("NO_MATCHING_KEY",`${this.name}: ${e}`);throw this.logger.warn(n),new Error(n)}return r}checkExpiry(e,r){const{expiry:n}=r;je.toMiliseconds(n)-Date.now()<=0&&this.expire(e,r)}expire(e,r){this.expirations.delete(e),this.events.emit(Ka.expired,{target:e,expiration:r})}checkExpirations(){this.core.relayer.connected&&this.expirations.forEach((e,r)=>this.checkExpiry(r,e))}registerEventListeners(){this.core.heartbeat.on(sp.pulse,()=>this.checkExpirations()),this.events.on(Ka.created,e=>{const r=Ka.created;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ka.expired,e=>{const r=Ka.expired;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()}),this.events.on(Ka.deleted,e=>{const r=Ka.deleted;this.logger.info(`Emitting ${r}`),this.logger.debug({type:"event",event:r,data:e}),this.persist()})}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}}var wve=Object.defineProperty,vve=(t,e,r)=>e in t?wve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,si=(t,e,r)=>vve(t,typeof e!="symbol"?e+"":e,r);class Eve extends Wle{constructor(e,r,n){super(e,r,n),this.core=e,this.logger=r,this.store=n,si(this,"name",Ebe),si(this,"abortController"),si(this,"isDevEnv"),si(this,"verifyUrlV3",xbe),si(this,"storagePrefix",Ru),si(this,"version",Vq),si(this,"publicKey"),si(this,"fetchPromise"),si(this,"init",async()=>{var i;this.isDevEnv||(this.publicKey=await this.store.getItem(this.storeKey),this.publicKey&&je.toMiliseconds((i=this.publicKey)==null?void 0:i.expiresAt)<Date.now()&&(this.logger.debug("verify v2 public key expired"),await this.removePublicKey()))}),si(this,"register",async i=>{if(!Sm()||this.isDevEnv)return;const s=window.location.origin,{id:o,decryptedId:a}=i,c=`${this.verifyUrlV3}/attestation?projectId=${this.core.projectId}&origin=${s}&id=${o}&decryptedId=${a}`;try{const l=Vf.getDocument(),u=this.startAbortTimer(je.ONE_SECOND*5),f=await new Promise((h,g)=>{const _=()=>{window.removeEventListener("message",b),l.body.removeChild(m),g("attestation aborted")};this.abortController.signal.addEventListener("abort",_);const m=l.createElement("iframe");m.src=c,m.style.display="none",m.addEventListener("error",_,{signal:this.abortController.signal});const b=A=>{if(A.data&&typeof A.data=="string")try{const N=JSON.parse(A.data);if(N.type==="verify_attestation"){if(ZI(N.attestation).payload.id!==o)return;clearInterval(u),l.body.removeChild(m),this.abortController.signal.removeEventListener("abort",_),window.removeEventListener("message",b),h(N.attestation===null?"":N.attestation)}}catch(N){this.logger.warn(N)}};l.body.appendChild(m),window.addEventListener("message",b,{signal:this.abortController.signal})});return this.logger.debug("jwt attestation",f),f}catch(l){this.logger.warn(l)}return""}),si(this,"resolve",async i=>{if(this.isDevEnv)return"";const{attestationId:s,hash:o,encryptedId:a}=i;if(s===""){this.logger.debug("resolve: attestationId is empty, skipping");return}if(s){if(ZI(s).payload.id!==a)return;const l=await this.isValidJwtAttestation(s);if(l){if(!l.isVerified){this.logger.warn("resolve: jwt attestation: origin url not verified");return}return l}}if(!o)return;const c=this.getVerifyUrl(i?.verifyUrl);return this.fetchAttestation(o,c)}),si(this,"fetchAttestation",async(i,s)=>{this.logger.debug(`resolving attestation: ${i} from url: ${s}`);const o=this.startAbortTimer(je.ONE_SECOND*5),a=await fetch(`${s}/attestation/${i}?v2Supported=true`,{signal:this.abortController.signal});return clearTimeout(o),a.status===200?await a.json():void 0}),si(this,"getVerifyUrl",i=>{let s=i||S_;return Cbe.includes(s)||(this.logger.info(`verify url: ${s}, not included in trusted list, assigning default: ${S_}`),s=S_),s}),si(this,"fetchPublicKey",async()=>{try{this.logger.debug(`fetching public key from: ${this.verifyUrlV3}`);const i=this.startAbortTimer(je.FIVE_SECONDS),s=await fetch(`${this.verifyUrlV3}/public-key`,{signal:this.abortController.signal});return clearTimeout(i),await s.json()}catch(i){this.logger.warn(i)}}),si(this,"persistPublicKey",async i=>{this.logger.debug("persisting public key to local storage",i),await this.store.setItem(this.storeKey,i),this.publicKey=i}),si(this,"removePublicKey",async()=>{this.logger.debug("removing verify v2 public key from storage"),await this.store.removeItem(this.storeKey),this.publicKey=void 0}),si(this,"isValidJwtAttestation",async i=>{const s=await this.getPublicKey();try{if(s)return this.validateAttestation(i,s)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}const o=await this.fetchAndPersistPublicKey();try{if(o)return this.validateAttestation(i,o)}catch(a){this.logger.error(a),this.logger.warn("error validating attestation")}}),si(this,"getPublicKey",async()=>this.publicKey?this.publicKey:await this.fetchAndPersistPublicKey()),si(this,"fetchAndPersistPublicKey",async()=>{if(this.fetchPromise)return await this.fetchPromise,this.publicKey;this.fetchPromise=new Promise(async s=>{const o=await this.fetchPublicKey();o&&(await this.persistPublicKey(o),s(o))});const i=await this.fetchPromise;return this.fetchPromise=void 0,i}),si(this,"validateAttestation",(i,s)=>{const o=Cye(i,s.publicKey),a={hasExpired:je.toMiliseconds(o.exp)<Date.now(),payload:o};if(a.hasExpired)throw this.logger.warn("resolve: jwt attestation expired"),new Error("JWT attestation expired");return{origin:a.payload.origin,isScam:a.payload.isScam,isVerified:a.payload.isVerified}}),this.logger=qs(r,this.name),this.abortController=new AbortController,this.isDevEnv=HP(),this.init()}get storeKey(){return this.storagePrefix+this.version+this.core.customStoragePrefix+"//verify:public:key"}get context(){return qo(this.logger)}startAbortTimer(e){return this.abortController=new AbortController,setTimeout(()=>this.abortController.abort(),je.toMiliseconds(e))}}var Ave=Object.defineProperty,xve=(t,e,r)=>e in t?Ave(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,kM=(t,e,r)=>xve(t,typeof e!="symbol"?e+"":e,r);class Cve extends qle{constructor(e,r){super(e,r),this.projectId=e,this.logger=r,kM(this,"context",Nbe),kM(this,"registerDeviceToken",async n=>{const{clientId:i,token:s,notificationType:o,enableEncrypted:a=!1}=n,c=`${Sbe}/${this.projectId}/clients`;await fetch(c,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({client_id:i,type:o,token:s,always_raw:a})})}),this.logger=qs(r,this.context)}}var Nve=Object.defineProperty,MM=Object.getOwnPropertySymbols,Sve=Object.prototype.hasOwnProperty,Tve=Object.prototype.propertyIsEnumerable,I3=(t,e,r)=>e in t?Nve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,ky=(t,e)=>{for(var r in e||(e={}))Sve.call(e,r)&&I3(t,r,e[r]);if(MM)for(var r of MM(e))Tve.call(e,r)&&I3(t,r,e[r]);return t},Bi=(t,e,r)=>I3(t,typeof e!="symbol"?e+"":e,r);class Ive extends zle{constructor(e,r,n=!0){super(e,r,n),this.core=e,this.logger=r,Bi(this,"context",Ibe),Bi(this,"storagePrefix",Ru),Bi(this,"storageVersion",Tbe),Bi(this,"events",new Map),Bi(this,"shouldPersist",!1),Bi(this,"init",async()=>{if(!HP())try{const i={eventId:yk(),timestamp:Date.now(),domain:this.getAppDomain(),props:{event:"INIT",type:"",properties:{client_id:await this.core.crypto.getClientId(),user_agent:KW(this.core.relayer.protocol,this.core.relayer.version,v3)}}};await this.sendEvent([i])}catch(i){this.logger.warn(i)}}),Bi(this,"createEvent",i=>{const{event:s="ERROR",type:o="",properties:{topic:a,trace:c}}=i,l=yk(),u=this.core.projectId||"",f=Date.now(),h=ky({eventId:l,timestamp:f,props:{event:s,type:o,properties:{topic:a,trace:c}},bundleId:u,domain:this.getAppDomain()},this.setMethods(l));return this.telemetryEnabled&&(this.events.set(l,h),this.shouldPersist=!0),h}),Bi(this,"getEvent",i=>{const{eventId:s,topic:o}=i;if(s)return this.events.get(s);const a=Array.from(this.events.values()).find(c=>c.props.properties.topic===o);if(a)return ky(ky({},a),this.setMethods(a.eventId))}),Bi(this,"deleteEvent",i=>{const{eventId:s}=i;this.events.delete(s),this.shouldPersist=!0}),Bi(this,"setEventListeners",()=>{this.core.heartbeat.on(sp.pulse,async()=>{this.shouldPersist&&await this.persist(),this.events.forEach(i=>{je.fromMiliseconds(Date.now())-je.fromMiliseconds(i.timestamp)>Rbe&&(this.events.delete(i.eventId),this.shouldPersist=!0)})})}),Bi(this,"setMethods",i=>({addTrace:s=>this.addTrace(i,s),setError:s=>this.setError(i,s)})),Bi(this,"addTrace",(i,s)=>{const o=this.events.get(i);o&&(o.props.properties.trace.push(s),this.events.set(i,o),this.shouldPersist=!0)}),Bi(this,"setError",(i,s)=>{const o=this.events.get(i);o&&(o.props.type=s,o.timestamp=Date.now(),this.events.set(i,o),this.shouldPersist=!0)}),Bi(this,"persist",async()=>{await this.core.storage.setItem(this.storageKey,Array.from(this.events.values())),this.shouldPersist=!1}),Bi(this,"restore",async()=>{try{const i=await this.core.storage.getItem(this.storageKey)||[];if(!i.length)return;i.forEach(s=>{this.events.set(s.eventId,ky(ky({},s),this.setMethods(s.eventId)))})}catch(i){this.logger.warn(i)}}),Bi(this,"submit",async()=>{if(!this.telemetryEnabled||this.events.size===0)return;const i=[];for(const[s,o]of this.events)o.props.type&&i.push(o);if(i.length!==0)try{if((await this.sendEvent(i)).ok)for(const s of i)this.events.delete(s.eventId),this.shouldPersist=!0}catch(s){this.logger.warn(s)}}),Bi(this,"sendEvent",async i=>{const s=this.getAppDomain()?"":"&sp=desktop";return await fetch(`${Pbe}?projectId=${this.core.projectId}&st=events_sdk&sv=js-${v3}${s}`,{method:"POST",body:JSON.stringify(i)})}),Bi(this,"getAppDomain",()=>GW().url),this.logger=qs(r,this.context),this.telemetryEnabled=n,n?this.restore().then(async()=>{await this.submit(),this.setEventListeners()}):this.persist()}get storageKey(){return this.storagePrefix+this.storageVersion+this.core.customStoragePrefix+"//"+this.context}}var Rve=Object.defineProperty,UM=Object.getOwnPropertySymbols,Pve=Object.prototype.hasOwnProperty,Ove=Object.prototype.propertyIsEnumerable,R3=(t,e,r)=>e in t?Rve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,LM=(t,e)=>{for(var r in e||(e={}))Pve.call(e,r)&&R3(t,r,e[r]);if(UM)for(var r of UM(e))Ove.call(e,r)&&R3(t,r,e[r]);return t},dn=(t,e,r)=>R3(t,typeof e!="symbol"?e+"":e,r);let Dve=class lz extends Ole{constructor(e){var r;super(e),dn(this,"protocol",Kq),dn(this,"version",Vq),dn(this,"name",w3),dn(this,"relayUrl"),dn(this,"projectId"),dn(this,"customStoragePrefix"),dn(this,"events",new gc.EventEmitter),dn(this,"logger"),dn(this,"heartbeat"),dn(this,"relayer"),dn(this,"crypto"),dn(this,"storage"),dn(this,"history"),dn(this,"expirer"),dn(this,"pairing"),dn(this,"verify"),dn(this,"echoClient"),dn(this,"linkModeSupportedApps"),dn(this,"eventClient"),dn(this,"initialized",!1),dn(this,"logChunkController"),dn(this,"on",(a,c)=>this.events.on(a,c)),dn(this,"once",(a,c)=>this.events.once(a,c)),dn(this,"off",(a,c)=>this.events.off(a,c)),dn(this,"removeListener",(a,c)=>this.events.removeListener(a,c)),dn(this,"dispatchEnvelope",({topic:a,message:c,sessionExists:l})=>{if(!a||!c)return;const u={topic:a,message:c,publishedAt:Date.now(),transportType:vn.link_mode};this.relayer.onLinkMessageEvent(u,{sessionExists:l})});const n=this.getGlobalCore(e?.customStoragePrefix);if(n)try{return this.customStoragePrefix=n.customStoragePrefix,this.logger=n.logger,this.heartbeat=n.heartbeat,this.crypto=n.crypto,this.history=n.history,this.expirer=n.expirer,this.storage=n.storage,this.relayer=n.relayer,this.pairing=n.pairing,this.verify=n.verify,this.echoClient=n.echoClient,this.linkModeSupportedApps=n.linkModeSupportedApps,this.eventClient=n.eventClient,this.initialized=n.initialized,this.logChunkController=n.logChunkController,n}catch(a){console.warn("Failed to copy global core",a)}this.projectId=e?.projectId,this.relayUrl=e?.relayUrl||Yq,this.customStoragePrefix=e!=null&&e.customStoragePrefix?`:${e.customStoragePrefix}`:"";const i=Em({level:typeof e?.logger=="string"&&e.logger?e.logger:Q_e.logger,name:w3}),{logger:s,chunkLoggerController:o}=RP({opts:i,maxSizeInBytes:e?.maxLogBlobSizeInBytes,loggerOverride:e?.logger});this.logChunkController=o,(r=this.logChunkController)!=null&&r.downloadLogsBlobInBrowser&&(window.downloadLogsBlobInBrowser=async()=>{var a,c;(a=this.logChunkController)!=null&&a.downloadLogsBlobInBrowser&&((c=this.logChunkController)==null||c.downloadLogsBlobInBrowser({clientId:await this.crypto.getClientId()}))}),this.logger=qs(s,this.name),this.heartbeat=new Pce,this.crypto=new owe(this,this.logger,e?.keychain),this.history=new mve(this,this.logger),this.expirer=new bve(this,this.logger),this.storage=e!=null&&e.storage?e.storage:new hle(LM(LM({},Z_e),e?.storageOptions)),this.relayer=new Dwe({core:this,logger:this.logger,relayUrl:this.relayUrl,projectId:this.projectId}),this.pairing=new hve(this,this.logger),this.verify=new Eve(this,this.logger,this.storage),this.echoClient=new Cve(this.projectId||"",this.logger),this.linkModeSupportedApps=[],this.eventClient=new Ive(this,this.logger,e?.telemetryEnabled),this.setGlobalCore(this)}static async init(e){const r=new lz(e);await r.initialize();const n=await r.crypto.getClientId();return await r.storage.setItem(hbe,n),r}get context(){return qo(this.logger)}async start(){this.initialized||await this.initialize()}async getLogsBlob(){var e;return(e=this.logChunkController)==null?void 0:e.logsToBlob({clientId:await this.crypto.getClientId()})}async addLinkModeSupportedApp(e){this.linkModeSupportedApps.includes(e)||(this.linkModeSupportedApps.push(e),await this.storage.setItem(gM,this.linkModeSupportedApps))}async initialize(){this.logger.trace("Initialized");try{await this.crypto.init(),await this.history.init(),await this.expirer.init(),await this.relayer.init(),await this.heartbeat.init(),await this.pairing.init(),this.linkModeSupportedApps=await this.storage.getItem(gM)||[],this.initialized=!0,this.logger.info("Core Initialization Success")}catch(e){throw this.logger.warn(`Core Initialization Failure at epoch ${Date.now()}`,e),this.logger.error(e.message),e}}getGlobalCore(e=""){try{if(this.isGlobalCoreDisabled())return;const r=`_walletConnectCore_${e}`,n=`${r}_count`;return globalThis[n]=(globalThis[n]||0)+1,globalThis[n]>1&&console.warn(`WalletConnect Core is already initialized. This is probably a mistake and can lead to unexpected behavior. Init() was called ${globalThis[n]} times.`),globalThis[r]}catch(r){console.warn("Failed to get global WalletConnect core",r);return}}setGlobalCore(e){var r;try{if(this.isGlobalCoreDisabled())return;const n=`_walletConnectCore_${((r=e.opts)==null?void 0:r.customStoragePrefix)||""}`;globalThis[n]=e}catch(n){console.warn("Failed to set global WalletConnect core",n)}}isGlobalCoreDisabled(){try{return typeof process<"u"&&X_e.DISABLE_GLOBAL_CORE==="true"}catch{return!0}}};const kve=Dve,uz="wc",fz=2,dz="client",n6=`${uz}@${fz}:${dz}:`,aS={name:dz,logger:"error"},$M="WALLETCONNECT_DEEPLINK_CHOICE",Mve="proposal",FM="Proposal expired",Uve="session",Wp=je.SEVEN_DAYS,Lve="engine",is={wc_sessionPropose:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1100},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1101},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1120},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1121}},wc_sessionSettle:{req:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1102},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1103}},wc_sessionUpdate:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1104},res:{ttl:je.ONE_DAY,prompt:!1,tag:1105}},wc_sessionExtend:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1106},res:{ttl:je.ONE_DAY,prompt:!1,tag:1107}},wc_sessionRequest:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1108},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1109}},wc_sessionEvent:{req:{ttl:je.FIVE_MINUTES,prompt:!0,tag:1110},res:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1111}},wc_sessionDelete:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1112},res:{ttl:je.ONE_DAY,prompt:!1,tag:1113}},wc_sessionPing:{req:{ttl:je.ONE_DAY,prompt:!1,tag:1114},res:{ttl:je.ONE_DAY,prompt:!1,tag:1115}},wc_sessionAuthenticate:{req:{ttl:je.ONE_HOUR,prompt:!0,tag:1116},res:{ttl:je.ONE_HOUR,prompt:!1,tag:1117},reject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1118},autoReject:{ttl:je.FIVE_MINUTES,prompt:!1,tag:1119}}},cS={min:je.FIVE_MINUTES,max:je.SEVEN_DAYS},Zl={idle:"IDLE",active:"ACTIVE"},$ve={eth_sendTransaction:{key:""},eth_sendRawTransaction:{key:""},wallet_sendCalls:{key:""},solana_signTransaction:{key:"signature"},solana_signAllTransactions:{key:"transactions"},solana_signAndSendTransaction:{key:"signature"},sui_signAndExecuteTransaction:{key:"digest"},sui_signTransaction:{key:""},hedera_signAndExecuteTransaction:{key:"transactionId"},hedera_executeTransaction:{key:"transactionId"},near_signTransaction:{key:""},near_signTransactions:{key:""},tron_signTransaction:{key:"txID"},xrpl_signTransaction:{key:""},xrpl_signTransactionFor:{key:""},algo_signTxn:{key:""},sendTransfer:{key:"txid"},stacks_stxTransfer:{key:"txId"},polkadot_signTransaction:{key:""},cosmos_signDirect:{key:""}},Fve="request",Bve=["wc_sessionPropose","wc_sessionRequest","wc_authRequest","wc_sessionAuthenticate"],Hve="wc",jve="auth",Wve="authKeys",qve="pairingTopics",zve="requests",Yx=`${Hve}@${1.5}:${jve}:`,Vv=`${Yx}:PUB_KEY`;var Gve=Object.defineProperty,Kve=Object.defineProperties,Vve=Object.getOwnPropertyDescriptors,BM=Object.getOwnPropertySymbols,Jve=Object.prototype.hasOwnProperty,Yve=Object.prototype.propertyIsEnumerable,P3=(t,e,r)=>e in t?Gve(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Ur=(t,e)=>{for(var r in e||(e={}))Jve.call(e,r)&&P3(t,r,e[r]);if(BM)for(var r of BM(e))Yve.call(e,r)&&P3(t,r,e[r]);return t},Ns=(t,e)=>Kve(t,Vve(e)),Me=(t,e,r)=>P3(t,typeof e!="symbol"?e+"":e,r);class Xve extends Jle{constructor(e){super(e),Me(this,"name",Lve),Me(this,"events",new TP),Me(this,"initialized",!1),Me(this,"requestQueue",{state:Zl.idle,queue:[]}),Me(this,"sessionRequestQueue",{state:Zl.idle,queue:[]}),Me(this,"emittedSessionRequests",new Bpe({limit:500})),Me(this,"requestQueueDelay",je.ONE_SECOND),Me(this,"expectedPairingMethodMap",new Map),Me(this,"recentlyDeletedMap",new Map),Me(this,"recentlyDeletedLimit",200),Me(this,"relayMessageCache",[]),Me(this,"pendingSessions",new Map),Me(this,"init",async()=>{this.initialized||(await this.cleanup(),this.registerRelayerEvents(),this.registerExpirerEvents(),this.registerPairingEvents(),await this.registerLinkModeListeners(),this.client.core.pairing.register({methods:Object.keys(is)}),this.initialized=!0,setTimeout(async()=>{await this.processPendingMessageEvents(),this.sessionRequestQueue.queue=this.getPendingSessionRequests(),this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay)))}),Me(this,"connect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();const n=Ns(Ur({},r),{requiredNamespaces:r.requiredNamespaces||{},optionalNamespaces:r.optionalNamespaces||{}});await this.isValidConnect(n),n.optionalNamespaces=Hye(n.requiredNamespaces,n.optionalNamespaces),n.requiredNamespaces={};const{pairingTopic:i,requiredNamespaces:s,optionalNamespaces:o,sessionProperties:a,scopedProperties:c,relays:l}=n;let u=i,f,h=!1;try{if(u){const D=this.client.core.pairing.pairings.get(u);this.client.logger.warn("connect() with existing pairing topic is deprecated and will be removed in the next major release."),h=D.active}}catch(D){throw this.client.logger.error(`connect() -> pairing.get(${u}) failed`),D}if(!u||!h){const{topic:D,uri:H}=await this.client.core.pairing.create({internal:{skipSubscribe:!0}});u=D,f=H}if(!u){const{message:D}=He("NO_MATCHING_KEY",`connect() pairing topic: ${u}`);throw new Error(D)}const g=await this.client.core.crypto.generateKeyPair(),_=is.wc_sessionPropose.req.ttl||je.FIVE_MINUTES,m=Pi(_),b=Ns(Ur(Ur({requiredNamespaces:s,optionalNamespaces:o,relays:l??[{protocol:Jq}],proposer:{publicKey:g,metadata:this.client.metadata},expiryTimestamp:m,pairingTopic:u},a&&{sessionProperties:a}),c&&{scopedProperties:c}),{id:su()}),A=Tr("session_connect",b.id),{reject:N,resolve:R,done:k}=a0(_,FM),M=({id:D})=>{D===b.id&&(this.client.events.off("proposal_expire",M),this.pendingSessions.delete(b.id),this.events.emit(A,{error:{message:FM,code:0}}))};return this.client.events.on("proposal_expire",M),this.events.once(A,({error:D,session:H})=>{this.client.events.off("proposal_expire",M),D?N(D):H&&R(H)}),await this.sendProposeSession({proposal:b,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:b.id}}}),await this.setProposal(b.id,b),{uri:f,approval:k}}),Me(this,"pair",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{return await this.client.core.pairing.pair(r)}catch(n){throw this.client.logger.error("pair() failed"),n}}),Me(this,"approve",async r=>{var n,i,s;const o=this.client.core.eventClient.createEvent({properties:{topic:(n=r?.id)==null?void 0:n.toString(),trace:[Sd.session_approve_started]}});try{this.isInitialized(),await this.confirmOnlineStateOrThrow()}catch(C){throw o.setError(Py.no_internet_connection),C}try{await this.isValidProposalId(r?.id)}catch(C){throw this.client.logger.error(`approve() -> proposal.get(${r?.id}) failed`),o.setError(Py.proposal_not_found),C}try{await this.isValidApprove(r)}catch(C){throw this.client.logger.error("approve() -> isValidApprove() failed"),o.setError(Py.session_approve_namespace_validation_failure),C}const{id:a,relayProtocol:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:h}=r,g=this.client.proposal.get(a);this.client.core.eventClient.deleteEvent({eventId:o.eventId});const{pairingTopic:_,proposer:m,requiredNamespaces:b,optionalNamespaces:A}=g;let N=(i=this.client.core.eventClient)==null?void 0:i.getEvent({topic:_});N||(N=(s=this.client.core.eventClient)==null?void 0:s.createEvent({type:Sd.session_approve_started,properties:{topic:_,trace:[Sd.session_approve_started,Sd.session_namespaces_validation_success]}}));const R=await this.client.core.crypto.generateKeyPair(),k=m.publicKey,M=await this.client.core.crypto.generateSharedKey(R,k),D=Ur(Ur(Ur({relay:{protocol:c??"irn"},namespaces:l,controller:{publicKey:R,metadata:this.client.metadata},expiry:Pi(Wp)},u&&{sessionProperties:u}),f&&{scopedProperties:f}),h&&{sessionConfig:h}),H=vn.relay;N.addTrace(Sd.subscribing_session_topic);try{await this.client.core.relayer.subscribe(M,{transportType:H,internal:{skipSubscribe:!0}})}catch(C){throw N.setError(Py.subscribe_session_topic_failure),C}N.addTrace(Sd.subscribe_session_topic_success);const S=Ns(Ur({},D),{topic:M,requiredNamespaces:b,optionalNamespaces:A,pairingTopic:_,acknowledged:!1,self:D.controller,peer:{publicKey:m.publicKey,metadata:m.metadata},controller:R,transportType:vn.relay});await this.client.session.set(M,S),N.addTrace(Sd.store_session);try{await this.sendApproveSession({sessionTopic:M,proposal:g,pairingProposalResponse:{relay:{protocol:c??"irn"},responderPublicKey:R},sessionSettleRequest:D,publishOpts:{internal:{throwOnFailedPublish:!0},tvf:{correlationId:a}}}),N.addTrace(Sd.session_approve_publish_success)}catch(C){throw this.client.logger.error(C),this.client.session.delete(M,Nn("USER_DISCONNECTED")),await this.client.core.relayer.unsubscribe(M),C}return this.client.core.eventClient.deleteEvent({eventId:N.eventId}),await this.client.core.pairing.updateMetadata({topic:_,metadata:m.metadata}),await this.deleteProposal(a),await this.client.core.pairing.activate({topic:_}),await this.setExpiry(M,Pi(Wp)),{topic:M,acknowledged:()=>Promise.resolve(this.client.session.get(M))}}),Me(this,"reject",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidReject(r)}catch(o){throw this.client.logger.error("reject() -> isValidReject() failed"),o}const{id:n,reason:i}=r;let s;try{s=this.client.proposal.get(n).pairingTopic}catch(o){throw this.client.logger.error(`reject() -> proposal.get(${n}) failed`),o}s&&await this.sendError({id:n,topic:s,error:i,rpcOpts:is.wc_sessionPropose.reject}),await this.deleteProposal(n)}),Me(this,"update",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidUpdate(r)}catch(f){throw this.client.logger.error("update() -> isValidUpdate() failed"),f}const{topic:n,namespaces:i}=r,{done:s,resolve:o,reject:a}=a0(),c=su(),l=Xd().toString(),u=this.client.session.get(n).namespaces;return this.events.once(Tr("session_update",c),({error:f})=>{f?a(f):o()}),await this.client.session.update(n,{namespaces:i}),await this.sendRequest({topic:n,method:"wc_sessionUpdate",params:{namespaces:i},throwOnFailedPublish:!0,clientRpcId:c,relayRpcId:l}).catch(f=>{this.client.logger.error(f),this.client.session.update(n,{namespaces:u}),a(f)}),{acknowledged:s}}),Me(this,"extend",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidExtend(r)}catch(c){throw this.client.logger.error("extend() -> isValidExtend() failed"),c}const{topic:n}=r,i=su(),{done:s,resolve:o,reject:a}=a0();return this.events.once(Tr("session_extend",i),({error:c})=>{c?a(c):o()}),await this.setExpiry(n,Pi(Wp)),this.sendRequest({topic:n,method:"wc_sessionExtend",params:{},clientRpcId:i,throwOnFailedPublish:!0}).catch(c=>{a(c)}),{acknowledged:s}}),Me(this,"request",async r=>{this.isInitialized();try{await this.isValidRequest(r)}catch(b){throw this.client.logger.error("request() -> isValidRequest() failed"),b}const{chainId:n,request:i,topic:s,expiry:o=is.wc_sessionRequest.req.ttl}=r,a=this.client.session.get(s);a?.transportType===vn.relay&&await this.confirmOnlineStateOrThrow();const c=su(),l=Xd().toString(),{done:u,resolve:f,reject:h}=a0(o,"Request expired. Please try again.");this.events.once(Tr("session_request",c),({error:b,result:A})=>{b?h(b):f(A)});const g="wc_sessionRequest",_=this.getAppLinkIfEnabled(a.peer.metadata,a.transportType);if(_)return await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:g,params:{request:Ns(Ur({},i),{expiryTimestamp:Pi(o)}),chainId:n},expiry:o,throwOnFailedPublish:!0,appLink:_}).catch(b=>h(b)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),await u();const m={request:Ns(Ur({},i),{expiryTimestamp:Pi(o)}),chainId:n};return await Promise.all([new Promise(async b=>{await this.sendRequest({clientRpcId:c,relayRpcId:l,topic:s,method:g,params:m,expiry:o,throwOnFailedPublish:!0,tvf:this.getTVFParams(c,m)}).catch(A=>h(A)),this.client.events.emit("session_request_sent",{topic:s,request:i,chainId:n,id:c}),b()}),new Promise(async b=>{var A;if(!((A=a.sessionConfig)!=null&&A.disableDeepLink)){const N=await Mpe(this.client.core.storage,$M);await Ope({id:c,topic:s,wcDeepLink:N})}b()}),u()]).then(b=>b[2])}),Me(this,"respond",async r=>{this.isInitialized(),await this.isValidRespond(r);const{topic:n,response:i}=r,{id:s}=i,o=this.client.session.get(n);o.transportType===vn.relay&&await this.confirmOnlineStateOrThrow();const a=this.getAppLinkIfEnabled(o.peer.metadata,o.transportType);ou(i)?await this.sendResult({id:s,topic:n,result:i.result,throwOnFailedPublish:!0,appLink:a}):Ya(i)&&await this.sendError({id:s,topic:n,error:i.error,appLink:a}),this.cleanupAfterResponse(r)}),Me(this,"ping",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow();try{await this.isValidPing(r)}catch(i){throw this.client.logger.error("ping() -> isValidPing() failed"),i}const{topic:n}=r;if(this.client.session.keys.includes(n)){const i=su(),s=Xd().toString(),{done:o,resolve:a,reject:c}=a0();this.events.once(Tr("session_ping",i),({error:l})=>{l?c(l):a()}),await Promise.all([this.sendRequest({topic:n,method:"wc_sessionPing",params:{},throwOnFailedPublish:!0,clientRpcId:i,relayRpcId:s}),o()])}else this.client.core.pairing.pairings.keys.includes(n)&&(this.client.logger.warn("ping() on pairing topic is deprecated and will be removed in the next major release."),await this.client.core.pairing.ping({topic:n}))}),Me(this,"emit",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidEmit(r);const{topic:n,event:i,chainId:s}=r,o=Xd().toString(),a=su();await this.sendRequest({topic:n,method:"wc_sessionEvent",params:{event:i,chainId:s},throwOnFailedPublish:!0,relayRpcId:o,clientRpcId:a})}),Me(this,"disconnect",async r=>{this.isInitialized(),await this.confirmOnlineStateOrThrow(),await this.isValidDisconnect(r);const{topic:n}=r;if(this.client.session.keys.includes(n))await this.sendRequest({topic:n,method:"wc_sessionDelete",params:Nn("USER_DISCONNECTED"),throwOnFailedPublish:!0}),await this.deleteSession({topic:n,emitEvent:!1});else if(this.client.core.pairing.pairings.keys.includes(n))await this.client.core.pairing.disconnect({topic:n});else{const{message:i}=He("MISMATCHED_TOPIC",`Session or pairing topic not found: ${n}`);throw new Error(i)}}),Me(this,"find",r=>(this.isInitialized(),this.client.session.getAll().filter(n=>qye(n,r)))),Me(this,"getPendingSessionRequests",()=>this.client.pendingRequest.getAll()),Me(this,"authenticate",async(r,n)=>{var i;this.isInitialized(),this.isValidAuthenticate(r);const s=n&&this.client.core.linkModeSupportedApps.includes(n)&&((i=this.client.metadata.redirect)==null?void 0:i.linkMode),o=s?vn.link_mode:vn.relay;o===vn.relay&&await this.confirmOnlineStateOrThrow();const{chains:a,statement:c="",uri:l,domain:u,nonce:f,type:h,exp:g,nbf:_,methods:m=[],expiry:b}=r,A=[...r.resources||[]],{topic:N,uri:R}=await this.client.core.pairing.create({methods:["wc_sessionAuthenticate"],transportType:o});this.client.logger.info({message:"Generated new pairing",pairing:{topic:N,uri:R}});const k=await this.client.core.crypto.generateKeyPair(),M=Gv(k);if(await Promise.all([this.client.auth.authKeys.set(Vv,{responseTopic:M,publicKey:k}),this.client.auth.pairingTopics.set(M,{topic:M,pairingTopic:N})]),await this.client.core.relayer.subscribe(M,{transportType:o}),this.client.logger.info(`sending request to new pairing topic: ${N}`),m.length>0){const{namespace:j}=R0(a[0]);let z=Xge(j,"request",m);zv(A)&&(z=Zge(z,A.pop())),A.push(z)}const D=b&&b>is.wc_sessionAuthenticate.req.ttl?b:is.wc_sessionAuthenticate.req.ttl,H={authPayload:{type:h??"caip122",chains:a,statement:c,aud:l,domain:u,version:"1",nonce:f,iat:new Date().toISOString(),exp:g,nbf:_,resources:A},requester:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:Pi(D)},S={eip155:{chains:a,methods:[...new Set(["personal_sign",...m])],events:["chainChanged","accountsChanged"]}},C={requiredNamespaces:{},optionalNamespaces:S,relays:[{protocol:"irn"}],pairingTopic:N,proposer:{publicKey:k,metadata:this.client.metadata},expiryTimestamp:Pi(is.wc_sessionPropose.req.ttl),id:su()},{done:$,resolve:B,reject:O}=a0(D,"Request expired"),T=su(),y=Tr("session_connect",C.id),w=Tr("session_request",T),E=async({error:j,session:z})=>{this.events.off(w,I),j?O(j):z&&B({session:z})},I=async j=>{var z,L,x;if(await this.deletePendingAuthRequest(T,{message:"fulfilled",code:0}),j.error){const ne=Nn("WC_METHOD_UNSUPPORTED","wc_sessionAuthenticate");return j.error.code===ne.code?void 0:(this.events.off(y,E),O(j.error.message))}await this.deleteProposal(C.id),this.events.off(y,E);const{cacaos:W,responder:K}=j.result,P=[],X=[];for(const ne of W){await Tk({cacao:ne,projectId:this.client.core.projectId})||(this.client.logger.error(ne,"Signature verification failed"),O(Nn("SESSION_SETTLEMENT_FAILED","Signature verification failed")));const{p:le}=ne,me=zv(le.resources),Y=[l3(le.iss)],ie=yA(le.iss);if(me){const J=Ik(me),ae=Rk(me);P.push(...J),Y.push(...ae)}for(const J of Y)X.push(`${J}:${ie}`)}const q=await this.client.core.crypto.generateSharedKey(k,K.publicKey);let te;P.length>0&&(te={topic:q,acknowledged:!0,self:{publicKey:k,metadata:this.client.metadata},peer:K,controller:K.publicKey,expiry:Pi(Wp),requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:N,namespaces:eM([...new Set(P)],[...new Set(X)]),transportType:o},await this.client.core.relayer.subscribe(q,{transportType:o}),await this.client.session.set(q,te),N&&await this.client.core.pairing.updateMetadata({topic:N,metadata:K.metadata}),te=this.client.session.get(q)),(z=this.client.metadata.redirect)!=null&&z.linkMode&&(L=K.metadata.redirect)!=null&&L.linkMode&&(x=K.metadata.redirect)!=null&&x.universal&&n&&(this.client.core.addLinkModeSupportedApp(K.metadata.redirect.universal),this.client.session.update(q,{transportType:vn.link_mode})),B({auths:W,session:te})};this.events.once(y,E),this.events.once(w,I);let U;try{if(s){const j=du("wc_sessionAuthenticate",H,T);this.client.core.history.set(N,j);const z=await this.client.core.crypto.encode("",j,{type:M1,encoding:Kd});U=cv(n,N,z)}else await Promise.all([this.sendRequest({topic:N,method:"wc_sessionAuthenticate",params:H,expiry:r.expiry,throwOnFailedPublish:!0,clientRpcId:T}),this.sendRequest({topic:N,method:"wc_sessionPropose",params:C,expiry:is.wc_sessionPropose.req.ttl,throwOnFailedPublish:!0,clientRpcId:C.id})])}catch(j){throw this.events.off(y,E),this.events.off(w,I),j}return await this.setProposal(C.id,C),await this.setAuthRequest(T,{request:Ns(Ur({},H),{verifyContext:{}}),pairingTopic:N,transportType:o}),{uri:U??R,response:$}}),Me(this,"approveSessionAuthenticate",async r=>{const{id:n,auths:i}=r,s=this.client.core.eventClient.createEvent({properties:{topic:n.toString(),trace:[Yh.authenticated_session_approve_started]}});try{this.isInitialized()}catch(b){throw s.setError(Oy.no_internet_connection),b}const o=this.getPendingAuthRequest(n);if(!o)throw s.setError(Oy.authenticated_session_pending_request_not_found),new Error(`Could not find pending auth request with id ${n}`);const a=o.transportType||vn.relay;a===vn.relay&&await this.confirmOnlineStateOrThrow();const c=o.requester.publicKey,l=await this.client.core.crypto.generateKeyPair(),u=Gv(c),f={type:$f,receiverPublicKey:c,senderPublicKey:l},h=[],g=[];for(const b of i){if(!await Tk({cacao:b,projectId:this.client.core.projectId})){s.setError(Oy.invalid_cacao);const M=Nn("SESSION_SETTLEMENT_FAILED","Signature verification failed");throw await this.sendError({id:n,topic:u,error:M,encodeOpts:f}),new Error(M.message)}s.addTrace(Yh.cacaos_verified);const{p:A}=b,N=zv(A.resources),R=[l3(A.iss)],k=yA(A.iss);if(N){const M=Ik(N),D=Rk(N);h.push(...M),R.push(...D)}for(const M of R)g.push(`${M}:${k}`)}const _=await this.client.core.crypto.generateSharedKey(l,c);s.addTrace(Yh.create_authenticated_session_topic);let m;if(h?.length>0){m={topic:_,acknowledged:!0,self:{publicKey:l,metadata:this.client.metadata},peer:{publicKey:c,metadata:o.requester.metadata},controller:c,expiry:Pi(Wp),authentication:i,requiredNamespaces:{},optionalNamespaces:{},relay:{protocol:"irn"},pairingTopic:o.pairingTopic,namespaces:eM([...new Set(h)],[...new Set(g)]),transportType:a},s.addTrace(Yh.subscribing_authenticated_session_topic);try{await this.client.core.relayer.subscribe(_,{transportType:a})}catch(b){throw s.setError(Oy.subscribe_authenticated_session_topic_failure),b}s.addTrace(Yh.subscribe_authenticated_session_topic_success),await this.client.session.set(_,m),s.addTrace(Yh.store_authenticated_session),await this.client.core.pairing.updateMetadata({topic:o.pairingTopic,metadata:o.requester.metadata})}s.addTrace(Yh.publishing_authenticated_session_approve);try{await this.sendResult({topic:u,id:n,result:{cacaos:i,responder:{publicKey:l,metadata:this.client.metadata}},encodeOpts:f,throwOnFailedPublish:!0,appLink:this.getAppLinkIfEnabled(o.requester.metadata,a)})}catch(b){throw s.setError(Oy.authenticated_session_approve_publish_failure),b}return await this.client.auth.requests.delete(n,{message:"fulfilled",code:0}),await this.client.core.pairing.activate({topic:o.pairingTopic}),this.client.core.eventClient.deleteEvent({eventId:s.eventId}),{session:m}}),Me(this,"rejectSessionAuthenticate",async r=>{this.isInitialized();const{id:n,reason:i}=r,s=this.getPendingAuthRequest(n);if(!s)throw new Error(`Could not find pending auth request with id ${n}`);s.transportType===vn.relay&&await this.confirmOnlineStateOrThrow();const o=s.requester.publicKey,a=await this.client.core.crypto.generateKeyPair(),c=Gv(o),l={type:$f,receiverPublicKey:o,senderPublicKey:a};await this.sendError({id:n,topic:c,error:i,encodeOpts:l,rpcOpts:is.wc_sessionAuthenticate.reject,appLink:this.getAppLinkIfEnabled(s.requester.metadata,s.transportType)}),await this.client.auth.requests.delete(n,{message:"rejected",code:0}),await this.deleteProposal(n)}),Me(this,"formatAuthMessage",r=>{this.isInitialized();const{request:n,iss:i}=r;return uq(n,i)}),Me(this,"processRelayMessageCache",()=>{setTimeout(async()=>{if(this.relayMessageCache.length!==0)for(;this.relayMessageCache.length>0;)try{const r=this.relayMessageCache.shift();r&&await this.onRelayMessage(r)}catch(r){this.client.logger.error(r)}},50)}),Me(this,"cleanupDuplicatePairings",async r=>{if(r.pairingTopic)try{const n=this.client.core.pairing.pairings.get(r.pairingTopic),i=this.client.core.pairing.pairings.getAll().filter(s=>{var o,a;return((o=s.peerMetadata)==null?void 0:o.url)&&((a=s.peerMetadata)==null?void 0:a.url)===r.peer.metadata.url&&s.topic&&s.topic!==n.topic});if(i.length===0)return;this.client.logger.info(`Cleaning up ${i.length} duplicate pairing(s)`),await Promise.all(i.map(s=>this.client.core.pairing.disconnect({topic:s.topic}))),this.client.logger.info("Duplicate pairings clean up finished")}catch(n){this.client.logger.error(n)}}),Me(this,"deleteSession",async r=>{var n;const{topic:i,expirerHasDeleted:s=!1,emitEvent:o=!0,id:a=0}=r,{self:c}=this.client.session.get(i);await this.client.core.relayer.unsubscribe(i),await this.client.session.delete(i,Nn("USER_DISCONNECTED")),this.addToRecentlyDeleted(i,"session"),this.client.core.crypto.keychain.has(c.publicKey)&&await this.client.core.crypto.deleteKeyPair(c.publicKey),this.client.core.crypto.keychain.has(i)&&await this.client.core.crypto.deleteSymKey(i),s||this.client.core.expirer.del(i),this.client.core.storage.removeItem($M).catch(l=>this.client.logger.warn(l)),this.getPendingSessionRequests().forEach(l=>{l.topic===i&&this.deletePendingSessionRequest(l.id,Nn("USER_DISCONNECTED"))}),i===((n=this.sessionRequestQueue.queue[0])==null?void 0:n.topic)&&(this.sessionRequestQueue.state=Zl.idle),o&&this.client.events.emit("session_delete",{id:a,topic:i})}),Me(this,"deleteProposal",async(r,n)=>{if(n)try{const i=this.client.proposal.get(r);this.client.core.eventClient.getEvent({topic:i.pairingTopic})?.setError(Py.proposal_expired)}catch{}await Promise.all([this.client.proposal.delete(r,Nn("USER_DISCONNECTED")),n?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"proposal")}),Me(this,"deletePendingSessionRequest",async(r,n,i=!1)=>{await Promise.all([this.client.pendingRequest.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)]),this.addToRecentlyDeleted(r,"request"),this.sessionRequestQueue.queue=this.sessionRequestQueue.queue.filter(s=>s.id!==r),i&&(this.sessionRequestQueue.state=Zl.idle,this.client.events.emit("session_request_expire",{id:r}))}),Me(this,"deletePendingAuthRequest",async(r,n,i=!1)=>{await Promise.all([this.client.auth.requests.delete(r,n),i?Promise.resolve():this.client.core.expirer.del(r)])}),Me(this,"setExpiry",async(r,n)=>{this.client.session.keys.includes(r)&&(this.client.core.expirer.set(r,n),await this.client.session.update(r,{expiry:n}))}),Me(this,"setProposal",async(r,n)=>{this.client.core.expirer.set(r,Pi(is.wc_sessionPropose.req.ttl)),await this.client.proposal.set(r,n)}),Me(this,"setAuthRequest",async(r,n)=>{const{request:i,pairingTopic:s,transportType:o=vn.relay}=n;this.client.core.expirer.set(r,i.expiryTimestamp),await this.client.auth.requests.set(r,{authPayload:i.authPayload,requester:i.requester,expiryTimestamp:i.expiryTimestamp,id:r,pairingTopic:s,verifyContext:i.verifyContext,transportType:o})}),Me(this,"setPendingSessionRequest",async r=>{const{id:n,topic:i,params:s,verifyContext:o}=r,a=s.request.expiryTimestamp||Pi(is.wc_sessionRequest.req.ttl);this.client.core.expirer.set(n,a),await this.client.pendingRequest.set(n,{id:n,topic:i,params:s,verifyContext:o})}),Me(this,"sendRequest",async r=>{const{topic:n,method:i,params:s,expiry:o,relayRpcId:a,clientRpcId:c,throwOnFailedPublish:l,appLink:u,tvf:f,publishOpts:h={}}=r,g=du(i,s,c);let _;const m=!!u;try{const N=m?Kd:Do;_=await this.client.core.crypto.encode(n,g,{encoding:N})}catch(N){throw await this.cleanup(),this.client.logger.error(`sendRequest() -> core.crypto.encode() for topic ${n} failed`),N}let b;if(Bve.includes(i)){const N=Ja(JSON.stringify(g)),R=Ja(_);b=await this.client.core.verify.register({id:R,decryptedId:N})}const A=Ur(Ur({},is[i].req),h);if(A.attestation=b,o&&(A.ttl=o),a&&(A.id=a),this.client.core.history.set(n,g),m){const N=cv(u,n,_);await global.Linking.openURL(N,this.client.name)}else A.tvf=Ns(Ur({},f),{correlationId:g.id}),l?(A.internal=Ns(Ur({},A.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(n,_,A)):this.client.core.relayer.publish(n,_,A).catch(N=>this.client.logger.error(N));return g.id}),Me(this,"sendProposeSession",async r=>{const{proposal:n,publishOpts:i}=r,s=du("wc_sessionPropose",n,n.id);this.client.core.history.set(n.pairingTopic,s);const o=await this.client.core.crypto.encode(n.pairingTopic,s,{encoding:Do}),a=Ja(JSON.stringify(s)),c=Ja(o),l=await this.client.core.verify.register({id:c,decryptedId:a});await this.client.core.relayer.publishCustom({payload:{pairingTopic:n.pairingTopic,sessionProposal:o},opts:Ns(Ur({},i),{publishMethod:"wc_proposeSession",attestation:l})})}),Me(this,"sendApproveSession",async r=>{const{sessionTopic:n,pairingProposalResponse:i,proposal:s,sessionSettleRequest:o,publishOpts:a}=r,c=Sb(s.id,i),l=await this.client.core.crypto.encode(s.pairingTopic,c,{encoding:Do}),u=du("wc_sessionSettle",o,a?.id),f=await this.client.core.crypto.encode(n,u,{encoding:Do});this.client.core.history.set(n,u),await this.client.core.relayer.publishCustom({payload:{sessionTopic:n,pairingTopic:s.pairingTopic,sessionProposalResponse:l,sessionSettlementRequest:f},opts:Ns(Ur({},a),{publishMethod:"wc_approveSession"})})}),Me(this,"sendResult",async r=>{const{id:n,topic:i,result:s,throwOnFailedPublish:o,encodeOpts:a,appLink:c}=r,l=Sb(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const _=f?Kd:Do;u=await this.client.core.crypto.encode(i,l,Ns(Ur({},a||{}),{encoding:_}))}catch(_){throw await this.cleanup(),this.client.logger.error(`sendResult() -> core.crypto.encode() for topic ${i} failed`),_}let h,g;try{h=await this.client.core.history.get(i,n);const _=h.request;try{g=this.getTVFParams(n,_.params,s)}catch(m){this.client.logger.warn(`sendResult() -> getTVFParams() failed: ${m?.message}`)}}catch(_){throw this.client.logger.error(`sendResult() -> history.get(${i}, ${n}) failed`),_}if(f){const _=cv(c,i,u);await global.Linking.openURL(_,this.client.name)}else{const _=h.request.method,m=is[_].res;m.tvf=Ns(Ur({},g),{correlationId:n}),o?(m.internal=Ns(Ur({},m.internal),{throwOnFailedPublish:!0}),await this.client.core.relayer.publish(i,u,m)):this.client.core.relayer.publish(i,u,m).catch(b=>this.client.logger.error(b))}await this.client.core.history.resolve(l)}),Me(this,"sendError",async r=>{const{id:n,topic:i,error:s,encodeOpts:o,rpcOpts:a,appLink:c}=r,l=Kx(n,s);let u;const f=c&&typeof(global==null?void 0:global.Linking)<"u";try{const g=f?Kd:Do;u=await this.client.core.crypto.encode(i,l,Ns(Ur({},o||{}),{encoding:g}))}catch(g){throw await this.cleanup(),this.client.logger.error(`sendError() -> core.crypto.encode() for topic ${i} failed`),g}let h;try{h=await this.client.core.history.get(i,n)}catch(g){throw this.client.logger.error(`sendError() -> history.get(${i}, ${n}) failed`),g}if(f){const g=cv(c,i,u);await global.Linking.openURL(g,this.client.name)}else{const g=h.request.method,_=a||is[g].res;this.client.core.relayer.publish(i,u,_)}await this.client.core.history.resolve(l)}),Me(this,"cleanup",async()=>{const r=[],n=[];this.client.session.getAll().forEach(i=>{let s=!1;Bd(i.expiry)&&(s=!0),this.client.core.crypto.keychain.has(i.topic)||(s=!0),s&&r.push(i.topic)}),this.client.proposal.getAll().forEach(i=>{Bd(i.expiryTimestamp)&&n.push(i.id)}),await Promise.all([...r.map(i=>this.deleteSession({topic:i})),...n.map(i=>this.deleteProposal(i))])}),Me(this,"onProviderMessageEvent",async r=>{!this.initialized||this.relayMessageCache.length>0?this.relayMessageCache.push(r):await this.onRelayMessage(r)}),Me(this,"onRelayEventRequest",async r=>{this.requestQueue.queue.push(r),await this.processRequestsQueue()}),Me(this,"processRequestsQueue",async()=>{if(this.requestQueue.state===Zl.active){this.client.logger.info("Request queue already active, skipping...");return}for(this.client.logger.info(`Request queue starting with ${this.requestQueue.queue.length} requests`);this.requestQueue.queue.length>0;){this.requestQueue.state=Zl.active;const r=this.requestQueue.queue.shift();if(r)try{await this.processRequest(r)}catch(n){this.client.logger.warn(n)}}this.requestQueue.state=Zl.idle}),Me(this,"processRequest",async r=>{const{topic:n,payload:i,attestation:s,transportType:o,encryptedId:a}=r,c=i.method;if(!this.shouldIgnorePairingRequest({topic:n,requestMethod:c}))switch(c){case"wc_sessionPropose":return await this.onSessionProposeRequest({topic:n,payload:i,attestation:s,encryptedId:a});case"wc_sessionSettle":return await this.onSessionSettleRequest(n,i);case"wc_sessionUpdate":return await this.onSessionUpdateRequest(n,i);case"wc_sessionExtend":return await this.onSessionExtendRequest(n,i);case"wc_sessionPing":return await this.onSessionPingRequest(n,i);case"wc_sessionDelete":return await this.onSessionDeleteRequest(n,i);case"wc_sessionRequest":return await this.onSessionRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});case"wc_sessionEvent":return await this.onSessionEventRequest(n,i);case"wc_sessionAuthenticate":return await this.onSessionAuthenticateRequest({topic:n,payload:i,attestation:s,encryptedId:a,transportType:o});default:return this.client.logger.info(`Unsupported request method ${c}`)}}),Me(this,"onRelayEventResponse",async r=>{const{topic:n,payload:i,transportType:s}=r,o=(await this.client.core.history.get(n,i.id)).request.method;switch(o){case"wc_sessionPropose":return this.onSessionProposeResponse(n,i,s);case"wc_sessionSettle":return this.onSessionSettleResponse(n,i);case"wc_sessionUpdate":return this.onSessionUpdateResponse(n,i);case"wc_sessionExtend":return this.onSessionExtendResponse(n,i);case"wc_sessionPing":return this.onSessionPingResponse(n,i);case"wc_sessionRequest":return this.onSessionRequestResponse(n,i);case"wc_sessionAuthenticate":return this.onSessionAuthenticateResponse(n,i);default:return this.client.logger.info(`Unsupported response method ${o}`)}}),Me(this,"onRelayEventUnknownPayload",r=>{const{topic:n}=r,{message:i}=He("MISSING_OR_INVALID",`Decoded payload on topic ${n} is not identifiable as a JSON-RPC request or a response.`);throw new Error(i)}),Me(this,"shouldIgnorePairingRequest",r=>{const{topic:n,requestMethod:i}=r,s=this.expectedPairingMethodMap.get(n);return!s||s.includes(i)?!1:!!(s.includes("wc_sessionAuthenticate")&&this.client.events.listenerCount("session_authenticate")>0)}),Me(this,"onSessionProposeRequest",async r=>{const{topic:n,payload:i,attestation:s,encryptedId:o}=r,{params:a,id:c}=i;try{const l=this.client.core.eventClient.getEvent({topic:n});this.client.events.listenerCount("session_proposal")===0&&(console.warn("No listener for session_proposal event"),l?.setError(bf.proposal_listener_not_found)),this.isValidConnect(Ur({},i.params));const u=a.expiryTimestamp||Pi(is.wc_sessionPropose.req.ttl),f=Ur({id:c,pairingTopic:n,expiryTimestamp:u,attestation:s,encryptedId:o},a);await this.setProposal(c,f);const h=await this.getVerifyContext({attestationId:s,hash:Ja(JSON.stringify(i)),encryptedId:o,metadata:f.proposer.metadata});l?.addTrace(ru.emit_session_proposal),this.client.events.emit("session_proposal",{id:c,params:f,verifyContext:h})}catch(l){await this.sendError({id:c,topic:n,error:l,rpcOpts:is.wc_sessionPropose.autoReject}),this.client.logger.error(l)}}),Me(this,"onSessionProposeResponse",async(r,n,i)=>{const{id:s}=n;if(ou(n)){const{result:o}=n;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",result:o});const a=this.client.proposal.get(s);this.client.logger.trace({type:"method",method:"onSessionProposeResponse",proposal:a});const c=a.proposer.publicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",selfPublicKey:c});const l=o.responderPublicKey;this.client.logger.trace({type:"method",method:"onSessionProposeResponse",peerPublicKey:l});const u=await this.client.core.crypto.generateSharedKey(c,l);this.pendingSessions.set(s,{sessionTopic:u,pairingTopic:r,proposalId:s,publicKey:c});const f=await this.client.core.relayer.subscribe(u,{transportType:i});this.client.logger.trace({type:"method",method:"onSessionProposeResponse",subscriptionId:f}),await this.client.core.pairing.activate({topic:r})}else if(Ya(n)){await this.deleteProposal(s);const o=Tr("session_connect",s);if(this.events.listenerCount(o)===0)throw new Error(`emitting ${o} without any listeners, 954`);this.events.emit(o,{error:n.error})}}),Me(this,"onSessionSettleRequest",async(r,n)=>{const{id:i,params:s}=n;try{this.isValidSessionSettleRequest(s);const{relay:o,controller:a,expiry:c,namespaces:l,sessionProperties:u,scopedProperties:f,sessionConfig:h}=n.params,g=[...this.pendingSessions.values()].find(b=>b.sessionTopic===r);if(!g)return this.client.logger.error(`Pending session not found for topic ${r}`);const _=this.client.proposal.get(g.proposalId),m=Ns(Ur(Ur(Ur({topic:r,relay:o,expiry:c,namespaces:l,acknowledged:!0,pairingTopic:g.pairingTopic,requiredNamespaces:_.requiredNamespaces,optionalNamespaces:_.optionalNamespaces,controller:a.publicKey,self:{publicKey:g.publicKey,metadata:this.client.metadata},peer:{publicKey:a.publicKey,metadata:a.metadata}},u&&{sessionProperties:u}),f&&{scopedProperties:f}),h&&{sessionConfig:h}),{transportType:vn.relay});await this.client.session.set(m.topic,m),await this.setExpiry(m.topic,m.expiry),await this.client.core.pairing.updateMetadata({topic:g.pairingTopic,metadata:m.peer.metadata}),this.client.events.emit("session_connect",{session:m}),this.events.emit(Tr("session_connect",g.proposalId),{session:m}),this.pendingSessions.delete(g.proposalId),this.deleteProposal(g.proposalId,!1),this.cleanupDuplicatePairings(m),await this.sendResult({id:n.id,topic:r,result:!0})}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Me(this,"onSessionSettleResponse",async(r,n)=>{const{id:i}=n;ou(n)?(await this.client.session.update(r,{acknowledged:!0}),this.events.emit(Tr("session_approve",i),{})):Ya(n)&&(await this.client.session.delete(r,Nn("USER_DISCONNECTED")),this.events.emit(Tr("session_approve",i),{error:n.error}))}),Me(this,"onSessionUpdateRequest",async(r,n)=>{const{params:i,id:s}=n;try{const o=`${r}_session_update`,a=Iy.get(o);if(a&&this.isRequestOutOfSync(a,s)){this.client.logger.warn(`Discarding out of sync request - ${s}`),this.sendError({id:s,topic:r,error:Nn("INVALID_UPDATE_REQUEST")});return}this.isValidUpdate(Ur({topic:r},i));try{Iy.set(o,s),await this.client.session.update(r,{namespaces:i.namespaces}),await this.sendResult({id:s,topic:r,result:!0})}catch(c){throw Iy.delete(o),c}this.client.events.emit("session_update",{id:s,topic:r,params:i})}catch(o){await this.sendError({id:s,topic:r,error:o}),this.client.logger.error(o)}}),Me(this,"isRequestOutOfSync",(r,n)=>n.toString().slice(0,-3)<r.toString().slice(0,-3)),Me(this,"onSessionUpdateResponse",(r,n)=>{const{id:i}=n,s=Tr("session_update",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ou(n)?this.events.emit(Tr("session_update",i),{}):Ya(n)&&this.events.emit(Tr("session_update",i),{error:n.error})}),Me(this,"onSessionExtendRequest",async(r,n)=>{const{id:i}=n;try{this.isValidExtend({topic:r}),await this.setExpiry(r,Pi(Wp)),await this.sendResult({id:i,topic:r,result:!0}),this.client.events.emit("session_extend",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Me(this,"onSessionExtendResponse",(r,n)=>{const{id:i}=n,s=Tr("session_extend",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ou(n)?this.events.emit(Tr("session_extend",i),{}):Ya(n)&&this.events.emit(Tr("session_extend",i),{error:n.error})}),Me(this,"onSessionPingRequest",async(r,n)=>{const{id:i}=n;try{this.isValidPing({topic:r}),await this.sendResult({id:i,topic:r,result:!0,throwOnFailedPublish:!0}),this.client.events.emit("session_ping",{id:i,topic:r})}catch(s){await this.sendError({id:i,topic:r,error:s}),this.client.logger.error(s)}}),Me(this,"onSessionPingResponse",(r,n)=>{const{id:i}=n,s=Tr("session_ping",i);setTimeout(()=>{if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners 2176`);ou(n)?this.events.emit(Tr("session_ping",i),{}):Ya(n)&&this.events.emit(Tr("session_ping",i),{error:n.error})},500)}),Me(this,"onSessionDeleteRequest",async(r,n)=>{const{id:i}=n;try{this.isValidDisconnect({topic:r,reason:n.params}),await Promise.all([new Promise(s=>{this.client.core.relayer.once(ri.publish,async()=>{s(await this.deleteSession({topic:r,id:i}))})}),this.sendResult({id:i,topic:r,result:!0}),this.cleanupPendingSentRequestsForTopic({topic:r,error:Nn("USER_DISCONNECTED")})]).catch(s=>this.client.logger.error(s))}catch(s){this.client.logger.error(s)}}),Me(this,"onSessionRequest",async r=>{var n,i,s;const{topic:o,payload:a,attestation:c,encryptedId:l,transportType:u}=r,{id:f,params:h}=a;try{await this.isValidRequest(Ur({topic:o},h));const g=this.client.session.get(o),_=await this.getVerifyContext({attestationId:c,hash:Ja(JSON.stringify(du("wc_sessionRequest",h,f))),encryptedId:l,metadata:g.peer.metadata,transportType:u}),m={id:f,topic:o,params:h,verifyContext:_};await this.setPendingSessionRequest(m),u===vn.link_mode&&(n=g.peer.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp((i=g.peer.metadata.redirect)==null?void 0:i.universal),(s=this.client.signConfig)!=null&&s.disableRequestQueue?this.emitSessionRequest(m):(this.addSessionRequestToSessionRequestQueue(m),this.processSessionRequestQueue())}catch(g){await this.sendError({id:f,topic:o,error:g}),this.client.logger.error(g)}}),Me(this,"onSessionRequestResponse",(r,n)=>{const{id:i}=n,s=Tr("session_request",i);if(this.events.listenerCount(s)===0)throw new Error(`emitting ${s} without any listeners`);ou(n)?this.events.emit(Tr("session_request",i),{result:n.result}):Ya(n)&&this.events.emit(Tr("session_request",i),{error:n.error})}),Me(this,"onSessionEventRequest",async(r,n)=>{const{id:i,params:s}=n;try{const o=`${r}_session_event_${s.event.name}`,a=Iy.get(o);if(a&&this.isRequestOutOfSync(a,i)){this.client.logger.info(`Discarding out of sync request - ${i}`);return}this.isValidEmit(Ur({topic:r},s)),this.client.events.emit("session_event",{id:i,topic:r,params:s}),Iy.set(o,i)}catch(o){await this.sendError({id:i,topic:r,error:o}),this.client.logger.error(o)}}),Me(this,"onSessionAuthenticateResponse",(r,n)=>{const{id:i}=n;this.client.logger.trace({type:"method",method:"onSessionAuthenticateResponse",topic:r,payload:n}),ou(n)?this.events.emit(Tr("session_request",i),{result:n.result}):Ya(n)&&this.events.emit(Tr("session_request",i),{error:n.error})}),Me(this,"onSessionAuthenticateRequest",async r=>{var n;const{topic:i,payload:s,attestation:o,encryptedId:a,transportType:c}=r;try{const{requester:l,authPayload:u,expiryTimestamp:f}=s.params,h=await this.getVerifyContext({attestationId:o,hash:Ja(JSON.stringify(s)),encryptedId:a,metadata:l.metadata,transportType:c}),g={requester:l,pairingTopic:i,id:s.id,authPayload:u,verifyContext:h,expiryTimestamp:f};await this.setAuthRequest(s.id,{request:g,pairingTopic:i,transportType:c}),c===vn.link_mode&&(n=l.metadata.redirect)!=null&&n.universal&&this.client.core.addLinkModeSupportedApp(l.metadata.redirect.universal),this.client.events.emit("session_authenticate",{topic:i,params:s.params,id:s.id,verifyContext:h})}catch(l){this.client.logger.error(l);const u=s.params.requester.publicKey,f=await this.client.core.crypto.generateKeyPair(),h=this.getAppLinkIfEnabled(s.params.requester.metadata,c),g={type:$f,receiverPublicKey:u,senderPublicKey:f};await this.sendError({id:s.id,topic:i,error:l,encodeOpts:g,rpcOpts:is.wc_sessionAuthenticate.autoReject,appLink:h})}}),Me(this,"addSessionRequestToSessionRequestQueue",r=>{this.sessionRequestQueue.queue.push(r)}),Me(this,"cleanupAfterResponse",r=>{this.deletePendingSessionRequest(r.response.id,{message:"fulfilled",code:0}),setTimeout(()=>{this.sessionRequestQueue.state=Zl.idle,this.processSessionRequestQueue()},je.toMiliseconds(this.requestQueueDelay))}),Me(this,"cleanupPendingSentRequestsForTopic",({topic:r,error:n})=>{const i=this.client.core.history.pending;i.length>0&&i.filter(s=>s.topic===r&&s.request.method==="wc_sessionRequest").forEach(s=>{const o=s.request.id,a=Tr("session_request",o);if(this.events.listenerCount(a)===0)throw new Error(`emitting ${a} without any listeners`);this.events.emit(Tr("session_request",s.request.id),{error:n})})}),Me(this,"processSessionRequestQueue",()=>{if(this.sessionRequestQueue.state===Zl.active){this.client.logger.info("session request queue is already active.");return}const r=this.sessionRequestQueue.queue[0];if(!r){this.client.logger.info("session request queue is empty.");return}try{this.emitSessionRequest(r)}catch(n){this.client.logger.error(n)}}),Me(this,"emitSessionRequest",r=>{if(this.emittedSessionRequests.has(r.id)){this.client.logger.warn({id:r.id},`Skipping emitting \`session_request\` event for duplicate request. id: ${r.id}`);return}this.sessionRequestQueue.state=Zl.active,this.emittedSessionRequests.add(r.id),this.client.events.emit("session_request",r)}),Me(this,"onPairingCreated",r=>{if(r.methods&&this.expectedPairingMethodMap.set(r.topic,r.methods),r.active)return;const n=this.client.proposal.getAll().find(i=>i.pairingTopic===r.topic);n&&this.onSessionProposeRequest({topic:r.topic,payload:du("wc_sessionPropose",Ns(Ur({},n),{requiredNamespaces:n.requiredNamespaces,optionalNamespaces:n.optionalNamespaces,relays:n.relays,proposer:n.proposer,sessionProperties:n.sessionProperties,scopedProperties:n.scopedProperties}),n.id),attestation:n.attestation,encryptedId:n.encryptedId})}),Me(this,"isValidConnect",async r=>{if(!Io(r)){const{message:l}=He("MISSING_OR_INVALID",`connect() params: ${JSON.stringify(r)}`);throw new Error(l)}const{pairingTopic:n,requiredNamespaces:i,optionalNamespaces:s,sessionProperties:o,scopedProperties:a,relays:c}=r;if(Di(n)||await this.isValidPairingTopic(n),!r_e(c)){const{message:l}=He("MISSING_OR_INVALID",`connect() relays: ${c}`);throw new Error(l)}if(!Di(i)&&xu(i)!==0){const l="requiredNamespaces are deprecated and are automatically assigned to optionalNamespaces";["fatal","error","silent"].includes(this.client.logger.level)?console.warn(l):this.client.logger.warn(l),this.validateNamespaces(i,"requiredNamespaces")}if(!Di(s)&&xu(s)!==0&&this.validateNamespaces(s,"optionalNamespaces"),Di(o)||this.validateSessionProps(o,"sessionProperties"),!Di(a)){this.validateSessionProps(a,"scopedProperties");const l=Object.keys(i||{}).concat(Object.keys(s||{}));if(!Object.keys(a).every(u=>l.includes(u.split(":")[0])))throw new Error(`Scoped properties must be a subset of required/optional namespaces, received: ${JSON.stringify(a)}, required/optional namespaces: ${JSON.stringify(l)}`)}}),Me(this,"validateNamespaces",(r,n)=>{const i=t_e(r,"connect()",n);if(i)throw new Error(i.message)}),Me(this,"isValidApprove",async r=>{if(!Io(r))throw new Error(He("MISSING_OR_INVALID",`approve() params: ${r}`).message);const{id:n,namespaces:i,relayProtocol:s,sessionProperties:o,scopedProperties:a}=r;this.checkRecentlyDeleted(n),await this.isValidProposalId(n);const c=this.client.proposal.get(n),l=tS(i,"approve()");if(l)throw new Error(l.message);const u=nM(c.requiredNamespaces,i,"approve()");if(u)throw new Error(u.message);if(!ci(s,!0)){const{message:f}=He("MISSING_OR_INVALID",`approve() relayProtocol: ${s}`);throw new Error(f)}if(Di(o)||this.validateSessionProps(o,"sessionProperties"),!Di(a)){this.validateSessionProps(a,"scopedProperties");const f=new Set(Object.keys(i));if(!Object.keys(a).every(h=>f.has(h.split(":")[0])))throw new Error(`Scoped properties must be a subset of approved namespaces, received: ${JSON.stringify(a)}, approved namespaces: ${Array.from(f).join(", ")}`)}}),Me(this,"isValidReject",async r=>{if(!Io(r)){const{message:s}=He("MISSING_OR_INVALID",`reject() params: ${r}`);throw new Error(s)}const{id:n,reason:i}=r;if(this.checkRecentlyDeleted(n),await this.isValidProposalId(n),!i_e(i)){const{message:s}=He("MISSING_OR_INVALID",`reject() reason: ${JSON.stringify(i)}`);throw new Error(s)}}),Me(this,"isValidSessionSettleRequest",r=>{if(!Io(r)){const{message:l}=He("MISSING_OR_INVALID",`onSessionSettleRequest() params: ${r}`);throw new Error(l)}const{relay:n,controller:i,namespaces:s,expiry:o}=r;if(!Hq(n)){const{message:l}=He("MISSING_OR_INVALID","onSessionSettleRequest() relay protocol should be a string");throw new Error(l)}const a=Jye(i,"onSessionSettleRequest()");if(a)throw new Error(a.message);const c=tS(s,"onSessionSettleRequest()");if(c)throw new Error(c.message);if(Bd(o)){const{message:l}=He("EXPIRED","onSessionSettleRequest()");throw new Error(l)}}),Me(this,"isValidUpdate",async r=>{if(!Io(r)){const{message:c}=He("MISSING_OR_INVALID",`update() params: ${r}`);throw new Error(c)}const{topic:n,namespaces:i}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const s=this.client.session.get(n),o=tS(i,"update()");if(o)throw new Error(o.message);const a=nM(s.requiredNamespaces,i,"update()");if(a)throw new Error(a.message)}),Me(this,"isValidExtend",async r=>{if(!Io(r)){const{message:i}=He("MISSING_OR_INVALID",`extend() params: ${r}`);throw new Error(i)}const{topic:n}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n)}),Me(this,"isValidRequest",async r=>{if(!Io(r)){const{message:c}=He("MISSING_OR_INVALID",`request() params: ${r}`);throw new Error(c)}const{topic:n,request:i,chainId:s,expiry:o}=r;this.checkRecentlyDeleted(n),await this.isValidSessionTopic(n);const{namespaces:a}=this.client.session.get(n);if(!rM(a,s)){const{message:c}=He("MISSING_OR_INVALID",`request() chainId: ${s}`);throw new Error(c)}if(!s_e(i)){const{message:c}=He("MISSING_OR_INVALID",`request() ${JSON.stringify(i)}`);throw new Error(c)}if(!c_e(a,s,i.method)){const{message:c}=He("MISSING_OR_INVALID",`request() method: ${i.method}`);throw new Error(c)}if(o&&!d_e(o,cS)){const{message:c}=He("MISSING_OR_INVALID",`request() expiry: ${o}. Expiry must be a number (in seconds) between ${cS.min} and ${cS.max}`);throw new Error(c)}}),Me(this,"isValidRespond",async r=>{var n;if(!Io(r)){const{message:o}=He("MISSING_OR_INVALID",`respond() params: ${r}`);throw new Error(o)}const{topic:i,response:s}=r;try{await this.isValidSessionTopic(i)}catch(o){throw(n=r?.response)!=null&&n.id&&this.cleanupAfterResponse(r),o}if(!o_e(s)){const{message:o}=He("MISSING_OR_INVALID",`respond() response: ${JSON.stringify(s)}`);throw new Error(o)}}),Me(this,"isValidPing",async r=>{if(!Io(r)){const{message:i}=He("MISSING_OR_INVALID",`ping() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Me(this,"isValidEmit",async r=>{if(!Io(r)){const{message:a}=He("MISSING_OR_INVALID",`emit() params: ${r}`);throw new Error(a)}const{topic:n,event:i,chainId:s}=r;await this.isValidSessionTopic(n);const{namespaces:o}=this.client.session.get(n);if(!rM(o,s)){const{message:a}=He("MISSING_OR_INVALID",`emit() chainId: ${s}`);throw new Error(a)}if(!a_e(i)){const{message:a}=He("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}if(!l_e(o,s,i.name)){const{message:a}=He("MISSING_OR_INVALID",`emit() event: ${JSON.stringify(i)}`);throw new Error(a)}}),Me(this,"isValidDisconnect",async r=>{if(!Io(r)){const{message:i}=He("MISSING_OR_INVALID",`disconnect() params: ${r}`);throw new Error(i)}const{topic:n}=r;await this.isValidSessionOrPairingTopic(n)}),Me(this,"isValidAuthenticate",r=>{const{chains:n,uri:i,domain:s,nonce:o}=r;if(!Array.isArray(n)||n.length===0)throw new Error("chains is required and must be a non-empty array");if(!ci(i,!1))throw new Error("uri is required parameter");if(!ci(s,!1))throw new Error("domain is required parameter");if(!ci(o,!1))throw new Error("nonce is required parameter");if([...new Set(n.map(c=>R0(c).namespace))].length>1)throw new Error("Multi-namespace requests are not supported. Please request single namespace only.");const{namespace:a}=R0(n[0]);if(a!=="eip155")throw new Error("Only eip155 namespace is supported for authenticated sessions. Please use .connect() for non-eip155 chains.")}),Me(this,"getVerifyContext",async r=>{const{attestationId:n,hash:i,encryptedId:s,metadata:o,transportType:a}=r,c={verified:{verifyUrl:o.verifyUrl||S_,validation:"UNKNOWN",origin:o.url||""}};try{if(a===vn.link_mode){const u=this.getAppLinkIfEnabled(o,a);return c.verified.validation=u&&new URL(u).origin===new URL(o.url).origin?"VALID":"INVALID",c}const l=await this.client.core.verify.resolve({attestationId:n,hash:i,encryptedId:s,verifyUrl:o.verifyUrl});l&&(c.verified.origin=l.origin,c.verified.isScam=l.isScam,c.verified.validation=l.origin===new URL(o.url).origin?"VALID":"INVALID")}catch(l){this.client.logger.warn(l)}return this.client.logger.debug(`Verify context: ${JSON.stringify(c)}`),c}),Me(this,"validateSessionProps",(r,n)=>{Object.values(r).forEach((i,s)=>{if(i==null){const{message:o}=He("MISSING_OR_INVALID",`${n} must contain an existing value for each key. Received: ${i} for key ${Object.keys(r)[s]}`);throw new Error(o)}})}),Me(this,"getPendingAuthRequest",r=>{const n=this.client.auth.requests.get(r);return typeof n=="object"?n:void 0}),Me(this,"addToRecentlyDeleted",(r,n)=>{if(this.recentlyDeletedMap.set(r,n),this.recentlyDeletedMap.size>=this.recentlyDeletedLimit){let i=0;const s=this.recentlyDeletedLimit/2;for(const o of this.recentlyDeletedMap.keys()){if(i++>=s)break;this.recentlyDeletedMap.delete(o)}}}),Me(this,"checkRecentlyDeleted",r=>{const n=this.recentlyDeletedMap.get(r);if(n){const{message:i}=He("MISSING_OR_INVALID",`Record was recently deleted - ${n}: ${r}`);throw new Error(i)}}),Me(this,"isLinkModeEnabled",(r,n)=>{var i,s,o,a,c,l,u,f,h;return!r||n!==vn.link_mode?!1:((s=(i=this.client.metadata)==null?void 0:i.redirect)==null?void 0:s.linkMode)===!0&&((a=(o=this.client.metadata)==null?void 0:o.redirect)==null?void 0:a.universal)!==void 0&&((l=(c=this.client.metadata)==null?void 0:c.redirect)==null?void 0:l.universal)!==""&&((u=r?.redirect)==null?void 0:u.universal)!==void 0&&((f=r?.redirect)==null?void 0:f.universal)!==""&&((h=r?.redirect)==null?void 0:h.linkMode)===!0&&this.client.core.linkModeSupportedApps.includes(r.redirect.universal)&&typeof(global==null?void 0:global.Linking)<"u"}),Me(this,"getAppLinkIfEnabled",(r,n)=>{var i;return this.isLinkModeEnabled(r,n)?(i=r?.redirect)==null?void 0:i.universal:void 0}),Me(this,"handleLinkModeMessage",({url:r})=>{if(!r||!r.includes("wc_ev")||!r.includes("topic"))return;const n=mk(r,"topic")||"",i=decodeURIComponent(mk(r,"wc_ev")||""),s=this.client.session.keys.includes(n);s&&this.client.session.update(n,{transportType:vn.link_mode}),this.client.core.dispatchEnvelope({topic:n,message:i,sessionExists:s})}),Me(this,"registerLinkModeListeners",async()=>{var r;if(HP()||Ch()&&(r=this.client.metadata.redirect)!=null&&r.linkMode){const n=global==null?void 0:global.Linking;if(typeof n<"u"){n.addEventListener("url",this.handleLinkModeMessage,this.client.name);const i=await n.getInitialURL();i&&setTimeout(()=>{this.handleLinkModeMessage({url:i})},50)}}}),Me(this,"getTVFParams",(r,n,i)=>{var s,o,a;if(!((s=n.request)!=null&&s.method))return{};const c={correlationId:r,rpcMethods:[n.request.method],chainId:n.chainId};try{const l=this.extractTxHashesFromResult(n.request,i);c.txHashes=l,c.contractAddresses=this.isValidContractData(n.request.params)?[(a=(o=n.request.params)==null?void 0:o[0])==null?void 0:a.to]:[]}catch(l){this.client.logger.warn("Error getting TVF params",l)}return c}),Me(this,"isValidContractData",r=>{var n;if(!r)return!1;try{const i=r?.data||((n=r?.[0])==null?void 0:n.data);if(!i.startsWith("0x"))return!1;const s=i.slice(2);return/^[0-9a-fA-F]*$/.test(s)?s.length%2===0:!1}catch{}return!1}),Me(this,"extractTxHashesFromResult",(r,n)=>{var i;try{if(!n)return[];const s=r.method,o=$ve[s];if(s==="sui_signTransaction")return[Mge(n.transactionBytes)];if(s==="near_signTransaction")return[xk(n)];if(s==="near_signTransactions")return n.map(c=>xk(c));if(s==="xrpl_signTransactionFor"||s==="xrpl_signTransaction")return[(i=n.tx_json)==null?void 0:i.hash];if(s==="polkadot_signTransaction")return[S_e({transaction:r.params.transactionPayload,signature:n.signature})];if(s==="algo_signTxn")return Ff(n)?n.map(c=>Ck(c)):[Ck(n)];if(s==="cosmos_signDirect")return[Lge(n)];if(typeof n=="string")return[n];const a=n[o.key];if(Ff(a))return s==="solana_signAllTransactions"?a.map(c=>kge(c)):a;if(typeof a=="string")return[a]}catch(s){this.client.logger.warn("Error extracting tx hashes from result",s)}return[]})}async processPendingMessageEvents(){try{const e=this.client.session.keys,r=this.client.core.relayer.messages.getWithoutAck(e);for(const[n,i]of Object.entries(r))for(const s of i)try{await this.onProviderMessageEvent({topic:n,message:s,publishedAt:Date.now()})}catch{this.client.logger.warn(`Error processing pending message event for topic: ${n}, message: ${s}`)}}catch(e){this.client.logger.warn("processPendingMessageEvents failed",e)}}isInitialized(){if(!this.initialized){const{message:e}=He("NOT_INITIALIZED",this.name);throw new Error(e)}}async confirmOnlineStateOrThrow(){await this.client.core.relayer.confirmOnlineStateOrThrow()}registerRelayerEvents(){this.client.core.relayer.on(ri.message,e=>{this.onProviderMessageEvent(e)})}async onRelayMessage(e){const{topic:r,message:n,attestation:i,transportType:s}=e,{publicKey:o}=this.client.auth.authKeys.keys.includes(Vv)?this.client.auth.authKeys.get(Vv):{publicKey:void 0};try{const a=await this.client.core.crypto.decode(r,n,{receiverPublicKey:o,encoding:s===vn.link_mode?Kd:Do});r6(a)?(this.client.core.history.set(r,a),await this.onRelayEventRequest({topic:r,payload:a,attestation:i,transportType:s,encryptedId:Ja(n)})):Vx(a)?(await this.client.core.history.resolve(a),await this.onRelayEventResponse({topic:r,payload:a,transportType:s}),this.client.core.history.delete(r,a.id)):await this.onRelayEventUnknownPayload({topic:r,payload:a,transportType:s}),await this.client.core.relayer.messages.ack(r,n)}catch(a){this.client.logger.error(a)}}registerExpirerEvents(){this.client.core.expirer.on(Ka.expired,async e=>{const{topic:r,id:n}=JW(e.target);if(n&&this.client.pendingRequest.keys.includes(n))return await this.deletePendingSessionRequest(n,He("EXPIRED"),!0);if(n&&this.client.auth.requests.keys.includes(n))return await this.deletePendingAuthRequest(n,He("EXPIRED"),!0);r?this.client.session.keys.includes(r)&&(await this.deleteSession({topic:r,expirerHasDeleted:!0}),this.client.events.emit("session_expire",{topic:r})):n&&(await this.deleteProposal(n,!0),this.client.events.emit("proposal_expire",{id:n}))})}registerPairingEvents(){this.client.core.pairing.events.on(f0.create,e=>this.onPairingCreated(e)),this.client.core.pairing.events.on(f0.delete,e=>{this.addToRecentlyDeleted(e.topic,"pairing")})}isValidPairingTopic(e){if(!ci(e,!1)){const{message:r}=He("MISSING_OR_INVALID",`pairing topic should be a string: ${e}`);throw new Error(r)}if(!this.client.core.pairing.pairings.keys.includes(e)){const{message:r}=He("NO_MATCHING_KEY",`pairing topic doesn't exist: ${e}`);throw new Error(r)}if(Bd(this.client.core.pairing.pairings.get(e).expiry)){const{message:r}=He("EXPIRED",`pairing topic: ${e}`);throw new Error(r)}}async isValidSessionTopic(e){if(!ci(e,!1)){const{message:r}=He("MISSING_OR_INVALID",`session topic should be a string: ${e}`);throw new Error(r)}if(this.checkRecentlyDeleted(e),!this.client.session.keys.includes(e)){const{message:r}=He("NO_MATCHING_KEY",`session topic doesn't exist: ${e}`);throw new Error(r)}if(Bd(this.client.session.get(e).expiry)){await this.deleteSession({topic:e});const{message:r}=He("EXPIRED",`session topic: ${e}`);throw new Error(r)}if(!this.client.core.crypto.keychain.has(e)){const{message:r}=He("MISSING_OR_INVALID",`session topic does not exist in keychain: ${e}`);throw await this.deleteSession({topic:e}),new Error(r)}}async isValidSessionOrPairingTopic(e){if(this.checkRecentlyDeleted(e),this.client.session.keys.includes(e))await this.isValidSessionTopic(e);else if(this.client.core.pairing.pairings.keys.includes(e))this.isValidPairingTopic(e);else if(ci(e,!1)){const{message:r}=He("NO_MATCHING_KEY",`session or pairing topic doesn't exist: ${e}`);throw new Error(r)}else{const{message:r}=He("MISSING_OR_INVALID",`session or pairing topic should be a string: ${e}`);throw new Error(r)}}async isValidProposalId(e){if(!n_e(e)){const{message:r}=He("MISSING_OR_INVALID",`proposal id should be a number: ${e}`);throw new Error(r)}if(!this.client.proposal.keys.includes(e)){const{message:r}=He("NO_MATCHING_KEY",`proposal id doesn't exist: ${e}`);throw new Error(r)}if(Bd(this.client.proposal.get(e).expiryTimestamp)){await this.deleteProposal(e);const{message:r}=He("EXPIRED",`proposal id: ${e}`);throw new Error(r)}}}class Qve extends ap{constructor(e,r){super(e,r,Mve,n6),this.core=e,this.logger=r}}let Zve=class extends ap{constructor(e,r){super(e,r,Uve,n6),this.core=e,this.logger=r}};class eEe extends ap{constructor(e,r){super(e,r,Fve,n6,n=>n.id),this.core=e,this.logger=r}}class tEe extends ap{constructor(e,r){super(e,r,Wve,Yx,()=>Vv),this.core=e,this.logger=r}}class rEe extends ap{constructor(e,r){super(e,r,qve,Yx),this.core=e,this.logger=r}}class nEe extends ap{constructor(e,r){super(e,r,zve,Yx,n=>n.id),this.core=e,this.logger=r}}var iEe=Object.defineProperty,sEe=(t,e,r)=>e in t?iEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,lS=(t,e,r)=>sEe(t,typeof e!="symbol"?e+"":e,r);class oEe{constructor(e,r){this.core=e,this.logger=r,lS(this,"authKeys"),lS(this,"pairingTopics"),lS(this,"requests"),this.authKeys=new tEe(this.core,this.logger),this.pairingTopics=new rEe(this.core,this.logger),this.requests=new nEe(this.core,this.logger)}async init(){await this.authKeys.init(),await this.pairingTopics.init(),await this.requests.init()}}var aEe=Object.defineProperty,cEe=(t,e,r)=>e in t?aEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,rr=(t,e,r)=>cEe(t,typeof e!="symbol"?e+"":e,r);let lEe=class hz extends Vle{constructor(e){super(e),rr(this,"protocol",uz),rr(this,"version",fz),rr(this,"name",aS.name),rr(this,"metadata"),rr(this,"core"),rr(this,"logger"),rr(this,"events",new gc.EventEmitter),rr(this,"engine"),rr(this,"session"),rr(this,"proposal"),rr(this,"pendingRequest"),rr(this,"auth"),rr(this,"signConfig"),rr(this,"on",(n,i)=>this.events.on(n,i)),rr(this,"once",(n,i)=>this.events.once(n,i)),rr(this,"off",(n,i)=>this.events.off(n,i)),rr(this,"removeListener",(n,i)=>this.events.removeListener(n,i)),rr(this,"removeAllListeners",n=>this.events.removeAllListeners(n)),rr(this,"connect",async n=>{try{return await this.engine.connect(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"pair",async n=>{try{return await this.engine.pair(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"approve",async n=>{try{return await this.engine.approve(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"reject",async n=>{try{return await this.engine.reject(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"update",async n=>{try{return await this.engine.update(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"extend",async n=>{try{return await this.engine.extend(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"request",async n=>{try{return await this.engine.request(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"respond",async n=>{try{return await this.engine.respond(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"ping",async n=>{try{return await this.engine.ping(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"emit",async n=>{try{return await this.engine.emit(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"disconnect",async n=>{try{return await this.engine.disconnect(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"find",n=>{try{return this.engine.find(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"getPendingSessionRequests",()=>{try{return this.engine.getPendingSessionRequests()}catch(n){throw this.logger.error(n.message),n}}),rr(this,"authenticate",async(n,i)=>{try{return await this.engine.authenticate(n,i)}catch(s){throw this.logger.error(s.message),s}}),rr(this,"formatAuthMessage",n=>{try{return this.engine.formatAuthMessage(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"approveSessionAuthenticate",async n=>{try{return await this.engine.approveSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),rr(this,"rejectSessionAuthenticate",async n=>{try{return await this.engine.rejectSessionAuthenticate(n)}catch(i){throw this.logger.error(i.message),i}}),this.name=e?.name||aS.name,this.metadata=Npe(e?.metadata),this.signConfig=e?.signConfig;const r=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:T1(Em({level:e?.logger||aS.logger}));this.core=e?.core||new kve(e),this.logger=qs(r,this.name),this.session=new Zve(this.core,this.logger),this.proposal=new Qve(this.core,this.logger),this.pendingRequest=new eEe(this.core,this.logger),this.engine=new Xve(this),this.auth=new oEe(this.core,this.logger)}static async init(e){const r=new hz(e);return await r.initialize(),r}get context(){return qo(this.logger)}get pairing(){return this.core.pairing.pairings}async initialize(){this.logger.trace("Initialized");try{await this.core.start(),await this.session.init(),await this.proposal.init(),await this.pendingRequest.init(),await this.auth.init(),await this.engine.init(),this.logger.info("SignClient Initialization Success")}catch(e){throw this.logger.info("SignClient Initialization Failure"),this.logger.error(e.message),e}}};var lv={exports:{}},HM;function uEe(){return HM||(HM=1,(function(t,e){var r=typeof globalThis<"u"&&globalThis||typeof self<"u"&&self||typeof to<"u"&&to,n=(function(){function s(){this.fetch=!1,this.DOMException=r.DOMException}return s.prototype=r,new s})();(function(s){(function(o){var a=typeof s<"u"&&s||typeof self<"u"&&self||typeof to<"u"&&to||{},c={searchParams:"URLSearchParams"in a,iterable:"Symbol"in a&&"iterator"in Symbol,blob:"FileReader"in a&&"Blob"in a&&(function(){try{return new Blob,!0}catch{return!1}})(),formData:"FormData"in a,arrayBuffer:"ArrayBuffer"in a};function l(w){return w&&DataView.prototype.isPrototypeOf(w)}if(c.arrayBuffer)var u=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],f=ArrayBuffer.isView||function(w){return w&&u.indexOf(Object.prototype.toString.call(w))>-1};function h(w){if(typeof w!="string"&&(w=String(w)),/[^a-z0-9\-#$%&'*+.^_`|~!]/i.test(w)||w==="")throw new TypeError('Invalid character in header field name: "'+w+'"');return w.toLowerCase()}function g(w){return typeof w!="string"&&(w=String(w)),w}function _(w){var E={next:function(){var I=w.shift();return{done:I===void 0,value:I}}};return c.iterable&&(E[Symbol.iterator]=function(){return E}),E}function m(w){this.map={},w instanceof m?w.forEach(function(E,I){this.append(I,E)},this):Array.isArray(w)?w.forEach(function(E){if(E.length!=2)throw new TypeError("Headers constructor: expected name/value pair to be length 2, found"+E.length);this.append(E[0],E[1])},this):w&&Object.getOwnPropertyNames(w).forEach(function(E){this.append(E,w[E])},this)}m.prototype.append=function(w,E){w=h(w),E=g(E);var I=this.map[w];this.map[w]=I?I+", "+E:E},m.prototype.delete=function(w){delete this.map[h(w)]},m.prototype.get=function(w){return w=h(w),this.has(w)?this.map[w]:null},m.prototype.has=function(w){return this.map.hasOwnProperty(h(w))},m.prototype.set=function(w,E){this.map[h(w)]=g(E)},m.prototype.forEach=function(w,E){for(var I in this.map)this.map.hasOwnProperty(I)&&w.call(E,this.map[I],I,this)},m.prototype.keys=function(){var w=[];return this.forEach(function(E,I){w.push(I)}),_(w)},m.prototype.values=function(){var w=[];return this.forEach(function(E){w.push(E)}),_(w)},m.prototype.entries=function(){var w=[];return this.forEach(function(E,I){w.push([I,E])}),_(w)},c.iterable&&(m.prototype[Symbol.iterator]=m.prototype.entries);function b(w){if(!w._noBody){if(w.bodyUsed)return Promise.reject(new TypeError("Already read"));w.bodyUsed=!0}}function A(w){return new Promise(function(E,I){w.onload=function(){E(w.result)},w.onerror=function(){I(w.error)}})}function N(w){var E=new FileReader,I=A(E);return E.readAsArrayBuffer(w),I}function R(w){var E=new FileReader,I=A(E),U=/charset=([A-Za-z0-9_-]+)/.exec(w.type),j=U?U[1]:"utf-8";return E.readAsText(w,j),I}function k(w){for(var E=new Uint8Array(w),I=new Array(E.length),U=0;U<E.length;U++)I[U]=String.fromCharCode(E[U]);return I.join("")}function M(w){if(w.slice)return w.slice(0);var E=new Uint8Array(w.byteLength);return E.set(new Uint8Array(w)),E.buffer}function D(){return this.bodyUsed=!1,this._initBody=function(w){this.bodyUsed=this.bodyUsed,this._bodyInit=w,w?typeof w=="string"?this._bodyText=w:c.blob&&Blob.prototype.isPrototypeOf(w)?this._bodyBlob=w:c.formData&&FormData.prototype.isPrototypeOf(w)?this._bodyFormData=w:c.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)?this._bodyText=w.toString():c.arrayBuffer&&c.blob&&l(w)?(this._bodyArrayBuffer=M(w.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer])):c.arrayBuffer&&(ArrayBuffer.prototype.isPrototypeOf(w)||f(w))?this._bodyArrayBuffer=M(w):this._bodyText=w=Object.prototype.toString.call(w):(this._noBody=!0,this._bodyText=""),this.headers.get("content-type")||(typeof w=="string"?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):c.searchParams&&URLSearchParams.prototype.isPrototypeOf(w)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},c.blob&&(this.blob=function(){var w=b(this);if(w)return w;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))}),this.arrayBuffer=function(){if(this._bodyArrayBuffer){var w=b(this);return w||(ArrayBuffer.isView(this._bodyArrayBuffer)?Promise.resolve(this._bodyArrayBuffer.buffer.slice(this._bodyArrayBuffer.byteOffset,this._bodyArrayBuffer.byteOffset+this._bodyArrayBuffer.byteLength)):Promise.resolve(this._bodyArrayBuffer))}else{if(c.blob)return this.blob().then(N);throw new Error("could not read as ArrayBuffer")}},this.text=function(){var w=b(this);if(w)return w;if(this._bodyBlob)return R(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(k(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},c.formData&&(this.formData=function(){return this.text().then($)}),this.json=function(){return this.text().then(JSON.parse)},this}var H=["CONNECT","DELETE","GET","HEAD","OPTIONS","PATCH","POST","PUT","TRACE"];function S(w){var E=w.toUpperCase();return H.indexOf(E)>-1?E:w}function C(w,E){if(!(this instanceof C))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');E=E||{};var I=E.body;if(w instanceof C){if(w.bodyUsed)throw new TypeError("Already read");this.url=w.url,this.credentials=w.credentials,E.headers||(this.headers=new m(w.headers)),this.method=w.method,this.mode=w.mode,this.signal=w.signal,!I&&w._bodyInit!=null&&(I=w._bodyInit,w.bodyUsed=!0)}else this.url=String(w);if(this.credentials=E.credentials||this.credentials||"same-origin",(E.headers||!this.headers)&&(this.headers=new m(E.headers)),this.method=S(E.method||this.method||"GET"),this.mode=E.mode||this.mode||null,this.signal=E.signal||this.signal||(function(){if("AbortController"in a){var z=new AbortController;return z.signal}})(),this.referrer=null,(this.method==="GET"||this.method==="HEAD")&&I)throw new TypeError("Body not allowed for GET or HEAD requests");if(this._initBody(I),(this.method==="GET"||this.method==="HEAD")&&(E.cache==="no-store"||E.cache==="no-cache")){var U=/([?&])_=[^&]*/;if(U.test(this.url))this.url=this.url.replace(U,"$1_="+new Date().getTime());else{var j=/\?/;this.url+=(j.test(this.url)?"&":"?")+"_="+new Date().getTime()}}}C.prototype.clone=function(){return new C(this,{body:this._bodyInit})};function $(w){var E=new FormData;return w.trim().split("&").forEach(function(I){if(I){var U=I.split("="),j=U.shift().replace(/\+/g," "),z=U.join("=").replace(/\+/g," ");E.append(decodeURIComponent(j),decodeURIComponent(z))}}),E}function B(w){var E=new m,I=w.replace(/\r?\n[\t ]+/g," ");return I.split("\r").map(function(U){return U.indexOf(`
`)===0?U.substr(1,U.length):U}).forEach(function(U){var j=U.split(":"),z=j.shift().trim();if(z){var L=j.join(":").trim();try{E.append(z,L)}catch(x){console.warn("Response "+x.message)}}}),E}D.call(C.prototype);function O(w,E){if(!(this instanceof O))throw new TypeError('Please use the "new" operator, this DOM object constructor cannot be called as a function.');if(E||(E={}),this.type="default",this.status=E.status===void 0?200:E.status,this.status<200||this.status>599)throw new RangeError("Failed to construct 'Response': The status provided (0) is outside the range [200, 599].");this.ok=this.status>=200&&this.status<300,this.statusText=E.statusText===void 0?"":""+E.statusText,this.headers=new m(E.headers),this.url=E.url||"",this._initBody(w)}D.call(O.prototype),O.prototype.clone=function(){return new O(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new m(this.headers),url:this.url})},O.error=function(){var w=new O(null,{status:200,statusText:""});return w.ok=!1,w.status=0,w.type="error",w};var T=[301,302,303,307,308];O.redirect=function(w,E){if(T.indexOf(E)===-1)throw new RangeError("Invalid status code");return new O(null,{status:E,headers:{location:w}})},o.DOMException=a.DOMException;try{new o.DOMException}catch{o.DOMException=function(E,I){this.message=E,this.name=I;var U=Error(E);this.stack=U.stack},o.DOMException.prototype=Object.create(Error.prototype),o.DOMException.prototype.constructor=o.DOMException}function y(w,E){return new Promise(function(I,U){var j=new C(w,E);if(j.signal&&j.signal.aborted)return U(new o.DOMException("Aborted","AbortError"));var z=new XMLHttpRequest;function L(){z.abort()}z.onload=function(){var K={statusText:z.statusText,headers:B(z.getAllResponseHeaders()||"")};j.url.indexOf("file://")===0&&(z.status<200||z.status>599)?K.status=200:K.status=z.status,K.url="responseURL"in z?z.responseURL:K.headers.get("X-Request-URL");var P="response"in z?z.response:z.responseText;setTimeout(function(){I(new O(P,K))},0)},z.onerror=function(){setTimeout(function(){U(new TypeError("Network request failed"))},0)},z.ontimeout=function(){setTimeout(function(){U(new TypeError("Network request timed out"))},0)},z.onabort=function(){setTimeout(function(){U(new o.DOMException("Aborted","AbortError"))},0)};function x(K){try{return K===""&&a.location.href?a.location.href:K}catch{return K}}if(z.open(j.method,x(j.url),!0),j.credentials==="include"?z.withCredentials=!0:j.credentials==="omit"&&(z.withCredentials=!1),"responseType"in z&&(c.blob?z.responseType="blob":c.arrayBuffer&&(z.responseType="arraybuffer")),E&&typeof E.headers=="object"&&!(E.headers instanceof m||a.Headers&&E.headers instanceof a.Headers)){var W=[];Object.getOwnPropertyNames(E.headers).forEach(function(K){W.push(h(K)),z.setRequestHeader(K,g(E.headers[K]))}),j.headers.forEach(function(K,P){W.indexOf(P)===-1&&z.setRequestHeader(P,K)})}else j.headers.forEach(function(K,P){z.setRequestHeader(P,K)});j.signal&&(j.signal.addEventListener("abort",L),z.onreadystatechange=function(){z.readyState===4&&j.signal.removeEventListener("abort",L)}),z.send(typeof j._bodyInit>"u"?null:j._bodyInit)})}return y.polyfill=!0,a.fetch||(a.fetch=y,a.Headers=m,a.Request=C,a.Response=O),o.Headers=m,o.Request=C,o.Response=O,o.fetch=y,Object.defineProperty(o,"__esModule",{value:!0}),o})({})})(n),n.fetch.ponyfill=!0,delete n.fetch.polyfill;var i=r.fetch?r:n;e=i.fetch,e.default=i.fetch,e.fetch=i.fetch,e.Headers=i.Headers,e.Request=i.Request,e.Response=i.Response,t.exports=e})(lv,lv.exports)),lv.exports}var fEe=uEe();const jM=Ws(fEe);var dEe=Object.defineProperty,hEe=Object.defineProperties,pEe=Object.getOwnPropertyDescriptors,WM=Object.getOwnPropertySymbols,gEe=Object.prototype.hasOwnProperty,mEe=Object.prototype.propertyIsEnumerable,qM=(t,e,r)=>e in t?dEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,zM=(t,e)=>{for(var r in e||(e={}))gEe.call(e,r)&&qM(t,r,e[r]);if(WM)for(var r of WM(e))mEe.call(e,r)&&qM(t,r,e[r]);return t},GM=(t,e)=>hEe(t,pEe(e));const yEe={Accept:"application/json","Content-Type":"application/json"},_Ee="POST",KM={headers:yEe,method:_Ee},VM=10;let $l=class{constructor(e,r=!1){if(this.url=e,this.disableProviderPing=r,this.events=new gc.EventEmitter,this.isAvailable=!1,this.registering=!1,!uM(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);this.url=e,this.disableProviderPing=r}get connected(){return this.isAvailable}get connecting(){return this.registering}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}off(e,r){this.events.off(e,r)}removeListener(e,r){this.events.removeListener(e,r)}async open(e=this.url){await this.register(e)}async close(){if(!this.isAvailable)throw new Error("Connection already closed");this.onClose()}async send(e){this.isAvailable||await this.register();try{const r=Kf(e),n=await(await jM(this.url,GM(zM({},KM),{body:r}))).json();this.onPayload({data:n})}catch(r){this.onError(e.id,r)}}async register(e=this.url){if(!uM(e))throw new Error(`Provided URL is not compatible with HTTP connection: ${e}`);if(this.registering){const r=this.events.getMaxListeners();return(this.events.listenerCount("register_error")>=r||this.events.listenerCount("open")>=r)&&this.events.setMaxListeners(r+1),new Promise((n,i)=>{this.events.once("register_error",s=>{this.resetMaxListeners(),i(s)}),this.events.once("open",()=>{if(this.resetMaxListeners(),typeof this.isAvailable>"u")return i(new Error("HTTP connection is missing or invalid"));n()})})}this.url=e,this.registering=!0;try{if(!this.disableProviderPing){const r=Kf({id:1,jsonrpc:"2.0",method:"test",params:[]});await jM(e,GM(zM({},KM),{body:r}))}this.onOpen()}catch(r){const n=this.parseError(r);throw this.events.emit("register_error",n),this.onClose(),n}}onOpen(){this.isAvailable=!0,this.registering=!1,this.events.emit("open")}onClose(){this.isAvailable=!1,this.registering=!1,this.events.emit("close")}onPayload(e){if(typeof e.data>"u")return;const r=typeof e.data=="string"?B0(e.data):e.data;this.events.emit("payload",r)}onError(e,r){const n=this.parseError(r),i=n.message||n.toString(),s=Kx(e,i);this.events.emit("payload",s)}parseError(e,r=this.url){return qq(e,r,"HTTP")}resetMaxListeners(){this.events.getMaxListeners()>VM&&this.events.setMaxListeners(VM)}};const JM="error",bEe="wss://relay.walletconnect.org",wEe="wc",vEe="universal_provider",uv=`${wEe}@2:${vEe}:`,pz="https://rpc.walletconnect.org/v1/",gz="generic",EEe=`${pz}bundler`,yc={DEFAULT_CHAIN_CHANGED:"default_chain_changed"};function i6(t){return t==null||typeof t!="object"&&typeof t!="function"}function mz(t){return Object.getOwnPropertySymbols(t).filter(e=>Object.prototype.propertyIsEnumerable.call(t,e))}function yz(t){return t==null?t===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(t)}const AEe="[object RegExp]",_z="[object String]",bz="[object Number]",wz="[object Boolean]",vz="[object Arguments]",xEe="[object Symbol]",CEe="[object Date]",NEe="[object Map]",SEe="[object Set]",TEe="[object Array]",IEe="[object ArrayBuffer]",REe="[object Object]",PEe="[object DataView]",OEe="[object Uint8Array]",DEe="[object Uint8ClampedArray]",kEe="[object Uint16Array]",MEe="[object Uint32Array]",UEe="[object Int8Array]",LEe="[object Int16Array]",$Ee="[object Int32Array]",FEe="[object Float32Array]",BEe="[object Float64Array]";function s6(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function HEe(t,e){return Pg(t,void 0,t,new Map,e)}function Pg(t,e,r,n=new Map,i=void 0){const s=i?.(t,e,r,n);if(s!=null)return s;if(i6(t))return t;if(n.has(t))return n.get(t);if(Array.isArray(t)){const o=new Array(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Pg(t[a],a,r,n,i);return Object.hasOwn(t,"index")&&(o.index=t.index),Object.hasOwn(t,"input")&&(o.input=t.input),o}if(t instanceof Date)return new Date(t.getTime());if(t instanceof RegExp){const o=new RegExp(t.source,t.flags);return o.lastIndex=t.lastIndex,o}if(t instanceof Map){const o=new Map;n.set(t,o);for(const[a,c]of t)o.set(a,Pg(c,a,r,n,i));return o}if(t instanceof Set){const o=new Set;n.set(t,o);for(const a of t)o.add(Pg(a,void 0,r,n,i));return o}if(typeof Buffer<"u"&&Buffer.isBuffer(t))return t.subarray();if(s6(t)){const o=new(Object.getPrototypeOf(t)).constructor(t.length);n.set(t,o);for(let a=0;a<t.length;a++)o[a]=Pg(t[a],a,r,n,i);return o}if(t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);if(t instanceof DataView){const o=new DataView(t.buffer.slice(0),t.byteOffset,t.byteLength);return n.set(t,o),d0(o,t,r,n,i),o}if(typeof File<"u"&&t instanceof File){const o=new File([t],t.name,{type:t.type});return n.set(t,o),d0(o,t,r,n,i),o}if(t instanceof Blob){const o=new Blob([t],{type:t.type});return n.set(t,o),d0(o,t,r,n,i),o}if(t instanceof Error){const o=new t.constructor;return n.set(t,o),o.message=t.message,o.name=t.name,o.stack=t.stack,o.cause=t.cause,d0(o,t,r,n,i),o}if(typeof t=="object"&&jEe(t)){const o=Object.create(Object.getPrototypeOf(t));return n.set(t,o),d0(o,t,r,n,i),o}return t}function d0(t,e,r=t,n,i){const s=[...Object.keys(e),...mz(e)];for(let o=0;o<s.length;o++){const a=s[o],c=Object.getOwnPropertyDescriptor(t,a);(c==null||c.writable)&&(t[a]=Pg(e[a],a,r,n,i))}}function jEe(t){switch(yz(t)){case vz:case TEe:case IEe:case PEe:case wz:case CEe:case FEe:case BEe:case UEe:case LEe:case $Ee:case NEe:case bz:case REe:case AEe:case SEe:case _z:case xEe:case OEe:case DEe:case kEe:case MEe:return!0;default:return!1}}function WEe(t,e){return HEe(t,(r,n,i,s)=>{if(typeof t=="object")switch(Object.prototype.toString.call(t)){case bz:case _z:case wz:{const o=new t.constructor(t?.valueOf());return d0(o,t),o}case vz:{const o={};return d0(o,t),o.length=t.length,o[Symbol.iterator]=t[Symbol.iterator],o}default:return}})}function YM(t){return WEe(t)}function XM(t){return t!==null&&typeof t=="object"&&yz(t)==="[object Arguments]"}function QM(t){return typeof t=="object"&&t!==null}function qEe(){}function zEe(t){return s6(t)}function GEe(t){if(typeof t!="object"||t==null)return!1;if(Object.getPrototypeOf(t)===null)return!0;if(Object.prototype.toString.call(t)!=="[object Object]"){const r=t[Symbol.toStringTag];return r==null||!Object.getOwnPropertyDescriptor(t,Symbol.toStringTag)?.writable?!1:t.toString()===`[object ${r}]`}let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function KEe(t){if(i6(t))return t;if(Array.isArray(t)||s6(t)||t instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&t instanceof SharedArrayBuffer)return t.slice(0);const e=Object.getPrototypeOf(t),r=e.constructor;if(t instanceof Date||t instanceof Map||t instanceof Set)return new r(t);if(t instanceof RegExp){const n=new r(t);return n.lastIndex=t.lastIndex,n}if(t instanceof DataView)return new r(t.buffer.slice(0));if(t instanceof Error){const n=new r(t.message);return n.stack=t.stack,n.name=t.name,n.cause=t.cause,n}if(typeof File<"u"&&t instanceof File)return new r([t],t.name,{type:t.type,lastModified:t.lastModified});if(typeof t=="object"){const n=Object.create(e);return Object.assign(n,t)}return t}function VEe(t,...e){const r=e.slice(0,-1),n=e[e.length-1];let i=t;for(let s=0;s<r.length;s++){const o=r[s];i=O3(i,o,n,new Map)}return i}function O3(t,e,r,n){if(i6(t)&&(t=Object(t)),e==null||typeof e!="object")return t;if(n.has(e))return KEe(n.get(e));if(n.set(e,t),Array.isArray(e)){e=e.slice();for(let s=0;s<e.length;s++)e[s]=e[s]??void 0}const i=[...Object.keys(e),...mz(e)];for(let s=0;s<i.length;s++){const o=i[s];let a=e[o],c=t[o];if(XM(a)&&(a={...a}),XM(c)&&(c={...c}),typeof Buffer<"u"&&Buffer.isBuffer(a)&&(a=YM(a)),Array.isArray(a))if(typeof c=="object"&&c!=null){const u=[],f=Reflect.ownKeys(c);for(let h=0;h<f.length;h++){const g=f[h];u[g]=c[g]}c=u}else c=[];const l=r(c,a,o,t,e,n);l!=null?t[o]=l:Array.isArray(a)||QM(c)&&QM(a)?t[o]=O3(c,a,r,n):c==null&&GEe(a)?t[o]=O3({},a,r,n):c==null&&zEe(a)?t[o]=YM(a):(c===void 0||a!==void 0)&&(t[o]=a)}return t}function JEe(t,...e){return VEe(t,...e,qEe)}var YEe=Object.defineProperty,XEe=Object.defineProperties,QEe=Object.getOwnPropertyDescriptors,ZM=Object.getOwnPropertySymbols,ZEe=Object.prototype.hasOwnProperty,eAe=Object.prototype.propertyIsEnumerable,eU=(t,e,r)=>e in t?YEe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fv=(t,e)=>{for(var r in e||(e={}))ZEe.call(e,r)&&eU(t,r,e[r]);if(ZM)for(var r of ZM(e))eAe.call(e,r)&&eU(t,r,e[r]);return t},tAe=(t,e)=>XEe(t,QEe(e));function ma(t,e,r){var n;const i=R0(t);return((n=e.rpcMap)==null?void 0:n[i.reference])||`${pz}?chainId=${i.namespace}:${i.reference}&projectId=${r}`}function cp(t){return t.includes(":")?t.split(":")[1]:t}function Ez(t){return t.map(e=>`${e.split(":")[0]}:${e.split(":")[1]}`)}function rAe(t,e){const r=Object.keys(e.namespaces).filter(i=>i.includes(t));if(!r.length)return[];const n=[];return r.forEach(i=>{const s=e.namespaces[i].accounts;n.push(...s)}),n}function tU(t){return Object.fromEntries(Object.entries(t).filter(([e,r])=>{var n,i;return((n=r?.chains)==null?void 0:n.length)&&((i=r?.chains)==null?void 0:i.length)>0}))}function dv(t={},e={}){const r=tU(rU(t)),n=tU(rU(e));return JEe(r,n)}function rU(t){var e,r,n,i,s;const o={};if(!xu(t))return o;for(const[a,c]of Object.entries(t)){const l=Gx(a)?[a]:c.chains,u=c.methods||[],f=c.events||[],h=c.rpcMap||{},g=Rg(a);o[g]=tAe(fv(fv({},o[g]),c),{chains:Au(l,(e=o[g])==null?void 0:e.chains),methods:Au(u,(r=o[g])==null?void 0:r.methods),events:Au(f,(n=o[g])==null?void 0:n.events)}),(xu(h)||xu(((i=o[g])==null?void 0:i.rpcMap)||{}))&&(o[g].rpcMap=fv(fv({},h),(s=o[g])==null?void 0:s.rpcMap))}return o}function nU(t){return t.includes(":")?t.split(":")[2]:t}function iU(t){const e={};for(const[r,n]of Object.entries(t)){const i=n.methods||[],s=n.events||[],o=n.accounts||[],a=Gx(r)?[r]:n.chains?n.chains:Ez(n.accounts);e[r]={chains:a,methods:i,events:s,accounts:o}}return e}function uS(t){return typeof t=="number"?t:t.includes("0x")?parseInt(t,16):(t=t.includes(":")?t.split(":")[1]:t,isNaN(Number(t))?t:Number(t))}const Az={},Er=t=>Az[t],fS=(t,e)=>{Az[t]=e};var nAe=Object.defineProperty,sU=Object.getOwnPropertySymbols,iAe=Object.prototype.hasOwnProperty,sAe=Object.prototype.propertyIsEnumerable,oU=(t,e,r)=>e in t?nAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,aU=(t,e)=>{for(var r in e||(e={}))iAe.call(e,r)&&oU(t,r,e[r]);if(sU)for(var r of sU(e))sAe.call(e,r)&&oU(t,r,e[r]);return t};const cU="eip155",oAe=["atomic","flow-control","paymasterService","sessionKeys","auxiliaryFunds"],aAe=t=>t&&t.startsWith("0x")?BigInt(t).toString(10):t,dS=t=>t&&t.startsWith("0x")?t:`0x${BigInt(t).toString(16)}`,lU=t=>Object.keys(t).filter(e=>oAe.includes(e)).reduce((e,r)=>(e[r]=t[r],e),{}),cAe=(t,e,r)=>{const{sessionProperties:n={},scopedProperties:i={}}=t,s={};if(!xu(i)&&!xu(n))return;const o=lU(n);for(const a of r){const c=aAe(a);if(!c)continue;s[dS(c)]=o;const l=i?.[`${cU}:${c}`];if(l){const u=l?.[`${cU}:${c}:${e}`];s[dS(c)]=aU(aU({},s[dS(c)]),lU(u||l))}}for(const[a,c]of Object.entries(s))Object.keys(c).length===0&&delete s[a];return Object.keys(s).length>0?s:void 0};var lAe=Object.defineProperty,uAe=(t,e,r)=>e in t?lAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,qp=(t,e,r)=>uAe(t,typeof e!="symbol"?e+"":e,r);class fAe{constructor(e){qp(this,"name","polkadot"),qp(this,"client"),qp(this,"httpProviders"),qp(this,"events"),qp(this,"namespace"),qp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=cp(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new mc(new $l(n,Er("disableProviderPing")))}}var dAe=Object.defineProperty,hAe=Object.defineProperties,pAe=Object.getOwnPropertyDescriptors,uU=Object.getOwnPropertySymbols,gAe=Object.prototype.hasOwnProperty,mAe=Object.prototype.propertyIsEnumerable,D3=(t,e,r)=>e in t?dAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,fU=(t,e)=>{for(var r in e||(e={}))gAe.call(e,r)&&D3(t,r,e[r]);if(uU)for(var r of uU(e))mAe.call(e,r)&&D3(t,r,e[r]);return t},dU=(t,e)=>hAe(t,pAe(e)),zp=(t,e,r)=>D3(t,typeof e!="symbol"?e+"":e,r);class yAe{constructor(e){zp(this,"name","eip155"),zp(this,"client"),zp(this,"chainId"),zp(this,"namespace"),zp(this,"httpProviders"),zp(this,"events"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.httpProviders=this.createHttpProviders(),this.chainId=parseInt(this.getDefaultChain())}async request(e){switch(e.request.method){case"eth_requestAccounts":return this.getAccounts();case"eth_accounts":return this.getAccounts();case"wallet_switchEthereumChain":return await this.handleSwitchChain(e);case"eth_chainId":return parseInt(this.getDefaultChain());case"wallet_getCapabilities":return await this.getCapabilities(e);case"wallet_getCallsStatus":return await this.getCallStatus(e)}return this.namespace.methods.includes(e.request.method)?await this.client.request(e):this.getHttpProvider().request(e.request)}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(parseInt(e),r),this.chainId=parseInt(e),this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId.toString();if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}createHttpProvider(e,r){const n=r||ma(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new mc(new $l(n,Er("disableProviderPing")))}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=parseInt(cp(r));e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}getHttpProvider(){const e=this.chainId,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}async handleSwitchChain(e){var r,n;let i=e.request.params?(r=e.request.params[0])==null?void 0:r.chainId:"0x0";i=i.startsWith("0x")?i:`0x${i}`;const s=parseInt(i,16);if(this.isChainApproved(s))this.setDefaultChain(`${s}`);else if(this.namespace.methods.includes("wallet_switchEthereumChain"))await this.client.request({topic:e.topic,request:{method:e.request.method,params:[{chainId:i}]},chainId:(n=this.namespace.chains)==null?void 0:n[0]}),this.setDefaultChain(`${s}`);else throw new Error(`Failed to switch to chain 'eip155:${s}'. The chain is not approved or the wallet does not support 'wallet_switchEthereumChain' method.`);return null}isChainApproved(e){return this.namespace.chains.includes(`${this.name}:${e}`)}async getCapabilities(e){var r,n,i,s,o;const a=(n=(r=e.request)==null?void 0:r.params)==null?void 0:n[0],c=((s=(i=e.request)==null?void 0:i.params)==null?void 0:s[1])||[];if(!a)throw new Error("Missing address parameter in `wallet_getCapabilities` request");const l=this.client.session.get(e.topic),u=((o=l?.sessionProperties)==null?void 0:o.capabilities)||{},f=`${a}${c.join(",")}`,h=u?.[f];if(h)return h;let g;try{g=cAe(l,a,c)}catch(m){console.warn("Failed to extract capabilities from session",m)}if(g)return g;const _=await this.client.request(e);try{await this.client.session.update(e.topic,{sessionProperties:dU(fU({},l.sessionProperties||{}),{capabilities:dU(fU({},u||{}),{[f]:_})})})}catch(m){console.warn("Failed to update session with capabilities",m)}return _}async getCallStatus(e){var r,n;const i=this.client.session.get(e.topic),s=(r=i.sessionProperties)==null?void 0:r.bundler_name;if(s){const a=this.getBundlerUrl(e.chainId,s);try{return await this.getUserOperationReceipt(a,e)}catch(c){console.warn("Failed to fetch call status from bundler",c,a)}}const o=(n=i.sessionProperties)==null?void 0:n.bundler_url;if(o)try{return await this.getUserOperationReceipt(o,e)}catch(a){console.warn("Failed to fetch call status from custom bundler",a,o)}if(this.namespace.methods.includes(e.request.method))return await this.client.request(e);throw new Error("Fetching call status not approved by the wallet.")}async getUserOperationReceipt(e,r){var n;const i=new URL(e),s=await fetch(i,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(du("eth_getUserOperationReceipt",[(n=r.request.params)==null?void 0:n[0]]))});if(!s.ok)throw new Error(`Failed to fetch user operation receipt - ${s.status}`);return await s.json()}getBundlerUrl(e,r){return`${EEe}?projectId=${this.client.core.projectId}&chainId=${e}&bundler=${r}`}}var _Ae=Object.defineProperty,bAe=(t,e,r)=>e in t?_Ae(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Gp=(t,e,r)=>bAe(t,typeof e!="symbol"?e+"":e,r);class wAe{constructor(e){Gp(this,"name","solana"),Gp(this,"client"),Gp(this,"httpProviders"),Gp(this,"events"),Gp(this,"namespace"),Gp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=cp(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new mc(new $l(n,Er("disableProviderPing")))}}var vAe=Object.defineProperty,EAe=(t,e,r)=>e in t?vAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Kp=(t,e,r)=>EAe(t,typeof e!="symbol"?e+"":e,r);class AAe{constructor(e){Kp(this,"name","cosmos"),Kp(this,"client"),Kp(this,"httpProviders"),Kp(this,"events"),Kp(this,"namespace"),Kp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=cp(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new mc(new $l(n,Er("disableProviderPing")))}}var xAe=Object.defineProperty,CAe=(t,e,r)=>e in t?xAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Vp=(t,e,r)=>CAe(t,typeof e!="symbol"?e+"":e,r);class NAe{constructor(e){Vp(this,"name","algorand"),Vp(this,"client"),Vp(this,"httpProviders"),Vp(this,"events"),Vp(this,"namespace"),Vp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(!this.httpProviders[e]){const n=r||ma(`${this.name}:${e}`,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.chainId=e,this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace,this.client.core.projectId);return typeof n>"u"?void 0:new mc(new $l(n,Er("disableProviderPing")))}}var SAe=Object.defineProperty,TAe=(t,e,r)=>e in t?SAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Jp=(t,e,r)=>TAe(t,typeof e!="symbol"?e+"":e,r);class IAe{constructor(e){Jp(this,"name","cip34"),Jp(this,"client"),Jp(this,"httpProviders"),Jp(this,"events"),Jp(this,"namespace"),Jp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{const n=this.getCardanoRPCUrl(r),i=cp(r);e[i]=this.createHttpProvider(i,n)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}getCardanoRPCUrl(e){const r=this.namespace.rpcMap;if(r)return r[e]}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||this.getCardanoRPCUrl(e);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new mc(new $l(n,Er("disableProviderPing")))}}var RAe=Object.defineProperty,PAe=(t,e,r)=>e in t?RAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Yp=(t,e,r)=>PAe(t,typeof e!="symbol"?e+"":e,r);class OAe{constructor(e){Yp(this,"name","elrond"),Yp(this,"client"),Yp(this,"httpProviders"),Yp(this,"events"),Yp(this,"namespace"),Yp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=cp(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new mc(new $l(n,Er("disableProviderPing")))}}var DAe=Object.defineProperty,kAe=(t,e,r)=>e in t?DAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Xp=(t,e,r)=>kAe(t,typeof e!="symbol"?e+"":e,r);class MAe{constructor(e){Xp(this,"name","multiversx"),Xp(this,"client"),Xp(this,"httpProviders"),Xp(this,"events"),Xp(this,"namespace"),Xp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;const i=cp(r);e[i]=this.createHttpProvider(i,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new mc(new $l(n,Er("disableProviderPing")))}}var UAe=Object.defineProperty,LAe=(t,e,r)=>e in t?UAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Qp=(t,e,r)=>LAe(t,typeof e!="symbol"?e+"":e,r);class $Ae{constructor(e){Qp(this,"name","near"),Qp(this,"client"),Qp(this,"httpProviders"),Qp(this,"events"),Qp(this,"namespace"),Qp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||ma(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{var n;e[r]=this.createHttpProvider(r,(n=this.namespace.rpcMap)==null?void 0:n[r])}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace);return typeof n>"u"?void 0:new mc(new $l(n,Er("disableProviderPing")))}}var FAe=Object.defineProperty,BAe=(t,e,r)=>e in t?FAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,Zp=(t,e,r)=>BAe(t,typeof e!="symbol"?e+"":e,r);class HAe{constructor(e){Zp(this,"name","tezos"),Zp(this,"client"),Zp(this,"httpProviders"),Zp(this,"events"),Zp(this,"namespace"),Zp(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace=Object.assign(this.namespace,e)}requestAccounts(){return this.getAccounts()}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider().request(e.request)}setDefaultChain(e,r){if(this.chainId=e,!this.httpProviders[e]){const n=r||ma(`${this.name}:${e}`,this.namespace);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);this.setHttpProvider(e,n)}this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${this.chainId}`)}getAccounts(){const e=this.namespace.accounts;return e?e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2])||[]:[]}createHttpProviders(){const e={};return this.namespace.chains.forEach(r=>{e[r]=this.createHttpProvider(r)}),e}getHttpProvider(){const e=`${this.name}:${this.chainId}`,r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace);return typeof n>"u"?void 0:new mc(new $l(n))}}var jAe=Object.defineProperty,WAe=(t,e,r)=>e in t?jAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,eg=(t,e,r)=>WAe(t,typeof e!="symbol"?e+"":e,r);class qAe{constructor(e){eg(this,"name",gz),eg(this,"client"),eg(this,"httpProviders"),eg(this,"events"),eg(this,"namespace"),eg(this,"chainId"),this.namespace=e.namespace,this.events=Er("events"),this.client=Er("client"),this.chainId=this.getDefaultChain(),this.name=this.getNamespaceName(),this.httpProviders=this.createHttpProviders()}updateNamespace(e){this.namespace.chains=[...new Set((this.namespace.chains||[]).concat(e.chains||[]))],this.namespace.accounts=[...new Set((this.namespace.accounts||[]).concat(e.accounts||[]))],this.namespace.methods=[...new Set((this.namespace.methods||[]).concat(e.methods||[]))],this.namespace.events=[...new Set((this.namespace.events||[]).concat(e.events||[]))],this.httpProviders=this.createHttpProviders()}requestAccounts(){return this.getAccounts()}request(e){return this.namespace.methods.includes(e.request.method)?this.client.request(e):this.getHttpProvider(e.chainId).request(e.request)}setDefaultChain(e,r){this.httpProviders[e]||this.setHttpProvider(e,r),this.chainId=e,this.events.emit(yc.DEFAULT_CHAIN_CHANGED,`${this.name}:${e}`)}getDefaultChain(){if(this.chainId)return this.chainId;if(this.namespace.defaultChain)return this.namespace.defaultChain;const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return e.split(":")[1]}getNamespaceName(){const e=this.namespace.chains[0];if(!e)throw new Error("ChainId not found");return R0(e).namespace}getAccounts(){const e=this.namespace.accounts;return e?[...new Set(e.filter(r=>r.split(":")[1]===this.chainId.toString()).map(r=>r.split(":")[2]))]:[]}createHttpProviders(){var e,r;const n={};return(r=(e=this.namespace)==null?void 0:e.accounts)==null||r.forEach(i=>{const s=R0(i);n[s.reference]=this.createHttpProvider(i)}),n}getHttpProvider(e){const r=this.httpProviders[e];if(typeof r>"u")throw new Error(`JSON-RPC provider for ${e} not found`);return r}setHttpProvider(e,r){const n=this.createHttpProvider(e,r);n&&(this.httpProviders[e]=n)}createHttpProvider(e,r){const n=r||ma(e,this.namespace,this.client.core.projectId);if(!n)throw new Error(`No RPC url provided for chainId: ${e}`);return new mc(new $l(n,Er("disableProviderPing")))}}var zAe=Object.defineProperty,GAe=Object.defineProperties,KAe=Object.getOwnPropertyDescriptors,hU=Object.getOwnPropertySymbols,VAe=Object.prototype.hasOwnProperty,JAe=Object.prototype.propertyIsEnumerable,k3=(t,e,r)=>e in t?zAe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r,hv=(t,e)=>{for(var r in e||(e={}))VAe.call(e,r)&&k3(t,r,e[r]);if(hU)for(var r of hU(e))JAe.call(e,r)&&k3(t,r,e[r]);return t},hS=(t,e)=>GAe(t,KAe(e)),Ua=(t,e,r)=>k3(t,typeof e!="symbol"?e+"":e,r);let YAe=class xz{constructor(e){Ua(this,"client"),Ua(this,"namespaces"),Ua(this,"optionalNamespaces"),Ua(this,"sessionProperties"),Ua(this,"scopedProperties"),Ua(this,"events",new TP),Ua(this,"rpcProviders",{}),Ua(this,"session"),Ua(this,"providerOpts"),Ua(this,"logger"),Ua(this,"uri"),Ua(this,"disableProviderPing",!1),this.providerOpts=e,this.logger=typeof e?.logger<"u"&&typeof e?.logger!="string"?e.logger:T1(Em({level:e?.logger||JM})),this.disableProviderPing=e?.disableProviderPing||!1}static async init(e){const r=new xz(e);return await r.initialize(),r}async request(e,r,n){const[i,s]=this.validateChain(r);if(!this.session)throw new Error("Please call connect() before request()");return await this.getProvider(i).request({request:hv({},e),chainId:`${i}:${s}`,topic:this.session.topic,expiry:n})}sendAsync(e,r,n,i){const s=new Date().getTime();this.request(e,n,i).then(o=>r(null,Sb(s,o))).catch(o=>r(o,void 0))}async enable(){if(!this.client)throw new Error("Sign Client not initialized");return this.session||await this.connect({namespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties}),await this.requestAccounts()}async disconnect(){var e;if(!this.session)throw new Error("Please call connect() before enable()");await this.client.disconnect({topic:(e=this.session)==null?void 0:e.topic,reason:Nn("USER_DISCONNECTED")}),await this.cleanup()}async connect(e){if(!this.client)throw new Error("Sign Client not initialized");if(this.setNamespaces(e),this.cleanupPendingPairings(),!e.skipPairing)return await this.pair(e.pairingTopic)}async authenticate(e,r){if(!this.client)throw new Error("Sign Client not initialized");this.setNamespaces(e),await this.cleanupPendingPairings();const{uri:n,response:i}=await this.client.authenticate(e,r);n&&(this.uri=n,this.events.emit("display_uri",n));const s=await i();if(this.session=s.session,this.session){const o=iU(this.session.namespaces);this.namespaces=dv(this.namespaces,o),await this.persist("namespaces",this.namespaces),this.onConnect()}return s}on(e,r){this.events.on(e,r)}once(e,r){this.events.once(e,r)}removeListener(e,r){this.events.removeListener(e,r)}off(e,r){this.events.off(e,r)}get isWalletConnect(){return!0}async pair(e){const{uri:r,approval:n}=await this.client.connect({pairingTopic:e,requiredNamespaces:this.namespaces,optionalNamespaces:this.optionalNamespaces,sessionProperties:this.sessionProperties,scopedProperties:this.scopedProperties});r&&(this.uri=r,this.events.emit("display_uri",r));const i=await n();this.session=i;const s=iU(i.namespaces);return this.namespaces=dv(this.namespaces,s),await this.persist("namespaces",this.namespaces),await this.persist("optionalNamespaces",this.optionalNamespaces),this.onConnect(),this.session}setDefaultChain(e,r){try{if(!this.session)return;const[n,i]=this.validateChain(e);this.getProvider(n).setDefaultChain(i,r)}catch(n){if(!/Please call connect/.test(n.message))throw n}}async cleanupPendingPairings(e={}){try{this.logger.info("Cleaning up inactive pairings...");const r=this.client.pairing.getAll();if(!Ff(r))return;for(const n of r)e.deletePairings?this.client.core.expirer.set(n.topic,0):await this.client.core.relayer.subscriber.unsubscribe(n.topic);this.logger.info(`Inactive pairings cleared: ${r.length}`)}catch(r){this.logger.warn("Failed to cleanup pending pairings",r)}}abortPairingAttempt(){this.logger.warn("abortPairingAttempt is deprecated. This is now a no-op.")}async checkStorage(){this.namespaces=await this.getFromStore("namespaces")||{},this.optionalNamespaces=await this.getFromStore("optionalNamespaces")||{},this.session&&this.createProviders()}async initialize(){this.logger.trace("Initialized"),await this.createClient(),await this.checkStorage(),this.registerEventListeners()}async createClient(){var e,r;if(this.client=this.providerOpts.client||await lEe.init({core:this.providerOpts.core,logger:this.providerOpts.logger||JM,relayUrl:this.providerOpts.relayUrl||bEe,projectId:this.providerOpts.projectId,metadata:this.providerOpts.metadata,storageOptions:this.providerOpts.storageOptions,storage:this.providerOpts.storage,name:this.providerOpts.name,customStoragePrefix:this.providerOpts.customStoragePrefix,telemetryEnabled:this.providerOpts.telemetryEnabled}),this.providerOpts.session)try{this.session=this.client.session.get(this.providerOpts.session.topic)}catch(n){throw this.logger.error("Failed to get session",n),new Error(`The provided session: ${(r=(e=this.providerOpts)==null?void 0:e.session)==null?void 0:r.topic} doesn't exist in the Sign client`)}else{const n=this.client.session.getAll();this.session=n[0]}this.logger.trace("SignClient Initialized")}createProviders(){if(!this.client)throw new Error("Sign Client not initialized");if(!this.session)throw new Error("Session not initialized. Please call connect() before enable()");const e=[...new Set(Object.keys(this.session.namespaces).map(r=>Rg(r)))];fS("client",this.client),fS("events",this.events),fS("disableProviderPing",this.disableProviderPing),e.forEach(r=>{if(!this.session)return;const n=rAe(r,this.session);if(n?.length===0)return;const i=Ez(n),s=dv(this.namespaces,this.optionalNamespaces),o=hS(hv({},s[r]),{accounts:n,chains:i});switch(r){case"eip155":this.rpcProviders[r]=new yAe({namespace:o});break;case"algorand":this.rpcProviders[r]=new NAe({namespace:o});break;case"solana":this.rpcProviders[r]=new wAe({namespace:o});break;case"cosmos":this.rpcProviders[r]=new AAe({namespace:o});break;case"polkadot":this.rpcProviders[r]=new fAe({namespace:o});break;case"cip34":this.rpcProviders[r]=new IAe({namespace:o});break;case"elrond":this.rpcProviders[r]=new OAe({namespace:o});break;case"multiversx":this.rpcProviders[r]=new MAe({namespace:o});break;case"near":this.rpcProviders[r]=new $Ae({namespace:o});break;case"tezos":this.rpcProviders[r]=new HAe({namespace:o});break;default:this.rpcProviders[r]=new qAe({namespace:o})}})}registerEventListeners(){if(typeof this.client>"u")throw new Error("Sign Client is not initialized");this.client.on("session_ping",e=>{var r;const{topic:n}=e;n===((r=this.session)==null?void 0:r.topic)&&this.events.emit("session_ping",e)}),this.client.on("session_event",e=>{var r;const{params:n,topic:i}=e;if(i!==((r=this.session)==null?void 0:r.topic))return;const{event:s}=n;if(s.name==="accountsChanged"){const o=s.data;o&&Ff(o)&&this.events.emit("accountsChanged",o.map(nU))}else if(s.name==="chainChanged"){const o=n.chainId,a=n.event.data,c=Rg(o),l=uS(o)!==uS(a)?`${c}:${uS(a)}`:o;this.onChainChanged(l)}else this.events.emit(s.name,s.data);this.events.emit("session_event",e)}),this.client.on("session_update",({topic:e,params:r})=>{var n,i;if(e!==((n=this.session)==null?void 0:n.topic))return;const{namespaces:s}=r,o=(i=this.client)==null?void 0:i.session.get(e);this.session=hS(hv({},o),{namespaces:s}),this.onSessionUpdate(),this.events.emit("session_update",{topic:e,params:r})}),this.client.on("session_delete",async e=>{var r;e.topic===((r=this.session)==null?void 0:r.topic)&&(await this.cleanup(),this.events.emit("session_delete",e),this.events.emit("disconnect",hS(hv({},Nn("USER_DISCONNECTED")),{data:e.topic})))}),this.on(yc.DEFAULT_CHAIN_CHANGED,e=>{this.onChainChanged(e,!0)})}getProvider(e){return this.rpcProviders[e]||this.rpcProviders[gz]}onSessionUpdate(){Object.keys(this.rpcProviders).forEach(e=>{var r;this.getProvider(e).updateNamespace((r=this.session)==null?void 0:r.namespaces[e])})}setNamespaces(e){const{namespaces:r={},optionalNamespaces:n={},sessionProperties:i,scopedProperties:s}=e;this.optionalNamespaces=dv(r,n),this.sessionProperties=i,this.scopedProperties=s}validateChain(e){const[r,n]=e?.split(":")||["",""];if(!this.namespaces||!Object.keys(this.namespaces).length)return[r,n];if(r&&!Object.keys(this.namespaces||{}).map(o=>Rg(o)).includes(r))throw new Error(`Namespace '${r}' is not configured. Please call connect() first with namespace config.`);if(r&&n)return[r,n];const i=Rg(Object.keys(this.namespaces)[0]),s=this.rpcProviders[i].getDefaultChain();return[i,s]}async requestAccounts(){const[e]=this.validateChain();return await this.getProvider(e).requestAccounts()}async onChainChanged(e,r=!1){if(!this.namespaces)return;const[n,i]=this.validateChain(e);if(!i)return;this.updateNamespaceChain(n,i);const s=this.getProvider(n).getDefaultChain();r?(this.events.emit("chainChanged",i),this.emitAccountsChangedOnChainChange({namespace:n,previousChainId:s,newChainId:e})):this.getProvider(n).setDefaultChain(i),await this.persist("namespaces",this.namespaces)}emitAccountsChangedOnChainChange({namespace:e,previousChainId:r,newChainId:n}){var i,s;try{if(r===n)return;const o=(s=(i=this.session)==null?void 0:i.namespaces[e])==null?void 0:s.accounts;if(!o)return;const a=o.filter(c=>c.includes(`${n}:`)).map(nU);if(!Ff(a))return;this.events.emit("accountsChanged",a)}catch(o){this.logger.warn("Failed to emit accountsChanged on chain change",o)}}updateNamespaceChain(e,r){if(!this.namespaces)return;const n=this.namespaces[e]?e:`${e}:${r}`,i={chains:[],methods:[],events:[],defaultChain:r};this.namespaces[n]?this.namespaces[n]&&(this.namespaces[n].defaultChain=r):this.namespaces[n]=i}onConnect(){this.createProviders(),this.events.emit("connect",{session:this.session})}async cleanup(){this.namespaces=void 0,this.optionalNamespaces=void 0,this.sessionProperties=void 0,await this.deleteFromStore("namespaces"),await this.deleteFromStore("optionalNamespaces"),await this.deleteFromStore("sessionProperties"),this.session=void 0,this.cleanupPendingPairings({deletePairings:!0}),await this.cleanupStorage()}async persist(e,r){var n;const i=((n=this.session)==null?void 0:n.topic)||"";await this.client.core.storage.setItem(`${uv}/${e}${i}`,r)}async getFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";return await this.client.core.storage.getItem(`${uv}/${e}${n}`)}async deleteFromStore(e){var r;const n=((r=this.session)==null?void 0:r.topic)||"";await this.client.core.storage.removeItem(`${uv}/${e}${n}`)}async cleanupStorage(){var e;try{if(((e=this.client)==null?void 0:e.session.length)>0)return;const r=await this.client.core.storage.getKeys();for(const n of r)n.startsWith(uv)&&await this.client.core.storage.removeItem(n)}catch(r){this.logger.warn("Failed to cleanup storage",r)}}},Xh=null;const ca={getSIWX(){return Te.state.siwx},async initializeIfEnabled(t=se.getActiveCaipAddress()){const e=Te.state.siwx;if(!(e&&t))return;const[r,n,i]=t.split(":");if(se.checkIfSupportedNetwork(r,`${r}:${n}`))try{if(Te.state.remoteFeatures?.emailCapture){const o=se.getAccountData(r)?.user;await nr.open({view:"DataCapture",data:{email:o?.email??void 0}});return}if(Xh&&await Xh,(await e.getSessions(`${r}:${n}`,i)).length)return;await nr.open({view:"SIWXSignMessage"})}catch(s){console.error("SIWXUtil:initializeIfEnabled",s),fr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:this.getSIWXEventProperties()}),await We._getClient()?.disconnect().catch(console.error),yt.reset("Connect"),mu.showError("A problem occurred while trying initialize authentication")}},async requestSignMessage(){const t=Te.state.siwx,e=Ye.getPlainAddress(se.getActiveCaipAddress()),r=Qy(),n=We._getClient();if(!t)throw new Error("SIWX is not enabled");if(!e)throw new Error("No ActiveCaipAddress found");if(!r)throw new Error("No ActiveCaipNetwork or client found");if(!n)throw new Error("No ConnectionController client found");try{const i=await t.createMessage({chainId:r.caipNetworkId,accountAddress:e}),s=i.toString();Be.getConnectorId(r.chainNamespace)===we.CONNECTOR_ID.AUTH&&yt.pushTransactionStack({});const a=await n.signMessage(s);await t.addSession({data:i,message:s,signature:a}),se.setLastConnectedSIWECaipNetwork(r),nr.close(),fr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:this.getSIWXEventProperties()})}catch(i){const s=this.getSIWXEventProperties();(!nr.state.open||yt.state.view==="ApproveTransaction")&&await nr.open({view:"SIWXSignMessage"}),mu.showError("Error signing message"),fr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:s}),console.error("SWIXUtil:requestSignMessage",i)}},async cancelSignMessage(){try{const t=this.getSIWX();if(t?.getRequired?.()){const r=se.getLastConnectedSIWECaipNetwork();if(r){const n=await t?.getSessions(r?.caipNetworkId,Ye.getPlainAddress(se.getActiveCaipAddress())||"");n&&n.length>0?await se.switchActiveNetwork(r):await We.disconnect()}else await We.disconnect()}else nr.close();nr.close(),fr.sendEvent({event:"CLICK_CANCEL_SIWX",type:"track",properties:this.getSIWXEventProperties()})}catch(t){console.error("SIWXUtil:cancelSignMessage",t)}},async getAllSessions(){const t=this.getSIWX(),e=se.getAllRequestedCaipNetworks(),r=[];return await Promise.all(e.map(async n=>{const i=await t?.getSessions(n.caipNetworkId,Ye.getPlainAddress(se.getActiveCaipAddress())||"");i&&r.push(...i)})),r},async getSessions(t){const e=Te.state.siwx;let r=t?.address;if(!r){const i=se.getActiveCaipAddress();r=Ye.getPlainAddress(i)}let n=t?.caipNetworkId;return n||(n=se.getActiveCaipNetwork()?.caipNetworkId),e&&r&&n?e.getSessions(n,r):[]},async isSIWXCloseDisabled(){const t=this.getSIWX();if(t){const e=yt.state.view==="ApproveTransaction",r=yt.state.view==="SIWXSignMessage";if(e||r)return t.getRequired?.()&&(await this.getSessions()).length===0}return!1},async authConnectorAuthenticate({authConnector:t,chainId:e,socialUri:r,preferredAccountType:n,chainNamespace:i}){const s=ca.getSIWX(),o=Qy();if(!s||!i.includes(we.CHAIN.EVM)||Te.state.remoteFeatures?.emailCapture){const f=await t.connect({chainId:e,socialUri:r,preferredAccountType:n});return{address:f.address,chainId:f.chainId,accounts:f.accounts}}const a=`${i}:${e}`,c=await s.createMessage({chainId:a,accountAddress:"<<AccountAddress>>"}),l={accountAddress:c.accountAddress,chainId:c.chainId,domain:c.domain,uri:c.uri,version:c.version,nonce:c.nonce,notBefore:c.notBefore,statement:c.statement,resources:c.resources,requestId:c.requestId,issuedAt:c.issuedAt,expirationTime:c.expirationTime,serializedMessage:c.toString()},u=await t.connect({chainId:e,socialUri:r,siwxMessage:l,preferredAccountType:n});return l.accountAddress=u.address,l.serializedMessage=u.message||"",u.signature&&u.message&&await ca.addEmbeddedWalletSession(l,u.message,u.signature),se.setLastConnectedSIWECaipNetwork(o),{address:u.address,chainId:u.chainId,accounts:u.accounts}},async addEmbeddedWalletSession(t,e,r){if(Xh)return Xh;const n=ca.getSIWX();return n?(Xh=n.addSession({data:t,message:e,signature:r}).finally(()=>{Xh=null}),Xh):Promise.resolve()},async universalProviderAuthenticate({universalProvider:t,chains:e,methods:r}){const n=ca.getSIWX(),i=Qy(),s=new Set(e.map(c=>c.split(":")[0]));if(!n||s.size!==1||!s.has("eip155"))return!1;const o=await n.createMessage({chainId:Qy()?.caipNetworkId||"",accountAddress:""}),a=await t.authenticate({nonce:o.nonce,domain:o.domain,uri:o.uri,exp:o.expirationTime,iat:o.issuedAt,nbf:o.notBefore,requestId:o.requestId,version:o.version,resources:o.resources,statement:o.statement,chainId:o.chainId,methods:r,chains:[o.chainId,...e.filter(c=>c!==o.chainId)]});if(mu.showLoading("Authenticating...",{autoClose:!1}),tt.setConnectedWalletInfo({...a.session.peer.metadata,name:a.session.peer.metadata.name,icon:a.session.peer.metadata.icons?.[0],type:"WALLET_CONNECT"},Array.from(s)[0]),a?.auths?.length){const c=a.auths.map(l=>{const u=t.client.formatAuthMessage({request:l.p,iss:l.p.iss});return{data:{...l.p,accountAddress:l.p.iss.split(":").slice(-1).join(""),chainId:l.p.iss.split(":").slice(2,4).join(":"),uri:l.p.aud,version:l.p.version||o.version,expirationTime:l.p.exp,issuedAt:l.p.iat,notBefore:l.p.nbf},message:u,signature:l.s.s,cacao:l}});try{await n.setSessions(c),i&&se.setLastConnectedSIWECaipNetwork(i),fr.sendEvent({type:"track",event:"SIWX_AUTH_SUCCESS",properties:ca.getSIWXEventProperties()})}catch(l){throw console.error("SIWX:universalProviderAuth - failed to set sessions",l),fr.sendEvent({type:"track",event:"SIWX_AUTH_ERROR",properties:ca.getSIWXEventProperties()}),await t.disconnect().catch(console.error),l}finally{mu.hide()}}return!0},getSIWXEventProperties(){const t=se.state.activeChain;if(!t)throw new Error("SIWXUtil:getSIWXEventProperties - namespace is required");return{network:se.state.activeCaipNetwork?.caipNetworkId||"",isSmartAccount:jo(t)===Li.ACCOUNT_TYPES.SMART_ACCOUNT}},async clearSessions(){const t=this.getSIWX();t&&await t.setSessions([])}},cr={METMASK_CONNECTOR_NAME:"MetaMask",TRUST_CONNECTOR_NAME:"Trust Wallet",SOLFLARE_CONNECTOR_NAME:"Solflare",PHANTOM_CONNECTOR_NAME:"Phantom",COIN98_CONNECTOR_NAME:"Coin98",MAGIC_EDEN_CONNECTOR_NAME:"Magic Eden",BACKPACK_CONNECTOR_NAME:"Backpack",BITGET_CONNECTOR_NAME:"Bitget Wallet",FRONTIER_CONNECTOR_NAME:"Frontier",XVERSE_CONNECTOR_NAME:"Xverse Wallet",LEATHER_CONNECTOR_NAME:"Leather",OKX_CONNECTOR_NAME:"OKX Wallet",EIP155:we.CHAIN.EVM,ADD_CHAIN_METHOD:"wallet_addEthereumChain",EIP6963_ANNOUNCE_EVENT:"eip6963:announceProvider",EIP6963_REQUEST_EVENT:"eip6963:requestProvider",CONNECTOR_RDNS_MAP:{coinbaseWallet:"com.coinbase.wallet",coinbaseWalletSDK:"com.coinbase.wallet"},CONNECTOR_TYPE_EXTERNAL:"EXTERNAL",CONNECTOR_TYPE_WALLET_CONNECT:"WALLET_CONNECT",CONNECTOR_TYPE_INJECTED:"INJECTED",CONNECTOR_TYPE_ANNOUNCED:"ANNOUNCED",CONNECTOR_TYPE_AUTH:"AUTH",CONNECTOR_TYPE_MULTI_CHAIN:"MULTI_CHAIN",CONNECTOR_TYPE_W3M_AUTH:"ID_AUTH"},pu={ConnectorExplorerIds:{[we.CONNECTOR_ID.COINBASE]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[we.CONNECTOR_ID.COINBASE_SDK]:"fd20dc426fb37566d803205b19bbc1d4096b248ac04548e3cfb6b3a38bd033aa",[we.CONNECTOR_ID.SAFE]:"225affb176778569276e484e1b92637ad061b01e13a048b35a9d280c3b58970f",[we.CONNECTOR_ID.LEDGER]:"19177a98252e07ddfc9af2083ba8e07ef627cb6103467ffebb3f8f4205fd7927",[we.CONNECTOR_ID.OKX]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709",[cr.METMASK_CONNECTOR_NAME]:"c57ca95b47569778a828d19178114f4db188b89b763c899ba0be274e97267d96",[cr.TRUST_CONNECTOR_NAME]:"4622a2b2d6af1c9844944291e5e7351a6aa24cd7b23099efac1b2fd875da31a0",[cr.SOLFLARE_CONNECTOR_NAME]:"1ca0bdd4747578705b1939af023d120677c64fe6ca76add81fda36e350605e79",[cr.PHANTOM_CONNECTOR_NAME]:"a797aa35c0fadbfc1a53e7f675162ed5226968b44a19ee3d24385c64d1d3c393",[cr.COIN98_CONNECTOR_NAME]:"2a3c89040ac3b723a1972a33a125b1db11e258a6975d3a61252cd64e6ea5ea01",[cr.MAGIC_EDEN_CONNECTOR_NAME]:"8b830a2b724a9c3fbab63af6f55ed29c9dfa8a55e732dc88c80a196a2ba136c6",[cr.BACKPACK_CONNECTOR_NAME]:"2bd8c14e035c2d48f184aaa168559e86b0e3433228d3c4075900a221785019b0",[cr.BITGET_CONNECTOR_NAME]:"38f5d18bd8522c244bdd70cb4a68e0e718865155811c043f052fb9f1c51de662",[cr.FRONTIER_CONNECTOR_NAME]:"85db431492aa2e8672e93f4ea7acf10c88b97b867b0d373107af63dc4880f041",[cr.XVERSE_CONNECTOR_NAME]:"2a87d74ae02e10bdd1f51f7ce6c4e1cc53cd5f2c0b6b5ad0d7b3007d2b13de7b",[cr.LEATHER_CONNECTOR_NAME]:"483afe1df1df63daf313109971ff3ef8356ddf1cc4e45877d205eee0b7893a13",[cr.OKX_CONNECTOR_NAME]:"971e689d0a5be527bac79629b4ee9b925e82208e5168b733496a09c0faed0709"},NetworkImageIds:{1:"ba0ba0cd-17c6-4806-ad93-f9d174f17900",42161:"3bff954d-5cb0-47a0-9a23-d20192e74600",43114:"30c46e53-e989-45fb-4549-be3bd4eb3b00",56:"93564157-2e8e-4ce7-81df-b264dbee9b00",250:"06b26297-fe0c-4733-5d6b-ffa5498aac00",10:"ab9c186a-c52f-464b-2906-ca59d760a400",137:"41d04d42-da3b-4453-8506-668cc0727900",5e3:"e86fae9b-b770-4eea-e520-150e12c81100",295:"6a97d510-cac8-4e58-c7ce-e8681b044c00",11155111:"e909ea0a-f92a-4512-c8fc-748044ea6800",84532:"a18a7ecd-e307-4360-4746-283182228e00",1301:"4eeea7ef-0014-4649-5d1d-07271a80f600",130:"2257980a-3463-48c6-cbac-a42d2a956e00",10143:"0a728e83-bacb-46db-7844-948f05434900",100:"02b53f6a-e3d4-479e-1cb4-21178987d100",9001:"f926ff41-260d-4028-635e-91913fc28e00",324:"b310f07f-4ef7-49f3-7073-2a0a39685800",314:"5a73b3dd-af74-424e-cae0-0de859ee9400",4689:"34e68754-e536-40da-c153-6ef2e7188a00",1088:"3897a66d-40b9-4833-162f-a2c90531c900",1284:"161038da-44ae-4ec7-1208-0ea569454b00",1285:"f1d73bb6-5450-4e18-38f7-fb6484264a00",7777777:"845c60df-d429-4991-e687-91ae45791600",42220:"ab781bbc-ccc6-418d-d32d-789b15da1f00",8453:"7289c336-3981-4081-c5f4-efc26ac64a00",1313161554:"3ff73439-a619-4894-9262-4470c773a100",2020:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",2021:"b8101fc0-9c19-4b6f-ec65-f6dfff106e00",80094:"e329c2c9-59b0-4a02-83e4-212ff3779900",2741:"fc2427d1-5af9-4a9c-8da5-6f94627cd900","5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp":"a1b58899-f671-4276-6a5e-56ca5bd59700","4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z":"a1b58899-f671-4276-6a5e-56ca5bd59700",EtWTRABZaYq6iMfeYKouRu166VU2xqa1:"a1b58899-f671-4276-6a5e-56ca5bd59700","000000000019d6689c085ae165831e93":"0b4838db-0161-4ffe-022d-532bf03dba00","000000000933ea01ad0ee984209779ba":"39354064-d79b-420b-065d-f980c4b78200","00000008819873e925422c1ff0f99f7c":"b3406e4a-bbfc-44fb-e3a6-89673c78b700"},ConnectorImageIds:{[we.CONNECTOR_ID.COINBASE]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[we.CONNECTOR_ID.COINBASE_SDK]:"0c2840c3-5b04-4c44-9661-fbd4b49e1800",[we.CONNECTOR_ID.SAFE]:"461db637-8616-43ce-035a-d89b8a1d5800",[we.CONNECTOR_ID.LEDGER]:"54a1aa77-d202-4f8d-0fb2-5d2bb6db0300",[we.CONNECTOR_ID.WALLET_CONNECT]:"ef1a1fcf-7fe8-4d69-bd6d-fda1345b4400",[we.CONNECTOR_ID.INJECTED]:"07ba87ed-43aa-4adf-4540-9e6a2b9cae00"},ConnectorNamesMap:{[we.CONNECTOR_ID.INJECTED]:"Browser Wallet",[we.CONNECTOR_ID.WALLET_CONNECT]:"WalletConnect",[we.CONNECTOR_ID.COINBASE]:"Coinbase",[we.CONNECTOR_ID.COINBASE_SDK]:"Coinbase",[we.CONNECTOR_ID.LEDGER]:"Ledger",[we.CONNECTOR_ID.SAFE]:"Safe"},ConnectorTypesMap:{[we.CONNECTOR_ID.INJECTED]:"INJECTED",[we.CONNECTOR_ID.WALLET_CONNECT]:"WALLET_CONNECT",[we.CONNECTOR_ID.EIP6963]:"ANNOUNCED",[we.CONNECTOR_ID.AUTH]:"AUTH",[cr.CONNECTOR_TYPE_AUTH]:"AUTH"}},Mi={getCaipTokens(t){if(!t)return;const e={};return Object.entries(t).forEach(([r,n])=>{e[`${cr.EIP155}:${r}`]=n}),e},isLowerCaseMatch(t,e){return t?.toLowerCase()===e?.toLowerCase()},getActiveNamespaceConnectedToAuth(){const t=se.state.activeChain;return we.AUTH_CONNECTOR_SUPPORTED_CHAINS.find(e=>Be.getConnectorId(e)===we.CONNECTOR_ID.AUTH&&e===t)},withRetry({conditionFn:t,intervalMs:e,maxRetries:r}){let n=0;return new Promise(i=>{async function s(){return n+=1,await t()?i(!0):n>=r?i(!1):(setTimeout(s,e),null)}s()})},userChainIdToChainNamespace(t){if(typeof t=="number")return we.CHAIN.EVM;const[e]=t.split(":");return e},getOtherAuthNamespaces(t){return t?we.AUTH_CONNECTOR_SUPPORTED_CHAINS.filter(n=>n!==t):[]}},XAe=new AbortController,Ss={EmbeddedWalletAbortController:XAe,UniversalProviderErrors:{UNAUTHORIZED_DOMAIN_NOT_ALLOWED:{message:"Unauthorized: origin not allowed",alertErrorKey:"ORIGIN_NOT_ALLOWED"},JWT_VALIDATION_ERROR:{message:"JWT validation error: JWT Token is not yet valid",alertErrorKey:"JWT_TOKEN_NOT_VALID"},INVALID_KEY:{message:"Unauthorized: invalid key",alertErrorKey:"INVALID_PROJECT_ID"}},ALERT_ERRORS:{SWITCH_NETWORK_NOT_FOUND:{code:"APKT001",displayMessage:"Network Not Found",debugMessage:"The specified network is not recognized. Please ensure it is included in the `networks` array of your `createAppKit` configuration."},ORIGIN_NOT_ALLOWED:{code:"APKT002",displayMessage:"Invalid App Configuration",debugMessage:()=>`The origin ${Tg()?window.origin:"unknown"} is not in your allow list. Please update your allowed domains at https://dashboard.reown.com.`},IFRAME_LOAD_FAILED:{code:"APKT003",displayMessage:"Network Error: Wallet Load Failed",debugMessage:()=>"Failed to load the embedded wallet. This may be due to network issues or server downtime. Please check your network connection and try again shortly. Contact support if the issue persists."},IFRAME_REQUEST_TIMEOUT:{code:"APKT004",displayMessage:"Wallet Request Timeout",debugMessage:()=>"The request to the embedded wallet timed out. Please check your network connection and try again shortly. Contact support if the issue persists."},UNVERIFIED_DOMAIN:{code:"APKT005",displayMessage:"Unverified Domain",debugMessage:()=>"Embedded wallet load failed. Ensure your domain is verified in https://dashboard.reown.com."},JWT_TOKEN_NOT_VALID:{code:"APKT006",displayMessage:"Session Expired",debugMessage:"Your session is invalid or expired. Please check your systems date and time settings, then reconnect."},INVALID_PROJECT_ID:{code:"APKT007",displayMessage:"Invalid Project ID",debugMessage:"The specified project ID is invalid. Please visit https://dashboard.reown.com to obtain a valid project ID."},PROJECT_ID_NOT_CONFIGURED:{code:"APKT008",displayMessage:"Project ID Missing",debugMessage:"No project ID is configured. You can create and configure a project ID at https://dashboard.reown.com."},SERVER_ERROR_APP_CONFIGURATION:{code:"APKT009",displayMessage:"Server Error",debugMessage:t=>`Unable to fetch App Configuration. ${t}. Please check your network connection and try again shortly. Contact support if the issue persists.`},RATE_LIMITED_APP_CONFIGURATION:{code:"APKT010",displayMessage:"Rate Limited",debugMessage:"You have been rate limited while retrieving App Configuration. Please wait a few minutes and try again. Contact support if the issue persists."}},ALERT_WARNINGS:{LOCAL_CONFIGURATION_IGNORED:{debugMessage:t=>`[Reown Config Notice] ${t}`},INACTIVE_NAMESPACE_NOT_CONNECTED:{code:"APKTW001",displayMessage:"Inactive Namespace Not Connected",debugMessage:(t,e)=>`An error occurred while connecting an inactive namespace ${t}: "${e}"`},INVALID_EMAIL:{code:"APKTW002",displayMessage:"Invalid Email Address",debugMessage:"Please enter a valid email address"}}},QAe={createLogger(t,e="error"){const r=Em({level:e}),{logger:n}=RP({opts:r});return n.error=(...i)=>{for(const s of i)if(s instanceof Error){t(s,...i);return}t(void 0,...i)},n}},ZAe="rpc.walletconnect.org";function pU(t,e){const r=new URL("https://rpc.walletconnect.org/v1/");return r.searchParams.set("chainId",t),r.searchParams.set("projectId",e),r.toString()}const pS=["near:mainnet","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","eip155:1101","eip155:56","eip155:42161","eip155:7777777","eip155:59144","eip155:324","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1","eip155:5000","solana:4sgjmw1sunhzsxgspuhpqldx6wiyjntz","eip155:80084","eip155:5003","eip155:100","eip155:8453","eip155:42220","eip155:1313161555","eip155:17000","eip155:1","eip155:300","eip155:1313161554","eip155:1329","eip155:84532","eip155:421614","eip155:11155111","eip155:8217","eip155:43114","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","eip155:999999999","eip155:11155420","eip155:80002","eip155:97","eip155:43113","eip155:137","eip155:10","eip155:1301","eip155:80094","eip155:80069","eip155:560048","eip155:31","eip155:2818","eip155:57054","eip155:911867","eip155:534351","eip155:1112","eip155:534352","eip155:1111","eip155:146","eip155:130","eip155:1284","eip155:30","eip155:2810","bip122:000000000019d6689c085ae165831e93","bip122:000000000933ea01ad0ee984209779ba"],pg={extendRpcUrlWithProjectId(t,e){let r=!1;try{r=new URL(t).host===ZAe}catch{r=!1}if(r){const n=new URL(t);return n.searchParams.has("projectId")||n.searchParams.set("projectId",e),n.toString()}return t},isCaipNetwork(t){return"chainNamespace"in t&&"caipNetworkId"in t},getChainNamespace(t){return this.isCaipNetwork(t)?t.chainNamespace:we.CHAIN.EVM},getCaipNetworkId(t){return this.isCaipNetwork(t)?t.caipNetworkId:`${we.CHAIN.EVM}:${t.id}`},getDefaultRpcUrl(t,e,r){const n=t.rpcUrls?.default?.http?.[0];return pS.includes(e)?pU(e,r):n||""},extendCaipNetwork(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){const i=this.getChainNamespace(t),s=this.getCaipNetworkId(t),o=t.rpcUrls?.default?.http?.[0],a=this.getDefaultRpcUrl(t,s,r),c=t?.rpcUrls?.chainDefault?.http?.[0]||o,l=n?.[s]?.map(h=>h.url)||[],u=[...l,...a?[a]:[]],f=[...l];return c&&!f.includes(c)&&f.push(c),{...t,chainNamespace:i,caipNetworkId:s,assets:{imageId:pu.NetworkImageIds[t.id],imageUrl:e?.[t.id]},rpcUrls:{...t.rpcUrls,default:{http:u},chainDefault:{http:f}}}},extendCaipNetworks(t,{customNetworkImageUrls:e,projectId:r,customRpcUrls:n}){return t.map(i=>pg.extendCaipNetwork(i,{customNetworkImageUrls:e,customRpcUrls:n,projectId:r}))},getViemTransport(t,e,r){const n=[];return r?.forEach(i=>{n.push(Jw(i.url,i.config))}),pS.includes(t.caipNetworkId)&&n.push(Jw(pU(t.caipNetworkId,e),{fetchOptions:{headers:{"Content-Type":"text/plain"}}})),t?.rpcUrls?.default?.http?.forEach(i=>{n.push(Jw(i))}),aD(n)},extendWagmiTransports(t,e,r){if(pS.includes(t.caipNetworkId)){const n=this.getDefaultRpcUrl(t,t.caipNetworkId,e);return aD([r,Jw(n)])}return r},getUnsupportedNetwork(t){return{id:t.split(":")[1],caipNetworkId:t,name:we.UNSUPPORTED_NETWORK_NAME,chainNamespace:t.split(":")[0],nativeCurrency:{name:"",decimals:0,symbol:""},rpcUrls:{default:{http:[]}}}},getCaipNetworkFromStorage(t){const e=De.getActiveCaipNetworkId(),r=se.getAllRequestedCaipNetworks(),n=Array.from(se.state.chains?.keys()||[]),i=e?.split(":")[0],s=i?n.includes(i):!1,o=r?.find(c=>c.caipNetworkId===e);return s&&!o&&e?this.getUnsupportedNetwork(e):o||t||r?.[0]}},EA={eip155:void 0,solana:void 0,polkadot:void 0,bip122:void 0,cosmos:void 0,sui:void 0,stacks:void 0},bo=_n({providers:{...EA},providerIds:{...EA}}),qt={state:bo,subscribeKey(t,e){return js(bo,t,e)},subscribe(t){return ds(bo,()=>{t(bo)})},subscribeProviders(t){return ds(bo.providers,()=>t(bo.providers))},setProvider(t,e){t&&e&&(bo.providers[t]=$0(e))},getProvider(t){if(t)return bo.providers[t]},setProviderId(t,e){e&&(bo.providerIds[t]=e)},getProviderId(t){if(t)return bo.providerIds[t]},reset(){bo.providers={...EA},bo.providerIds={...EA}},resetChain(t){bo.providers[t]=void 0,bo.providerIds[t]=void 0}},gU={transactionHash:/^0x(?:[A-Fa-f0-9]{64})$/u,signedMessage:/^0x(?:[a-fA-F0-9]{62,})$/u},ss={set(t,e){la.isClient&&localStorage.setItem(`${nt.STORAGE_KEY}${t}`,e)},get(t){return la.isClient?localStorage.getItem(`${nt.STORAGE_KEY}${t}`):null},delete(t,e){la.isClient&&(e?localStorage.removeItem(t):localStorage.removeItem(`${nt.STORAGE_KEY}${t}`))}},pv=30*1e3,la={checkIfAllowedToTriggerEmail(){const t=ss.get(nt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<pv){const r=Math.ceil((pv-e)/1e3);throw new Error(`Please try again after ${r} seconds`)}}},getTimeToNextEmailLogin(){const t=ss.get(nt.LAST_EMAIL_LOGIN_TIME);if(t){const e=Date.now()-Number(t);if(e<pv)return Math.ceil((pv-e)/1e3)}return 0},checkIfRequestExists(t){return Li.NOT_SAFE_RPC_METHODS.includes(t.method)||Li.SAFE_RPC_METHODS.includes(t.method)},getResponseType(t){return typeof t=="string"&&(t?.match(gU.transactionHash)||t?.match(gU.signedMessage))?nt.RPC_RESPONSE_TYPE_TX:nt.RPC_RESPONSE_TYPE_OBJECT},checkIfRequestIsSafe(t){return Li.SAFE_RPC_METHODS.includes(t.method)},isClient:typeof window<"u"};var wr;(function(t){t.assertEqual=i=>i;function e(i){}t.assertIs=e;function r(i){throw new Error}t.assertNever=r,t.arrayToEnum=i=>{const s={};for(const o of i)s[o]=o;return s},t.getValidEnumValues=i=>{const s=t.objectKeys(i).filter(a=>typeof i[i[a]]!="number"),o={};for(const a of s)o[a]=i[a];return t.objectValues(o)},t.objectValues=i=>t.objectKeys(i).map(function(s){return i[s]}),t.objectKeys=typeof Object.keys=="function"?i=>Object.keys(i):i=>{const s=[];for(const o in i)Object.prototype.hasOwnProperty.call(i,o)&&s.push(o);return s},t.find=(i,s)=>{for(const o of i)if(s(o))return o},t.isInteger=typeof Number.isInteger=="function"?i=>Number.isInteger(i):i=>typeof i=="number"&&isFinite(i)&&Math.floor(i)===i;function n(i,s=" | "){return i.map(o=>typeof o=="string"?`'${o}'`:o).join(s)}t.joinValues=n,t.jsonStringifyReplacer=(i,s)=>typeof s=="bigint"?s.toString():s})(wr||(wr={}));var M3;(function(t){t.mergeShapes=(e,r)=>({...e,...r})})(M3||(M3={}));const Je=wr.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Vd=t=>{switch(typeof t){case"undefined":return Je.undefined;case"string":return Je.string;case"number":return isNaN(t)?Je.nan:Je.number;case"boolean":return Je.boolean;case"function":return Je.function;case"bigint":return Je.bigint;case"symbol":return Je.symbol;case"object":return Array.isArray(t)?Je.array:t===null?Je.null:t.then&&typeof t.then=="function"&&t.catch&&typeof t.catch=="function"?Je.promise:typeof Map<"u"&&t instanceof Map?Je.map:typeof Set<"u"&&t instanceof Set?Je.set:typeof Date<"u"&&t instanceof Date?Je.date:Je.object;default:return Je.unknown}},$e=wr.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]),exe=t=>JSON.stringify(t,null,2).replace(/"([^"]+)":/g,"$1:");class Rl extends Error{constructor(e){super(),this.issues=[],this.addIssue=n=>{this.issues=[...this.issues,n]},this.addIssues=(n=[])=>{this.issues=[...this.issues,...n]};const r=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,r):this.__proto__=r,this.name="ZodError",this.issues=e}get errors(){return this.issues}format(e){const r=e||function(s){return s.message},n={_errors:[]},i=s=>{for(const o of s.issues)if(o.code==="invalid_union")o.unionErrors.map(i);else if(o.code==="invalid_return_type")i(o.returnTypeError);else if(o.code==="invalid_arguments")i(o.argumentsError);else if(o.path.length===0)n._errors.push(r(o));else{let a=n,c=0;for(;c<o.path.length;){const l=o.path[c];c===o.path.length-1?(a[l]=a[l]||{_errors:[]},a[l]._errors.push(r(o))):a[l]=a[l]||{_errors:[]},a=a[l],c++}}};return i(this),n}toString(){return this.message}get message(){return JSON.stringify(this.issues,wr.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(e=r=>r.message){const r={},n=[];for(const i of this.issues)i.path.length>0?(r[i.path[0]]=r[i.path[0]]||[],r[i.path[0]].push(e(i))):n.push(e(i));return{formErrors:n,fieldErrors:r}}get formErrors(){return this.flatten()}}Rl.create=t=>new Rl(t);const Tb=(t,e)=>{let r;switch(t.code){case $e.invalid_type:t.received===Je.undefined?r="Required":r=`Expected ${t.expected}, received ${t.received}`;break;case $e.invalid_literal:r=`Invalid literal value, expected ${JSON.stringify(t.expected,wr.jsonStringifyReplacer)}`;break;case $e.unrecognized_keys:r=`Unrecognized key(s) in object: ${wr.joinValues(t.keys,", ")}`;break;case $e.invalid_union:r="Invalid input";break;case $e.invalid_union_discriminator:r=`Invalid discriminator value. Expected ${wr.joinValues(t.options)}`;break;case $e.invalid_enum_value:r=`Invalid enum value. Expected ${wr.joinValues(t.options)}, received '${t.received}'`;break;case $e.invalid_arguments:r="Invalid function arguments";break;case $e.invalid_return_type:r="Invalid function return type";break;case $e.invalid_date:r="Invalid date";break;case $e.invalid_string:typeof t.validation=="object"?"includes"in t.validation?(r=`Invalid input: must include "${t.validation.includes}"`,typeof t.validation.position=="number"&&(r=`${r} at one or more positions greater than or equal to ${t.validation.position}`)):"startsWith"in t.validation?r=`Invalid input: must start with "${t.validation.startsWith}"`:"endsWith"in t.validation?r=`Invalid input: must end with "${t.validation.endsWith}"`:wr.assertNever(t.validation):t.validation!=="regex"?r=`Invalid ${t.validation}`:r="Invalid";break;case $e.too_small:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at least":"more than"} ${t.minimum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at least":"over"} ${t.minimum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${t.minimum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly equal to ":t.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(t.minimum))}`:r="Invalid input";break;case $e.too_big:t.type==="array"?r=`Array must contain ${t.exact?"exactly":t.inclusive?"at most":"less than"} ${t.maximum} element(s)`:t.type==="string"?r=`String must contain ${t.exact?"exactly":t.inclusive?"at most":"under"} ${t.maximum} character(s)`:t.type==="number"?r=`Number must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="bigint"?r=`BigInt must be ${t.exact?"exactly":t.inclusive?"less than or equal to":"less than"} ${t.maximum}`:t.type==="date"?r=`Date must be ${t.exact?"exactly":t.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(t.maximum))}`:r="Invalid input";break;case $e.custom:r="Invalid input";break;case $e.invalid_intersection_types:r="Intersection results could not be merged";break;case $e.not_multiple_of:r=`Number must be a multiple of ${t.multipleOf}`;break;case $e.not_finite:r="Number must be finite";break;default:r=e.defaultError,wr.assertNever(t)}return{message:r}};let Cz=Tb;function txe(t){Cz=t}function AA(){return Cz}const xA=t=>{const{data:e,path:r,errorMaps:n,issueData:i}=t,s=[...r,...i.path||[]],o={...i,path:s};let a="";const c=n.filter(l=>!!l).slice().reverse();for(const l of c)a=l(o,{data:e,defaultError:a}).message;return{...i,path:s,message:i.message||a}},rxe=[];function rt(t,e){const r=xA({issueData:e,data:t.data,path:t.path,errorMaps:[t.common.contextualErrorMap,t.schemaErrorMap,AA(),Tb].filter(n=>!!n)});t.common.issues.push(r)}class Hs{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(e,r){const n=[];for(const i of r){if(i.status==="aborted")return Tt;i.status==="dirty"&&e.dirty(),n.push(i.value)}return{status:e.value,value:n}}static async mergeObjectAsync(e,r){const n=[];for(const i of r)n.push({key:await i.key,value:await i.value});return Hs.mergeObjectSync(e,n)}static mergeObjectSync(e,r){const n={};for(const i of r){const{key:s,value:o}=i;if(s.status==="aborted"||o.status==="aborted")return Tt;s.status==="dirty"&&e.dirty(),o.status==="dirty"&&e.dirty(),s.value!=="__proto__"&&(typeof o.value<"u"||i.alwaysSet)&&(n[s.value]=o.value)}return{status:e.value,value:n}}}const Tt=Object.freeze({status:"aborted"}),Nz=t=>({status:"dirty",value:t}),ao=t=>({status:"valid",value:t}),U3=t=>t.status==="aborted",L3=t=>t.status==="dirty",Ib=t=>t.status==="valid",CA=t=>typeof Promise<"u"&&t instanceof Promise;var dt;(function(t){t.errToObj=e=>typeof e=="string"?{message:e}:e||{},t.toString=e=>typeof e=="string"?e:e?.message})(dt||(dt={}));class Pu{constructor(e,r,n,i){this._cachedPath=[],this.parent=e,this.data=r,this._path=n,this._key=i}get path(){return this._cachedPath.length||(this._key instanceof Array?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const mU=(t,e)=>{if(Ib(e))return{success:!0,data:e.value};if(!t.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const r=new Rl(t.common.issues);return this._error=r,this._error}}};function Dt(t){if(!t)return{};const{errorMap:e,invalid_type_error:r,required_error:n,description:i}=t;if(e&&(r||n))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return e?{errorMap:e,description:i}:{errorMap:(o,a)=>o.code!=="invalid_type"?{message:a.defaultError}:typeof a.data>"u"?{message:n??a.defaultError}:{message:r??a.defaultError},description:i}}class $t{constructor(e){this.spa=this.safeParseAsync,this._def=e,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this)}get description(){return this._def.description}_getType(e){return Vd(e.data)}_getOrReturnCtx(e,r){return r||{common:e.parent.common,data:e.data,parsedType:Vd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}_processInputParams(e){return{status:new Hs,ctx:{common:e.parent.common,data:e.data,parsedType:Vd(e.data),schemaErrorMap:this._def.errorMap,path:e.path,parent:e.parent}}}_parseSync(e){const r=this._parse(e);if(CA(r))throw new Error("Synchronous parse encountered promise.");return r}_parseAsync(e){const r=this._parse(e);return Promise.resolve(r)}parse(e,r){const n=this.safeParse(e,r);if(n.success)return n.data;throw n.error}safeParse(e,r){var n;const i={common:{issues:[],async:(n=r?.async)!==null&&n!==void 0?n:!1,contextualErrorMap:r?.errorMap},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vd(e)},s=this._parseSync({data:e,path:i.path,parent:i});return mU(i,s)}async parseAsync(e,r){const n=await this.safeParseAsync(e,r);if(n.success)return n.data;throw n.error}async safeParseAsync(e,r){const n={common:{issues:[],contextualErrorMap:r?.errorMap,async:!0},path:r?.path||[],schemaErrorMap:this._def.errorMap,parent:null,data:e,parsedType:Vd(e)},i=this._parse({data:e,path:n.path,parent:n}),s=await(CA(i)?i:Promise.resolve(i));return mU(n,s)}refine(e,r){const n=i=>typeof r=="string"||typeof r>"u"?{message:r}:typeof r=="function"?r(i):r;return this._refinement((i,s)=>{const o=e(i),a=()=>s.addIssue({code:$e.custom,...n(i)});return typeof Promise<"u"&&o instanceof Promise?o.then(c=>c?!0:(a(),!1)):o?!0:(a(),!1)})}refinement(e,r){return this._refinement((n,i)=>e(n)?!0:(i.addIssue(typeof r=="function"?r(n,i):r),!1))}_refinement(e){return new kl({schema:this,typeName:wt.ZodEffects,effect:{type:"refinement",refinement:e}})}superRefine(e){return this._refinement(e)}optional(){return Bf.create(this,this._def)}nullable(){return G0.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Pl.create(this,this._def)}promise(){return fm.create(this,this._def)}or(e){return Db.create([this,e],this._def)}and(e){return kb.create(this,e,this._def)}transform(e){return new kl({...Dt(this._def),schema:this,typeName:wt.ZodEffects,effect:{type:"transform",transform:e}})}default(e){const r=typeof e=="function"?e:()=>e;return new Fb({...Dt(this._def),innerType:this,defaultValue:r,typeName:wt.ZodDefault})}brand(){return new Tz({typeName:wt.ZodBranded,type:this,...Dt(this._def)})}catch(e){const r=typeof e=="function"?e:()=>e;return new IA({...Dt(this._def),innerType:this,catchValue:r,typeName:wt.ZodCatch})}describe(e){const r=this.constructor;return new r({...this._def,description:e})}pipe(e){return L1.create(this,e)}readonly(){return PA.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const nxe=/^c[^\s-]{8,}$/i,ixe=/^[a-z][a-z0-9]*$/,sxe=/^[0-9A-HJKMNP-TV-Z]{26}$/,oxe=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,axe=/^(?!\.)(?!.*\.\.)([A-Z0-9_+-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,cxe="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let gS;const lxe=/^(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))$/,uxe=/^(([a-f0-9]{1,4}:){7}|::([a-f0-9]{1,4}:){0,6}|([a-f0-9]{1,4}:){1}:([a-f0-9]{1,4}:){0,5}|([a-f0-9]{1,4}:){2}:([a-f0-9]{1,4}:){0,4}|([a-f0-9]{1,4}:){3}:([a-f0-9]{1,4}:){0,3}|([a-f0-9]{1,4}:){4}:([a-f0-9]{1,4}:){0,2}|([a-f0-9]{1,4}:){5}:([a-f0-9]{1,4}:){0,1})([a-f0-9]{1,4}|(((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2}))\.){3}((25[0-5])|(2[0-4][0-9])|(1[0-9]{2})|([0-9]{1,2})))$/,fxe=t=>t.precision?t.offset?new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}(([+-]\\d{2}(:?\\d{2})?)|Z)$`):new RegExp(`^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}\\.\\d{${t.precision}}Z$`):t.precision===0?t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}Z$"):t.offset?new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?(([+-]\\d{2}(:?\\d{2})?)|Z)$"):new RegExp("^\\d{4}-\\d{2}-\\d{2}T\\d{2}:\\d{2}:\\d{2}(\\.\\d+)?Z$");function dxe(t,e){return!!((e==="v4"||!e)&&lxe.test(t)||(e==="v6"||!e)&&uxe.test(t))}class bl extends $t{_parse(e){if(this._def.coerce&&(e.data=String(e.data)),this._getType(e)!==Je.string){const s=this._getOrReturnCtx(e);return rt(s,{code:$e.invalid_type,expected:Je.string,received:s.parsedType}),Tt}const n=new Hs;let i;for(const s of this._def.checks)if(s.kind==="min")e.data.length<s.value&&(i=this._getOrReturnCtx(e,i),rt(i,{code:$e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="max")e.data.length>s.value&&(i=this._getOrReturnCtx(e,i),rt(i,{code:$e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!1,message:s.message}),n.dirty());else if(s.kind==="length"){const o=e.data.length>s.value,a=e.data.length<s.value;(o||a)&&(i=this._getOrReturnCtx(e,i),o?rt(i,{code:$e.too_big,maximum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}):a&&rt(i,{code:$e.too_small,minimum:s.value,type:"string",inclusive:!0,exact:!0,message:s.message}),n.dirty())}else if(s.kind==="email")axe.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"email",code:$e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="emoji")gS||(gS=new RegExp(cxe,"u")),gS.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"emoji",code:$e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="uuid")oxe.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"uuid",code:$e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid")nxe.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"cuid",code:$e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="cuid2")ixe.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"cuid2",code:$e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="ulid")sxe.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"ulid",code:$e.invalid_string,message:s.message}),n.dirty());else if(s.kind==="url")try{new URL(e.data)}catch{i=this._getOrReturnCtx(e,i),rt(i,{validation:"url",code:$e.invalid_string,message:s.message}),n.dirty()}else s.kind==="regex"?(s.regex.lastIndex=0,s.regex.test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"regex",code:$e.invalid_string,message:s.message}),n.dirty())):s.kind==="trim"?e.data=e.data.trim():s.kind==="includes"?e.data.includes(s.value,s.position)||(i=this._getOrReturnCtx(e,i),rt(i,{code:$e.invalid_string,validation:{includes:s.value,position:s.position},message:s.message}),n.dirty()):s.kind==="toLowerCase"?e.data=e.data.toLowerCase():s.kind==="toUpperCase"?e.data=e.data.toUpperCase():s.kind==="startsWith"?e.data.startsWith(s.value)||(i=this._getOrReturnCtx(e,i),rt(i,{code:$e.invalid_string,validation:{startsWith:s.value},message:s.message}),n.dirty()):s.kind==="endsWith"?e.data.endsWith(s.value)||(i=this._getOrReturnCtx(e,i),rt(i,{code:$e.invalid_string,validation:{endsWith:s.value},message:s.message}),n.dirty()):s.kind==="datetime"?fxe(s).test(e.data)||(i=this._getOrReturnCtx(e,i),rt(i,{code:$e.invalid_string,validation:"datetime",message:s.message}),n.dirty()):s.kind==="ip"?dxe(e.data,s.version)||(i=this._getOrReturnCtx(e,i),rt(i,{validation:"ip",code:$e.invalid_string,message:s.message}),n.dirty()):wr.assertNever(s);return{status:n.value,value:e.data}}_regex(e,r,n){return this.refinement(i=>e.test(i),{validation:r,code:$e.invalid_string,...dt.errToObj(n)})}_addCheck(e){return new bl({...this._def,checks:[...this._def.checks,e]})}email(e){return this._addCheck({kind:"email",...dt.errToObj(e)})}url(e){return this._addCheck({kind:"url",...dt.errToObj(e)})}emoji(e){return this._addCheck({kind:"emoji",...dt.errToObj(e)})}uuid(e){return this._addCheck({kind:"uuid",...dt.errToObj(e)})}cuid(e){return this._addCheck({kind:"cuid",...dt.errToObj(e)})}cuid2(e){return this._addCheck({kind:"cuid2",...dt.errToObj(e)})}ulid(e){return this._addCheck({kind:"ulid",...dt.errToObj(e)})}ip(e){return this._addCheck({kind:"ip",...dt.errToObj(e)})}datetime(e){var r;return typeof e=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,message:e}):this._addCheck({kind:"datetime",precision:typeof e?.precision>"u"?null:e?.precision,offset:(r=e?.offset)!==null&&r!==void 0?r:!1,...dt.errToObj(e?.message)})}regex(e,r){return this._addCheck({kind:"regex",regex:e,...dt.errToObj(r)})}includes(e,r){return this._addCheck({kind:"includes",value:e,position:r?.position,...dt.errToObj(r?.message)})}startsWith(e,r){return this._addCheck({kind:"startsWith",value:e,...dt.errToObj(r)})}endsWith(e,r){return this._addCheck({kind:"endsWith",value:e,...dt.errToObj(r)})}min(e,r){return this._addCheck({kind:"min",value:e,...dt.errToObj(r)})}max(e,r){return this._addCheck({kind:"max",value:e,...dt.errToObj(r)})}length(e,r){return this._addCheck({kind:"length",value:e,...dt.errToObj(r)})}nonempty(e){return this.min(1,dt.errToObj(e))}trim(){return new bl({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new bl({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new bl({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(e=>e.kind==="datetime")}get isEmail(){return!!this._def.checks.find(e=>e.kind==="email")}get isURL(){return!!this._def.checks.find(e=>e.kind==="url")}get isEmoji(){return!!this._def.checks.find(e=>e.kind==="emoji")}get isUUID(){return!!this._def.checks.find(e=>e.kind==="uuid")}get isCUID(){return!!this._def.checks.find(e=>e.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(e=>e.kind==="cuid2")}get isULID(){return!!this._def.checks.find(e=>e.kind==="ulid")}get isIP(){return!!this._def.checks.find(e=>e.kind==="ip")}get minLength(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxLength(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}bl.create=t=>{var e;return new bl({checks:[],typeName:wt.ZodString,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Dt(t)})};function hxe(t,e){const r=(t.toString().split(".")[1]||"").length,n=(e.toString().split(".")[1]||"").length,i=r>n?r:n,s=parseInt(t.toFixed(i).replace(".","")),o=parseInt(e.toFixed(i).replace(".",""));return s%o/Math.pow(10,i)}class uh extends $t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(e){if(this._def.coerce&&(e.data=Number(e.data)),this._getType(e)!==Je.number){const s=this._getOrReturnCtx(e);return rt(s,{code:$e.invalid_type,expected:Je.number,received:s.parsedType}),Tt}let n;const i=new Hs;for(const s of this._def.checks)s.kind==="int"?wr.isInteger(e.data)||(n=this._getOrReturnCtx(e,n),rt(n,{code:$e.invalid_type,expected:"integer",received:"float",message:s.message}),i.dirty()):s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:$e.too_small,minimum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:$e.too_big,maximum:s.value,type:"number",inclusive:s.inclusive,exact:!1,message:s.message}),i.dirty()):s.kind==="multipleOf"?hxe(e.data,s.value)!==0&&(n=this._getOrReturnCtx(e,n),rt(n,{code:$e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):s.kind==="finite"?Number.isFinite(e.data)||(n=this._getOrReturnCtx(e,n),rt(n,{code:$e.not_finite,message:s.message}),i.dirty()):wr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,dt.toString(r))}setLimit(e,r,n,i){return new uh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:dt.toString(i)}]})}_addCheck(e){return new uh({...this._def,checks:[...this._def.checks,e]})}int(e){return this._addCheck({kind:"int",message:dt.toString(e)})}positive(e){return this._addCheck({kind:"min",value:0,inclusive:!1,message:dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:0,inclusive:!1,message:dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:0,inclusive:!0,message:dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:0,inclusive:!0,message:dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:dt.toString(r)})}finite(e){return this._addCheck({kind:"finite",message:dt.toString(e)})}safe(e){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:dt.toString(e)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:dt.toString(e)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}get isInt(){return!!this._def.checks.find(e=>e.kind==="int"||e.kind==="multipleOf"&&wr.isInteger(e.value))}get isFinite(){let e=null,r=null;for(const n of this._def.checks){if(n.kind==="finite"||n.kind==="int"||n.kind==="multipleOf")return!0;n.kind==="min"?(r===null||n.value>r)&&(r=n.value):n.kind==="max"&&(e===null||n.value<e)&&(e=n.value)}return Number.isFinite(r)&&Number.isFinite(e)}}uh.create=t=>new uh({checks:[],typeName:wt.ZodNumber,coerce:t?.coerce||!1,...Dt(t)});class fh extends $t{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(e){if(this._def.coerce&&(e.data=BigInt(e.data)),this._getType(e)!==Je.bigint){const s=this._getOrReturnCtx(e);return rt(s,{code:$e.invalid_type,expected:Je.bigint,received:s.parsedType}),Tt}let n;const i=new Hs;for(const s of this._def.checks)s.kind==="min"?(s.inclusive?e.data<s.value:e.data<=s.value)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:$e.too_small,type:"bigint",minimum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="max"?(s.inclusive?e.data>s.value:e.data>=s.value)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:$e.too_big,type:"bigint",maximum:s.value,inclusive:s.inclusive,message:s.message}),i.dirty()):s.kind==="multipleOf"?e.data%s.value!==BigInt(0)&&(n=this._getOrReturnCtx(e,n),rt(n,{code:$e.not_multiple_of,multipleOf:s.value,message:s.message}),i.dirty()):wr.assertNever(s);return{status:i.value,value:e.data}}gte(e,r){return this.setLimit("min",e,!0,dt.toString(r))}gt(e,r){return this.setLimit("min",e,!1,dt.toString(r))}lte(e,r){return this.setLimit("max",e,!0,dt.toString(r))}lt(e,r){return this.setLimit("max",e,!1,dt.toString(r))}setLimit(e,r,n,i){return new fh({...this._def,checks:[...this._def.checks,{kind:e,value:r,inclusive:n,message:dt.toString(i)}]})}_addCheck(e){return new fh({...this._def,checks:[...this._def.checks,e]})}positive(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:dt.toString(e)})}negative(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:dt.toString(e)})}nonpositive(e){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:dt.toString(e)})}nonnegative(e){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:dt.toString(e)})}multipleOf(e,r){return this._addCheck({kind:"multipleOf",value:e,message:dt.toString(r)})}get minValue(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e}get maxValue(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e}}fh.create=t=>{var e;return new fh({checks:[],typeName:wt.ZodBigInt,coerce:(e=t?.coerce)!==null&&e!==void 0?e:!1,...Dt(t)})};class Rb extends $t{_parse(e){if(this._def.coerce&&(e.data=!!e.data),this._getType(e)!==Je.boolean){const n=this._getOrReturnCtx(e);return rt(n,{code:$e.invalid_type,expected:Je.boolean,received:n.parsedType}),Tt}return ao(e.data)}}Rb.create=t=>new Rb({typeName:wt.ZodBoolean,coerce:t?.coerce||!1,...Dt(t)});class q0 extends $t{_parse(e){if(this._def.coerce&&(e.data=new Date(e.data)),this._getType(e)!==Je.date){const s=this._getOrReturnCtx(e);return rt(s,{code:$e.invalid_type,expected:Je.date,received:s.parsedType}),Tt}if(isNaN(e.data.getTime())){const s=this._getOrReturnCtx(e);return rt(s,{code:$e.invalid_date}),Tt}const n=new Hs;let i;for(const s of this._def.checks)s.kind==="min"?e.data.getTime()<s.value&&(i=this._getOrReturnCtx(e,i),rt(i,{code:$e.too_small,message:s.message,inclusive:!0,exact:!1,minimum:s.value,type:"date"}),n.dirty()):s.kind==="max"?e.data.getTime()>s.value&&(i=this._getOrReturnCtx(e,i),rt(i,{code:$e.too_big,message:s.message,inclusive:!0,exact:!1,maximum:s.value,type:"date"}),n.dirty()):wr.assertNever(s);return{status:n.value,value:new Date(e.data.getTime())}}_addCheck(e){return new q0({...this._def,checks:[...this._def.checks,e]})}min(e,r){return this._addCheck({kind:"min",value:e.getTime(),message:dt.toString(r)})}max(e,r){return this._addCheck({kind:"max",value:e.getTime(),message:dt.toString(r)})}get minDate(){let e=null;for(const r of this._def.checks)r.kind==="min"&&(e===null||r.value>e)&&(e=r.value);return e!=null?new Date(e):null}get maxDate(){let e=null;for(const r of this._def.checks)r.kind==="max"&&(e===null||r.value<e)&&(e=r.value);return e!=null?new Date(e):null}}q0.create=t=>new q0({checks:[],coerce:t?.coerce||!1,typeName:wt.ZodDate,...Dt(t)});class NA extends $t{_parse(e){if(this._getType(e)!==Je.symbol){const n=this._getOrReturnCtx(e);return rt(n,{code:$e.invalid_type,expected:Je.symbol,received:n.parsedType}),Tt}return ao(e.data)}}NA.create=t=>new NA({typeName:wt.ZodSymbol,...Dt(t)});class Pb extends $t{_parse(e){if(this._getType(e)!==Je.undefined){const n=this._getOrReturnCtx(e);return rt(n,{code:$e.invalid_type,expected:Je.undefined,received:n.parsedType}),Tt}return ao(e.data)}}Pb.create=t=>new Pb({typeName:wt.ZodUndefined,...Dt(t)});class Ob extends $t{_parse(e){if(this._getType(e)!==Je.null){const n=this._getOrReturnCtx(e);return rt(n,{code:$e.invalid_type,expected:Je.null,received:n.parsedType}),Tt}return ao(e.data)}}Ob.create=t=>new Ob({typeName:wt.ZodNull,...Dt(t)});class um extends $t{constructor(){super(...arguments),this._any=!0}_parse(e){return ao(e.data)}}um.create=t=>new um({typeName:wt.ZodAny,...Dt(t)});class P0 extends $t{constructor(){super(...arguments),this._unknown=!0}_parse(e){return ao(e.data)}}P0.create=t=>new P0({typeName:wt.ZodUnknown,...Dt(t)});class Yf extends $t{_parse(e){const r=this._getOrReturnCtx(e);return rt(r,{code:$e.invalid_type,expected:Je.never,received:r.parsedType}),Tt}}Yf.create=t=>new Yf({typeName:wt.ZodNever,...Dt(t)});class SA extends $t{_parse(e){if(this._getType(e)!==Je.undefined){const n=this._getOrReturnCtx(e);return rt(n,{code:$e.invalid_type,expected:Je.void,received:n.parsedType}),Tt}return ao(e.data)}}SA.create=t=>new SA({typeName:wt.ZodVoid,...Dt(t)});class Pl extends $t{_parse(e){const{ctx:r,status:n}=this._processInputParams(e),i=this._def;if(r.parsedType!==Je.array)return rt(r,{code:$e.invalid_type,expected:Je.array,received:r.parsedType}),Tt;if(i.exactLength!==null){const o=r.data.length>i.exactLength.value,a=r.data.length<i.exactLength.value;(o||a)&&(rt(r,{code:o?$e.too_big:$e.too_small,minimum:a?i.exactLength.value:void 0,maximum:o?i.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:i.exactLength.message}),n.dirty())}if(i.minLength!==null&&r.data.length<i.minLength.value&&(rt(r,{code:$e.too_small,minimum:i.minLength.value,type:"array",inclusive:!0,exact:!1,message:i.minLength.message}),n.dirty()),i.maxLength!==null&&r.data.length>i.maxLength.value&&(rt(r,{code:$e.too_big,maximum:i.maxLength.value,type:"array",inclusive:!0,exact:!1,message:i.maxLength.message}),n.dirty()),r.common.async)return Promise.all([...r.data].map((o,a)=>i.type._parseAsync(new Pu(r,o,r.path,a)))).then(o=>Hs.mergeArray(n,o));const s=[...r.data].map((o,a)=>i.type._parseSync(new Pu(r,o,r.path,a)));return Hs.mergeArray(n,s)}get element(){return this._def.type}min(e,r){return new Pl({...this._def,minLength:{value:e,message:dt.toString(r)}})}max(e,r){return new Pl({...this._def,maxLength:{value:e,message:dt.toString(r)}})}length(e,r){return new Pl({...this._def,exactLength:{value:e,message:dt.toString(r)}})}nonempty(e){return this.min(1,e)}}Pl.create=(t,e)=>new Pl({type:t,minLength:null,maxLength:null,exactLength:null,typeName:wt.ZodArray,...Dt(e)});function gg(t){if(t instanceof Ln){const e={};for(const r in t.shape){const n=t.shape[r];e[r]=Bf.create(gg(n))}return new Ln({...t._def,shape:()=>e})}else return t instanceof Pl?new Pl({...t._def,type:gg(t.element)}):t instanceof Bf?Bf.create(gg(t.unwrap())):t instanceof G0?G0.create(gg(t.unwrap())):t instanceof Ou?Ou.create(t.items.map(e=>gg(e))):t}class Ln extends $t{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const e=this._def.shape(),r=wr.objectKeys(e);return this._cached={shape:e,keys:r}}_parse(e){if(this._getType(e)!==Je.object){const l=this._getOrReturnCtx(e);return rt(l,{code:$e.invalid_type,expected:Je.object,received:l.parsedType}),Tt}const{status:n,ctx:i}=this._processInputParams(e),{shape:s,keys:o}=this._getCached(),a=[];if(!(this._def.catchall instanceof Yf&&this._def.unknownKeys==="strip"))for(const l in i.data)o.includes(l)||a.push(l);const c=[];for(const l of o){const u=s[l],f=i.data[l];c.push({key:{status:"valid",value:l},value:u._parse(new Pu(i,f,i.path,l)),alwaysSet:l in i.data})}if(this._def.catchall instanceof Yf){const l=this._def.unknownKeys;if(l==="passthrough")for(const u of a)c.push({key:{status:"valid",value:u},value:{status:"valid",value:i.data[u]}});else if(l==="strict")a.length>0&&(rt(i,{code:$e.unrecognized_keys,keys:a}),n.dirty());else if(l!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const l=this._def.catchall;for(const u of a){const f=i.data[u];c.push({key:{status:"valid",value:u},value:l._parse(new Pu(i,f,i.path,u)),alwaysSet:u in i.data})}}return i.common.async?Promise.resolve().then(async()=>{const l=[];for(const u of c){const f=await u.key;l.push({key:f,value:await u.value,alwaysSet:u.alwaysSet})}return l}).then(l=>Hs.mergeObjectSync(n,l)):Hs.mergeObjectSync(n,c)}get shape(){return this._def.shape()}strict(e){return dt.errToObj,new Ln({...this._def,unknownKeys:"strict",...e!==void 0?{errorMap:(r,n)=>{var i,s,o,a;const c=(o=(s=(i=this._def).errorMap)===null||s===void 0?void 0:s.call(i,r,n).message)!==null&&o!==void 0?o:n.defaultError;return r.code==="unrecognized_keys"?{message:(a=dt.errToObj(e).message)!==null&&a!==void 0?a:c}:{message:c}}}:{}})}strip(){return new Ln({...this._def,unknownKeys:"strip"})}passthrough(){return new Ln({...this._def,unknownKeys:"passthrough"})}extend(e){return new Ln({...this._def,shape:()=>({...this._def.shape(),...e})})}merge(e){return new Ln({unknownKeys:e._def.unknownKeys,catchall:e._def.catchall,shape:()=>({...this._def.shape(),...e._def.shape()}),typeName:wt.ZodObject})}setKey(e,r){return this.augment({[e]:r})}catchall(e){return new Ln({...this._def,catchall:e})}pick(e){const r={};return wr.objectKeys(e).forEach(n=>{e[n]&&this.shape[n]&&(r[n]=this.shape[n])}),new Ln({...this._def,shape:()=>r})}omit(e){const r={};return wr.objectKeys(this.shape).forEach(n=>{e[n]||(r[n]=this.shape[n])}),new Ln({...this._def,shape:()=>r})}deepPartial(){return gg(this)}partial(e){const r={};return wr.objectKeys(this.shape).forEach(n=>{const i=this.shape[n];e&&!e[n]?r[n]=i:r[n]=i.optional()}),new Ln({...this._def,shape:()=>r})}required(e){const r={};return wr.objectKeys(this.shape).forEach(n=>{if(e&&!e[n])r[n]=this.shape[n];else{let s=this.shape[n];for(;s instanceof Bf;)s=s._def.innerType;r[n]=s}}),new Ln({...this._def,shape:()=>r})}keyof(){return Sz(wr.objectKeys(this.shape))}}Ln.create=(t,e)=>new Ln({shape:()=>t,unknownKeys:"strip",catchall:Yf.create(),typeName:wt.ZodObject,...Dt(e)});Ln.strictCreate=(t,e)=>new Ln({shape:()=>t,unknownKeys:"strict",catchall:Yf.create(),typeName:wt.ZodObject,...Dt(e)});Ln.lazycreate=(t,e)=>new Ln({shape:t,unknownKeys:"strip",catchall:Yf.create(),typeName:wt.ZodObject,...Dt(e)});class Db extends $t{_parse(e){const{ctx:r}=this._processInputParams(e),n=this._def.options;function i(s){for(const a of s)if(a.result.status==="valid")return a.result;for(const a of s)if(a.result.status==="dirty")return r.common.issues.push(...a.ctx.common.issues),a.result;const o=s.map(a=>new Rl(a.ctx.common.issues));return rt(r,{code:$e.invalid_union,unionErrors:o}),Tt}if(r.common.async)return Promise.all(n.map(async s=>{const o={...r,common:{...r.common,issues:[]},parent:null};return{result:await s._parseAsync({data:r.data,path:r.path,parent:o}),ctx:o}})).then(i);{let s;const o=[];for(const c of n){const l={...r,common:{...r.common,issues:[]},parent:null},u=c._parseSync({data:r.data,path:r.path,parent:l});if(u.status==="valid")return u;u.status==="dirty"&&!s&&(s={result:u,ctx:l}),l.common.issues.length&&o.push(l.common.issues)}if(s)return r.common.issues.push(...s.ctx.common.issues),s.result;const a=o.map(c=>new Rl(c));return rt(r,{code:$e.invalid_union,unionErrors:a}),Tt}}get options(){return this._def.options}}Db.create=(t,e)=>new Db({options:t,typeName:wt.ZodUnion,...Dt(e)});const Jv=t=>t instanceof Ub?Jv(t.schema):t instanceof kl?Jv(t.innerType()):t instanceof Lb?[t.value]:t instanceof dh?t.options:t instanceof $b?Object.keys(t.enum):t instanceof Fb?Jv(t._def.innerType):t instanceof Pb?[void 0]:t instanceof Ob?[null]:null;class Xx extends $t{_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.object)return rt(r,{code:$e.invalid_type,expected:Je.object,received:r.parsedType}),Tt;const n=this.discriminator,i=r.data[n],s=this.optionsMap.get(i);return s?r.common.async?s._parseAsync({data:r.data,path:r.path,parent:r}):s._parseSync({data:r.data,path:r.path,parent:r}):(rt(r,{code:$e.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[n]}),Tt)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(e,r,n){const i=new Map;for(const s of r){const o=Jv(s.shape[e]);if(!o)throw new Error(`A discriminator value for key \`${e}\` could not be extracted from all schema options`);for(const a of o){if(i.has(a))throw new Error(`Discriminator property ${String(e)} has duplicate value ${String(a)}`);i.set(a,s)}}return new Xx({typeName:wt.ZodDiscriminatedUnion,discriminator:e,options:r,optionsMap:i,...Dt(n)})}}function $3(t,e){const r=Vd(t),n=Vd(e);if(t===e)return{valid:!0,data:t};if(r===Je.object&&n===Je.object){const i=wr.objectKeys(e),s=wr.objectKeys(t).filter(a=>i.indexOf(a)!==-1),o={...t,...e};for(const a of s){const c=$3(t[a],e[a]);if(!c.valid)return{valid:!1};o[a]=c.data}return{valid:!0,data:o}}else if(r===Je.array&&n===Je.array){if(t.length!==e.length)return{valid:!1};const i=[];for(let s=0;s<t.length;s++){const o=t[s],a=e[s],c=$3(o,a);if(!c.valid)return{valid:!1};i.push(c.data)}return{valid:!0,data:i}}else return r===Je.date&&n===Je.date&&+t==+e?{valid:!0,data:t}:{valid:!1}}class kb extends $t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=(s,o)=>{if(U3(s)||U3(o))return Tt;const a=$3(s.value,o.value);return a.valid?((L3(s)||L3(o))&&r.dirty(),{status:r.value,value:a.data}):(rt(n,{code:$e.invalid_intersection_types}),Tt)};return n.common.async?Promise.all([this._def.left._parseAsync({data:n.data,path:n.path,parent:n}),this._def.right._parseAsync({data:n.data,path:n.path,parent:n})]).then(([s,o])=>i(s,o)):i(this._def.left._parseSync({data:n.data,path:n.path,parent:n}),this._def.right._parseSync({data:n.data,path:n.path,parent:n}))}}kb.create=(t,e,r)=>new kb({left:t,right:e,typeName:wt.ZodIntersection,...Dt(r)});class Ou extends $t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.array)return rt(n,{code:$e.invalid_type,expected:Je.array,received:n.parsedType}),Tt;if(n.data.length<this._def.items.length)return rt(n,{code:$e.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),Tt;!this._def.rest&&n.data.length>this._def.items.length&&(rt(n,{code:$e.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),r.dirty());const s=[...n.data].map((o,a)=>{const c=this._def.items[a]||this._def.rest;return c?c._parse(new Pu(n,o,n.path,a)):null}).filter(o=>!!o);return n.common.async?Promise.all(s).then(o=>Hs.mergeArray(r,o)):Hs.mergeArray(r,s)}get items(){return this._def.items}rest(e){return new Ou({...this._def,rest:e})}}Ou.create=(t,e)=>{if(!Array.isArray(t))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new Ou({items:t,typeName:wt.ZodTuple,rest:null,...Dt(e)})};class Mb extends $t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.object)return rt(n,{code:$e.invalid_type,expected:Je.object,received:n.parsedType}),Tt;const i=[],s=this._def.keyType,o=this._def.valueType;for(const a in n.data)i.push({key:s._parse(new Pu(n,a,n.path,a)),value:o._parse(new Pu(n,n.data[a],n.path,a))});return n.common.async?Hs.mergeObjectAsync(r,i):Hs.mergeObjectSync(r,i)}get element(){return this._def.valueType}static create(e,r,n){return r instanceof $t?new Mb({keyType:e,valueType:r,typeName:wt.ZodRecord,...Dt(n)}):new Mb({keyType:bl.create(),valueType:e,typeName:wt.ZodRecord,...Dt(r)})}}class TA extends $t{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.map)return rt(n,{code:$e.invalid_type,expected:Je.map,received:n.parsedType}),Tt;const i=this._def.keyType,s=this._def.valueType,o=[...n.data.entries()].map(([a,c],l)=>({key:i._parse(new Pu(n,a,n.path,[l,"key"])),value:s._parse(new Pu(n,c,n.path,[l,"value"]))}));if(n.common.async){const a=new Map;return Promise.resolve().then(async()=>{for(const c of o){const l=await c.key,u=await c.value;if(l.status==="aborted"||u.status==="aborted")return Tt;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}})}else{const a=new Map;for(const c of o){const l=c.key,u=c.value;if(l.status==="aborted"||u.status==="aborted")return Tt;(l.status==="dirty"||u.status==="dirty")&&r.dirty(),a.set(l.value,u.value)}return{status:r.value,value:a}}}}TA.create=(t,e,r)=>new TA({valueType:e,keyType:t,typeName:wt.ZodMap,...Dt(r)});class z0 extends $t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.parsedType!==Je.set)return rt(n,{code:$e.invalid_type,expected:Je.set,received:n.parsedType}),Tt;const i=this._def;i.minSize!==null&&n.data.size<i.minSize.value&&(rt(n,{code:$e.too_small,minimum:i.minSize.value,type:"set",inclusive:!0,exact:!1,message:i.minSize.message}),r.dirty()),i.maxSize!==null&&n.data.size>i.maxSize.value&&(rt(n,{code:$e.too_big,maximum:i.maxSize.value,type:"set",inclusive:!0,exact:!1,message:i.maxSize.message}),r.dirty());const s=this._def.valueType;function o(c){const l=new Set;for(const u of c){if(u.status==="aborted")return Tt;u.status==="dirty"&&r.dirty(),l.add(u.value)}return{status:r.value,value:l}}const a=[...n.data.values()].map((c,l)=>s._parse(new Pu(n,c,n.path,l)));return n.common.async?Promise.all(a).then(c=>o(c)):o(a)}min(e,r){return new z0({...this._def,minSize:{value:e,message:dt.toString(r)}})}max(e,r){return new z0({...this._def,maxSize:{value:e,message:dt.toString(r)}})}size(e,r){return this.min(e,r).max(e,r)}nonempty(e){return this.min(1,e)}}z0.create=(t,e)=>new z0({valueType:t,minSize:null,maxSize:null,typeName:wt.ZodSet,...Dt(e)});class Bg extends $t{constructor(){super(...arguments),this.validate=this.implement}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.function)return rt(r,{code:$e.invalid_type,expected:Je.function,received:r.parsedType}),Tt;function n(a,c){return xA({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,AA(),Tb].filter(l=>!!l),issueData:{code:$e.invalid_arguments,argumentsError:c}})}function i(a,c){return xA({data:a,path:r.path,errorMaps:[r.common.contextualErrorMap,r.schemaErrorMap,AA(),Tb].filter(l=>!!l),issueData:{code:$e.invalid_return_type,returnTypeError:c}})}const s={errorMap:r.common.contextualErrorMap},o=r.data;if(this._def.returns instanceof fm){const a=this;return ao(async function(...c){const l=new Rl([]),u=await a._def.args.parseAsync(c,s).catch(g=>{throw l.addIssue(n(c,g)),l}),f=await Reflect.apply(o,this,u);return await a._def.returns._def.type.parseAsync(f,s).catch(g=>{throw l.addIssue(i(f,g)),l})})}else{const a=this;return ao(function(...c){const l=a._def.args.safeParse(c,s);if(!l.success)throw new Rl([n(c,l.error)]);const u=Reflect.apply(o,this,l.data),f=a._def.returns.safeParse(u,s);if(!f.success)throw new Rl([i(u,f.error)]);return f.data})}}parameters(){return this._def.args}returnType(){return this._def.returns}args(...e){return new Bg({...this._def,args:Ou.create(e).rest(P0.create())})}returns(e){return new Bg({...this._def,returns:e})}implement(e){return this.parse(e)}strictImplement(e){return this.parse(e)}static create(e,r,n){return new Bg({args:e||Ou.create([]).rest(P0.create()),returns:r||P0.create(),typeName:wt.ZodFunction,...Dt(n)})}}class Ub extends $t{get schema(){return this._def.getter()}_parse(e){const{ctx:r}=this._processInputParams(e);return this._def.getter()._parse({data:r.data,path:r.path,parent:r})}}Ub.create=(t,e)=>new Ub({getter:t,typeName:wt.ZodLazy,...Dt(e)});class Lb extends $t{_parse(e){if(e.data!==this._def.value){const r=this._getOrReturnCtx(e);return rt(r,{received:r.data,code:$e.invalid_literal,expected:this._def.value}),Tt}return{status:"valid",value:e.data}}get value(){return this._def.value}}Lb.create=(t,e)=>new Lb({value:t,typeName:wt.ZodLiteral,...Dt(e)});function Sz(t,e){return new dh({values:t,typeName:wt.ZodEnum,...Dt(e)})}class dh extends $t{_parse(e){if(typeof e.data!="string"){const r=this._getOrReturnCtx(e),n=this._def.values;return rt(r,{expected:wr.joinValues(n),received:r.parsedType,code:$e.invalid_type}),Tt}if(this._def.values.indexOf(e.data)===-1){const r=this._getOrReturnCtx(e),n=this._def.values;return rt(r,{received:r.data,code:$e.invalid_enum_value,options:n}),Tt}return ao(e.data)}get options(){return this._def.values}get enum(){const e={};for(const r of this._def.values)e[r]=r;return e}get Values(){const e={};for(const r of this._def.values)e[r]=r;return e}get Enum(){const e={};for(const r of this._def.values)e[r]=r;return e}extract(e){return dh.create(e)}exclude(e){return dh.create(this.options.filter(r=>!e.includes(r)))}}dh.create=Sz;class $b extends $t{_parse(e){const r=wr.getValidEnumValues(this._def.values),n=this._getOrReturnCtx(e);if(n.parsedType!==Je.string&&n.parsedType!==Je.number){const i=wr.objectValues(r);return rt(n,{expected:wr.joinValues(i),received:n.parsedType,code:$e.invalid_type}),Tt}if(r.indexOf(e.data)===-1){const i=wr.objectValues(r);return rt(n,{received:n.data,code:$e.invalid_enum_value,options:i}),Tt}return ao(e.data)}get enum(){return this._def.values}}$b.create=(t,e)=>new $b({values:t,typeName:wt.ZodNativeEnum,...Dt(e)});class fm extends $t{unwrap(){return this._def.type}_parse(e){const{ctx:r}=this._processInputParams(e);if(r.parsedType!==Je.promise&&r.common.async===!1)return rt(r,{code:$e.invalid_type,expected:Je.promise,received:r.parsedType}),Tt;const n=r.parsedType===Je.promise?r.data:Promise.resolve(r.data);return ao(n.then(i=>this._def.type.parseAsync(i,{path:r.path,errorMap:r.common.contextualErrorMap})))}}fm.create=(t,e)=>new fm({type:t,typeName:wt.ZodPromise,...Dt(e)});class kl extends $t{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===wt.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(e){const{status:r,ctx:n}=this._processInputParams(e),i=this._def.effect||null,s={addIssue:o=>{rt(n,o),o.fatal?r.abort():r.dirty()},get path(){return n.path}};if(s.addIssue=s.addIssue.bind(s),i.type==="preprocess"){const o=i.transform(n.data,s);return n.common.issues.length?{status:"dirty",value:n.data}:n.common.async?Promise.resolve(o).then(a=>this._def.schema._parseAsync({data:a,path:n.path,parent:n})):this._def.schema._parseSync({data:o,path:n.path,parent:n})}if(i.type==="refinement"){const o=a=>{const c=i.refinement(a,s);if(n.common.async)return Promise.resolve(c);if(c instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return a};if(n.common.async===!1){const a=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});return a.status==="aborted"?Tt:(a.status==="dirty"&&r.dirty(),o(a.value),{status:r.value,value:a.value})}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(a=>a.status==="aborted"?Tt:(a.status==="dirty"&&r.dirty(),o(a.value).then(()=>({status:r.value,value:a.value}))))}if(i.type==="transform")if(n.common.async===!1){const o=this._def.schema._parseSync({data:n.data,path:n.path,parent:n});if(!Ib(o))return o;const a=i.transform(o.value,s);if(a instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:r.value,value:a}}else return this._def.schema._parseAsync({data:n.data,path:n.path,parent:n}).then(o=>Ib(o)?Promise.resolve(i.transform(o.value,s)).then(a=>({status:r.value,value:a})):o);wr.assertNever(i)}}kl.create=(t,e,r)=>new kl({schema:t,typeName:wt.ZodEffects,effect:e,...Dt(r)});kl.createWithPreprocess=(t,e,r)=>new kl({schema:e,effect:{type:"preprocess",transform:t},typeName:wt.ZodEffects,...Dt(r)});class Bf extends $t{_parse(e){return this._getType(e)===Je.undefined?ao(void 0):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}Bf.create=(t,e)=>new Bf({innerType:t,typeName:wt.ZodOptional,...Dt(e)});class G0 extends $t{_parse(e){return this._getType(e)===Je.null?ao(null):this._def.innerType._parse(e)}unwrap(){return this._def.innerType}}G0.create=(t,e)=>new G0({innerType:t,typeName:wt.ZodNullable,...Dt(e)});class Fb extends $t{_parse(e){const{ctx:r}=this._processInputParams(e);let n=r.data;return r.parsedType===Je.undefined&&(n=this._def.defaultValue()),this._def.innerType._parse({data:n,path:r.path,parent:r})}removeDefault(){return this._def.innerType}}Fb.create=(t,e)=>new Fb({innerType:t,typeName:wt.ZodDefault,defaultValue:typeof e.default=="function"?e.default:()=>e.default,...Dt(e)});class IA extends $t{_parse(e){const{ctx:r}=this._processInputParams(e),n={...r,common:{...r.common,issues:[]}},i=this._def.innerType._parse({data:n.data,path:n.path,parent:{...n}});return CA(i)?i.then(s=>({status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new Rl(n.common.issues)},input:n.data})})):{status:"valid",value:i.status==="valid"?i.value:this._def.catchValue({get error(){return new Rl(n.common.issues)},input:n.data})}}removeCatch(){return this._def.innerType}}IA.create=(t,e)=>new IA({innerType:t,typeName:wt.ZodCatch,catchValue:typeof e.catch=="function"?e.catch:()=>e.catch,...Dt(e)});class RA extends $t{_parse(e){if(this._getType(e)!==Je.nan){const n=this._getOrReturnCtx(e);return rt(n,{code:$e.invalid_type,expected:Je.nan,received:n.parsedType}),Tt}return{status:"valid",value:e.data}}}RA.create=t=>new RA({typeName:wt.ZodNaN,...Dt(t)});const pxe=Symbol("zod_brand");class Tz extends $t{_parse(e){const{ctx:r}=this._processInputParams(e),n=r.data;return this._def.type._parse({data:n,path:r.path,parent:r})}unwrap(){return this._def.type}}class L1 extends $t{_parse(e){const{status:r,ctx:n}=this._processInputParams(e);if(n.common.async)return(async()=>{const s=await this._def.in._parseAsync({data:n.data,path:n.path,parent:n});return s.status==="aborted"?Tt:s.status==="dirty"?(r.dirty(),Nz(s.value)):this._def.out._parseAsync({data:s.value,path:n.path,parent:n})})();{const i=this._def.in._parseSync({data:n.data,path:n.path,parent:n});return i.status==="aborted"?Tt:i.status==="dirty"?(r.dirty(),{status:"dirty",value:i.value}):this._def.out._parseSync({data:i.value,path:n.path,parent:n})}}static create(e,r){return new L1({in:e,out:r,typeName:wt.ZodPipeline})}}class PA extends $t{_parse(e){const r=this._def.innerType._parse(e);return Ib(r)&&(r.value=Object.freeze(r.value)),r}}PA.create=(t,e)=>new PA({innerType:t,typeName:wt.ZodReadonly,...Dt(e)});const Iz=(t,e={},r)=>t?um.create().superRefine((n,i)=>{var s,o;if(!t(n)){const a=typeof e=="function"?e(n):typeof e=="string"?{message:e}:e,c=(o=(s=a.fatal)!==null&&s!==void 0?s:r)!==null&&o!==void 0?o:!0,l=typeof a=="string"?{message:a}:a;i.addIssue({code:"custom",...l,fatal:c})}}):um.create(),gxe={object:Ln.lazycreate};var wt;(function(t){t.ZodString="ZodString",t.ZodNumber="ZodNumber",t.ZodNaN="ZodNaN",t.ZodBigInt="ZodBigInt",t.ZodBoolean="ZodBoolean",t.ZodDate="ZodDate",t.ZodSymbol="ZodSymbol",t.ZodUndefined="ZodUndefined",t.ZodNull="ZodNull",t.ZodAny="ZodAny",t.ZodUnknown="ZodUnknown",t.ZodNever="ZodNever",t.ZodVoid="ZodVoid",t.ZodArray="ZodArray",t.ZodObject="ZodObject",t.ZodUnion="ZodUnion",t.ZodDiscriminatedUnion="ZodDiscriminatedUnion",t.ZodIntersection="ZodIntersection",t.ZodTuple="ZodTuple",t.ZodRecord="ZodRecord",t.ZodMap="ZodMap",t.ZodSet="ZodSet",t.ZodFunction="ZodFunction",t.ZodLazy="ZodLazy",t.ZodLiteral="ZodLiteral",t.ZodEnum="ZodEnum",t.ZodEffects="ZodEffects",t.ZodNativeEnum="ZodNativeEnum",t.ZodOptional="ZodOptional",t.ZodNullable="ZodNullable",t.ZodDefault="ZodDefault",t.ZodCatch="ZodCatch",t.ZodPromise="ZodPromise",t.ZodBranded="ZodBranded",t.ZodPipeline="ZodPipeline",t.ZodReadonly="ZodReadonly"})(wt||(wt={}));const mxe=(t,e={message:`Input not instance of ${t.name}`})=>Iz(r=>r instanceof t,e),Rz=bl.create,Pz=uh.create,yxe=RA.create,_xe=fh.create,Oz=Rb.create,bxe=q0.create,wxe=NA.create,vxe=Pb.create,Exe=Ob.create,Axe=um.create,xxe=P0.create,Cxe=Yf.create,Nxe=SA.create,Sxe=Pl.create,Txe=Ln.create,Ixe=Ln.strictCreate,Rxe=Db.create,Pxe=Xx.create,Oxe=kb.create,Dxe=Ou.create,kxe=Mb.create,Mxe=TA.create,Uxe=z0.create,Lxe=Bg.create,$xe=Ub.create,Fxe=Lb.create,Bxe=dh.create,Hxe=$b.create,jxe=fm.create,yU=kl.create,Wxe=Bf.create,qxe=G0.create,zxe=kl.createWithPreprocess,Gxe=L1.create,Kxe=()=>Rz().optional(),Vxe=()=>Pz().optional(),Jxe=()=>Oz().optional(),Yxe={string:(t=>bl.create({...t,coerce:!0})),number:(t=>uh.create({...t,coerce:!0})),boolean:(t=>Rb.create({...t,coerce:!0})),bigint:(t=>fh.create({...t,coerce:!0})),date:(t=>q0.create({...t,coerce:!0}))},Xxe=Tt;var V=Object.freeze({__proto__:null,defaultErrorMap:Tb,setErrorMap:txe,getErrorMap:AA,makeIssue:xA,EMPTY_PATH:rxe,addIssueToContext:rt,ParseStatus:Hs,INVALID:Tt,DIRTY:Nz,OK:ao,isAborted:U3,isDirty:L3,isValid:Ib,isAsync:CA,get util(){return wr},get objectUtil(){return M3},ZodParsedType:Je,getParsedType:Vd,ZodType:$t,ZodString:bl,ZodNumber:uh,ZodBigInt:fh,ZodBoolean:Rb,ZodDate:q0,ZodSymbol:NA,ZodUndefined:Pb,ZodNull:Ob,ZodAny:um,ZodUnknown:P0,ZodNever:Yf,ZodVoid:SA,ZodArray:Pl,ZodObject:Ln,ZodUnion:Db,ZodDiscriminatedUnion:Xx,ZodIntersection:kb,ZodTuple:Ou,ZodRecord:Mb,ZodMap:TA,ZodSet:z0,ZodFunction:Bg,ZodLazy:Ub,ZodLiteral:Lb,ZodEnum:dh,ZodNativeEnum:$b,ZodPromise:fm,ZodEffects:kl,ZodTransformer:kl,ZodOptional:Bf,ZodNullable:G0,ZodDefault:Fb,ZodCatch:IA,ZodNaN:RA,BRAND:pxe,ZodBranded:Tz,ZodPipeline:L1,ZodReadonly:PA,custom:Iz,Schema:$t,ZodSchema:$t,late:gxe,get ZodFirstPartyTypeKind(){return wt},coerce:Yxe,any:Axe,array:Sxe,bigint:_xe,boolean:Oz,date:bxe,discriminatedUnion:Pxe,effect:yU,enum:Bxe,function:Lxe,instanceof:mxe,intersection:Oxe,lazy:$xe,literal:Fxe,map:Mxe,nan:yxe,nativeEnum:Hxe,never:Cxe,null:Exe,nullable:qxe,number:Pz,object:Txe,oboolean:Jxe,onumber:Vxe,optional:Wxe,ostring:Kxe,pipeline:Gxe,preprocess:zxe,promise:jxe,record:kxe,set:Uxe,strictObject:Ixe,string:Rz,symbol:wxe,transformer:yU,tuple:Dxe,undefined:vxe,union:Rxe,unknown:xxe,void:Nxe,NEVER:Xxe,ZodIssueCode:$e,quotelessJson:exe,ZodError:Rl});const Wn=V.object({message:V.string()});function Qe(t){return V.literal(nt[t])}const Qx=V.object({serializedMessage:V.string().optional(),accountAddress:V.string(),chainId:V.string(),notBefore:V.string().optional(),domain:V.string(),uri:V.string(),version:V.string(),nonce:V.string(),statement:V.string().optional(),resources:V.array(V.string()).optional(),requestId:V.string().optional(),issuedAt:V.string().optional(),expirationTime:V.string().optional()});V.object({accessList:V.array(V.string()),blockHash:V.string().nullable(),blockNumber:V.string().nullable(),chainId:V.string().or(V.number()),from:V.string(),gas:V.string(),hash:V.string(),input:V.string().nullable(),maxFeePerGas:V.string(),maxPriorityFeePerGas:V.string(),nonce:V.string(),r:V.string(),s:V.string(),to:V.string(),transactionIndex:V.string().nullable(),type:V.string(),v:V.string(),value:V.string()});const Qxe=V.object({chainId:V.string().or(V.number()),rpcUrl:V.optional(V.string())}),Zxe=V.object({email:V.string().email()}),e2e=V.object({otp:V.string()}),t2e=V.object({uri:V.string(),preferredAccountType:V.optional(V.string()),chainId:V.optional(V.string().or(V.number())),siwxMessage:V.optional(Qx),rpcUrl:V.optional(V.string())}),r2e=V.object({chainId:V.optional(V.string().or(V.number())),preferredAccountType:V.optional(V.string()),socialUri:V.optional(V.string()),siwxMessage:V.optional(Qx),rpcUrl:V.optional(V.string())}),n2e=V.object({provider:V.enum(["google","github","apple","facebook","x","discord"])}),i2e=V.object({email:V.string().email()}),s2e=V.object({otp:V.string()}),o2e=V.object({otp:V.string()}),a2e=V.object({themeMode:V.optional(V.enum(["light","dark"])),themeVariables:V.optional(V.record(V.string(),V.string().or(V.number()))),w3mThemeVariables:V.optional(V.record(V.string(),V.string()))}),c2e=V.object({metadata:V.object({name:V.string(),description:V.string(),url:V.string(),icons:V.array(V.string())}).optional(),sdkVersion:V.string().optional(),sdkType:V.string().optional(),projectId:V.string()}),l2e=V.object({type:V.string()}),u2e=V.object({action:V.enum(["VERIFY_DEVICE","VERIFY_OTP","CONNECT"])}),f2e=V.object({url:V.string()}),d2e=V.object({userName:V.string()}),h2e=V.object({email:V.string().optional().nullable(),address:V.string(),chainId:V.string().or(V.number()),accounts:V.array(V.object({address:V.string(),type:V.enum([Li.ACCOUNT_TYPES.EOA,Li.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),userName:V.string().optional().nullable(),preferredAccountType:V.optional(V.string()),signature:V.string().optional(),message:V.string().optional(),siwxMessage:V.optional(Qx)}),p2e=V.object({action:V.enum(["VERIFY_PRIMARY_OTP","VERIFY_SECONDARY_OTP"])}),g2e=V.object({email:V.string().email().optional().nullable(),address:V.string(),chainId:V.string().or(V.number()),smartAccountDeployed:V.optional(V.boolean()),accounts:V.array(V.object({address:V.string(),type:V.enum([Li.ACCOUNT_TYPES.EOA,Li.ACCOUNT_TYPES.SMART_ACCOUNT])})).optional(),preferredAccountType:V.optional(V.string()),signature:V.string().optional(),message:V.string().optional(),siwxMessage:V.optional(Qx)}),m2e=V.object({uri:V.string()}),y2e=V.object({isConnected:V.boolean()}),_2e=V.object({chainId:V.string().or(V.number())}),b2e=V.object({chainId:V.string().or(V.number())}),w2e=V.object({newEmail:V.string().email()}),v2e=V.object({smartAccountEnabledNetworks:V.array(V.number())});V.object({address:V.string(),isDeployed:V.boolean()});const E2e=V.object({version:V.string().optional()}),A2e=V.object({type:V.string(),address:V.string()}),x2e=V.any(),C2e=V.object({method:V.literal("eth_accounts")}),N2e=V.object({method:V.literal("eth_blockNumber")}),S2e=V.object({method:V.literal("eth_call"),params:V.array(V.any())}),T2e=V.object({method:V.literal("eth_chainId")}),I2e=V.object({method:V.literal("eth_estimateGas"),params:V.array(V.any())}),R2e=V.object({method:V.literal("eth_feeHistory"),params:V.array(V.any())}),P2e=V.object({method:V.literal("eth_gasPrice")}),O2e=V.object({method:V.literal("eth_getAccount"),params:V.array(V.any())}),D2e=V.object({method:V.literal("eth_getBalance"),params:V.array(V.any())}),k2e=V.object({method:V.literal("eth_getBlockByHash"),params:V.array(V.any())}),M2e=V.object({method:V.literal("eth_getBlockByNumber"),params:V.array(V.any())}),U2e=V.object({method:V.literal("eth_getBlockReceipts"),params:V.array(V.any())}),L2e=V.object({method:V.literal("eth_getBlockTransactionCountByHash"),params:V.array(V.any())}),$2e=V.object({method:V.literal("eth_getBlockTransactionCountByNumber"),params:V.array(V.any())}),F2e=V.object({method:V.literal("eth_getCode"),params:V.array(V.any())}),B2e=V.object({method:V.literal("eth_getFilterChanges"),params:V.array(V.any())}),H2e=V.object({method:V.literal("eth_getFilterLogs"),params:V.array(V.any())}),j2e=V.object({method:V.literal("eth_getLogs"),params:V.array(V.any())}),W2e=V.object({method:V.literal("eth_getProof"),params:V.array(V.any())}),q2e=V.object({method:V.literal("eth_getStorageAt"),params:V.array(V.any())}),z2e=V.object({method:V.literal("eth_getTransactionByBlockHashAndIndex"),params:V.array(V.any())}),G2e=V.object({method:V.literal("eth_getTransactionByBlockNumberAndIndex"),params:V.array(V.any())}),K2e=V.object({method:V.literal("eth_getTransactionByHash"),params:V.array(V.any())}),V2e=V.object({method:V.literal("eth_getTransactionCount"),params:V.array(V.any())}),J2e=V.object({method:V.literal("eth_getTransactionReceipt"),params:V.array(V.any())}),Y2e=V.object({method:V.literal("eth_getUncleCountByBlockHash"),params:V.array(V.any())}),X2e=V.object({method:V.literal("eth_getUncleCountByBlockNumber"),params:V.array(V.any())}),Q2e=V.object({method:V.literal("eth_maxPriorityFeePerGas")}),Z2e=V.object({method:V.literal("eth_newBlockFilter")}),eCe=V.object({method:V.literal("eth_newFilter"),params:V.array(V.any())}),tCe=V.object({method:V.literal("eth_newPendingTransactionFilter")}),rCe=V.object({method:V.literal("eth_sendRawTransaction"),params:V.array(V.any())}),nCe=V.object({method:V.literal("eth_syncing"),params:V.array(V.any())}),iCe=V.object({method:V.literal("eth_uninstallFilter"),params:V.array(V.any())}),_U=V.object({method:V.literal("personal_sign"),params:V.array(V.any())}),sCe=V.object({method:V.literal("eth_signTypedData_v4"),params:V.array(V.any())}),oCe=V.object({method:V.literal("eth_sendTransaction"),params:V.array(V.any())}),aCe=V.object({method:V.literal("solana_signMessage"),params:V.object({message:V.string(),pubkey:V.string()})}),cCe=V.object({method:V.literal("solana_signTransaction"),params:V.object({transaction:V.string()})}),lCe=V.object({method:V.literal("solana_signAllTransactions"),params:V.object({transactions:V.array(V.string())})}),uCe=V.object({method:V.literal("solana_signAndSendTransaction"),params:V.object({transaction:V.string(),options:V.object({skipPreflight:V.boolean().optional(),preflightCommitment:V.enum(["processed","confirmed","finalized","recent","single","singleGossip","root","max"]).optional(),maxRetries:V.number().optional(),minContextSlot:V.number().optional()}).optional()})}),fCe=V.object({method:V.literal("wallet_sendCalls"),params:V.array(V.object({chainId:V.string().or(V.number()).optional(),from:V.string().optional(),version:V.string().optional(),capabilities:V.any().optional(),calls:V.array(V.object({to:V.string().startsWith("0x"),data:V.string().startsWith("0x").optional(),value:V.string().optional()}))}))}),dCe=V.object({method:V.literal("wallet_getCallsStatus"),params:V.array(V.string())}),hCe=V.object({method:V.literal("wallet_getCapabilities"),params:V.array(V.string().or(V.number()).optional()).optional()}),pCe=V.object({method:V.literal("wallet_grantPermissions"),params:V.array(V.any())}),gCe=V.object({method:V.literal("wallet_revokePermissions"),params:V.any()}),mCe=V.object({method:V.literal("wallet_getAssets"),params:V.any()}),bU=V.object({token:V.string()}),Ze=V.object({id:V.string().optional()}),mS={appEvent:Ze.extend({type:Qe("APP_SWITCH_NETWORK"),payload:Qxe}).or(Ze.extend({type:Qe("APP_CONNECT_EMAIL"),payload:Zxe})).or(Ze.extend({type:Qe("APP_CONNECT_DEVICE")})).or(Ze.extend({type:Qe("APP_CONNECT_OTP"),payload:e2e})).or(Ze.extend({type:Qe("APP_CONNECT_SOCIAL"),payload:t2e})).or(Ze.extend({type:Qe("APP_GET_FARCASTER_URI")})).or(Ze.extend({type:Qe("APP_CONNECT_FARCASTER")})).or(Ze.extend({type:Qe("APP_GET_USER"),payload:V.optional(r2e)})).or(Ze.extend({type:Qe("APP_GET_SOCIAL_REDIRECT_URI"),payload:n2e})).or(Ze.extend({type:Qe("APP_SIGN_OUT")})).or(Ze.extend({type:Qe("APP_IS_CONNECTED"),payload:V.optional(bU)})).or(Ze.extend({type:Qe("APP_GET_CHAIN_ID")})).or(Ze.extend({type:Qe("APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS")})).or(Ze.extend({type:Qe("APP_INIT_SMART_ACCOUNT")})).or(Ze.extend({type:Qe("APP_SET_PREFERRED_ACCOUNT"),payload:l2e})).or(Ze.extend({type:Qe("APP_RPC_REQUEST"),payload:_U.or(mCe).or(C2e).or(N2e).or(S2e).or(T2e).or(I2e).or(R2e).or(P2e).or(O2e).or(D2e).or(k2e).or(M2e).or(U2e).or(L2e).or($2e).or(F2e).or(B2e).or(H2e).or(j2e).or(W2e).or(q2e).or(z2e).or(G2e).or(K2e).or(V2e).or(J2e).or(Y2e).or(X2e).or(Q2e).or(Z2e).or(eCe).or(tCe).or(rCe).or(nCe).or(iCe).or(_U).or(sCe).or(oCe).or(aCe).or(cCe).or(lCe).or(uCe).or(dCe).or(fCe).or(hCe).or(pCe).or(gCe).and(V.object({chainId:V.string().or(V.number()).optional(),chainNamespace:V.enum(["eip155","solana","polkadot","bip122","cosmos"]).optional(),rpcUrl:V.string().optional()}))})).or(Ze.extend({type:Qe("APP_UPDATE_EMAIL"),payload:i2e})).or(Ze.extend({type:Qe("APP_UPDATE_EMAIL_PRIMARY_OTP"),payload:s2e})).or(Ze.extend({type:Qe("APP_UPDATE_EMAIL_SECONDARY_OTP"),payload:o2e})).or(Ze.extend({type:Qe("APP_SYNC_THEME"),payload:a2e})).or(Ze.extend({type:Qe("APP_SYNC_DAPP_DATA"),payload:c2e})).or(Ze.extend({type:Qe("APP_RELOAD")})).or(Ze.extend({type:Qe("APP_RPC_ABORT")})),frameEvent:Ze.extend({type:Qe("FRAME_SWITCH_NETWORK_ERROR"),payload:Wn}).or(Ze.extend({type:Qe("FRAME_SWITCH_NETWORK_SUCCESS"),payload:b2e})).or(Ze.extend({type:Qe("FRAME_CONNECT_EMAIL_SUCCESS"),payload:u2e})).or(Ze.extend({type:Qe("FRAME_CONNECT_EMAIL_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_GET_FARCASTER_URI_SUCCESS"),payload:f2e})).or(Ze.extend({type:Qe("FRAME_GET_FARCASTER_URI_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_CONNECT_FARCASTER_SUCCESS"),payload:d2e})).or(Ze.extend({type:Qe("FRAME_CONNECT_FARCASTER_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_CONNECT_OTP_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_CONNECT_OTP_SUCCESS")})).or(Ze.extend({type:Qe("FRAME_CONNECT_DEVICE_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_CONNECT_DEVICE_SUCCESS")})).or(Ze.extend({type:Qe("FRAME_CONNECT_SOCIAL_SUCCESS"),payload:h2e})).or(Ze.extend({type:Qe("FRAME_CONNECT_SOCIAL_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_GET_USER_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_GET_USER_SUCCESS"),payload:g2e})).or(Ze.extend({type:Qe("FRAME_GET_SOCIAL_REDIRECT_URI_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_GET_SOCIAL_REDIRECT_URI_SUCCESS"),payload:m2e})).or(Ze.extend({type:Qe("FRAME_SIGN_OUT_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_SIGN_OUT_SUCCESS")})).or(Ze.extend({type:Qe("FRAME_IS_CONNECTED_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_IS_CONNECTED_SUCCESS"),payload:y2e})).or(Ze.extend({type:Qe("FRAME_GET_CHAIN_ID_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_GET_CHAIN_ID_SUCCESS"),payload:_2e})).or(Ze.extend({type:Qe("FRAME_RPC_REQUEST_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_RPC_REQUEST_SUCCESS"),payload:x2e})).or(Ze.extend({type:Qe("FRAME_SESSION_UPDATE"),payload:bU})).or(Ze.extend({type:Qe("FRAME_UPDATE_EMAIL_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_UPDATE_EMAIL_SUCCESS"),payload:p2e})).or(Ze.extend({type:Qe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_UPDATE_EMAIL_PRIMARY_OTP_SUCCESS")})).or(Ze.extend({type:Qe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_UPDATE_EMAIL_SECONDARY_OTP_SUCCESS"),payload:w2e})).or(Ze.extend({type:Qe("FRAME_SYNC_THEME_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_SYNC_THEME_SUCCESS")})).or(Ze.extend({type:Qe("FRAME_SYNC_DAPP_DATA_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_SYNC_DAPP_DATA_SUCCESS")})).or(Ze.extend({type:Qe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_SUCCESS"),payload:v2e})).or(Ze.extend({type:Qe("FRAME_GET_SMART_ACCOUNT_ENABLED_NETWORKS_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_INIT_SMART_ACCOUNT_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_SET_PREFERRED_ACCOUNT_SUCCESS"),payload:A2e})).or(Ze.extend({type:Qe("FRAME_SET_PREFERRED_ACCOUNT_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_READY"),payload:E2e})).or(Ze.extend({type:Qe("FRAME_RELOAD_ERROR"),payload:Wn})).or(Ze.extend({type:Qe("FRAME_RELOAD_SUCCESS")}))};function yS(t,e={}){return typeof e?.type=="string"&&e?.type?.includes(t)}function yCe({projectId:t,chainId:e,enableLogger:r,rpcUrl:n=we.BLOCKCHAIN_API_RPC_URL,enableCloudAuthAccount:i=!1}){const s=new URL(voe);return s.searchParams.set("projectId",t),s.searchParams.set("chainId",String(e)),s.searchParams.set("version",Aoe),s.searchParams.set("enableLogger",String(r)),s.searchParams.set("rpcUrl",n),i&&s.searchParams.set("enableCloudAuthAccount","true"),s.toString()}class _Ce{constructor({projectId:e,isAppClient:r=!1,chainId:n="eip155:1",enableLogger:i=!0,enableCloudAuthAccount:s=!1,rpcUrl:o=we.BLOCKCHAIN_API_RPC_URL}){if(this.iframe=null,this.iframeIsReady=!1,this.initFrame=()=>{const a=document.getElementById("w3m-iframe");this.iframe&&!a&&document.body.appendChild(this.iframe)},this.events={registerFrameEventHandler:(a,c,l)=>{function u({data:f}){if(!yS(nt.FRAME_EVENT_KEY,f))return;const h=mS.frameEvent.safeParse(f);if(!h.success){console.warn("W3mFrame: invalid frame event",h.error.message);return}h.data?.id===a&&(c(h.data),window.removeEventListener("message",u))}la.isClient&&(window.addEventListener("message",u),l.addEventListener("abort",()=>{window.removeEventListener("message",u)}))},onFrameEvent:a=>{la.isClient&&window.addEventListener("message",({data:c})=>{if(!yS(nt.FRAME_EVENT_KEY,c))return;const l=mS.frameEvent.safeParse(c);l.success?a(l.data):console.warn("W3mFrame: invalid frame event",l.error.message)})},onAppEvent:a=>{la.isClient&&window.addEventListener("message",({data:c})=>{if(!yS(nt.APP_EVENT_KEY,c))return;const l=mS.appEvent.safeParse(c);l.success||console.warn("W3mFrame: invalid app event",l.error.message),a(c)})},postAppEvent:a=>{if(la.isClient){if(!this.iframe?.contentWindow)throw new Error("W3mFrame: iframe is not set");this.iframe.contentWindow.postMessage(a,"*")}},postFrameEvent:a=>{if(la.isClient){if(!parent)throw new Error("W3mFrame: parent is not set");parent.postMessage(a,"*")}}},this.projectId=e,this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),this.rpcUrl=o,r&&(this.frameLoadPromise=new Promise((a,c)=>{this.frameLoadPromiseResolver={resolve:a,reject:c}}),la.isClient)){const a=document.createElement("iframe");a.id="w3m-iframe",a.src=yCe({projectId:e,chainId:n,enableLogger:i,rpcUrl:this.rpcUrl,enableCloudAuthAccount:s}),a.name="w3m-secure-iframe",a.style.position="fixed",a.style.zIndex="999999",a.style.display="none",a.style.border="none",a.style.animationDelay="0s, 50ms",a.style.borderBottomLeftRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",a.style.borderBottomRightRadius="clamp(0px, var(--apkt-borderRadius-8), 44px)",this.iframe=a,this.iframe.onerror=()=>{this.frameLoadPromiseResolver?.reject("Unable to load email login dependency")},this.events.onFrameEvent(c=>{c.type==="@w3m-frame/READY"&&(this.iframeIsReady=!0,this.frameLoadPromiseResolver?.resolve(void 0))})}}get networks(){const e=["eip155:1","eip155:5","eip155:11155111","eip155:10","eip155:420","eip155:42161","eip155:421613","eip155:137","eip155:80001","eip155:42220","eip155:1313161554","eip155:1313161555","eip155:56","eip155:97","eip155:43114","eip155:43113","eip155:324","eip155:280","eip155:100","eip155:8453","eip155:84531","eip155:84532","eip155:7777777","eip155:999","solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp","solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z","solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1"].map(r=>({[r]:{rpcUrl:`${this.rpcUrl}/v1/?chainId=${r}&projectId=${this.projectId}`,chainId:r}}));return Object.assign({},...e)}}class bCe{constructor(e){const r=Em({level:Eoe}),{logger:n,chunkLoggerController:i}=RP({opts:r});this.logger=qs(n,this.constructor.name),this.chunkLoggerController=i,typeof window<"u"&&this.chunkLoggerController?.downloadLogsBlobInBrowser&&(window.downloadAppKitLogsBlob||(window.downloadAppKitLogsBlob={}),window.downloadAppKitLogsBlob.sdk=()=>{this.chunkLoggerController?.downloadLogsBlobInBrowser&&this.chunkLoggerController.downloadLogsBlobInBrowser({projectId:e})})}}class wCe{constructor({projectId:e,chainId:r,enableLogger:n=!0,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:c}){this.openRpcRequests=new Map,this.isInitialized=!1,n&&(this.w3mLogger=new bCe(e)),this.abortController=s,this.getActiveCaipNetwork=o,this.getCaipNetworks=a;const l=this.getRpcUrl(r);this.w3mFrame=new _Ce({projectId:e,isAppClient:!0,chainId:r,enableLogger:n,rpcUrl:l,enableCloudAuthAccount:c}),this.onTimeout=i,this.getLoginEmailUsed()&&this.createFrame()}async createFrame(){this.w3mFrame.initFrame(),this.initPromise=new Promise(e=>{this.w3mFrame.events.onFrameEvent(r=>{r.type===nt.FRAME_READY&&setTimeout(()=>{e()},500)})}),await this.initPromise,this.isInitialized=!0,this.initPromise=void 0}async init(){if(!this.isInitialized){if(this.initPromise){await this.initPromise;return}await this.createFrame()}}getLoginEmailUsed(){return!!ss.get(nt.EMAIL_LOGIN_USED_KEY)}getEmail(){return ss.get(nt.EMAIL)}getUsername(){return ss.get(nt.SOCIAL_USERNAME)}async reload(){try{await this.appEvent({type:nt.APP_RELOAD})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error reloading iframe"),e}}async connectEmail(e){try{la.checkIfAllowedToTriggerEmail(),await this.init();const r=await this.appEvent({type:nt.APP_CONNECT_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting email"),r}}async connectDevice(){try{return this.appEvent({type:nt.APP_CONNECT_DEVICE})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting device"),e}}async connectOtp(e){try{return this.appEvent({type:nt.APP_CONNECT_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting otp"),r}}async isConnected(){try{if(!this.getLoginEmailUsed())return{isConnected:!1};const e=await this.appEvent({type:nt.APP_IS_CONNECTED});return e?.isConnected||this.deleteAuthLoginCache(),e}catch(e){throw this.deleteAuthLoginCache(),this.w3mLogger?.logger.error({error:e},"Error checking connection"),e}}async getChainId(){try{const e=await this.appEvent({type:nt.APP_GET_CHAIN_ID});return this.setLastUsedChainId(e.chainId),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting chain id"),e}}async getSocialRedirectUri(e){try{return await this.init(),this.appEvent({type:nt.APP_GET_SOCIAL_REDIRECT_URI,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error getting social redirect uri"),r}}async updateEmail(e){try{const r=await this.appEvent({type:nt.APP_UPDATE_EMAIL,payload:e});return this.setNewLastEmailLoginTime(),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email"),r}}async updateEmailPrimaryOtp(e){try{return this.appEvent({type:nt.APP_UPDATE_EMAIL_PRIMARY_OTP,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email primary otp"),r}}async updateEmailSecondaryOtp(e){try{const r=await this.appEvent({type:nt.APP_UPDATE_EMAIL_SECONDARY_OTP,payload:e});return this.setLoginSuccess(r.newEmail),r}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error updating email secondary otp"),r}}async syncTheme(e){try{return this.appEvent({type:nt.APP_SYNC_THEME,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing theme"),r}}async syncDappData(e){try{return this.appEvent({type:nt.APP_SYNC_DAPP_DATA,payload:e})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error syncing dapp data"),r}}async getSmartAccountEnabledNetworks(){try{const e=await this.appEvent({type:nt.APP_GET_SMART_ACCOUNT_ENABLED_NETWORKS});return this.persistSmartAccountEnabledNetworks(e.smartAccountEnabledNetworks),e}catch(e){throw this.persistSmartAccountEnabledNetworks([]),this.w3mLogger?.logger.error({error:e},"Error getting smart account enabled networks"),e}}async setPreferredAccount(e){try{return this.appEvent({type:nt.APP_SET_PREFERRED_ACCOUNT,payload:{type:e}})}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error setting preferred account"),r}}async connect(e){if(e?.socialUri)try{await this.init();const r=this.getRpcUrl(e.chainId),n=await this.appEvent({type:nt.APP_CONNECT_SOCIAL,payload:{uri:e.socialUri,preferredAccountType:e.preferredAccountType,chainId:e.chainId,siwxMessage:e.siwxMessage,rpcUrl:r}});return n.userName&&this.setSocialLoginSuccess(n.userName),this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting social"),r}else try{const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.getUser({chainId:r,preferredAccountType:e?.preferredAccountType,siwxMessage:e?.siwxMessage,rpcUrl:this.getRpcUrl(r)});return this.setLoginSuccess(n.email),this.setLastUsedChainId(n.chainId),this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async getUser(e){try{await this.init();const r=e?.chainId||this.getLastUsedChainId()||1,n=await this.appEvent({type:nt.APP_GET_USER,payload:{...e,chainId:r,rpcUrl:this.getRpcUrl(r)}});return this.user=n,n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error connecting"),r}}async connectSocial({uri:e,chainId:r,preferredAccountType:n}){try{await this.init();const i=this.getRpcUrl(r),s=await this.appEvent({type:nt.APP_CONNECT_SOCIAL,payload:{uri:e,chainId:r,rpcUrl:i,preferredAccountType:n}});return s.userName&&this.setSocialLoginSuccess(s.userName),s}catch(i){throw this.w3mLogger?.logger.error({error:i},"Error connecting social"),i}}async getFarcasterUri(){try{return await this.init(),await this.appEvent({type:nt.APP_GET_FARCASTER_URI})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error getting farcaster uri"),e}}async connectFarcaster(){try{const e=await this.appEvent({type:nt.APP_CONNECT_FARCASTER});return e.userName&&this.setSocialLoginSuccess(e.userName),e}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error connecting farcaster"),e}}async switchNetwork({chainId:e}){try{const r=this.getRpcUrl(e),n=await this.appEvent({type:nt.APP_SWITCH_NETWORK,payload:{chainId:e,rpcUrl:r}});return this.setLastUsedChainId(n.chainId),n}catch(r){throw this.w3mLogger?.logger.error({error:r},"Error switching network"),r}}async disconnect(){try{return this.deleteAuthLoginCache(),await new Promise(async r=>{const n=setTimeout(()=>{r()},3e3);await this.appEvent({type:nt.APP_SIGN_OUT}),clearTimeout(n),r()})}catch(e){throw this.w3mLogger?.logger.error({error:e},"Error disconnecting"),e}}async request(e){const r=e;try{if(Li.GET_CHAIN_ID===e.method)return this.getLastUsedChainId();const n=e.chainNamespace||"eip155",i=this.getActiveCaipNetwork(n)?.id;r.chainNamespace=n,r.chainId=i,r.rpcUrl=this.getRpcUrl(i),this.rpcRequestHandler?.(e);const s=await this.appEvent({type:nt.APP_RPC_REQUEST,payload:r});return this.rpcSuccessHandler?.(s,r),s}catch(n){throw this.rpcErrorHandler?.(n,r),this.w3mLogger?.logger.error({error:n},"Error requesting"),n}}onRpcRequest(e){this.rpcRequestHandler=e}onRpcSuccess(e){this.rpcSuccessHandler=e}onRpcError(e){this.rpcErrorHandler=e}onIsConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===nt.FRAME_IS_CONNECTED_SUCCESS&&r.payload.isConnected&&e()})}onNotConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===nt.FRAME_IS_CONNECTED_ERROR&&e(),r.type===nt.FRAME_IS_CONNECTED_SUCCESS&&!r.payload.isConnected&&e()})}onConnect(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===nt.FRAME_GET_USER_SUCCESS&&e(r.payload)})}onSocialConnected(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===nt.FRAME_CONNECT_SOCIAL_SUCCESS&&e(r.payload)})}async getCapabilities(){try{return await this.request({method:"wallet_getCapabilities"})||{}}catch{return{}}}onSetPreferredAccount(e){this.w3mFrame.events.onFrameEvent(r=>{r.type===nt.FRAME_SET_PREFERRED_ACCOUNT_SUCCESS?e(r.payload):r.type===nt.FRAME_SET_PREFERRED_ACCOUNT_ERROR&&e({type:Li.ACCOUNT_TYPES.EOA})})}getAvailableChainIds(){return Object.keys(this.w3mFrame.networks)}async rejectRpcRequests(){try{await Promise.all(Array.from(this.openRpcRequests.values()).map(async({abortController:e,method:r})=>{Li.SAFE_RPC_METHODS.includes(r)||e.abort(),await this.appEvent({type:nt.APP_RPC_ABORT})})),this.openRpcRequests.clear()}catch(e){this.w3mLogger?.logger.error({error:e},"Error aborting RPC request")}}async appEvent(e){let r,n;function i(c){return c.replace("@w3m-app/","")}const s=[nt.APP_SYNC_DAPP_DATA,nt.APP_SYNC_THEME,nt.APP_SET_PREFERRED_ACCOUNT],o=i(e.type);return!this.w3mFrame.iframeIsReady&&!s.includes(e.type)&&(n=setTimeout(()=>{this.onTimeout?.("iframe_load_failed"),this.abortController.abort()},2e4)),await this.w3mFrame.frameLoadPromise,clearTimeout(n),[nt.APP_CONNECT_EMAIL,nt.APP_CONNECT_DEVICE,nt.APP_CONNECT_OTP,nt.APP_CONNECT_SOCIAL,nt.APP_GET_SOCIAL_REDIRECT_URI].map(i).includes(o)&&(r=setTimeout(()=>{this.onTimeout?.("iframe_request_timeout"),this.abortController.abort()},12e4)),new Promise((c,l)=>{const u=Math.random().toString(36).substring(7);this.w3mLogger?.logger.info?.({event:e,id:u},"Sending app event"),this.w3mFrame.events.postAppEvent({...e,id:u});const f=new AbortController;if(o==="RPC_REQUEST"){const g=e;this.openRpcRequests.set(u,{...g.payload,abortController:f})}f.signal.addEventListener("abort",()=>{o==="RPC_REQUEST"?l(new Error("Request was aborted")):o!=="GET_FARCASTER_URI"&&l(new Error("Something went wrong"))});const h=(g,_)=>{g.id===u&&(_?.logger.info?.({framEvent:g,id:u},"Received frame response"),this.openRpcRequests.delete(g.id),g.type===`@w3m-frame/${o}_SUCCESS`?(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in g&&c(g.payload),c(void 0)):g.type===`@w3m-frame/${o}_ERROR`&&(r&&clearTimeout(r),n&&clearTimeout(n),"payload"in g&&l(new Error(g.payload?.message||"An error occurred")),l(new Error("An error occurred"))))};this.w3mFrame.events.registerFrameEventHandler(u,g=>h(g,this.w3mLogger),this.abortController.signal)})}setNewLastEmailLoginTime(){ss.set(nt.LAST_EMAIL_LOGIN_TIME,Date.now().toString())}setSocialLoginSuccess(e){ss.set(nt.SOCIAL_USERNAME,e)}setLoginSuccess(e){e&&ss.set(nt.EMAIL,e),ss.set(nt.EMAIL_LOGIN_USED_KEY,"true"),ss.delete(nt.LAST_EMAIL_LOGIN_TIME)}deleteAuthLoginCache(){ss.delete(nt.EMAIL_LOGIN_USED_KEY),ss.delete(nt.EMAIL),ss.delete(nt.LAST_USED_CHAIN_KEY),ss.delete(nt.SOCIAL_USERNAME)}setLastUsedChainId(e){e&&ss.set(nt.LAST_USED_CHAIN_KEY,String(e))}getLastUsedChainId(){const e=ss.get(nt.LAST_USED_CHAIN_KEY)??void 0,r=Number(e);return isNaN(r)?e:r}persistSmartAccountEnabledNetworks(e){ss.set(nt.SMART_ACCOUNT_ENABLED_NETWORKS,e.join(","))}getRpcUrl(e){let r=e===void 0?void 0:"eip155";typeof e=="string"&&(e.includes(":")?r=ro.parseCaipNetworkId(e)?.chainNamespace:Number.isInteger(Number(e))?r="eip155":r="solana");const n=this.getCaipNetworks(r);return(e?n.find(s=>String(s.id)===String(e)||s.caipNetworkId===e):n[0])?.rpcUrls.default.http?.[0]}}class I_{constructor(){}static getInstance({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a}){return I_.instance||(I_.instance=new wCe({projectId:e,chainId:r,enableLogger:n,onTimeout:i,abortController:s,getActiveCaipNetwork:o,getCaipNetworks:a,enableCloudAuthAccount:!!Te.state.remoteFeatures?.emailCapture})),I_.instance}}var wU={};const vCe={ACCOUNT_TABS:[{label:"Tokens"},{label:"NFTs"},{label:"Activity"}],SECURE_SITE_ORIGIN:(typeof process<"u"&&typeof wU<"u"?wU.NEXT_PUBLIC_SECURE_SITE_ORIGIN:void 0)||"https://secure.walletconnect.org",VIEW_DIRECTION:{Next:"next",Prev:"prev"},DEFAULT_CONNECT_METHOD_ORDER:["email","social","wallet"],ANIMATION_DURATIONS:{HeaderText:120},VIEWS_WITH_LEGAL_FOOTER:["Connect","ConnectWallets","OnRampTokenSelect","OnRampFiatSelect","OnRampProviders"],VIEWS_WITH_DEFAULT_FOOTER:["Networks"]},F3={filterOutDuplicatesByRDNS(t){const e=Te.state.enableEIP6963?Be.state.connectors:[],r=De.getRecentWallets(),n=e.map(a=>a.info?.rdns).filter(Boolean),i=r.map(a=>a.rdns).filter(Boolean),s=n.concat(i);if(s.includes("io.metamask.mobile")&&Ye.isMobile()){const a=s.indexOf("io.metamask.mobile");s[a]="io.metamask"}return t.filter(a=>!(a?.rdns&&s.includes(String(a.rdns))||!a?.rdns&&e.some(l=>l.name===a.name)))},filterOutDuplicatesByIds(t){const e=Be.state.connectors.filter(a=>a.type==="ANNOUNCED"||a.type==="INJECTED"),r=De.getRecentWallets(),n=e.map(a=>a.explorerId),i=r.map(a=>a.id),s=n.concat(i);return t.filter(a=>!s.includes(a?.id))},filterOutDuplicateWallets(t){const e=this.filterOutDuplicatesByRDNS(t);return this.filterOutDuplicatesByIds(e)},markWalletsAsInstalled(t){const{connectors:e}=Be.state,{featuredWalletIds:r}=Te.state,n=e.filter(o=>o.type==="ANNOUNCED").reduce((o,a)=>(a.info?.rdns&&(o[a.info.rdns]=!0),o),{});return t.map(o=>({...o,installed:!!o.rdns&&!!n[o.rdns??""]})).sort((o,a)=>{const c=Number(a.installed)-Number(o.installed);if(c!==0)return c;if(r?.length){const l=r.indexOf(o.id),u=r.indexOf(a.id);if(l!==-1&&u!==-1)return l-u;if(l!==-1)return-1;if(u!==-1)return 1}return 0})},getConnectOrderMethod(t,e){const r=t?.connectMethodsOrder||Te.state.features?.connectMethodsOrder,n=e||Be.state.connectors;if(r)return r;const{injected:i,announced:s}=Yv.getConnectorsByType(n,ut.state.recommended,ut.state.featured),o=i.filter(Yv.showConnector),a=s.filter(Yv.showConnector);return o.length||a.length?["wallet","email","social"]:vCe.DEFAULT_CONNECT_METHOD_ORDER},isExcluded(t){const e=!!t.rdns&&ut.state.excludedWallets.some(n=>n.rdns===t.rdns),r=!!t.name&&ut.state.excludedWallets.some(n=>Mi.isLowerCaseMatch(n.name,t.name));return e||r},markWalletsWithDisplayIndex(t){return t.map((e,r)=>({...e,display_index:r}))}},Yv={getConnectorsByType(t,e,r){const{customWallets:n}=Te.state,i=De.getRecentWallets(),s=F3.filterOutDuplicateWallets(e),o=F3.filterOutDuplicateWallets(r),a=t.filter(f=>f.type==="MULTI_CHAIN"),c=t.filter(f=>f.type==="ANNOUNCED"),l=t.filter(f=>f.type==="INJECTED"),u=t.filter(f=>f.type==="EXTERNAL");return{custom:n,recent:i,external:u,multiChain:a,announced:c,injected:l,recommended:s,featured:o}},showConnector(t){const e=t.info?.rdns,r=!!e&&ut.state.excludedWallets.some(i=>!!i.rdns&&i.rdns===e),n=!!t.name&&ut.state.excludedWallets.some(i=>Mi.isLowerCaseMatch(i.name,t.name));return!(t.type==="INJECTED"&&(t.name==="Browser Wallet"&&(!Ye.isMobile()||Ye.isMobile()&&!e&&!We.checkInstalled())||r||n)||(t.type==="ANNOUNCED"||t.type==="EXTERNAL")&&(r||n))},getIsConnectedWithWC(){return Array.from(se.state.chains.values()).some(r=>Be.getConnectorId(r.namespace)===we.CONNECTOR_ID.WALLET_CONNECT)},getConnectorTypeOrder({recommended:t,featured:e,custom:r,recent:n,announced:i,injected:s,multiChain:o,external:a,overriddenConnectors:c=Te.state.features?.connectorTypeOrder??[]}){const f=[{type:"walletConnect",isEnabled:Te.state.enableWalletConnect},{type:"recent",isEnabled:n.length>0},{type:"injected",isEnabled:[...s,...i,...o].length>0},{type:"featured",isEnabled:e.length>0},{type:"custom",isEnabled:r&&r.length>0},{type:"external",isEnabled:a.length>0},{type:"recommended",isEnabled:t.length>0}].filter(m=>m.isEnabled),h=new Set(f.map(m=>m.type)),g=c.filter(m=>h.has(m)).map(m=>({type:m,isEnabled:!0})),_=f.filter(({type:m})=>!g.some(({type:A})=>A===m));return Array.from(new Set([...g,..._].map(({type:m})=>m)))},getAuthName({email:t,socialUsername:e,socialProvider:r}){return e?r&&r==="discord"&&e.endsWith("0")?e.slice(0,-1):e:t.length>30?`${t.slice(0,-3)}...`:t},async fetchProviderData(t){try{if(t.name==="Browser Wallet"&&!Ye.isMobile())return{accounts:[],chainId:void 0};if(t.id===we.CONNECTOR_ID.AUTH)return{accounts:[],chainId:void 0};const[e,r]=await Promise.all([t.provider?.request({method:"eth_accounts"}),t.provider?.request({method:"eth_chainId"}).then(n=>Number(n))]);return{accounts:e,chainId:r}}catch(e){return console.warn(`Failed to fetch provider data for ${t.name}`,e),{accounts:[],chainId:void 0}}}};/**
 * @license
 * Copyright 2019 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const Xv=globalThis,o6=Xv.ShadowRoot&&(Xv.ShadyCSS===void 0||Xv.ShadyCSS.nativeShadow)&&"adoptedStyleSheets"in Document.prototype&&"replace"in CSSStyleSheet.prototype,a6=Symbol(),vU=new WeakMap;let Dz=class{constructor(e,r,n){if(this._$cssResult$=!0,n!==a6)throw Error("CSSResult is not constructable. Use `unsafeCSS` or `css` instead.");this.cssText=e,this.t=r}get styleSheet(){let e=this.o;const r=this.t;if(o6&&e===void 0){const n=r!==void 0&&r.length===1;n&&(e=vU.get(r)),e===void 0&&((this.o=e=new CSSStyleSheet).replaceSync(this.cssText),n&&vU.set(r,e))}return e}toString(){return this.cssText}};const Jc=t=>new Dz(typeof t=="string"?t:t+"",void 0,a6),Jd=(t,...e)=>{const r=t.length===1?t[0]:e.reduce(((n,i,s)=>n+(o=>{if(o._$cssResult$===!0)return o.cssText;if(typeof o=="number")return o;throw Error("Value passed to 'css' function must be a 'css' function result: "+o+". Use 'unsafeCSS' to pass non-literal values, but take care to ensure page security.")})(i)+t[s+1]),t[0]);return new Dz(r,t,a6)},ECe=(t,e)=>{if(o6)t.adoptedStyleSheets=e.map((r=>r instanceof CSSStyleSheet?r:r.styleSheet));else for(const r of e){const n=document.createElement("style"),i=Xv.litNonce;i!==void 0&&n.setAttribute("nonce",i),n.textContent=r.cssText,t.appendChild(n)}},EU=o6?t=>t:t=>t instanceof CSSStyleSheet?(e=>{let r="";for(const n of e.cssRules)r+=n.cssText;return Jc(r)})(t):t;/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const{is:ACe,defineProperty:xCe,getOwnPropertyDescriptor:CCe,getOwnPropertyNames:NCe,getOwnPropertySymbols:SCe,getPrototypeOf:TCe}=Object,Zx=globalThis,AU=Zx.trustedTypes,ICe=AU?AU.emptyScript:"",RCe=Zx.reactiveElementPolyfillSupport,R_=(t,e)=>t,B3={toAttribute(t,e){switch(e){case Boolean:t=t?ICe:null;break;case Object:case Array:t=t==null?t:JSON.stringify(t)}return t},fromAttribute(t,e){let r=t;switch(e){case Boolean:r=t!==null;break;case Number:r=t===null?null:Number(t);break;case Object:case Array:try{r=JSON.parse(t)}catch{r=null}}return r}},kz=(t,e)=>!ACe(t,e),xU={attribute:!0,type:String,converter:B3,reflect:!1,useDefault:!1,hasChanged:kz};Symbol.metadata??=Symbol("metadata"),Zx.litPropertyMetadata??=new WeakMap;let mg=class extends HTMLElement{static addInitializer(e){this._$Ei(),(this.l??=[]).push(e)}static get observedAttributes(){return this.finalize(),this._$Eh&&[...this._$Eh.keys()]}static createProperty(e,r=xU){if(r.state&&(r.attribute=!1),this._$Ei(),this.prototype.hasOwnProperty(e)&&((r=Object.create(r)).wrapped=!0),this.elementProperties.set(e,r),!r.noAccessor){const n=Symbol(),i=this.getPropertyDescriptor(e,n,r);i!==void 0&&xCe(this.prototype,e,i)}}static getPropertyDescriptor(e,r,n){const{get:i,set:s}=CCe(this.prototype,e)??{get(){return this[r]},set(o){this[r]=o}};return{get:i,set(o){const a=i?.call(this);s?.call(this,o),this.requestUpdate(e,a,n)},configurable:!0,enumerable:!0}}static getPropertyOptions(e){return this.elementProperties.get(e)??xU}static _$Ei(){if(this.hasOwnProperty(R_("elementProperties")))return;const e=TCe(this);e.finalize(),e.l!==void 0&&(this.l=[...e.l]),this.elementProperties=new Map(e.elementProperties)}static finalize(){if(this.hasOwnProperty(R_("finalized")))return;if(this.finalized=!0,this._$Ei(),this.hasOwnProperty(R_("properties"))){const r=this.properties,n=[...NCe(r),...SCe(r)];for(const i of n)this.createProperty(i,r[i])}const e=this[Symbol.metadata];if(e!==null){const r=litPropertyMetadata.get(e);if(r!==void 0)for(const[n,i]of r)this.elementProperties.set(n,i)}this._$Eh=new Map;for(const[r,n]of this.elementProperties){const i=this._$Eu(r,n);i!==void 0&&this._$Eh.set(i,r)}this.elementStyles=this.finalizeStyles(this.styles)}static finalizeStyles(e){const r=[];if(Array.isArray(e)){const n=new Set(e.flat(1/0).reverse());for(const i of n)r.unshift(EU(i))}else e!==void 0&&r.push(EU(e));return r}static _$Eu(e,r){const n=r.attribute;return n===!1?void 0:typeof n=="string"?n:typeof e=="string"?e.toLowerCase():void 0}constructor(){super(),this._$Ep=void 0,this.isUpdatePending=!1,this.hasUpdated=!1,this._$Em=null,this._$Ev()}_$Ev(){this._$ES=new Promise((e=>this.enableUpdating=e)),this._$AL=new Map,this._$E_(),this.requestUpdate(),this.constructor.l?.forEach((e=>e(this)))}addController(e){(this._$EO??=new Set).add(e),this.renderRoot!==void 0&&this.isConnected&&e.hostConnected?.()}removeController(e){this._$EO?.delete(e)}_$E_(){const e=new Map,r=this.constructor.elementProperties;for(const n of r.keys())this.hasOwnProperty(n)&&(e.set(n,this[n]),delete this[n]);e.size>0&&(this._$Ep=e)}createRenderRoot(){const e=this.shadowRoot??this.attachShadow(this.constructor.shadowRootOptions);return ECe(e,this.constructor.elementStyles),e}connectedCallback(){this.renderRoot??=this.createRenderRoot(),this.enableUpdating(!0),this._$EO?.forEach((e=>e.hostConnected?.()))}enableUpdating(e){}disconnectedCallback(){this._$EO?.forEach((e=>e.hostDisconnected?.()))}attributeChangedCallback(e,r,n){this._$AK(e,n)}_$ET(e,r){const n=this.constructor.elementProperties.get(e),i=this.constructor._$Eu(e,n);if(i!==void 0&&n.reflect===!0){const s=(n.converter?.toAttribute!==void 0?n.converter:B3).toAttribute(r,n.type);this._$Em=e,s==null?this.removeAttribute(i):this.setAttribute(i,s),this._$Em=null}}_$AK(e,r){const n=this.constructor,i=n._$Eh.get(e);if(i!==void 0&&this._$Em!==i){const s=n.getPropertyOptions(i),o=typeof s.converter=="function"?{fromAttribute:s.converter}:s.converter?.fromAttribute!==void 0?s.converter:B3;this._$Em=i;const a=o.fromAttribute(r,s.type);this[i]=a??this._$Ej?.get(i)??a,this._$Em=null}}requestUpdate(e,r,n){if(e!==void 0){const i=this.constructor,s=this[e];if(n??=i.getPropertyOptions(e),!((n.hasChanged??kz)(s,r)||n.useDefault&&n.reflect&&s===this._$Ej?.get(e)&&!this.hasAttribute(i._$Eu(e,n))))return;this.C(e,r,n)}this.isUpdatePending===!1&&(this._$ES=this._$EP())}C(e,r,{useDefault:n,reflect:i,wrapped:s},o){n&&!(this._$Ej??=new Map).has(e)&&(this._$Ej.set(e,o??r??this[e]),s!==!0||o!==void 0)||(this._$AL.has(e)||(this.hasUpdated||n||(r=void 0),this._$AL.set(e,r)),i===!0&&this._$Em!==e&&(this._$Eq??=new Set).add(e))}async _$EP(){this.isUpdatePending=!0;try{await this._$ES}catch(r){Promise.reject(r)}const e=this.scheduleUpdate();return e!=null&&await e,!this.isUpdatePending}scheduleUpdate(){return this.performUpdate()}performUpdate(){if(!this.isUpdatePending)return;if(!this.hasUpdated){if(this.renderRoot??=this.createRenderRoot(),this._$Ep){for(const[i,s]of this._$Ep)this[i]=s;this._$Ep=void 0}const n=this.constructor.elementProperties;if(n.size>0)for(const[i,s]of n){const{wrapped:o}=s,a=this[i];o!==!0||this._$AL.has(i)||a===void 0||this.C(i,void 0,s,a)}}let e=!1;const r=this._$AL;try{e=this.shouldUpdate(r),e?(this.willUpdate(r),this._$EO?.forEach((n=>n.hostUpdate?.())),this.update(r)):this._$EM()}catch(n){throw e=!1,this._$EM(),n}e&&this._$AE(r)}willUpdate(e){}_$AE(e){this._$EO?.forEach((r=>r.hostUpdated?.())),this.hasUpdated||(this.hasUpdated=!0,this.firstUpdated(e)),this.updated(e)}_$EM(){this._$AL=new Map,this.isUpdatePending=!1}get updateComplete(){return this.getUpdateComplete()}getUpdateComplete(){return this._$ES}shouldUpdate(e){return!0}update(e){this._$Eq&&=this._$Eq.forEach((r=>this._$ET(r,this[r]))),this._$EM()}updated(e){}firstUpdated(e){}};mg.elementStyles=[],mg.shadowRootOptions={mode:"open"},mg[R_("elementProperties")]=new Map,mg[R_("finalized")]=new Map,RCe?.({ReactiveElement:mg}),(Zx.reactiveElementVersions??=[]).push("2.1.1");/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const c6=globalThis,OA=c6.trustedTypes,CU=OA?OA.createPolicy("lit-html",{createHTML:t=>t}):void 0,Mz="$lit$",Yd=`lit$${Math.random().toFixed(9).slice(2)}$`,Uz="?"+Yd,PCe=`<${Uz}>`,K0=document,Bb=()=>K0.createComment(""),Hb=t=>t===null||typeof t!="object"&&typeof t!="function",l6=Array.isArray,OCe=t=>l6(t)||typeof t?.[Symbol.iterator]=="function",_S=`[ 	
\f\r]`,My=/<(?:(!--|\/[^a-zA-Z])|(\/?[a-zA-Z][^>\s]*)|(\/?$))/g,NU=/-->/g,SU=/>/g,Qh=RegExp(`>|${_S}(?:([^\\s"'>=/]+)(${_S}*=${_S}*(?:[^ 	
\f\r"'\`<>=]|("|')|))|$)`,"g"),TU=/'/g,IU=/"/g,Lz=/^(?:script|style|textarea|title)$/i,$z=t=>(e,...r)=>({_$litType$:t,strings:e,values:r}),Int=$z(1),Rnt=$z(2),dm=Symbol.for("lit-noChange"),zi=Symbol.for("lit-nothing"),RU=new WeakMap,A0=K0.createTreeWalker(K0,129);function Fz(t,e){if(!l6(t)||!t.hasOwnProperty("raw"))throw Error("invalid template strings array");return CU!==void 0?CU.createHTML(e):e}const DCe=(t,e)=>{const r=t.length-1,n=[];let i,s=e===2?"<svg>":e===3?"<math>":"",o=My;for(let a=0;a<r;a++){const c=t[a];let l,u,f=-1,h=0;for(;h<c.length&&(o.lastIndex=h,u=o.exec(c),u!==null);)h=o.lastIndex,o===My?u[1]==="!--"?o=NU:u[1]!==void 0?o=SU:u[2]!==void 0?(Lz.test(u[2])&&(i=RegExp("</"+u[2],"g")),o=Qh):u[3]!==void 0&&(o=Qh):o===Qh?u[0]===">"?(o=i??My,f=-1):u[1]===void 0?f=-2:(f=o.lastIndex-u[2].length,l=u[1],o=u[3]===void 0?Qh:u[3]==='"'?IU:TU):o===IU||o===TU?o=Qh:o===NU||o===SU?o=My:(o=Qh,i=void 0);const g=o===Qh&&t[a+1].startsWith("/>")?" ":"";s+=o===My?c+PCe:f>=0?(n.push(l),c.slice(0,f)+Mz+c.slice(f)+Yd+g):c+Yd+(f===-2?a:g)}return[Fz(t,s+(t[r]||"<?>")+(e===2?"</svg>":e===3?"</math>":"")),n]};let H3=class Bz{constructor({strings:e,_$litType$:r},n){let i;this.parts=[];let s=0,o=0;const a=e.length-1,c=this.parts,[l,u]=DCe(e,r);if(this.el=Bz.createElement(l,n),A0.currentNode=this.el.content,r===2||r===3){const f=this.el.content.firstChild;f.replaceWith(...f.childNodes)}for(;(i=A0.nextNode())!==null&&c.length<a;){if(i.nodeType===1){if(i.hasAttributes())for(const f of i.getAttributeNames())if(f.endsWith(Mz)){const h=u[o++],g=i.getAttribute(f).split(Yd),_=/([.?@])?(.*)/.exec(h);c.push({type:1,index:s,name:_[2],strings:g,ctor:_[1]==="."?MCe:_[1]==="?"?UCe:_[1]==="@"?LCe:e2}),i.removeAttribute(f)}else f.startsWith(Yd)&&(c.push({type:6,index:s}),i.removeAttribute(f));if(Lz.test(i.tagName)){const f=i.textContent.split(Yd),h=f.length-1;if(h>0){i.textContent=OA?OA.emptyScript:"";for(let g=0;g<h;g++)i.append(f[g],Bb()),A0.nextNode(),c.push({type:2,index:++s});i.append(f[h],Bb())}}}else if(i.nodeType===8)if(i.data===Uz)c.push({type:2,index:s});else{let f=-1;for(;(f=i.data.indexOf(Yd,f+1))!==-1;)c.push({type:7,index:s}),f+=Yd.length-1}s++}}static createElement(e,r){const n=K0.createElement("template");return n.innerHTML=e,n}};function hm(t,e,r=t,n){if(e===dm)return e;let i=n!==void 0?r._$Co?.[n]:r._$Cl;const s=Hb(e)?void 0:e._$litDirective$;return i?.constructor!==s&&(i?._$AO?.(!1),s===void 0?i=void 0:(i=new s(t),i._$AT(t,r,n)),n!==void 0?(r._$Co??=[])[n]=i:r._$Cl=i),i!==void 0&&(e=hm(t,i._$AS(t,e.values),i,n)),e}class kCe{constructor(e,r){this._$AV=[],this._$AN=void 0,this._$AD=e,this._$AM=r}get parentNode(){return this._$AM.parentNode}get _$AU(){return this._$AM._$AU}u(e){const{el:{content:r},parts:n}=this._$AD,i=(e?.creationScope??K0).importNode(r,!0);A0.currentNode=i;let s=A0.nextNode(),o=0,a=0,c=n[0];for(;c!==void 0;){if(o===c.index){let l;c.type===2?l=new $1(s,s.nextSibling,this,e):c.type===1?l=new c.ctor(s,c.name,c.strings,this,e):c.type===6&&(l=new $Ce(s,this,e)),this._$AV.push(l),c=n[++a]}o!==c?.index&&(s=A0.nextNode(),o++)}return A0.currentNode=K0,i}p(e){let r=0;for(const n of this._$AV)n!==void 0&&(n.strings!==void 0?(n._$AI(e,n,r),r+=n.strings.length-2):n._$AI(e[r])),r++}}class $1{get _$AU(){return this._$AM?._$AU??this._$Cv}constructor(e,r,n,i){this.type=2,this._$AH=zi,this._$AN=void 0,this._$AA=e,this._$AB=r,this._$AM=n,this.options=i,this._$Cv=i?.isConnected??!0}get parentNode(){let e=this._$AA.parentNode;const r=this._$AM;return r!==void 0&&e?.nodeType===11&&(e=r.parentNode),e}get startNode(){return this._$AA}get endNode(){return this._$AB}_$AI(e,r=this){e=hm(this,e,r),Hb(e)?e===zi||e==null||e===""?(this._$AH!==zi&&this._$AR(),this._$AH=zi):e!==this._$AH&&e!==dm&&this._(e):e._$litType$!==void 0?this.$(e):e.nodeType!==void 0?this.T(e):OCe(e)?this.k(e):this._(e)}O(e){return this._$AA.parentNode.insertBefore(e,this._$AB)}T(e){this._$AH!==e&&(this._$AR(),this._$AH=this.O(e))}_(e){this._$AH!==zi&&Hb(this._$AH)?this._$AA.nextSibling.data=e:this.T(K0.createTextNode(e)),this._$AH=e}$(e){const{values:r,_$litType$:n}=e,i=typeof n=="number"?this._$AC(e):(n.el===void 0&&(n.el=H3.createElement(Fz(n.h,n.h[0]),this.options)),n);if(this._$AH?._$AD===i)this._$AH.p(r);else{const s=new kCe(i,this),o=s.u(this.options);s.p(r),this.T(o),this._$AH=s}}_$AC(e){let r=RU.get(e.strings);return r===void 0&&RU.set(e.strings,r=new H3(e)),r}k(e){l6(this._$AH)||(this._$AH=[],this._$AR());const r=this._$AH;let n,i=0;for(const s of e)i===r.length?r.push(n=new $1(this.O(Bb()),this.O(Bb()),this,this.options)):n=r[i],n._$AI(s),i++;i<r.length&&(this._$AR(n&&n._$AB.nextSibling,i),r.length=i)}_$AR(e=this._$AA.nextSibling,r){for(this._$AP?.(!1,!0,r);e!==this._$AB;){const n=e.nextSibling;e.remove(),e=n}}setConnected(e){this._$AM===void 0&&(this._$Cv=e,this._$AP?.(e))}}class e2{get tagName(){return this.element.tagName}get _$AU(){return this._$AM._$AU}constructor(e,r,n,i,s){this.type=1,this._$AH=zi,this._$AN=void 0,this.element=e,this.name=r,this._$AM=i,this.options=s,n.length>2||n[0]!==""||n[1]!==""?(this._$AH=Array(n.length-1).fill(new String),this.strings=n):this._$AH=zi}_$AI(e,r=this,n,i){const s=this.strings;let o=!1;if(s===void 0)e=hm(this,e,r,0),o=!Hb(e)||e!==this._$AH&&e!==dm,o&&(this._$AH=e);else{const a=e;let c,l;for(e=s[0],c=0;c<s.length-1;c++)l=hm(this,a[n+c],r,c),l===dm&&(l=this._$AH[c]),o||=!Hb(l)||l!==this._$AH[c],l===zi?e=zi:e!==zi&&(e+=(l??"")+s[c+1]),this._$AH[c]=l}o&&!i&&this.j(e)}j(e){e===zi?this.element.removeAttribute(this.name):this.element.setAttribute(this.name,e??"")}}class MCe extends e2{constructor(){super(...arguments),this.type=3}j(e){this.element[this.name]=e===zi?void 0:e}}class UCe extends e2{constructor(){super(...arguments),this.type=4}j(e){this.element.toggleAttribute(this.name,!!e&&e!==zi)}}class LCe extends e2{constructor(e,r,n,i,s){super(e,r,n,i,s),this.type=5}_$AI(e,r=this){if((e=hm(this,e,r,0)??zi)===dm)return;const n=this._$AH,i=e===zi&&n!==zi||e.capture!==n.capture||e.once!==n.once||e.passive!==n.passive,s=e!==zi&&(n===zi||i);i&&this.element.removeEventListener(this.name,this,n),s&&this.element.addEventListener(this.name,this,e),this._$AH=e}handleEvent(e){typeof this._$AH=="function"?this._$AH.call(this.options?.host??this.element,e):this._$AH.handleEvent(e)}}class $Ce{constructor(e,r,n){this.element=e,this.type=6,this._$AN=void 0,this._$AM=r,this.options=n}get _$AU(){return this._$AM._$AU}_$AI(e){hm(this,e)}}const FCe=c6.litHtmlPolyfillSupport;FCe?.(H3,$1),(c6.litHtmlVersions??=[]).push("3.3.1");const BCe=(t,e,r)=>{const n=r?.renderBefore??e;let i=n._$litPart$;if(i===void 0){const s=r?.renderBefore??null;n._$litPart$=i=new $1(e.insertBefore(Bb(),s),s,void 0,r??{})}return i._$AI(t),i};/**
 * @license
 * Copyright 2017 Google LLC
 * SPDX-License-Identifier: BSD-3-Clause
 */const u6=globalThis;class Qv extends mg{constructor(){super(...arguments),this.renderOptions={host:this},this._$Do=void 0}createRenderRoot(){const e=super.createRenderRoot();return this.renderOptions.renderBefore??=e.firstChild,e}update(e){const r=this.render();this.hasUpdated||(this.renderOptions.isConnected=this.isConnected),super.update(e),this._$Do=BCe(r,this.renderRoot,this.renderOptions)}connectedCallback(){super.connectedCallback(),this._$Do?.setConnected(!0)}disconnectedCallback(){super.disconnectedCallback(),this._$Do?.setConnected(!1)}render(){return dm}}Qv._$litElement$=!0,Qv.finalized=!0,u6.litElementHydrateSupport?.({LitElement:Qv});const HCe=u6.litElementPolyfillSupport;HCe?.({LitElement:Qv});(u6.litElementVersions??=[]).push("4.2.1");const jCe={black:"#202020",white:"#FFFFFF",white010:"rgba(255, 255, 255, 0.1)",accent010:"rgba(9, 136, 240, 0.1)",accent020:"rgba(9, 136, 240, 0.2)",accent030:"rgba(9, 136, 240, 0.3)",accent040:"rgba(9, 136, 240, 0.4)",accent050:"rgba(9, 136, 240, 0.5)",accent060:"rgba(9, 136, 240, 0.6)",accent070:"rgba(9, 136, 240, 0.7)",accent080:"rgba(9, 136, 240, 0.8)",accent090:"rgba(9, 136, 240, 0.9)",accent100:"rgba(9, 136, 240, 1.0)",accentSecondary010:"rgba(199, 185, 148, 0.1)",accentSecondary020:"rgba(199, 185, 148, 0.2)",accentSecondary030:"rgba(199, 185, 148, 0.3)",accentSecondary040:"rgba(199, 185, 148, 0.4)",accentSecondary050:"rgba(199, 185, 148, 0.5)",accentSecondary060:"rgba(199, 185, 148, 0.6)",accentSecondary070:"rgba(199, 185, 148, 0.7)",accentSecondary080:"rgba(199, 185, 148, 0.8)",accentSecondary090:"rgba(199, 185, 148, 0.9)",accentSecondary100:"rgba(199, 185, 148, 1.0)",productWalletKit:"#FFB800",productAppKit:"#FF573B",productCloud:"#0988F0",productDocumentation:"#008847",neutrals050:"#F6F6F6",neutrals100:"#F3F3F3",neutrals200:"#E9E9E9",neutrals300:"#D0D0D0",neutrals400:"#BBB",neutrals500:"#9A9A9A",neutrals600:"#6C6C6C",neutrals700:"#4F4F4F",neutrals800:"#363636",neutrals900:"#2A2A2A",neutrals1000:"#252525",semanticSuccess010:"rgba(48, 164, 107, 0.1)",semanticSuccess020:"rgba(48, 164, 107, 0.2)",semanticSuccess030:"rgba(48, 164, 107, 0.3)",semanticSuccess040:"rgba(48, 164, 107, 0.4)",semanticSuccess050:"rgba(48, 164, 107, 0.5)",semanticSuccess060:"rgba(48, 164, 107, 0.6)",semanticSuccess070:"rgba(48, 164, 107, 0.7)",semanticSuccess080:"rgba(48, 164, 107, 0.8)",semanticSuccess090:"rgba(48, 164, 107, 0.9)",semanticSuccess100:"rgba(48, 164, 107, 1.0)",semanticError010:"rgba(223, 74, 52, 0.1)",semanticError020:"rgba(223, 74, 52, 0.2)",semanticError030:"rgba(223, 74, 52, 0.3)",semanticError040:"rgba(223, 74, 52, 0.4)",semanticError050:"rgba(223, 74, 52, 0.5)",semanticError060:"rgba(223, 74, 52, 0.6)",semanticError070:"rgba(223, 74, 52, 0.7)",semanticError080:"rgba(223, 74, 52, 0.8)",semanticError090:"rgba(223, 74, 52, 0.9)",semanticError100:"rgba(223, 74, 52, 1.0)",semanticWarning010:"rgba(243, 161, 63, 0.1)",semanticWarning020:"rgba(243, 161, 63, 0.2)",semanticWarning030:"rgba(243, 161, 63, 0.3)",semanticWarning040:"rgba(243, 161, 63, 0.4)",semanticWarning050:"rgba(243, 161, 63, 0.5)",semanticWarning060:"rgba(243, 161, 63, 0.6)",semanticWarning070:"rgba(243, 161, 63, 0.7)",semanticWarning080:"rgba(243, 161, 63, 0.8)",semanticWarning090:"rgba(243, 161, 63, 0.9)",semanticWarning100:"rgba(243, 161, 63, 1.0)"},DA={core:{backgroundAccentPrimary:"#0988F0",backgroundAccentCertified:"#C7B994",backgroundWalletKit:"#FFB800",backgroundAppKit:"#FF573B",backgroundCloud:"#0988F0",backgroundDocumentation:"#008847",backgroundSuccess:"rgba(48, 164, 107, 0.20)",backgroundError:"rgba(223, 74, 52, 0.20)",backgroundWarning:"rgba(243, 161, 63, 0.20)",textAccentPrimary:"#0988F0",textAccentCertified:"#C7B994",textWalletKit:"#FFB800",textAppKit:"#FF573B",textCloud:"#0988F0",textDocumentation:"#008847",textSuccess:"#30A46B",textError:"#DF4A34",textWarning:"#F3A13F",borderAccentPrimary:"#0988F0",borderSecondary:"#C7B994",borderSuccess:"#30A46B",borderError:"#DF4A34",borderWarning:"#F3A13F",foregroundAccent010:"rgba(9, 136, 240, 0.1)",foregroundAccent020:"rgba(9, 136, 240, 0.2)",foregroundAccent040:"rgba(9, 136, 240, 0.4)",foregroundAccent060:"rgba(9, 136, 240, 0.6)",foregroundSecondary020:"rgba(199, 185, 148, 0.2)",foregroundSecondary040:"rgba(199, 185, 148, 0.4)",foregroundSecondary060:"rgba(199, 185, 148, 0.6)",iconAccentPrimary:"#0988F0",iconAccentCertified:"#C7B994",iconSuccess:"#30A46B",iconError:"#DF4A34",iconWarning:"#F3A13F",glass010:"rgba(255, 255, 255, 0.1)"},dark:{overlay:"rgba(0, 0, 0, 0.50)",backgroundPrimary:"#202020",backgroundInvert:"#FFFFFF",textPrimary:"#FFFFFF",textSecondary:"#9A9A9A",textTertiary:"#BBBBBB",textInvert:"#202020",borderPrimary:"#2A2A2A",borderPrimaryDark:"#363636",borderSecondary:"#4F4F4F",foregroundPrimary:"#252525",foregroundSecondary:"#2A2A2A",foregroundTertiary:"#363636",iconDefault:"#9A9A9A",iconInverse:"#FFFFFF"},light:{overlay:"rgba(230 , 230, 230, 0.5)",backgroundPrimary:"#FFFFFF",borderPrimaryDark:"#E9E9E9",backgroundInvert:"#202020",textPrimary:"#202020",textSecondary:"#9A9A9A",textTertiary:"#6C6C6C",textInvert:"#FFFFFF",borderPrimary:"#E9E9E9",borderSecondary:"#D0D0D0",foregroundPrimary:"#F3F3F3",foregroundSecondary:"#E9E9E9",foregroundTertiary:"#D0D0D0",iconDefault:"#9A9A9A",iconInverse:"#202020"}},WCe={1:"4px",2:"8px",10:"10px",3:"12px",4:"16px",6:"24px",5:"20px",8:"32px",16:"64px",20:"80px",32:"128px",64:"256px",128:"512px",round:"9999px"},qCe={0:"0px","01":"2px",1:"4px",2:"8px",3:"12px",4:"16px",5:"20px",6:"24px",7:"28px",8:"32px",9:"36px",10:"40px",12:"48px",14:"56px",16:"64px",20:"80px",32:"128px",64:"256px"},zCe={regular:"KHTeka",mono:"KHTekaMono"},GCe={regular:"400",medium:"500"},KCe={h1:"50px",h2:"44px",h3:"38px",h4:"32px",h5:"26px",h6:"20px",large:"16px",medium:"14px",small:"12px"},VCe={"h1-regular-mono":{lineHeight:"50px",letterSpacing:"-3px"},"h1-regular":{lineHeight:"50px",letterSpacing:"-1px"},"h1-medium":{lineHeight:"50px",letterSpacing:"-0.84px"},"h2-regular-mono":{lineHeight:"44px",letterSpacing:"-2.64px"},"h2-regular":{lineHeight:"44px",letterSpacing:"-0.88px"},"h2-medium":{lineHeight:"44px",letterSpacing:"-0.88px"},"h3-regular-mono":{lineHeight:"38px",letterSpacing:"-2.28px"},"h3-regular":{lineHeight:"38px",letterSpacing:"-0.76px"},"h3-medium":{lineHeight:"38px",letterSpacing:"-0.76px"},"h4-regular-mono":{lineHeight:"32px",letterSpacing:"-1.92px"},"h4-regular":{lineHeight:"32px",letterSpacing:"-0.32px"},"h4-medium":{lineHeight:"32px",letterSpacing:"-0.32px"},"h5-regular-mono":{lineHeight:"26px",letterSpacing:"-1.56px"},"h5-regular":{lineHeight:"26px",letterSpacing:"-0.26px"},"h5-medium":{lineHeight:"26px",letterSpacing:"-0.26px"},"h6-regular-mono":{lineHeight:"20px",letterSpacing:"-1.2px"},"h6-regular":{lineHeight:"20px",letterSpacing:"-0.6px"},"h6-medium":{lineHeight:"20px",letterSpacing:"-0.6px"},"lg-regular-mono":{lineHeight:"16px",letterSpacing:"-0.96px"},"lg-regular":{lineHeight:"18px",letterSpacing:"-0.16px"},"lg-medium":{lineHeight:"18px",letterSpacing:"-0.16px"},"md-regular-mono":{lineHeight:"14px",letterSpacing:"-0.84px"},"md-regular":{lineHeight:"16px",letterSpacing:"-0.14px"},"md-medium":{lineHeight:"16px",letterSpacing:"-0.14px"},"sm-regular-mono":{lineHeight:"12px",letterSpacing:"-0.72px"},"sm-regular":{lineHeight:"14px",letterSpacing:"-0.12px"},"sm-medium":{lineHeight:"14px",letterSpacing:"-0.12px"}},JCe={"ease-out-power-2":"cubic-bezier(0.23, 0.09, 0.08, 1.13)","ease-out-power-1":"cubic-bezier(0.12, 0.04, 0.2, 1.06)","ease-in-power-2":"cubic-bezier(0.92, -0.13, 0.77, 0.91)","ease-in-power-1":"cubic-bezier(0.88, -0.06, 0.8, 0.96)","ease-inout-power-2":"cubic-bezier(0.77, 0.09, 0.23, 1.13)","ease-inout-power-1":"cubic-bezier(0.88, 0.04, 0.12, 1.06)"},YCe={xl:"400ms",lg:"200ms",md:"125ms",sm:"75ms"},j3={colors:jCe,fontFamily:zCe,fontWeight:GCe,textSize:KCe,typography:VCe,tokens:{core:DA.core,theme:DA.dark},borderRadius:WCe,spacing:qCe,durations:YCe,easings:JCe},PU="--apkt",Ef={createCSSVariables(t){const e={},r={};function n(s,o,a=""){for(const[c,l]of Object.entries(s)){const u=a?`${a}-${c}`:c;l&&typeof l=="object"&&Object.keys(l).length?(o[c]={},n(l,o[c],u)):typeof l=="string"&&(o[c]=`${PU}-${u}`)}}function i(s,o){for(const[a,c]of Object.entries(s))c&&typeof c=="object"?(o[a]={},i(c,o[a])):typeof c=="string"&&(o[a]=`var(${c})`)}return n(t,e),i(e,r),{cssVariables:e,cssVariablesVarPrefix:r}},assignCSSVariables(t,e){const r={};function n(i,s,o){for(const[a,c]of Object.entries(i)){const l=o?`${o}-${a}`:a,u=s[a];c&&typeof c=="object"?n(c,u,l):typeof u=="string"&&(r[`${PU}-${l}`]=u)}}return n(t,e),r},createRootStyles(t,e){const r={...j3,tokens:{...j3.tokens,theme:t==="light"?DA.light:DA.dark}},{cssVariables:n}=Ef.createCSSVariables(r),i=Ef.assignCSSVariables(n,r),s=Ef.generateW3MVariables(e),o=Ef.generateW3MOverrides(e),a=Ef.generateScaledVariables(e),c=Ef.generateBaseVariables(i),l={...i,...c,...s,...o,...a},u=Ef.applyColorMixToVariables(e,l),f={...l,...u};return`:root {${Object.entries(f).map(([g,_])=>`${g}:${_.replace("/[:;{}</>]/g","")};`).join("")}}`},generateW3MVariables(t){if(!t)return{};const e={};return e["--w3m-font-family"]=t["--w3m-font-family"]||"KHTeka",e["--w3m-accent"]=t["--w3m-accent"]||"#0988F0",e["--w3m-color-mix"]=t["--w3m-color-mix"]||"#000",e["--w3m-color-mix-strength"]=`${t["--w3m-color-mix-strength"]||0}%`,e["--w3m-font-size-master"]=t["--w3m-font-size-master"]||"10px",e["--w3m-border-radius-master"]=t["--w3m-border-radius-master"]||"4px",t["--w3m-z-index"]&&(e["--apkt-z-index"]=`${t["--w3m-z-index"]}`),e},generateW3MOverrides(t){if(!t)return{};const e={};if(t["--w3m-accent"]){const r=t["--w3m-accent"];e["--apkt-tokens-core-iconAccentPrimary"]=r,e["--apkt-tokens-core-borderAccentPrimary"]=r,e["--apkt-tokens-core-textAccentPrimary"]=r,e["--apkt-tokens-core-backgroundAccentPrimary"]=r}return t["--w3m-font-family"]&&(e["--apkt-fontFamily-regular"]=t["--w3m-font-family"]),e},generateScaledVariables(t){if(!t)return{};const e={};if(t["--w3m-font-size-master"]){const r=parseFloat(t["--w3m-font-size-master"].replace("px",""));e["--apkt-textSize-h1"]=`${Number(r)*5}px`,e["--apkt-textSize-h2"]=`${Number(r)*4.4}px`,e["--apkt-textSize-h3"]=`${Number(r)*3.8}px`,e["--apkt-textSize-h4"]=`${Number(r)*3.2}px`,e["--apkt-textSize-h5"]=`${Number(r)*2.6}px`,e["--apkt-textSize-h6"]=`${Number(r)*2}px`,e["--apkt-textSize-large"]=`${Number(r)*1.6}px`,e["--apkt-textSize-medium"]=`${Number(r)*1.4}px`,e["--apkt-textSize-small"]=`${Number(r)*1.2}px`}if(t["--w3m-border-radius-master"]){const r=parseFloat(t["--w3m-border-radius-master"].replace("px",""));e["--apkt-borderRadius-1"]=`${Number(r)}px`,e["--apkt-borderRadius-2"]=`${Number(r)*2}px`,e["--apkt-borderRadius-3"]=`${Number(r)*3}px`,e["--apkt-borderRadius-4"]=`${Number(r)*4}px`,e["--apkt-borderRadius-5"]=`${Number(r)*5}px`,e["--apkt-borderRadius-6"]=`${Number(r)*6}px`,e["--apkt-borderRadius-8"]=`${Number(r)*8}px`,e["--apkt-borderRadius-16"]=`${Number(r)*16}px`,e["--apkt-borderRadius-20"]=`${Number(r)*20}px`,e["--apkt-borderRadius-32"]=`${Number(r)*32}px`,e["--apkt-borderRadius-64"]=`${Number(r)*64}px`,e["--apkt-borderRadius-128"]=`${Number(r)*128}px`}return e},generateColorMixCSS(t,e){if(!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return"";const r=t["--w3m-color-mix"],n=t["--w3m-color-mix-strength"];if(!n||n===0)return"";const i=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return i.length===0?"":` @supports (background: color-mix(in srgb, white 50%, black)) {
      :root {
        ${i.map(o=>{const a=e?.[o]||"";return a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?`${o}: color-mix(in srgb, ${r} ${n}%, ${a});`:`${o}: color-mix(in srgb, ${r} ${n}%, var(${o}-base, ${a}));`}).join("")}
      }
    }`},generateBaseVariables(t){const e={},r=t["--apkt-tokens-theme-backgroundPrimary"];r&&(e["--apkt-tokens-theme-backgroundPrimary-base"]=r);const n=t["--apkt-tokens-core-backgroundAccentPrimary"];return n&&(e["--apkt-tokens-core-backgroundAccentPrimary-base"]=n),e},applyColorMixToVariables(t,e){const r={};if(e?.["--apkt-tokens-theme-backgroundPrimary"]&&(r["--apkt-tokens-theme-backgroundPrimary"]="var(--apkt-tokens-theme-backgroundPrimary-base)"),e?.["--apkt-tokens-core-backgroundAccentPrimary"]&&(r["--apkt-tokens-core-backgroundAccentPrimary"]="var(--apkt-tokens-core-backgroundAccentPrimary-base)"),!t?.["--w3m-color-mix"]||!t["--w3m-color-mix-strength"])return r;const n=t["--w3m-color-mix"],i=t["--w3m-color-mix-strength"];if(!i||i===0)return r;const s=Object.keys(e||{}).filter(o=>{const a=o.includes("-tokens-core-background")||o.includes("-tokens-core-text")||o.includes("-tokens-core-border")||o.includes("-tokens-core-foreground")||o.includes("-tokens-core-icon")||o.includes("-tokens-theme-background")||o.includes("-tokens-theme-text")||o.includes("-tokens-theme-border")||o.includes("-tokens-theme-foreground")||o.includes("-tokens-theme-icon")||o.includes("-tokens-theme-overlay"),c=o.includes("-borderRadius-")||o.includes("-spacing-")||o.includes("-textSize-")||o.includes("-fontFamily-")||o.includes("-fontWeight-")||o.includes("-typography-")||o.includes("-duration-")||o.includes("-ease-")||o.includes("-path-")||o.includes("-width-")||o.includes("-height-")||o.includes("-visual-size-")||o.includes("-modal-width")||o.includes("-cover");return a&&!c});return s.length===0||s.forEach(o=>{const a=e?.[o]||"";o.endsWith("-base")||(o==="--apkt-tokens-theme-backgroundPrimary"||o==="--apkt-tokens-core-backgroundAccentPrimary"?r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base))`:a.includes("color-mix")||a.startsWith("#")||a.startsWith("rgb")?r[o]=`color-mix(in srgb, ${n} ${i}%, ${a})`:r[o]=`color-mix(in srgb, ${n} ${i}%, var(${o}-base, ${a}))`)}),r}},{cssVariablesVarPrefix:XCe}=Ef.createCSSVariables(j3);function Pnt(t,...e){return Jd(t,...e.map(r=>Jc(typeof r=="function"?r(XCe):r)))}let h0,x0,_u,pl,kA;const wf={"KHTeka-500-woff2":"https://fonts.reown.com/KHTeka-Medium.woff2","KHTeka-400-woff2":"https://fonts.reown.com/KHTeka-Regular.woff2","KHTeka-300-woff2":"https://fonts.reown.com/KHTeka-Light.woff2","KHTekaMono-400-woff2":"https://fonts.reown.com/KHTekaMono-Regular.woff2","KHTeka-500-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTeka-400-woff":"https://fonts.reown.com/KHTeka-Regular.woff","KHTeka-300-woff":"https://fonts.reown.com/KHTeka-Light.woff","KHTekaMono-400-woff":"https://fonts.reown.com/KHTekaMono-Regular.woff"};function MA(t,e="dark"){h0&&document.head.removeChild(h0),h0=document.createElement("style"),h0.textContent=Ef.createRootStyles(e,t),document.head.appendChild(h0)}function Ont(t,e="dark"){if(kA=t,x0=document.createElement("style"),_u=document.createElement("style"),pl=document.createElement("style"),x0.textContent=Hg(t).core.cssText,_u.textContent=Hg(t).dark.cssText,pl.textContent=Hg(t).light.cssText,document.head.appendChild(x0),document.head.appendChild(_u),document.head.appendChild(pl),MA(t,e),W3(e),!t?.["--w3m-font-family"])for(const[r,n]of Object.entries(wf)){const i=document.createElement("link");i.rel="preload",i.href=n,i.as="font",i.type=r.includes("woff2")?"font/woff2":"font/woff",i.crossOrigin="anonymous",document.head.appendChild(i)}W3(e)}function W3(t="dark"){_u&&pl&&h0&&(t==="light"?(MA(kA,t),_u.removeAttribute("media"),pl.media="enabled"):(MA(kA,t),pl.removeAttribute("media"),_u.media="enabled"))}function QCe(t){if(kA=t,x0&&_u&&pl&&(x0.textContent=Hg(t).core.cssText,_u.textContent=Hg(t).dark.cssText,pl.textContent=Hg(t).light.cssText,t?.["--w3m-font-family"])){const e=t["--w3m-font-family"];x0.textContent=x0.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),_u.textContent=_u.textContent?.replace("font-family: KHTeka",`font-family: ${e}`),pl.textContent=pl.textContent?.replace("font-family: KHTeka",`font-family: ${e}`)}if(h0){const e=pl?.media==="enabled"?"light":"dark";MA(t,e)}}function Hg(t){const e=!!t?.["--w3m-font-family"];return{core:Jd`
      ${e?Jd``:Jd`
            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Jc(wf["KHTeka-400-woff2"])}) format('woff2'),
                url(${Jc(wf["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
              font-display: swap;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Jc(wf["KHTeka-300-woff2"])}) format('woff2'),
                url(${Jc(wf["KHTeka-300-woff"])}) format('woff');
              font-weight: 300;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTekaMono';
              src:
                url(${Jc(wf["KHTekaMono-400-woff2"])}) format('woff2'),
                url(${Jc(wf["KHTekaMono-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }

            @font-face {
              font-family: 'KHTeka';
              src:
                url(${Jc(wf["KHTeka-400-woff2"])}) format('woff2'),
                url(${Jc(wf["KHTeka-400-woff"])}) format('woff');
              font-weight: 400;
              font-style: normal;
            }
          `}

      @keyframes w3m-shake {
        0% {
          transform: scale(1) rotate(0deg);
        }
        20% {
          transform: scale(1) rotate(-1deg);
        }
        40% {
          transform: scale(1) rotate(1.5deg);
        }
        60% {
          transform: scale(1) rotate(-1.5deg);
        }
        80% {
          transform: scale(1) rotate(1deg);
        }
        100% {
          transform: scale(1) rotate(0deg);
        }
      }
      @keyframes w3m-iframe-fade-out {
        0% {
          opacity: 1;
        }
        100% {
          opacity: 0;
        }
      }
      @keyframes w3m-iframe-zoom-in {
        0% {
          transform: translateY(50px);
          opacity: 0;
        }
        100% {
          transform: translateY(0px);
          opacity: 1;
        }
      }
      @keyframes w3m-iframe-zoom-in-mobile {
        0% {
          transform: scale(0.95);
          opacity: 0;
        }
        100% {
          transform: scale(1);
          opacity: 1;
        }
      }
      :root {
        --apkt-modal-width: 370px;

        --apkt-visual-size-inherit: inherit;
        --apkt-visual-size-sm: 40px;
        --apkt-visual-size-md: 55px;
        --apkt-visual-size-lg: 80px;

        --apkt-path-network-sm: path(
          'M15.4 2.1a5.21 5.21 0 0 1 5.2 0l11.61 6.7a5.21 5.21 0 0 1 2.61 4.52v13.4c0 1.87-1 3.59-2.6 4.52l-11.61 6.7c-1.62.93-3.6.93-5.22 0l-11.6-6.7a5.21 5.21 0 0 1-2.61-4.51v-13.4c0-1.87 1-3.6 2.6-4.52L15.4 2.1Z'
        );

        --apkt-path-network-md: path(
          'M43.4605 10.7248L28.0485 1.61089C25.5438 0.129705 22.4562 0.129705 19.9515 1.61088L4.53951 10.7248C2.03626 12.2051 0.5 14.9365 0.5 17.886V36.1139C0.5 39.0635 2.03626 41.7949 4.53951 43.2752L19.9515 52.3891C22.4562 53.8703 25.5438 53.8703 28.0485 52.3891L43.4605 43.2752C45.9637 41.7949 47.5 39.0635 47.5 36.114V17.8861C47.5 14.9365 45.9637 12.2051 43.4605 10.7248Z'
        );

        --apkt-path-network-lg: path(
          'M78.3244 18.926L50.1808 2.45078C45.7376 -0.150261 40.2624 -0.150262 35.8192 2.45078L7.6756 18.926C3.23322 21.5266 0.5 26.3301 0.5 31.5248V64.4752C0.5 69.6699 3.23322 74.4734 7.6756 77.074L35.8192 93.5492C40.2624 96.1503 45.7376 96.1503 50.1808 93.5492L78.3244 77.074C82.7668 74.4734 85.5 69.6699 85.5 64.4752V31.5248C85.5 26.3301 82.7668 21.5266 78.3244 18.926Z'
        );

        --apkt-width-network-sm: 36px;
        --apkt-width-network-md: 48px;
        --apkt-width-network-lg: 86px;

        --apkt-duration-dynamic: 0ms;
        --apkt-height-network-sm: 40px;
        --apkt-height-network-md: 54px;
        --apkt-height-network-lg: 96px;
      }
    `,dark:Jd`
      :root {
      }
    `,light:Jd`
      :root {
      }
    `}}const Dnt=Jd`
  div,
  span,
  iframe,
  a,
  img,
  form,
  button,
  label,
  *::after,
  *::before {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
    font-style: normal;
    text-rendering: optimizeSpeed;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    -webkit-tap-highlight-color: transparent;
    backface-visibility: hidden;
  }

  :host {
    font-family: var(--apkt-fontFamily-regular);
  }
`,knt=Jd`
  button,
  a {
    cursor: pointer;
    display: flex;
    justify-content: center;
    align-items: center;
    position: relative;

    will-change: background-color, color, border, box-shadow, width, height, transform, opacity;
    outline: none;
    border: none;
    text-decoration: none;
    transition:
      background-color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      color var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      box-shadow var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      width var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      height var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      transform var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      opacity var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      scale var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2),
      border-radius var(--apkt-durations-lg) var(--apkt-easings-ease-out-power-2);
    will-change:
      background-color, color, border, box-shadow, width, height, transform, opacity, scale,
      border-radius;
  }

  a:active:not([disabled]),
  button:active:not([disabled]) {
    scale: 0.975;
    transform-origin: center;
  }

  button:disabled {
    cursor: default;
  }

  input {
    border: none;
    outline: none;
    appearance: none;
  }
`,jg={hexStringToNumber(t){const e=t.startsWith("0x")?t.slice(2):t;return parseInt(e,16)},numberToHexString(t){return`0x${t.toString(16)}`},async getUserInfo(t){const[e,r]=await Promise.all([jg.getAddresses(t),jg.getChainId(t)]);return{chainId:r,addresses:e}},async getChainId(t){const e=await t.request({method:"eth_chainId"});return Number(e)},async getAddress(t){const[e]=await t.request({method:"eth_accounts"});return e},async getAddresses(t){return await t.request({method:"eth_accounts"})},async addEthereumChain(t,e){const r=e.rpcUrls.chainDefault?.http||[];await t.request({method:"wallet_addEthereumChain",params:[{chainId:jg.numberToHexString(e.id),rpcUrls:[...r],chainName:e.name,nativeCurrency:{name:e.nativeCurrency.name,decimals:e.nativeCurrency.decimals,symbol:e.nativeCurrency.symbol},blockExplorerUrls:[e.blockExplorers?.default.url],iconUrls:[pu.NetworkImageIds[e.id]]}]})}},tg={ACCOUNT_INDEXES:{PAYMENT:0,ORDINAL:1}},OU=Bae({id:1030,name:"Conflux eSpace",nativeCurrency:{name:"Conflux",symbol:"CFX",decimals:18},rpcUrls:{default:{http:["https://evm.confluxrpc.com"],webSocket:["wss://evm.confluxrpc.com/ws"]}},blockExplorers:{default:{name:"ConfluxScan",url:"https://evm.confluxscan.org"}},contracts:{multicall3:{address:"0xEFf0078910f638cd81996cc117bccD3eDf2B072F",blockCreated:68602935}}});function Pm(t){return{formatters:void 0,fees:void 0,serializers:void 0,...t}}const DU=Pm({id:"5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",name:"Solana",network:"solana-mainnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!1,chainNamespace:"solana",caipNetworkId:"solana:5eykt4UsFv8P8NJdTREpY1vzqKqZKvdp",deprecatedCaipNetworkId:"solana:4sGjMW1sUnHzSxGspuhpqLDx6wiyjNtZ"}),kU=Pm({id:"EtWTRABZaYq6iMfeYKouRu166VU2xqa1",name:"Solana Devnet",network:"solana-devnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:EtWTRABZaYq6iMfeYKouRu166VU2xqa1",deprecatedCaipNetworkId:"solana:8E9rvCKLFQia2Y35HXjjpWzj8weVo44K"});Pm({id:"4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z",name:"Solana Testnet",network:"solana-testnet",nativeCurrency:{name:"Solana",symbol:"SOL",decimals:9},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},blockExplorers:{default:{name:"Solscan",url:"https://solscan.io"}},testnet:!0,chainNamespace:"solana",caipNetworkId:"solana:4uhcVJyU9pJkvQyS88uRDiswHXSCkY3z"});Pm({id:"000000000019d6689c085ae165831e93",caipNetworkId:"bip122:000000000019d6689c085ae165831e93",chainNamespace:"bip122",name:"Bitcoin",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}}});Pm({id:"000000000933ea01ad0ee984209779ba",caipNetworkId:"bip122:000000000933ea01ad0ee984209779ba",chainNamespace:"bip122",name:"Bitcoin Testnet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});Pm({id:"00000008819873e925422c1ff0f99f7c",caipNetworkId:"bip122:00000008819873e925422c1ff0f99f7c",chainNamespace:"bip122",name:"Bitcoin Signet",nativeCurrency:{name:"Bitcoin",symbol:"BTC",decimals:8},rpcUrls:{default:{http:["https://rpc.walletconnect.org/v1"]}},testnet:!0});const ZCe={solana:["solana_signMessage","solana_signTransaction","solana_requestAccounts","solana_getAccounts","solana_signAllTransactions","solana_signAndSendTransaction"],eip155:["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_showCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],bip122:["sendTransfer","signMessage","signPsbt","getAccountAddresses"]},Hf={getMethodsByChainNamespace(t){return ZCe[t]||[]},createDefaultNamespace(t){return{methods:this.getMethodsByChainNamespace(t),events:["accountsChanged","chainChanged"],chains:[],rpcMap:{}}},applyNamespaceOverrides(t,e){if(!e)return{...t};const r={...t},n=new Set;if(e.methods&&Object.keys(e.methods).forEach(i=>n.add(i)),e.chains&&Object.keys(e.chains).forEach(i=>n.add(i)),e.events&&Object.keys(e.events).forEach(i=>n.add(i)),e.rpcMap&&Object.keys(e.rpcMap).forEach(i=>{const[s]=i.split(":");s&&n.add(s)}),n.forEach(i=>{r[i]||(r[i]=this.createDefaultNamespace(i))}),e.methods&&Object.entries(e.methods).forEach(([i,s])=>{r[i]&&(r[i].methods=s)}),e.chains&&Object.entries(e.chains).forEach(([i,s])=>{r[i]&&(r[i].chains=s)}),e.events&&Object.entries(e.events).forEach(([i,s])=>{r[i]&&(r[i].events=s)}),e.rpcMap){const i=new Set;Object.entries(e.rpcMap).forEach(([s,o])=>{const[a,c]=s.split(":");!a||!c||!r[a]||(r[a].rpcMap||(r[a].rpcMap={}),i.has(a)||(r[a].rpcMap={},i.add(a)),r[a].rpcMap[c]=o)})}return r},createNamespaces(t,e){const r=t.reduce((n,i)=>{const{id:s,chainNamespace:o,rpcUrls:a}=i,c=a.default.http[0];n[o]||(n[o]=this.createDefaultNamespace(o));const l=`${o}:${s}`,u=n[o];switch(u.chains.push(l),l){case DU.caipNetworkId:u.chains.push(DU.deprecatedCaipNetworkId);break;case kU.caipNetworkId:u.chains.push(kU.deprecatedCaipNetworkId);break}return u?.rpcMap&&c&&(u.rpcMap[s]=c),n},{});return this.applyNamespaceOverrides(r,e)},resolveReownName:async t=>{const e=await b_.resolveName(t);return(Object.values(e?.addresses)||[])[0]?.address||!1},getChainsFromNamespaces(t={}){return Object.values(t).flatMap(e=>{const r=e.chains||[],n=e.accounts.map(i=>{const[s,o]=i.split(":");return`${s}:${o}`});return Array.from(new Set([...r,...n]))})},isSessionEventData(t){return typeof t=="object"&&t!==null&&"id"in t&&"topic"in t&&"params"in t&&typeof t.params=="object"&&t.params!==null&&"chainId"in t.params&&"event"in t.params&&typeof t.params.event=="object"&&t.params.event!==null},isOriginAllowed(t,e,r){for(const n of[...e,...r])if(n.includes("*")){const s=`^${n.replace(/[.*+?^${}()|[\]\\]/gu,"\\$&").replace(/\\\*/gu,".*")}$`;if(new RegExp(s,"u").test(t))return!0}else try{if(new URL(n).origin===t)return!0}catch{if(n===t)return!0}return!1},listenWcProvider({universalProvider:t,namespace:e,onConnect:r,onDisconnect:n,onAccountsChanged:i,onChainChanged:s,onDisplayUri:o}){r&&t.on("connect",()=>{const a=Hf.getWalletConnectAccounts(t,e);r(a)}),n&&t.on("disconnect",()=>{n()}),i&&t.on("accountsChanged",a=>{try{const c=t.session?.namespaces?.[e]?.accounts||[],l=t.rpcProviders?.[e]?.getDefaultChain(),u=a.map(f=>{const h=c.find(m=>m.includes(`${e}:${l}:${f}`));if(!h)return;const{chainId:g,chainNamespace:_}=ro.parseCaipAddress(h);return{address:f,chainId:g,chainNamespace:_}}).filter(f=>f!==void 0);u.length>0&&i(u)}catch(c){console.warn("Failed to parse accounts for namespace on accountsChanged event",e,a,c)}}),s&&t.on("chainChanged",a=>{s(a)}),o&&t.on("display_uri",a=>{o(a)})},getWalletConnectAccounts(t,e){const r=new Set,n=t?.session?.namespaces?.[e]?.accounts?.map(i=>ro.parseCaipAddress(i)).filter(({address:i})=>r.has(i.toLowerCase())?!1:(r.add(i.toLowerCase()),!0));return n&&n.length>0?n:[]}};class eNe{constructor(e){this.namespace=e.namespace}async syncConnections(e){switch(this.namespace){case we.CHAIN.EVM:await this.syncEVMConnections(e);break;case we.CHAIN.SOLANA:await this.syncSolanaConnections(e);break;case we.CHAIN.BITCOIN:await this.syncBitcoinConnections(e);break;default:throw new Error(`Unsupported chain namespace: ${this.namespace}`)}}async syncEVMConnections({connectors:e,caipNetworks:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===we.CONNECTOR_ID.WALLET_CONNECT){const c=Hf.getWalletConnectAccounts(n,this.namespace),l=r.find(u=>u.chainNamespace===this.namespace&&u.id.toString()===c[0]?.chainId?.toString());c.length>0&&s({connectorId:a.id,accounts:c.map(u=>({address:u.address})),caipNetwork:l})}else{const{accounts:c,chainId:l}=await Yv.fetchProviderData(a);if(c.length>0&&l){const u=r.find(f=>f.chainNamespace===this.namespace&&f.id.toString()===l.toString());s({connectorId:a.id,accounts:c.map(f=>({address:f})),caipNetwork:u}),a.provider&&a.id!==we.CONNECTOR_ID.AUTH&&a.id!==we.CONNECTOR_ID.WALLET_CONNECT&&o(a.id,a.provider)}}}))}async syncSolanaConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===we.CONNECTOR_ID.WALLET_CONNECT){const c=Hf.getWalletConnectAccounts(n,this.namespace);c.length>0&&s({connectorId:a.id,accounts:c.map(l=>({address:l.address})),caipNetwork:r})}else{const c=await a.connect({chainId:r?.id});c&&(s({connectorId:a.id,accounts:[{address:c}],caipNetwork:r}),o(a.id,a.provider))}}))}async syncBitcoinConnections({connectors:e,caipNetwork:r,universalProvider:n,getConnectionStatusInfo:i,onConnection:s,onListenProvider:o}){await Promise.all(e.filter(a=>{const{hasDisconnected:c,hasConnected:l}=i(a.id);return!c&&l}).map(async a=>{if(a.id===we.CONNECTOR_ID.WALLET_CONNECT){const h=Hf.getWalletConnectAccounts(n,this.namespace);h.length>0&&s({connectorId:a.id,accounts:h.map(g=>({address:g.address})),caipNetwork:r});return}const c=await a.connect();let u=(await a.getAccountAddresses())?.map(h=>Ye.createAccount(we.CHAIN.BITCOIN,h.address,h.purpose||"payment",h.publicKey,h.path));if(u&&u.length>1&&(u=[{namespace:we.CHAIN.BITCOIN,publicKey:u[tg.ACCOUNT_INDEXES.PAYMENT]?.publicKey??"",path:u[tg.ACCOUNT_INDEXES.PAYMENT]?.path??"",address:u[tg.ACCOUNT_INDEXES.PAYMENT]?.address??"",type:"payment"},{namespace:we.CHAIN.BITCOIN,publicKey:u[tg.ACCOUNT_INDEXES.ORDINAL]?.publicKey??"",path:u[tg.ACCOUNT_INDEXES.ORDINAL]?.path??"",address:u[tg.ACCOUNT_INDEXES.ORDINAL]?.address??"",type:"ordinal"}]),!(a.chains.find(h=>h.id===r?.id)||a.chains[0]))throw new Error("The connector does not support any of the requested chains");c&&(o(a.id,a.provider),s({connectorId:a.id,accounts:u.map(h=>({address:h.address,type:h.type})),caipNetwork:r}))}))}getConnection({address:e,connectorId:r,connections:n,connectors:i}){if(r){const o=n.find(l=>Mi.isLowerCaseMatch(l.connectorId,r));if(!o)return null;const a=i.find(l=>Mi.isLowerCaseMatch(l.id,o.connectorId)),c=e?o.accounts.find(l=>Mi.isLowerCaseMatch(l.address,e)):o.accounts[0];return{...o,account:c,connector:a}}const s=n.find(o=>o.accounts.length>0&&i.some(a=>Mi.isLowerCaseMatch(a.id,o.connectorId)));if(s){const[o]=s.accounts,a=i.find(c=>Mi.isLowerCaseMatch(c.id,s.connectorId));return{...s,account:o,connector:a}}return null}}const Uf={ERROR_CODE_UNRECOGNIZED_CHAIN_ID:4902,ERROR_CODE_DEFAULT:5e3,ERROR_INVALID_CHAIN_ID:32603,DEFAULT_ALLOWED_ANCESTORS:["http://localhost:*","https://localhost:*","http://127.0.0.1:*","https://127.0.0.1:*","https://*.pages.dev","https://*.vercel.app","https://*.ngrok-free.app","https://secure-mobile.walletconnect.com","https://secure-mobile.walletconnect.org"]};class f6{constructor({provider:e,namespace:r}){this.id=we.CONNECTOR_ID.WALLET_CONNECT,this.name=pu.ConnectorNamesMap[we.CONNECTOR_ID.WALLET_CONNECT],this.type="WALLET_CONNECT",this.imageId=pu.ConnectorImageIds[we.CONNECTOR_ID.WALLET_CONNECT],this.getCaipNetworks=se.getCaipNetworks.bind(se),this.caipNetworks=this.getCaipNetworks(),this.provider=e,this.chain=r}get chains(){return this.getCaipNetworks()}async connectWalletConnect(){if(!await this.authenticate()){const r=this.getCaipNetworks(),n=Te.state.universalProviderConfigOverride,i=Hf.createNamespaces(r,n);await this.provider.connect({optionalNamespaces:i})}return{clientId:await this.provider.client.core.crypto.getClientId(),session:this.provider.session}}async disconnect(){await this.provider.disconnect()}async authenticate(){const e=this.chains.map(r=>r.caipNetworkId);return ca.universalProviderAuthenticate({universalProvider:this.provider,chains:e,methods:tNe})}}const tNe=["eth_accounts","eth_requestAccounts","eth_sendRawTransaction","eth_sign","eth_signTransaction","eth_signTypedData","eth_signTypedData_v3","eth_signTypedData_v4","eth_sendTransaction","personal_sign","wallet_switchEthereumChain","wallet_addEthereumChain","wallet_getPermissions","wallet_requestPermissions","wallet_registerOnboarding","wallet_watchAsset","wallet_scanQRCode","wallet_getCallsStatus","wallet_sendCalls","wallet_getCapabilities","wallet_grantPermissions","wallet_revokePermissions","wallet_getAssets"],rNe=[we.CONNECTOR_ID.AUTH,we.CONNECTOR_ID.WALLET_CONNECT];class Hz{constructor(e){this.availableConnectors=[],this.availableConnections=[],this.providerHandlers={},this.eventListeners=new Map,this.getCaipNetworks=r=>se.getCaipNetworks(r),this.getConnectorId=r=>Be.getConnectorId(r),e&&this.construct(e),e?.namespace&&(this.connectionManager=new eNe({namespace:e.namespace}))}construct(e){this.projectId=e.projectId,this.namespace=e.namespace,this.adapterType=e.adapterType}get connectors(){return this.availableConnectors}get connections(){return this.availableConnections}get networks(){return this.getCaipNetworks(this.namespace)}onAuthConnected({accounts:e,chainId:r}){const n=this.getCaipNetworks().filter(i=>i.chainNamespace===this.namespace).find(i=>i.id.toString()===r?.toString());e&&n&&this.addConnection({connectorId:we.CONNECTOR_ID.AUTH,accounts:e,caipNetwork:n})}setAuthProvider(e){e.onConnect(this.onAuthConnected.bind(this)),e.onSocialConnected(this.onAuthConnected.bind(this)),this.addConnector({id:we.CONNECTOR_ID.AUTH,type:"AUTH",name:we.CONNECTOR_NAMES.AUTH,provider:e,imageId:pu.ConnectorImageIds[we.CONNECTOR_ID.AUTH],chain:this.namespace,chains:[]})}addConnector(...e){const r=new Set;this.availableConnectors=[...e,...this.availableConnectors].filter(n=>r.has(n.id)?!1:(r.add(n.id),!0)),this.emit("connectors",this.availableConnectors)}addConnection(...e){const r=new Set;this.availableConnections=[...e,...this.availableConnections].filter(n=>r.has(n.connectorId.toLowerCase())?!1:(r.add(n.connectorId.toLowerCase()),!0)),this.emit("connections",this.availableConnections)}deleteConnection(e){this.availableConnections=this.availableConnections.filter(r=>!Mi.isLowerCaseMatch(r.connectorId,e)),this.emit("connections",this.availableConnections)}clearConnections(e=!1){this.availableConnections=[],e&&this.emit("connections",this.availableConnections)}setStatus(e,r){tt.setStatus(e,r)}on(e,r){this.eventListeners.has(e)||this.eventListeners.set(e,new Set),this.eventListeners.get(e)?.add(r)}off(e,r){const n=this.eventListeners.get(e);n&&n.delete(r)}removeAllEventListeners(){this.eventListeners.forEach(e=>{e.clear()})}emit(e,r){const n=this.eventListeners.get(e);n&&n.forEach(i=>i(r))}async connectWalletConnect(e){return{clientId:(await this.getWalletConnectConnector().connectWalletConnect()).clientId}}async switchNetwork(e){const{caipNetwork:r,providerType:n}=e;if(!e.provider)return;const i="provider"in e.provider?e.provider.provider:e.provider;if(n==="WALLET_CONNECT"){i.setDefaultChain(r.caipNetworkId);return}if(i&&n==="AUTH"){const s=i,o=jo(r.chainNamespace);await s.switchNetwork({chainId:r.caipNetworkId});const a=await s.getUser({chainId:r.caipNetworkId,preferredAccountType:o});this.emit("switchNetwork",a)}}getWalletConnectConnector(){const e=this.connectors.find(r=>r instanceof f6);if(!e)throw new Error("WalletConnectConnector not found");return e}onConnect(e,r){if(e.length>0){const{address:n,chainId:i}=Ye.getAccount(e[0]),s=this.getCaipNetworks().filter(a=>a.chainNamespace===this.namespace).find(a=>a.id.toString()===i?.toString()),o=this.connectors.find(a=>a.id===r);n&&(this.emit("accountChanged",{address:n,chainId:i,connector:o}),this.addConnection({connectorId:r,accounts:e.map(a=>{const{address:c}=Ye.getAccount(a);return{address:c}}),caipNetwork:s}))}}onAccountsChanged(e,r,n=!0){if(e.length>0){const{address:i}=Ye.getAccount(e[0]),s=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors});i&&Mi.isLowerCaseMatch(this.getConnectorId(we.CHAIN.EVM),r)&&this.emit("accountChanged",{address:i,chainId:s?.caipNetwork?.id,connector:s?.connector}),this.addConnection({connectorId:r,accounts:e.map(o=>{const{address:a}=Ye.getAccount(o);return{address:a}}),caipNetwork:s?.caipNetwork})}else n&&this.onDisconnect(r)}onDisconnect(e){this.removeProviderListeners(e),this.deleteConnection(e),Mi.isLowerCaseMatch(this.getConnectorId(we.CHAIN.EVM),e)&&this.emitFirstAvailableConnection(),this.connections.length===0&&this.emit("disconnect")}onChainChanged(e,r){const n=typeof e=="string"&&e.startsWith("0x")?jg.hexStringToNumber(e).toString():e.toString(),i=this.connectionManager?.getConnection({connectorId:r,connections:this.connections,connectors:this.connectors}),s=this.getCaipNetworks().filter(o=>o.chainNamespace===this.namespace).find(o=>o.id.toString()===n);i&&this.addConnection({connectorId:r,accounts:i.accounts,caipNetwork:s}),Mi.isLowerCaseMatch(this.getConnectorId(we.CHAIN.EVM),r)&&this.emit("switchNetwork",{chainId:n})}listenProviderEvents(e,r){if(rNe.includes(e))return;const n=o=>this.onAccountsChanged(o,e),i=o=>this.onChainChanged(o,e),s=()=>this.onDisconnect(e);this.providerHandlers[e]||(r.on("disconnect",s),r.on("accountsChanged",n),r.on("chainChanged",i),this.providerHandlers[e]={provider:r,disconnect:s,accountsChanged:n,chainChanged:i})}removeProviderListeners(e){if(this.providerHandlers[e]){const{provider:r,disconnect:n,accountsChanged:i,chainChanged:s}=this.providerHandlers[e];r.removeListener("disconnect",n),r.removeListener("accountsChanged",i),r.removeListener("chainChanged",s),this.providerHandlers[e]=null}}emitFirstAvailableConnection(){const e=this.connectionManager?.getConnection({connections:this.connections,connectors:this.connectors});if(e){const[r]=e.accounts;this.emit("accountChanged",{address:r?.address,chainId:e.caipNetwork?.id,connector:e.connector})}}}class nNe extends Hz{async setUniversalProvider(e){if(!this.namespace)throw new Error("UniversalAdapter:setUniversalProvider - namespace is required");return this.addConnector(new f6({provider:e,caipNetworks:this.getCaipNetworks(),namespace:this.namespace})),Promise.resolve()}async connect(e){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:Number(e.chainId),provider:this.provider,address:""})}async disconnect(){try{await this.getWalletConnectConnector().disconnect(),this.emit("disconnect")}catch(e){console.warn("UniversalAdapter:disconnect - error",e)}return{connections:[]}}syncConnections(){return Promise.resolve()}async getAccounts({namespace:e}){const n=this.provider?.session?.namespaces?.[e]?.accounts?.map(i=>{const[,,s]=i.split(":");return s}).filter((i,s,o)=>o.indexOf(i)===s)||[];return Promise.resolve({accounts:n.map(i=>Ye.createAccount(e,i,e==="bip122"?"payment":"eoa"))})}async syncConnectors(){return Promise.resolve()}async getBalance(e){if(!(e.caipNetwork&&ar.BALANCE_SUPPORTED_CHAINS.includes(e.caipNetwork?.chainNamespace))||e.caipNetwork?.testnet)return{balance:"0.00",symbol:e.caipNetwork?.nativeCurrency.symbol||""};if(tt.state.balanceLoading&&e.chainId===se.state.activeCaipNetwork?.id)return{balance:tt.state.balance||"0.00",symbol:tt.state.balanceSymbol||""};const i=(await tt.fetchTokenBalance()).find(s=>s.chainId===`${e.caipNetwork?.chainNamespace}:${e.chainId}`&&s.symbol===e.caipNetwork?.nativeCurrency.symbol);return{balance:i?.quantity.numeric||"0.00",symbol:i?.symbol||e.caipNetwork?.nativeCurrency.symbol||""}}async signMessage(e){const{provider:r,message:n,address:i}=e;if(!r)throw new Error("UniversalAdapter:signMessage - provider is undefined");let s="";return se.state.activeCaipNetwork?.chainNamespace===we.CHAIN.SOLANA?s=(await r.request({method:"solana_signMessage",params:{message:Nm.encode(new TextEncoder().encode(n)),pubkey:i}},se.state.activeCaipNetwork?.caipNetworkId)).signature:s=await r.request({method:"personal_sign",params:[n,i]},se.state.activeCaipNetwork?.caipNetworkId),{signature:s}}async estimateGas(){return Promise.resolve({gas:BigInt(0)})}async sendTransaction(){return Promise.resolve({hash:""})}walletGetAssets(e){return Promise.resolve({})}async writeContract(){return Promise.resolve({hash:""})}emitFirstAvailableConnection(){}parseUnits(){return 0n}formatUnits(){return"0"}async getCapabilities(){return Promise.resolve({})}async grantPermissions(){return Promise.resolve({})}async revokePermissions(){return Promise.resolve("0x")}async syncConnection(){return Promise.resolve({id:"WALLET_CONNECT",type:"WALLET_CONNECT",chainId:1,provider:this.provider,address:""})}async switchNetwork(e){const{caipNetwork:r}=e,n=this.getWalletConnectConnector();if(r.chainNamespace===we.CHAIN.EVM)try{await n.provider?.request({method:"wallet_switchEthereumChain",params:[{chainId:Q4(r.id)}]})}catch(i){if(i.code===Uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||i.code===Uf.ERROR_INVALID_CHAIN_ID||i.code===Uf.ERROR_CODE_DEFAULT||i?.data?.originalError?.code===Uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)try{await n.provider?.request({method:"wallet_addEthereumChain",params:[{chainId:Q4(r.id),rpcUrls:[r?.rpcUrls.chainDefault?.http],chainName:r.name,nativeCurrency:r.nativeCurrency,blockExplorerUrls:[r.blockExplorers?.default.url]}]})}catch{throw new Error("Chain is not supported")}}n.provider.setDefaultChain(r.caipNetworkId)}getWalletConnectProvider(){return this.connectors.find(n=>n.type==="WALLET_CONNECT")?.provider}}const iNe=["email","socials","swaps","onramp","activity","reownBranding","multiWallet","emailCapture","payWithExchange","payments","reownAuthentication"],gv={email:{apiFeatureName:"social_login",localFeatureName:"email",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return!!t.isEnabled&&e.includes("email")},processFallback:t=>t===void 0?ar.DEFAULT_REMOTE_FEATURES.email:!!t},socials:{apiFeatureName:"social_login",localFeatureName:"socials",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e.filter(r=>r!=="email"):!1},processFallback:t=>t===void 0?ar.DEFAULT_REMOTE_FEATURES.socials:typeof t=="boolean"?t?ar.DEFAULT_REMOTE_FEATURES.socials:!1:t},swaps:{apiFeatureName:"swap",localFeatureName:"swaps",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?ar.DEFAULT_REMOTE_FEATURES.swaps:typeof t=="boolean"?t?ar.DEFAULT_REMOTE_FEATURES.swaps:!1:t},onramp:{apiFeatureName:"onramp",localFeatureName:"onramp",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>{if(!t?.config)return!1;const e=t.config;return t.isEnabled&&e.length>0?e:!1},processFallback:t=>t===void 0?ar.DEFAULT_REMOTE_FEATURES.onramp:typeof t=="boolean"?t?ar.DEFAULT_REMOTE_FEATURES.onramp:!1:t},activity:{apiFeatureName:"activity",localFeatureName:"history",returnType:!1,isLegacy:!0,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?ar.DEFAULT_REMOTE_FEATURES.activity:!!t},reownBranding:{apiFeatureName:"reown_branding",localFeatureName:"reownBranding",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>t===void 0?ar.DEFAULT_REMOTE_FEATURES.reownBranding:!!t},emailCapture:{apiFeatureName:"email_capture",localFeatureName:"emailCapture",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>t.isEnabled&&(t.config??[]),processFallback:t=>!1},multiWallet:{apiFeatureName:"multi_wallet",localFeatureName:"multiWallet",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>ar.DEFAULT_REMOTE_FEATURES.multiWallet},payWithExchange:{apiFeatureName:"fund_from_exchange",localFeatureName:"payWithExchange",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>ar.DEFAULT_REMOTE_FEATURES.payWithExchange},payments:{apiFeatureName:"payments",localFeatureName:"payments",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:()=>ar.DEFAULT_REMOTE_FEATURES.payments},reownAuthentication:{apiFeatureName:"reown_authentication",localFeatureName:"reownAuthentication",returnType:!1,isLegacy:!1,isAvailableOnBasic:!1,processApi:t=>!!t.isEnabled,processFallback:t=>typeof t>"u"?ar.DEFAULT_REMOTE_FEATURES.reownAuthentication:!!t}},sNe={localSettingsOverridden:new Set,getApiConfig(t,e){return e?.find(r=>r.id===t)},addWarning(t,e){if(t!==void 0){const r=gv[e],n=r.isLegacy?`"features.${r.localFeatureName}" (now "${e}")`:`"features.${e}"`;this.localSettingsOverridden.add(n)}},processFeature(t,e,r,n,i){const s=gv[t],o=e[s.localFeatureName];if(i&&!s.isAvailableOnBasic)return!1;if(n){const a=this.getApiConfig(s.apiFeatureName,r);return a?.config===null?this.processFallbackFeature(t,o):a?.config?(o!==void 0&&this.addWarning(o,t),this.processApiFeature(t,a)):!1}return this.processFallbackFeature(t,o)},processApiFeature(t,e){return gv[t].processApi(e)},processFallbackFeature(t,e){return gv[t].processFallback(e)},async fetchRemoteFeatures(t){const e=t.basic??!1,r=t.features||{};this.localSettingsOverridden.clear();let n=null,i=!1;try{n=await ut.fetchProjectConfig(),i=n!=null}catch(o){console.warn("[Reown Config] Failed to fetch remote project configuration. Using local/default values.",o)}const s=i&&!e?ar.DEFAULT_REMOTE_FEATURES:ar.DEFAULT_REMOTE_FEATURES_DISABLED;try{for(const o of iNe){const a=this.processFeature(o,r,n,i,e);Object.assign(s,{[o]:a})}}catch(o){return console.warn("[Reown Config] Failed to process the configuration from Cloud. Using default values.",o),ar.DEFAULT_REMOTE_FEATURES}if(i&&this.localSettingsOverridden.size>0){const o=`Your local configuration for ${Array.from(this.localSettingsOverridden).join(", ")} was ignored because a remote configuration was successfully fetched. Please manage these features via your project dashboard on dashboard.reown.com.`;as.open({debugMessage:Ss.ALERT_WARNINGS.LOCAL_CONFIGURATION_IGNORED.debugMessage(o)},"warning")}return s}};class oNe{constructor(e){this.chainNamespaces=[],this.features={},this.remoteFeatures={},this.reportedAlertErrors={},this.getCaipNetwork=(r,n)=>{if(r){const i=se.getCaipNetworks(r)?.find(a=>a.id===n);if(i)return i;const s=se.getNetworkData(r)?.caipNetwork;return s||se.getRequestedCaipNetworks(r).filter(a=>a.chainNamespace===r)?.[0]}return se.state.activeCaipNetwork||this.defaultCaipNetwork},this.getCaipNetworkId=()=>{const r=this.getCaipNetwork();if(r)return r.id},this.getCaipNetworks=r=>se.getCaipNetworks(r),this.getActiveChainNamespace=()=>se.state.activeChain,this.setRequestedCaipNetworks=(r,n)=>{se.setRequestedCaipNetworks(r,n)},this.getApprovedCaipNetworkIds=()=>se.getAllApprovedCaipNetworkIds(),this.getCaipAddress=r=>se.state.activeChain===r||!r?se.state.activeCaipAddress:se.state.chains.get(r)?.accountState?.caipAddress,this.setClientId=r=>{pt.setClientId(r)},this.getProvider=r=>qt.getProvider(r),this.getProviderType=r=>qt.getProviderId(r),this.getPreferredAccountType=r=>jo(r),this.setCaipAddress=(r,n)=>{tt.setCaipAddress(r,n)},this.setBalance=(r,n,i)=>{tt.setBalance(r,n,i)},this.setProfileName=(r,n)=>{tt.setProfileName(r,n)},this.setProfileImage=(r,n)=>{tt.setProfileImage(r,n)},this.setUser=(r,n)=>{tt.setUser(r,n)},this.resetAccount=r=>{tt.resetAccount(r)},this.setCaipNetwork=r=>{se.setActiveCaipNetwork(r)},this.setCaipNetworkOfNamespace=(r,n)=>{se.setChainNetworkData(n,{caipNetwork:r})},this.setStatus=(r,n)=>{tt.setStatus(r,n),Be.isConnected()?De.setConnectionStatus("connected"):De.setConnectionStatus("disconnected")},this.getAddressByChainNamespace=r=>se.state.chains.get(r)?.accountState?.address,this.setConnectors=r=>{const n=[...Be.state.allConnectors,...r];Be.setConnectors(n)},this.setConnections=(r,n)=>{De.setConnections(r,n),We.setConnections(r,n)},this.fetchIdentity=r=>pt.fetchIdentity(r),this.getReownName=r=>b_.getNamesForAddress(r),this.getConnectors=()=>Be.getConnectors(),this.getConnectorImage=r=>Aj.getConnectorImage(r),this.getConnections=r=>this.remoteFeatures.multiWallet?oA.getConnectionsData(r).connections:(as.open(we.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.getRecentConnections=r=>this.remoteFeatures.multiWallet?oA.getConnectionsData(r).recentConnections:(as.open(we.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),[]),this.switchConnection=async r=>{if(!this.remoteFeatures.multiWallet){as.open(we.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}await We.switchConnection(r)},this.deleteConnection=r=>{if(!this.remoteFeatures.multiWallet){as.open(we.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info");return}De.deleteAddressFromConnection(r),We.syncStorageConnections()},this.setConnectedWalletInfo=(r,n)=>{const i=qt.getProviderId(n),s=r?{...r,type:i}:void 0;tt.setConnectedWalletInfo(s,n)},this.getIsConnectedState=()=>!!se.state.activeCaipAddress,this.addAddressLabel=(r,n,i)=>{tt.addAddressLabel(r,n,i)},this.removeAddressLabel=(r,n)=>{tt.removeAddressLabel(r,n)},this.getAddress=r=>se.state.activeChain===r||!r?tt.state.address:se.state.chains.get(r)?.accountState?.address,this.setApprovedCaipNetworksData=r=>se.setApprovedCaipNetworksData(r),this.resetNetwork=r=>{se.resetNetwork(r)},this.addConnector=r=>{Be.addConnector(r)},this.resetWcConnection=()=>{We.resetWcConnection()},this.setAddressExplorerUrl=(r,n)=>{tt.setAddressExplorerUrl(r,n)},this.setSmartAccountDeployed=(r,n)=>{tt.setSmartAccountDeployed(r,n)},this.setPreferredAccountType=(r,n)=>{se.setAccountProp("preferredAccountType",r,n)},this.setEIP6963Enabled=r=>{Te.setEIP6963Enabled(r)},this.handleUnsafeRPCRequest=()=>{if(this.isOpen()){if(this.isTransactionStackEmpty())return;this.redirect("ApproveTransaction")}else this.open({view:"ApproveTransaction"})},this.options=e,this.version=e.sdkVersion,this.caipNetworks=this.extendCaipNetworks(e),this.chainNamespaces=this.getChainNamespacesSet(e.adapters,this.caipNetworks),this.defaultCaipNetwork=this.extendDefaultCaipNetwork(e),this.chainAdapters=this.createAdapters(e.adapters),this.readyPromise=this.initialize(e)}getChainNamespacesSet(e,r){const n=e?.map(s=>s.namespace).filter(s=>!!s);if(n?.length)return[...new Set(n)];const i=r?.map(s=>s.chainNamespace);return[...new Set(i)]}async initialize(e){if(this.initializeProjectSettings(e),this.initControllers(e),await this.initChainAdapters(),this.sendInitializeEvent(e),Te.state.enableReconnect?(await this.syncExistingConnection(),await this.syncAdapterConnections()):await this.unSyncExistingConnection(),this.remoteFeatures=await sNe.fetchRemoteFeatures(e),Te.setRemoteFeatures(this.remoteFeatures),this.remoteFeatures.onramp&&WI.setOnrampProviders(this.remoteFeatures.onramp),(Te.state.remoteFeatures?.email||Array.isArray(Te.state.remoteFeatures?.socials)&&Te.state.remoteFeatures?.socials.length>0)&&await this.checkAllowedOrigins(),Te.state.features?.reownAuthentication||Te.state.remoteFeatures?.reownAuthentication){const{ReownAuthentication:r}=await Wi(async()=>{const{ReownAuthentication:i}=await import("./features-Sb5UgA-X.js");return{ReownAuthentication:i}},[],import.meta.url),n=Te.state.siwx;n instanceof r||(n&&console.warn("ReownAuthentication option is enabled, SIWX configuration will be overridden."),Te.setSIWX(new r))}}async checkAllowedOrigins(){try{const e=await ut.fetchAllowedOrigins();if(!Ye.isClient())return;const r=window.location.origin;Hf.isOriginAllowed(r,e,Uf.DEFAULT_ALLOWED_ANCESTORS)||as.open(Ss.ALERT_ERRORS.ORIGIN_NOT_ALLOWED,"error")}catch(e){if(!(e instanceof Error))return;switch(e.message){case"RATE_LIMITED":as.open(Ss.ALERT_ERRORS.RATE_LIMITED_APP_CONFIGURATION,"error");break;case"SERVER_ERROR":{const r=e.cause instanceof Error?e.cause:e;as.open({displayMessage:Ss.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.displayMessage,debugMessage:Ss.ALERT_ERRORS.SERVER_ERROR_APP_CONFIGURATION.debugMessage(r.message)},"error");break}}}}sendInitializeEvent(e){const{...r}=e;delete r.adapters,delete r.universalProvider,fr.sendEvent({type:"track",event:"INITIALIZE",properties:{...r,networks:e.networks.map(n=>n.id),siweConfig:{options:e.siweConfig?.options||{}}}})}initControllers(e){this.initializeOptionsController(e),this.initializeChainController(e),this.initializeThemeController(e),this.initializeConnectionController(e),this.initializeConnectorController()}initializeThemeController(e){e.themeMode&&Ro.setThemeMode(e.themeMode),e.themeVariables&&Ro.setThemeVariables(e.themeVariables)}initializeChainController(e){if(!this.connectionControllerClient||!this.networkControllerClient)throw new Error("ConnectionControllerClient and NetworkControllerClient must be set");se.initialize(e.adapters??[],this.caipNetworks,{connectionControllerClient:this.connectionControllerClient,networkControllerClient:this.networkControllerClient});const r=this.getDefaultNetwork();r&&se.setActiveCaipNetwork(r)}initializeConnectionController(e){We.initialize(e.adapters??[]),We.setWcBasic(e.basic??!1)}initializeConnectorController(){Be.initialize(this.chainNamespaces)}initializeProjectSettings(e){Te.setProjectId(e.projectId),Te.setSdkVersion(e.sdkVersion)}initializeOptionsController(e){Te.setDebug(e.debug!==!1),Te.setEnableWalletConnect(e.enableWalletConnect!==!1),Te.setEnableWalletGuide(e.enableWalletGuide!==!1),Te.setEnableWallets(e.enableWallets!==!1),Te.setEIP6963Enabled(e.enableEIP6963!==!1),Te.setEnableNetworkSwitch(e.enableNetworkSwitch!==!1),Te.setEnableReconnect(e.enableReconnect!==!1),Te.setEnableAuthLogger(e.enableAuthLogger!==!1),Te.setCustomRpcUrls(e.customRpcUrls),Te.setEnableEmbedded(e.enableEmbedded),Te.setAllWallets(e.allWallets),Te.setIncludeWalletIds(e.includeWalletIds),Te.setExcludeWalletIds(e.excludeWalletIds),Te.setFeaturedWalletIds(e.featuredWalletIds),Te.setTokens(e.tokens),Te.setTermsConditionsUrl(e.termsConditionsUrl),Te.setPrivacyPolicyUrl(e.privacyPolicyUrl),Te.setCustomWallets(e.customWallets),Te.setFeatures(e.features),Te.setAllowUnsupportedChain(e.allowUnsupportedChain),Te.setUniversalProviderConfigOverride(e.universalProviderConfigOverride),Te.setPreferUniversalLinks(e.experimental_preferUniversalLinks),Te.setDefaultAccountTypes(e.defaultAccountTypes);const r=this.getDefaultMetaData();if(!e.metadata&&r&&(e.metadata=r),Te.setMetadata(e.metadata),Te.setDisableAppend(e.disableAppend),Te.setEnableEmbedded(e.enableEmbedded),Te.setSIWX(e.siwx),this.features=Te.state.features??{},!e.projectId){as.open(Ss.ALERT_ERRORS.PROJECT_ID_NOT_CONFIGURED,"error");return}if(e.adapters?.find(i=>i.namespace===we.CHAIN.EVM)&&e.siweConfig){if(e.siwx)throw new Error("Cannot set both `siweConfig` and `siwx` options");Te.setSIWX(e.siweConfig.mapToSIWX())}}getDefaultMetaData(){return Ye.isClient()?{name:document.getElementsByTagName("title")?.[0]?.textContent||"",description:document.querySelector('meta[property="og:description"]')?.content||"",url:window.location.origin,icons:[document.querySelector('link[rel~="icon"]')?.href||""]}:null}setUnsupportedNetwork(e){const r=this.getActiveChainNamespace();if(r){const n=pg.getUnsupportedNetwork(`${r}:${e}`);se.setActiveCaipNetwork(n)}}getDefaultNetwork(){return pg.getCaipNetworkFromStorage(this.defaultCaipNetwork)}extendCaipNetwork(e,r){return pg.extendCaipNetwork(e,{customNetworkImageUrls:r.chainImages,projectId:r.projectId})}extendCaipNetworks(e){return pg.extendCaipNetworks(e.networks,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId})}extendDefaultCaipNetwork(e){const r=e.networks.find(i=>i.id===e.defaultNetwork?.id);return r?pg.extendCaipNetwork(r,{customNetworkImageUrls:e.chainImages,customRpcUrls:e.customRpcUrls,projectId:e.projectId}):void 0}async disconnectNamespace(e,r){try{this.setLoading(!0,e);let n={connections:[]};const i=this.getAdapter(e);return(se.state.chains.get(e)?.accountState?.caipAddress||!Te.state.enableReconnect)&&i?.disconnect&&(n=await i.disconnect({id:r})),this.setLoading(!1,e),n}catch(n){throw this.setLoading(!1,e),new Error(`Failed to disconnect chains: ${n.message}`)}}createClients(){this.connectionControllerClient={connectWalletConnect:async()=>{const e=se.state.activeChain,r=this.getAdapter(e),n=this.getCaipNetwork(e)?.id,i=We.getConnections(e),s=this.remoteFeatures.multiWallet,o=i.length>0;if(!r)throw new Error("Adapter not found");const a=await r.connectWalletConnect(n);(!o||!s)&&this.close(),this.setClientId(a?.clientId||null),De.setConnectedNamespaces([...se.state.chains.keys()]),await this.syncWalletConnectAccount(),await ca.initializeIfEnabled()},connectExternal:async e=>{const r=await this.onConnectExternal(e);return await this.connectInactiveNamespaces(e,r),r?{address:r.address}:void 0},reconnectExternal:async({id:e,info:r,type:n,provider:i})=>{const s=se.state.activeChain,o=this.getAdapter(s);if(!s)throw new Error("reconnectExternal: namespace not found");if(!o)throw new Error("reconnectExternal: adapter not found");o?.reconnect&&(await o?.reconnect({id:e,info:r,type:n,provider:i,chainId:this.getCaipNetwork()?.id}),De.addConnectedNamespace(s),this.syncConnectedWalletInfo(s))},disconnect:async e=>{const{id:r,chainNamespace:n,initialDisconnect:i}=e||{},s=n||se.state.activeChain,o=Be.getConnectorId(s),a=r===we.CONNECTOR_ID.AUTH||o===we.CONNECTOR_ID.AUTH,c=r===we.CONNECTOR_ID.WALLET_CONNECT||o===we.CONNECTOR_ID.WALLET_CONNECT;try{const l=Array.from(se.state.chains.keys());let u=n?[n]:l;(c||a)&&(u=l);const f=u.map(async _=>{const m=Be.getConnectorId(_),b=await this.disconnectNamespace(_,r||m);b&&(a&&De.deleteConnectedSocialProvider(),b.connections.forEach(A=>{De.addDisconnectedConnectorId(A.connectorId,_)})),i&&this.onDisconnectNamespace({chainNamespace:_,closeModal:!1})}),h=await Promise.allSettled(f);or.resetSend(),We.resetWcConnection(),ca.getSIWX()?.signOutOnDisconnect&&await ca.clearSessions(),Be.setFilterByNamespace(void 0),We.syncStorageConnections();const g=h.filter(_=>_.status==="rejected");if(g.length>0)throw new Error(g.map(_=>_.reason.message).join(", "));fr.sendEvent({type:"track",event:"DISCONNECT_SUCCESS",properties:{namespace:n||"all"}})}catch(l){throw new Error(`Failed to disconnect chains: ${l.message}`)}},checkInstalled:e=>e?e.some(r=>!!window.ethereum?.[String(r)]):!!window.ethereum,signMessage:async e=>{const r=se.state.activeChain,n=this.getAdapter(se.state.activeChain);if(!r)throw new Error("signMessage: namespace not found");if(!n)throw new Error("signMessage: adapter not found");return(await n?.signMessage({message:e,address:tt.state.address,provider:qt.getProvider(r)}))?.signature||""},sendTransaction:async e=>{const r=e.chainNamespace;if(!r)throw new Error("sendTransaction: namespace not found");if(ar.SEND_SUPPORTED_NAMESPACES.includes(r)){const n=this.getAdapter(r);if(!n)throw new Error("sendTransaction: adapter not found");const i=qt.getProvider(r);return(await n?.sendTransaction({...e,caipNetwork:this.getCaipNetwork(),provider:i}))?.hash||""}return""},estimateGas:async e=>{const r=e.chainNamespace;if(r===we.CHAIN.EVM){const n=this.getAdapter(r);if(!n)throw new Error("estimateGas: adapter is required but got undefined");const i=qt.getProvider(r),s=this.getCaipNetwork();if(!s)throw new Error("estimateGas: caipNetwork is required but got undefined");return(await n?.estimateGas({...e,provider:i,caipNetwork:s}))?.gas||0n}return 0n},getEnsAvatar:async()=>{const e=se.state.activeChain;if(!e)throw new Error("getEnsAvatar: namespace is required but got undefined");return await this.syncIdentity({address:tt.state.address,chainId:Number(this.getCaipNetwork()?.id),chainNamespace:e}),tt.state.profileImage||!1},getEnsAddress:async e=>await Hf.resolveReownName(e),writeContract:async e=>{const r=se.state.activeChain,n=this.getAdapter(r);if(!r)throw new Error("writeContract: namespace is required but got undefined");if(!n)throw new Error("writeContract: adapter is required but got undefined");const i=this.getCaipNetwork(),s=this.getCaipAddress(),o=qt.getProvider(r);if(!i||!s)throw new Error("writeContract: caipNetwork or caipAddress is required but got undefined");return(await n?.writeContract({...e,caipNetwork:i,provider:o,caipAddress:s}))?.hash},parseUnits:(e,r)=>{const n=this.getAdapter(se.state.activeChain);if(!n)throw new Error("parseUnits: adapter is required but got undefined");return n?.parseUnits({value:e,decimals:r})??0n},formatUnits:(e,r)=>{const n=this.getAdapter(se.state.activeChain);if(!n)throw new Error("formatUnits: adapter is required but got undefined");return n?.formatUnits({value:e,decimals:r})??"0"},getCapabilities:async e=>{const r=this.getAdapter(se.state.activeChain);if(!r)throw new Error("getCapabilities: adapter is required but got undefined");return await r?.getCapabilities(e)},grantPermissions:async e=>{const r=this.getAdapter(se.state.activeChain);if(!r)throw new Error("grantPermissions: adapter is required but got undefined");return await r?.grantPermissions(e)},revokePermissions:async e=>{const r=this.getAdapter(se.state.activeChain);if(!r)throw new Error("revokePermissions: adapter is required but got undefined");return r?.revokePermissions?await r.revokePermissions(e):"0x"},walletGetAssets:async e=>{const r=this.getAdapter(se.state.activeChain);if(!r)throw new Error("walletGetAssets: adapter is required but got undefined");return await r?.walletGetAssets(e)??{}},updateBalance:e=>{const r=this.getCaipNetwork(e);!r||!tt.state.address||this.updateNativeBalance(tt.state.address,r?.id,e)}},this.networkControllerClient={switchCaipNetwork:async e=>await this.switchCaipNetwork(e),getApprovedCaipNetworksData:async()=>this.getApprovedCaipNetworksData()},We.setClient(this.connectionControllerClient)}async onConnectExternal(e){const r=se.state.activeChain,n=e.chain||r,i=this.getAdapter(n);let s=!0;if(e.type===cr.CONNECTOR_TYPE_AUTH&&we.AUTH_CONNECTOR_SUPPORTED_CHAINS.some(f=>Be.getConnectorId(f)===we.CONNECTOR_ID.AUTH)&&e.chain!==r&&(s=!1),e.chain&&e.chain!==r&&!e.caipNetwork){const l=this.getCaipNetworks().find(u=>u.chainNamespace===e.chain);l&&s&&this.setCaipNetwork(l)}if(!n)throw new Error("connectExternal: namespace not found");if(!i)throw new Error("connectExternal: adapter not found");const o=this.getCaipNetwork(n),a=e.caipNetwork||o,c=await i.connect({id:e.id,address:e.address,info:e.info,type:e.type,provider:e.provider,socialUri:e.socialUri,chainId:e.caipNetwork?.id||o?.id,rpcUrl:e.caipNetwork?.rpcUrls?.default?.http?.[0]||o?.rpcUrls?.default?.http?.[0]});if(c)return De.addConnectedNamespace(n),this.syncProvider({...c,chainNamespace:n}),this.setStatus("connected",n),this.syncConnectedWalletInfo(n),De.removeDisconnectedConnectorId(e.id,n),{address:c.address,connectedCaipNetwork:a}}async connectInactiveNamespaces(e,r){const n=e.type===cr.CONNECTOR_TYPE_AUTH,i=Mi.getOtherAuthNamespaces(r?.connectedCaipNetwork?.chainNamespace),s=se.state.activeCaipNetwork,o=this.getAdapter(s?.chainNamespace),a=qt.getProvider(s?.chainNamespace);n&&(await Promise.all(i.map(async c=>{try{const l=qt.getProvider(c),u=this.getCaipNetwork(c);await this.getAdapter(c)?.connect({...e,provider:l,socialUri:void 0,chainId:u?.id,rpcUrl:u?.rpcUrls?.default?.http?.[0]})&&(De.addConnectedNamespace(c),De.removeDisconnectedConnectorId(e.id,c),this.setStatus("connected",c),this.syncConnectedWalletInfo(c))}catch(l){as.warn(Ss.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.displayMessage,Ss.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.debugMessage(c,l instanceof Error?l.message:void 0),Ss.ALERT_WARNINGS.INACTIVE_NAMESPACE_NOT_CONNECTED.code)}})),s&&await o?.switchNetwork({caipNetwork:s,provider:a,providerType:e.type}))}getApprovedCaipNetworksData(){if(qt.getProviderId(se.state.activeChain)===cr.CONNECTOR_TYPE_WALLET_CONNECT){const r=this.universalProvider?.session?.namespaces;return{supportsAllNetworks:this.universalProvider?.session?.peer?.metadata.name==="MetaMask Wallet",approvedCaipNetworkIds:this.getChainsFromNamespaces(r)}}return{supportsAllNetworks:!0,approvedCaipNetworkIds:[]}}async switchCaipNetwork(e){if(!e)return;const r=e.chainNamespace;if(this.getAddressByChainNamespace(e.chainNamespace)){const i=qt.getProvider(r),s=qt.getProviderId(r);if(e.chainNamespace===se.state.activeChain)await this.getAdapter(r)?.switchNetwork({caipNetwork:e,provider:i,providerType:s});else if(this.setCaipNetwork(e),s===cr.CONNECTOR_TYPE_WALLET_CONNECT)this.syncWalletConnectAccount();else{const o=this.getAddressByChainNamespace(r);o&&this.syncAccount({address:o,chainId:e.id,chainNamespace:r})}}else this.setCaipNetwork(e)}getChainsFromNamespaces(e={}){return Object.values(e).flatMap(r=>{const n=r.chains||[],i=r.accounts.map(s=>{const{chainId:o,chainNamespace:a}=ro.parseCaipAddress(s);return`${a}:${o}`});return Array.from(new Set([...n,...i]))})}createAdapters(e){return this.createClients(),this.chainNamespaces.reduce((r,n)=>{const i=e?.find(s=>s.namespace===n);return i?(i.construct({namespace:n,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),r[n]=i):r[n]=new nNe({namespace:n,networks:this.getCaipNetworks()}),r},{})}async initChainAdapter(e){this.onConnectors(e),this.listenAdapter(e),await this.chainAdapters?.[e].syncConnectors(this.options,this),await this.createUniversalProviderForAdapter(e)}async initChainAdapters(){await Promise.all(this.chainNamespaces.map(async e=>{await this.initChainAdapter(e)}))}onConnectors(e){this.getAdapter(e)?.on("connectors",this.setConnectors.bind(this))}listenAdapter(e){const r=this.getAdapter(e);if(!r)return;const n=De.getConnectionStatus();Te.state.enableReconnect===!1?this.setStatus("disconnected",e):n==="connected"?this.setStatus("connecting",e):n==="disconnected"?(De.clearAddressCache(),this.setStatus(n,e)):this.setStatus(n,e),r.on("switchNetwork",({address:i,chainId:s})=>{const o=this.getCaipNetworks().find(l=>l.id.toString()===s.toString()||l.caipNetworkId.toString()===s.toString()),a=se.state.activeChain===e,c=se.state.chains.get(e)?.accountState?.address;if(o){const l=a&&i?i:c;l&&this.syncAccount({address:l,chainId:o.id,chainNamespace:e})}else this.setUnsupportedNetwork(s)}),r.on("disconnect",()=>{const i=this.remoteFeatures.multiWallet,s=Array.from(We.state.connections.values()).flat();this.onDisconnectNamespace({chainNamespace:e,closeModal:!i||s.length===0})}),r.on("connections",i=>{this.setConnections(i,e)}),r.on("pendingTransactions",()=>{const i=tt.state.address,s=se.state.activeCaipNetwork;!i||!s?.id||this.updateNativeBalance(i,s.id,s.chainNamespace)}),r.on("accountChanged",({address:i,chainId:s,connector:o})=>{const a=se.state.activeChain===e;o?.provider&&(this.syncProvider({id:o.id,type:o.type,provider:o.provider,chainNamespace:e}),this.syncConnectedWalletInfo(e));const c=se.getNetworkData(e)?.caipNetwork?.id,l=s||c;a&&l?this.syncAccount({address:i,chainId:l,chainNamespace:e}):!a&&l?(this.syncAccountInfo(i,l,e),this.syncBalance({address:i,chainId:l,chainNamespace:e})):this.syncAccountInfo(i,s,e),De.addConnectedNamespace(e)})}async createUniversalProviderForAdapter(e){await this.getUniversalProvider(),this.universalProvider&&await this.chainAdapters?.[e]?.setUniversalProvider?.(this.universalProvider)}async syncExistingConnection(){await Promise.allSettled(this.chainNamespaces.map(e=>this.syncNamespaceConnection(e)))}async unSyncExistingConnection(){try{await Promise.allSettled(this.chainNamespaces.map(e=>We.disconnect({namespace:e,initialDisconnect:!0})))}catch(e){console.error("Error disconnecting existing connections:",e)}}async reconnectWalletConnect(){await this.syncWalletConnectAccount();const e=this.getAddress();fr.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:e,properties:{method:Ye.isMobile()?"mobile":"qrcode",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}async syncNamespaceConnection(e){try{e===we.CHAIN.EVM&&Ye.isSafeApp()&&Be.setConnectorId(we.CONNECTOR_ID.SAFE,e);const r=Be.getConnectorId(e);switch(this.setStatus("connecting",e),r){case we.CONNECTOR_ID.WALLET_CONNECT:await this.reconnectWalletConnect();break;case we.CONNECTOR_ID.AUTH:break;default:await this.syncAdapterConnection(e)}}catch(r){console.warn("AppKit couldn't sync existing connection",r),this.setStatus("disconnected",e)}}onDisconnectNamespace(e){const{chainNamespace:r,closeModal:n}=e||{};se.resetAccount(r),se.resetNetwork(r),De.removeConnectedNamespace(r);const i=Array.from(se.state.chains.keys());(r?[r]:i).forEach(o=>De.addDisconnectedConnectorId(Be.getConnectorId(o)||"",o)),Be.removeConnectorId(r),qt.resetChain(r),this.setUser(void 0,r),this.setStatus("disconnected",r),this.setConnectedWalletInfo(void 0,r),n!==!1&&nr.close()}async syncAdapterConnections(){await Promise.allSettled(this.chainNamespaces.map(e=>{const r=this.getCaipAddress(e),n=this.getCaipNetwork(e);return this.chainAdapters?.[e].syncConnections({connectToFirstConnector:!r,caipNetwork:n,getConnectorStorageInfo(i){const o=De.getConnections()[e]??[];return{hasDisconnected:De.isConnectorDisconnected(i,e),hasConnected:o.some(a=>Mi.isLowerCaseMatch(a.connectorId,i))}}})}))}async syncAdapterConnection(e){const r=this.getAdapter(e),n=Be.getConnectorId(e),i=this.getCaipNetwork(e),o=Be.getConnectors(e).find(a=>a.id===n);try{if(!r||!o)throw new Error(`Adapter or connector not found for namespace ${e}`);if(!i?.id)throw new Error("CaipNetwork not found");const a=await r?.syncConnection({namespace:e,id:o.id,chainId:i.id,rpcUrl:i?.rpcUrls?.default?.http?.[0]});a?(this.syncProvider({...a,chainNamespace:e}),await this.syncAccount({...a,chainNamespace:e}),this.setStatus("connected",e),fr.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:a.address,properties:{method:"browser",name:o.info?.name||o.name||"Unknown",reconnect:!0}})):this.setStatus("disconnected",e)}catch{this.onDisconnectNamespace({chainNamespace:e,closeModal:!1})}}async syncWalletConnectAccount(){const e=Object.keys(this.universalProvider?.session?.namespaces||{}),r=this.chainNamespaces.map(async n=>{const i=this.getAdapter(n);if(!i)return;const s=this.universalProvider?.session?.namespaces?.[n]?.accounts||[],o=se.state.activeCaipNetwork?.id,a=s.find(c=>{const{chainId:l}=ro.parseCaipAddress(c);return l===o?.toString()})||s[0];if(a){const c=ro.validateCaipAddress(a),{chainId:l,address:u}=ro.parseCaipAddress(c);if(qt.setProviderId(n,cr.CONNECTOR_TYPE_WALLET_CONNECT),this.caipNetworks&&se.state.activeCaipNetwork&&i.namespace!==we.CHAIN.EVM){const f=i.getWalletConnectProvider({caipNetworks:this.getCaipNetworks(),provider:this.universalProvider,activeCaipNetwork:se.state.activeCaipNetwork});qt.setProvider(n,f)}else qt.setProvider(n,this.universalProvider);Be.setConnectorId(we.CONNECTOR_ID.WALLET_CONNECT,n),De.addConnectedNamespace(n),await this.syncAccount({address:u,chainId:l,chainNamespace:n})}else e.includes(n)&&this.setStatus("disconnected",n);this.syncConnectedWalletInfo(n),await se.setApprovedCaipNetworksData(n)});await Promise.all(r)}syncProvider({type:e,provider:r,id:n,chainNamespace:i}){qt.setProviderId(i,e),qt.setProvider(i,r),Be.setConnectorId(n,i)}async syncAccount(e){const r=e.chainNamespace===se.state.activeChain,n=se.getCaipNetworkByNamespace(e.chainNamespace,e.chainId),{address:i,chainId:s,chainNamespace:o}=e,{chainId:a}=De.getActiveNetworkProps(),c=s||a,l=se.state.activeCaipNetwork?.name===we.UNSUPPORTED_NETWORK_NAME,u=se.getNetworkProp("supportsAllNetworks",o);if(this.setStatus("connected",o),!(l&&!u)&&c){let f=this.getCaipNetworks().find(_=>_.id.toString()===c.toString()),h=this.getCaipNetworks().find(_=>_.chainNamespace===o);if(!u&&!f&&!h){const _=this.getApprovedCaipNetworkIds()||[],m=_.find(A=>ro.parseCaipNetworkId(A)?.chainId===c.toString()),b=_.find(A=>ro.parseCaipNetworkId(A)?.chainNamespace===o);f=this.getCaipNetworks().find(A=>A.caipNetworkId===m),h=this.getCaipNetworks().find(A=>A.caipNetworkId===b||"deprecatedCaipNetworkId"in A&&A.deprecatedCaipNetworkId===b)}const g=f||h;g?.chainNamespace===se.state.activeChain?Te.state.enableNetworkSwitch&&!Te.state.allowUnsupportedChain&&se.state.activeCaipNetwork?.name===we.UNSUPPORTED_NETWORK_NAME?se.showUnsupportedChainUI():this.setCaipNetwork(g):r||n&&this.setCaipNetworkOfNamespace(n,o),this.syncConnectedWalletInfo(o),Mi.isLowerCaseMatch(i,tt.state.address)||this.syncAccountInfo(i,g?.id,o),r?await this.syncBalance({address:i,chainId:g?.id,chainNamespace:o}):await this.syncBalance({address:i,chainId:n?.id,chainNamespace:o}),this.syncIdentity({address:i,chainId:s,chainNamespace:o})}}async syncAccountInfo(e,r,n){const i=this.getCaipAddress(n),s=r||i?.split(":")[1];if(!s)return;const o=`${n}:${s}:${e}`;this.setCaipAddress(o,n),await this.syncIdentity({address:e,chainId:s,chainNamespace:n})}async syncReownName(e,r){try{const n=await this.getReownName(e);if(n[0]){const i=n[0];this.setProfileName(i.name,r)}else this.setProfileName(null,r)}catch{this.setProfileName(null,r)}}syncConnectedWalletInfo(e){const r=Be.getConnectorId(e),n=qt.getProviderId(e);if(n===cr.CONNECTOR_TYPE_ANNOUNCED||n===cr.CONNECTOR_TYPE_INJECTED){if(r){const s=this.getConnectors().find(o=>{const a=o.id===r,c=o.info?.rdns===r,l=o.connectors?.some(u=>u.id===r||u.info?.rdns===r);return a||c||!!l});if(s){const{info:o,name:a,imageUrl:c}=s,l=c||this.getConnectorImage(s);this.setConnectedWalletInfo({name:a,icon:l,...o},e)}}}else if(n===cr.CONNECTOR_TYPE_WALLET_CONNECT){const i=qt.getProvider(e);i?.session&&this.setConnectedWalletInfo({...i.session.peer.metadata,name:i.session.peer.metadata.name,icon:i.session.peer.metadata.icons?.[0]},e)}else if(r&&(r===we.CONNECTOR_ID.COINBASE_SDK||r===we.CONNECTOR_ID.COINBASE)){const i=this.getConnectors().find(c=>c.id===r),s=i?.name||"Coinbase Wallet",o=i?.imageUrl||this.getConnectorImage(i),a=i?.info;this.setConnectedWalletInfo({...a,name:s,icon:o},e)}}async syncBalance(e){!_j.getNetworksByNamespace(this.getCaipNetworks(),e.chainNamespace).find(n=>n.id.toString()===e.chainId?.toString())||!e.chainId||await this.updateNativeBalance(e.address,e.chainId,e.chainNamespace)}async ready(){await this.readyPromise}async updateNativeBalance(e,r,n){const i=this.getAdapter(n),s=se.getCaipNetworkByNamespace(n,r);if(i){const o=await i.getBalance({address:e,chainId:r,caipNetwork:s,tokens:this.options.tokens});return this.setBalance(o.balance,o.symbol,n),o}}async initializeUniversalAdapter(){const e=QAe.createLogger((n,...i)=>{n&&this.handleAlertError(n),console.error(...i)}),r={projectId:this.options?.projectId,metadata:{name:this.options?.metadata?this.options?.metadata.name:"",description:this.options?.metadata?this.options?.metadata.description:"",url:this.options?.metadata?this.options?.metadata.url:"",icons:this.options?.metadata?this.options?.metadata.icons:[""]},logger:e};Te.setManualWCControl(!!this.options?.manualWCControl),this.universalProvider=this.options.universalProvider??await YAe.init(r),Te.state.enableReconnect===!1&&this.universalProvider.session&&await this.universalProvider.disconnect(),this.listenWalletConnect()}listenWalletConnect(){this.universalProvider&&this.chainNamespaces.forEach(e=>{Hf.listenWcProvider({universalProvider:this.universalProvider,namespace:e,onDisplayUri:r=>{We.setUri(r)},onConnect:r=>{const{address:n}=Ye.getAccount(r[0]);We.finalizeWcConnection(n)},onDisconnect:()=>{se.state.noAdapters&&this.resetAccount(e),We.resetWcConnection()},onChainChanged:r=>{const n=se.state.activeChain,i=n&&Be.state.activeConnectorIds[n]===we.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(se.state.noAdapters||i)){const s=this.getCaipNetworks().find(a=>a.id.toString()===r.toString()||a.caipNetworkId.toString()===r.toString()),o=this.getCaipNetwork();if(!s){this.setUnsupportedNetwork(r);return}o?.id.toString()!==s?.id.toString()&&o?.chainNamespace===s?.chainNamespace&&this.setCaipNetwork(s)}},onAccountsChanged:r=>{const n=se.state.activeChain,i=n&&Be.state.activeConnectorIds[n]===we.CONNECTOR_ID.WALLET_CONNECT;if(n===e&&(se.state.noAdapters||i)){const s=r?.[0];s&&this.syncAccount({address:s.address,chainId:s.chainId,chainNamespace:s.chainNamespace})}}})})}createUniversalProvider(){return!this.universalProviderInitPromise&&Ye.isClient()&&this.options?.projectId&&(this.universalProviderInitPromise=this.initializeUniversalAdapter()),this.universalProviderInitPromise}async getUniversalProvider(){if(!this.universalProvider)try{await this.createUniversalProvider()}catch(e){fr.sendEvent({type:"error",event:"INTERNAL_SDK_ERROR",properties:{errorType:"UniversalProviderInitError",errorMessage:e instanceof Error?e.message:"Unknown",uncaught:!1}}),console.error("AppKit:getUniversalProvider - Cannot create provider",e)}return this.universalProvider}handleAlertError(e){const r=Object.entries(Ss.UniversalProviderErrors).find(([,{message:a}])=>e.message.includes(a)),[n,i]=r??[],{message:s,alertErrorKey:o}=i??{};if(n&&s&&!this.reportedAlertErrors[n]){const a=Ss.ALERT_ERRORS[o];a&&(as.open(a,"error"),this.reportedAlertErrors[n]=!0)}}getAdapter(e){if(e)return this.chainAdapters?.[e]}createAdapter(e){if(!e)return;const r=e.namespace;if(!r)return;this.createClients();const n=e;n.namespace=r,n.construct({namespace:r,projectId:this.options?.projectId,networks:this.getCaipNetworks()}),this.chainNamespaces.includes(r)||this.chainNamespaces.push(r),this.chainAdapters&&(this.chainAdapters[r]=n)}async open(e){if(await this.injectModalUi(),e?.uri&&We.setUri(e.uri),e?.arguments)switch(e?.view){case"Swap":return nr.open({...e,data:{swap:e.arguments}})}return nr.open(e)}async close(){await this.injectModalUi(),nr.close()}setLoading(e,r){nr.setLoading(e,r)}async disconnect(e){await We.disconnect({namespace:e})}getSIWX(){return Te.state.siwx}getError(){return""}getChainId(){return se.state.activeCaipNetwork?.id}async switchNetwork(e){const r=this.getCaipNetworks().find(n=>n.id===e.id);if(!r){as.open(Ss.ALERT_ERRORS.SWITCH_NETWORK_NOT_FOUND,"error");return}await se.switchActiveNetwork(r)}getWalletProvider(){return se.state.activeChain?qt.state.providers[se.state.activeChain]:null}getWalletProviderType(){return qt.getProviderId(se.state.activeChain)}subscribeProviders(e){return qt.subscribeProviders(e)}getThemeMode(){return Ro.state.themeMode}getThemeVariables(){return Ro.state.themeVariables}setThemeMode(e){Ro.setThemeMode(e),W3(Ro.state.themeMode)}setTermsConditionsUrl(e){Te.setTermsConditionsUrl(e)}setPrivacyPolicyUrl(e){Te.setPrivacyPolicyUrl(e)}setThemeVariables(e){Ro.setThemeVariables(e),QCe(Ro.state.themeVariables)}subscribeTheme(e){return Ro.subscribe(e)}subscribeConnections(e){return this.remoteFeatures.multiWallet?We.subscribe(e):(as.open(we.REMOTE_FEATURES_ALERTS.MULTI_WALLET_NOT_ENABLED.DEFAULT,"info"),()=>{})}getWalletInfo(e){return e?se.state.chains.get(e)?.accountState?.connectedWalletInfo:tt.state.connectedWalletInfo}getAccount(e){const r=e||se.state.activeChain,n=Be.getAuthConnector(r),i=se.getAccountData(r),s=De.getConnectedConnectorId(se.state.activeChain),o=We.getConnections(r);if(!r)throw new Error("AppKit:getAccount - namespace is required");const a=o.flatMap(c=>c.accounts.map(({address:l,type:u,publicKey:f})=>Ye.createAccount(r,l,u||"eoa",f)));if(i)return{allAccounts:a,caipAddress:i.caipAddress,address:Ye.getPlainAddress(i.caipAddress),isConnected:!!i.caipAddress,status:i.status,embeddedWalletInfo:n&&s===we.CONNECTOR_ID.AUTH?{user:i.user?{...i.user,username:De.getConnectedSocialUsername()}:void 0,authProvider:i.socialProvider||"email",accountType:jo(r),isSmartAccountDeployed:!!i.smartAccountDeployed}:void 0}}subscribeAccount(e,r){const n=()=>{const i=this.getAccount(r);i&&e(i)};r?se.subscribeChainProp("accountState",n,r):se.subscribe(n),Be.subscribe(n)}subscribeNetwork(e){return se.subscribe(({activeCaipNetwork:r})=>{e({caipNetwork:r,chainId:r?.id,caipNetworkId:r?.caipNetworkId})})}subscribeWalletInfo(e,r){return r?tt.subscribeKey("connectedWalletInfo",e,r):tt.subscribeKey("connectedWalletInfo",e)}subscribeShouldUpdateToAddress(e){tt.subscribeKey("shouldUpdateToAddress",e)}subscribeCaipNetworkChange(e){se.subscribeKey("activeCaipNetwork",e)}getState(){return _l.state}getRemoteFeatures(){return Te.state.remoteFeatures}subscribeState(e){return _l.subscribe(e)}subscribeRemoteFeatures(e){return Te.subscribeKey("remoteFeatures",e)}showErrorMessage(e){mu.showError(e)}showSuccessMessage(e){mu.showSuccess(e)}getEvent(){return{...fr.state}}subscribeEvents(e){return fr.subscribe(e)}replace(e){yt.replace(e)}redirect(e){yt.push(e)}popTransactionStack(e){yt.popTransactionStack(e)}isOpen(){return nr.state.open}isTransactionStackEmpty(){return yt.state.transactionStack.length===0}static getInstance(){return this.instance}updateFeatures(e){Te.setFeatures(e)}updateRemoteFeatures(e){Te.setRemoteFeatures(e)}updateOptions(e){const n={...Te.state||{},...e};Te.setOptions(n)}setConnectMethodsOrder(e){Te.setConnectMethodsOrder(e)}setWalletFeaturesOrder(e){Te.setWalletFeaturesOrder(e)}setCollapseWallets(e){Te.setCollapseWallets(e)}setSocialsOrder(e){Te.setSocialsOrder(e)}getConnectMethodsOrder(){return F3.getConnectOrderMethod(Te.state.features,Be.getConnectors())}addNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);const n=this.extendCaipNetwork(r,this.options);this.getCaipNetworks().find(i=>i.id===n.id)||se.addNetwork(n)}removeNetwork(e,r){if(this.chainAdapters&&!this.chainAdapters[e])throw new Error(`Adapter for namespace ${e} doesn't exist`);this.getCaipNetworks().find(i=>i.id===r)&&se.removeNetwork(e,r)}}let MU=!1;class aNe extends oNe{async onAuthProviderConnected(e){const r=Mi.userChainIdToChainNamespace(e?.chainId);if(e.message&&e.signature&&e.siwxMessage&&await ca.addEmbeddedWalletSession({chainId:e.siwxMessage.chainId,accountAddress:e.address,notBefore:e.siwxMessage.notBefore,statement:e.siwxMessage.statement,resources:e.siwxMessage.resources,requestId:e.siwxMessage.requestId,issuedAt:e.siwxMessage.issuedAt,domain:e.siwxMessage.domain,uri:e.siwxMessage.uri,version:e.siwxMessage.version,nonce:e.siwxMessage.nonce},e.message,e.signature),!r)throw new Error("AppKit:onAuthProviderConnected - namespace is required");const n=r===we.CHAIN.EVM?`eip155:${e.chainId}:${e.address}`:`${e.chainId}:${e.address}`,i=Te.state.defaultAccountTypes[r],s=jo(r),o=e.preferredAccountType||s||i;this.setCaipAddress(n,r);const{signature:a,siwxMessage:c,message:l,...u}=e;this.setUser({...tt.state.user||{},...u},r),this.setSmartAccountDeployed(!!e.smartAccountDeployed,r),this.setPreferredAccountType(o,r),this.setLoading(!1,r)}setupAuthConnectorListeners(e){e.onRpcRequest(r=>{la.checkIfRequestExists(r)?la.checkIfRequestIsSafe(r)||this.handleUnsafeRPCRequest():(this.open(),console.error(Li.RPC_METHOD_NOT_ALLOWED_MESSAGE,{method:r.method}),setTimeout(()=>{this.showErrorMessage(Li.RPC_METHOD_NOT_ALLOWED_UI_MESSAGE)},300),e.rejectRpcRequests())}),e.onRpcError(()=>{this.isOpen()&&(this.isTransactionStackEmpty()?this.close():this.popTransactionStack("error"))}),e.onRpcSuccess((r,n)=>{const i=la.checkIfRequestIsSafe(n),s=tt.state.address,o=se.state.activeCaipNetwork;i||(s&&o?.id&&this.updateNativeBalance(s,o.id,o.chainNamespace),this.isTransactionStackEmpty()?this.close():this.popTransactionStack("success"))}),e.onNotConnected(()=>{const r=se.state.activeChain;if(!r)throw new Error("AppKit:onNotConnected - namespace is required");Be.getConnectorId(r)===we.CONNECTOR_ID.AUTH&&(this.setCaipAddress(void 0,r),this.setLoading(!1,r))}),e.onConnect(this.onAuthProviderConnected.bind(this)),e.onSocialConnected(this.onAuthProviderConnected.bind(this)),e.onSetPreferredAccount(({address:r,type:n})=>{const i=se.state.activeChain;if(!i)throw new Error("AppKit:onSetPreferredAccount - namespace is required");r&&this.setPreferredAccountType(n,i)})}async syncAuthConnectorTheme(e){if(!e)return;const r=Ro.getSnapshot(),n=Te.getSnapshot();await Promise.all([e.syncDappData({metadata:n.metadata,sdkVersion:n.sdkVersion,projectId:n.projectId,sdkType:n.sdkType}),e.syncTheme({themeMode:r.themeMode,themeVariables:r.themeVariables,w3mThemeVariables:eb(r.themeVariables,r.themeMode)})])}async syncAuthConnector(e,r){const n=we.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(r),i=r===se.state.activeChain;if(!n)return;this.setLoading(!0,r);const s=e.getLoginEmailUsed();this.setLoading(s,r),s&&this.setStatus("connecting",r);const o=e.getEmail(),a=e.getUsername();this.setUser({...tt.state?.user||{},username:a,email:o},r),this.setupAuthConnectorListeners(e);const{isConnected:c}=await e.isConnected();if(await this.syncAuthConnectorTheme(e),r&&n&&i){const l=await e.getSmartAccountEnabledNetworks();if(se.setSmartAccountEnabledNetworks(l?.smartAccountEnabledNetworks||[],r),c&&this.connectionControllerClient?.connectExternal){await this.connectionControllerClient?.connectExternal({id:we.CONNECTOR_ID.AUTH,info:{name:we.CONNECTOR_ID.AUTH},type:cr.CONNECTOR_TYPE_AUTH,provider:e,chainId:se.getNetworkData(r)?.caipNetwork?.id,chain:r}),this.setStatus("connected",r);const u=De.getConnectedSocialProvider();u?fr.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",address:tt.state.address,properties:{provider:u,reconnect:!0}}):fr.sendEvent({type:"track",event:"CONNECT_SUCCESS",address:tt.state.address,properties:{method:"email",name:this.universalProvider?.session?.peer?.metadata?.name||"Unknown",reconnect:!0}})}else Be.getConnectorId(r)===we.CONNECTOR_ID.AUTH&&(this.setStatus("disconnected",r),De.removeConnectedNamespace(r))}this.setLoading(!1,r)}async checkExistingTelegramSocialConnection(e){try{if(!Ye.isTelegram())return;const r=De.getTelegramSocialProvider();if(!r||!Ye.isClient())return;const i=new URL(window.location.href).searchParams.get("result_uri");if(!i)return;tt.setSocialProvider(r,e),await this.authProvider?.init();const s=Be.getAuthConnector();r&&s&&(this.setLoading(!0,e),await We.connectExternal({id:s.id,type:s.type,socialUri:i},s.chain),De.setConnectedSocialProvider(r),De.removeTelegramSocialProvider(),fr.sendEvent({type:"track",event:"SOCIAL_LOGIN_SUCCESS",properties:{provider:r}}))}catch(r){this.setLoading(!1,e),console.error("checkExistingSTelegramocialConnection error",r)}try{const r=new URL(window.location.href);r.searchParams.delete("result_uri"),window.history.replaceState({},document.title,r.toString())}catch(r){console.error("tma social login failed",r)}}createAuthProvider(e){if(!we.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(e))return;const n=this.remoteFeatures?.email,i=Array.isArray(this.remoteFeatures?.socials)&&this.remoteFeatures.socials.length>0,s=n||i,a=Mi.getActiveNamespaceConnectedToAuth()||e;!this.authProvider&&this.options?.projectId&&s&&(this.authProvider=I_.getInstance({projectId:this.options.projectId,enableLogger:this.options.enableAuthLogger,chainId:this.getCaipNetwork(a)?.caipNetworkId,abortController:Ss.EmbeddedWalletAbortController,onTimeout:l=>{l==="iframe_load_failed"?as.open(Ss.ALERT_ERRORS.IFRAME_LOAD_FAILED,"error"):l==="iframe_request_timeout"?as.open(Ss.ALERT_ERRORS.IFRAME_REQUEST_TIMEOUT,"error"):l==="unverified_domain"&&as.open(Ss.ALERT_ERRORS.UNVERIFIED_DOMAIN,"error")},getActiveCaipNetwork:l=>Qy(l),getCaipNetworks:l=>se.getCaipNetworks(l)}),_l.subscribeOpen(l=>{!l&&this.isTransactionStackEmpty()&&this.authProvider?.rejectRpcRequests()}));const c=e===se.state.activeChain&&Te.state.enableReconnect;Te.state.enableReconnect===!1?this.syncAuthConnectorTheme(this.authProvider):this.authProvider&&c&&(this.syncAuthConnector(this.authProvider,e),this.checkExistingTelegramSocialConnection(e))}createAuthProviderForAdapter(e){this.createAuthProvider(e),this.authProvider&&this.chainAdapters?.[e]?.setAuthProvider?.(this.authProvider)}initControllers(e){super.initControllers(e),this.options.excludeWalletIds&&ut.initializeExcludedWallets({ids:this.options.excludeWalletIds})}async switchCaipNetwork(e){if(!e)return;const r=se.state.activeChain,n=e.chainNamespace,i=this.getAddressByChainNamespace(n);if(n===r&&i){const o=this.getAdapter(n),a=qt.getProvider(n),c=qt.getProviderId(n);await o?.switchNetwork({caipNetwork:e,provider:a,providerType:c}),this.setCaipNetwork(e)}else{const a=qt.getProviderId(r)===cr.CONNECTOR_TYPE_AUTH,c=qt.getProviderId(n),l=c===cr.CONNECTOR_TYPE_AUTH,u=we.AUTH_CONNECTOR_SUPPORTED_CHAINS.includes(n);if(!n)throw new Error("AppKit:switchCaipNetwork - networkNamespace is required");if((a&&c===void 0||l)&&u)try{se.state.activeChain=e.chainNamespace,i?await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c}):await this.connectionControllerClient?.connectExternal?.({id:we.CONNECTOR_ID.AUTH,provider:this.authProvider,chain:n,chainId:e.id,type:cr.CONNECTOR_TYPE_AUTH,caipNetwork:e}),this.setCaipNetwork(e)}catch{await this.getAdapter(n)?.switchNetwork({caipNetwork:e,provider:this.authProvider,providerType:c})}else if(c===cr.CONNECTOR_TYPE_WALLET_CONNECT){if(!se.state.noAdapters){const f=this.getAdapter(n),h=qt.getProvider(n),g=qt.getProviderId(n);await f?.switchNetwork({caipNetwork:e,provider:h,providerType:g})}this.setCaipNetwork(e),this.syncWalletConnectAccount()}else this.setCaipNetwork(e),i&&this.syncAccount({address:i,chainId:e.id,chainNamespace:n})}}async initialize(e){await super.initialize(e),this.chainNamespaces?.forEach(r=>{this.createAuthProviderForAdapter(r)}),await this.injectModalUi(),_l.set({initialized:!0})}async syncIdentity({address:e,chainId:r,chainNamespace:n}){const i=`${n}:${r}`;if(this.caipNetworks?.find(a=>a.caipNetworkId===i)?.testnet){this.setProfileName(null,n),this.setProfileImage(null,n);return}const o=Be.getConnectorId(n)===we.CONNECTOR_ID.AUTH;try{const{name:a,avatar:c}=await this.fetchIdentity({address:e});!a&&o?await this.syncReownName(e,n):(this.setProfileName(a,n),this.setProfileImage(c,n))}catch{r!==1&&this.setProfileImage(null,n)}}syncConnectedWalletInfo(e){const r=qt.getProviderId(e);if(r===cr.CONNECTOR_TYPE_AUTH){const n=this.authProvider;if(n){const i=De.getConnectedSocialProvider()??"email",s=n.getEmail()??n.getUsername();this.setConnectedWalletInfo({name:r,identifier:s,social:i},e)}}else super.syncConnectedWalletInfo(e)}async injectModalUi(){if(Ye.isClient()&&!MU)try{const e={...ar.DEFAULT_FEATURES,...this.options.features},r=this.remoteFeatures;if(await this.loadModalComponents(e,r),Ye.isClient()&&!document.querySelector("w3m-modal")){const i=document.createElement("w3m-modal");!Te.state.disableAppend&&!Te.state.enableEmbedded&&document.body.insertAdjacentElement("beforeend",i)}MU=!0}catch(e){console.error("Error injecting modal UI:",e)}}async loadModalComponents(e,r){if(!Ye.isClient())return;const n=[];(r.email||r.socials&&r.socials.length>0)&&n.push(Wi(()=>import("./embedded-wallet-CYujhkFF.js"),__vite__mapDeps([2,3,4,5,6,7,8,9,10,11,12,13,14]),import.meta.url)),r.email&&n.push(Wi(()=>import("./email-D_ursGxG.js"),__vite__mapDeps([15,3,16,13,7,12,5,6,11,17,9]),import.meta.url)),r.socials&&n.push(Wi(()=>import("./socials-DN7wZLEm.js"),__vite__mapDeps([18,3,5,19,6,20,12,21,11,7,22,4,23]),import.meta.url)),r.swaps&&r.swaps.length>0&&n.push(Wi(()=>import("./swaps-CsvGAtzD.js"),__vite__mapDeps([24,3,11,7,12,5,25,26,27,23,28,4,9,6]),import.meta.url)),e.send&&n.push(Wi(()=>import("./send-bOHaAaKl.js"),__vite__mapDeps([29,3,11,7,12,5,6,30,13,28,4,23,27,9,31,32,33]),import.meta.url)),e.receive&&n.push(Wi(()=>import("./receive-CrE7frTa.js"),__vite__mapDeps([34,3,5,4,22]),import.meta.url)),r.onramp&&r.onramp.length>0&&n.push(Wi(()=>import("./onramp-Cskc2Ihx.js"),__vite__mapDeps([35,3,5,36,7,19,6,4,37,38,13,30,11,12,21,39,9]),import.meta.url)),r.payWithExchange&&n.push(Wi(()=>import("./pay-with-exchange-P0DjG487.js"),__vite__mapDeps([40,3,11,7,10,4,5,36,23,39,12,9,6,13,31,32]),import.meta.url)),r.activity&&n.push(Wi(()=>import("./transactions-C8Nf3nVY.js"),__vite__mapDeps([41,3,42,12,5,13,4,23]),import.meta.url)),(e.pay||r.payments)&&n.push(Wi(()=>import("./index-udsOlclz.js"),__vite__mapDeps([43,3,5,11,7,44,4,12,10,36,32,21]),import.meta.url)),r.emailCapture&&n.push(Wi(()=>import("./data-capture-pO_hr9g-.js"),__vite__mapDeps([45,3,16,13,7,46]),import.meta.url)),await Promise.all([...n,Wi(()=>import("./index-Cx0s0zJy.js"),__vite__mapDeps([47,3,5,4,7,33,12,48,38,13,30,8,10,36,11,44,42,23,31,25,26,32,6,9,17,19,20,21,22,14,37]),import.meta.url),Wi(()=>import("./w3m-modal-Dh0U5CDV.js"),__vite__mapDeps([49,3,5,10,4,8,7,12,26,48,38,13,30,27]),import.meta.url)])}}function d6(t){const e=ot(t?.namespace||se.state.activeChain),r=ot(se.state.chains),n=ot({allAccounts:[],address:void 0,caipAddress:void 0,status:void 0,isConnected:!1,embeddedWalletInfo:void 0});function i(a,c){const l=De.getConnectedConnectorId(c),u=c?Be.getAuthConnector(c):void 0,f=c||se.state.activeChain,h=f?a.get(f)?.accountState:void 0;n.value.address=Ye.getPlainAddress(h?.caipAddress),n.value.caipAddress=h?.caipAddress,n.value.status=h?.status,n.value.isConnected=!!h?.caipAddress,n.value.embeddedWalletInfo=u&&l===we.CONNECTOR_ID.AUTH?{user:h?.user,authProvider:h?.socialProvider??"email",accountType:jo(f),isSmartAccountDeployed:!!h?.smartAccountDeployed}:void 0}const s=se.subscribeKey("activeChain",a=>{e.value=t?.namespace||a,i(r.value,e.value)}),o=se.subscribe(a=>{r.value=a.chains,i(r.value,e.value)});return Ul(()=>{i(r.value,e.value)}),xh(()=>{o(),s()}),n}let Zv;function cNe(t){t&&(Zv=t)}function q3(t){const e=ot(qt.state.providers[t]),r=ot(qt.state.providerIds[t]),n=qt.subscribe(i=>{e.value=i.providers[t],r.value=i.providerIds[t]});return xh(()=>{n?.()}),Du({walletProvider:e,walletProviderType:r})}function lNe(){if(!Zv)throw new Error('Please call "createAppKit" before using "useAppKit" composable');async function t(r){await Zv?.open(r)}async function e(){await Zv?.close()}return Du({open:t,close:e})}const uNe="1.8.1";let mv;function fNe(t){return mv||(mv=new aNe({...t,sdkVersion:Ye.generateSdkVersion(t.adapters??[],"html",uNe)}),cNe(mv)),mv}var eE={exports:{}};const dNe={},hNe=Object.freeze(Object.defineProperty({__proto__:null,default:dNe},Symbol.toStringTag,{value:"Module"})),pNe=Hn(hNe);var gNe=eE.exports,UU;function mNe(){return UU||(UU=1,(function(t){(function(e,r){function n(T,y){if(!T)throw new Error(y||"Assertion failed")}function i(T,y){T.super_=y;var w=function(){};w.prototype=y.prototype,T.prototype=new w,T.prototype.constructor=T}function s(T,y,w){if(s.isBN(T))return T;this.negative=0,this.words=null,this.length=0,this.red=null,T!==null&&((y==="le"||y==="be")&&(w=y,y=10),this._init(T||0,y||10,w||"be"))}typeof e=="object"?e.exports=s:r.BN=s,s.BN=s,s.wordSize=26;var o;try{typeof window<"u"&&typeof window.Buffer<"u"?o=window.Buffer:o=pNe.Buffer}catch{}s.isBN=function(y){return y instanceof s?!0:y!==null&&typeof y=="object"&&y.constructor.wordSize===s.wordSize&&Array.isArray(y.words)},s.max=function(y,w){return y.cmp(w)>0?y:w},s.min=function(y,w){return y.cmp(w)<0?y:w},s.prototype._init=function(y,w,E){if(typeof y=="number")return this._initNumber(y,w,E);if(typeof y=="object")return this._initArray(y,w,E);w==="hex"&&(w=16),n(w===(w|0)&&w>=2&&w<=36),y=y.toString().replace(/\s+/g,"");var I=0;y[0]==="-"&&(I++,this.negative=1),I<y.length&&(w===16?this._parseHex(y,I,E):(this._parseBase(y,w,I),E==="le"&&this._initArray(this.toArray(),w,E)))},s.prototype._initNumber=function(y,w,E){y<0&&(this.negative=1,y=-y),y<67108864?(this.words=[y&67108863],this.length=1):y<4503599627370496?(this.words=[y&67108863,y/67108864&67108863],this.length=2):(n(y<9007199254740992),this.words=[y&67108863,y/67108864&67108863,1],this.length=3),E==="le"&&this._initArray(this.toArray(),w,E)},s.prototype._initArray=function(y,w,E){if(n(typeof y.length=="number"),y.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(y.length/3),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var U,j,z=0;if(E==="be")for(I=y.length-1,U=0;I>=0;I-=3)j=y[I]|y[I-1]<<8|y[I-2]<<16,this.words[U]|=j<<z&67108863,this.words[U+1]=j>>>26-z&67108863,z+=24,z>=26&&(z-=26,U++);else if(E==="le")for(I=0,U=0;I<y.length;I+=3)j=y[I]|y[I+1]<<8|y[I+2]<<16,this.words[U]|=j<<z&67108863,this.words[U+1]=j>>>26-z&67108863,z+=24,z>=26&&(z-=26,U++);return this._strip()};function a(T,y){var w=T.charCodeAt(y);if(w>=48&&w<=57)return w-48;if(w>=65&&w<=70)return w-55;if(w>=97&&w<=102)return w-87;n(!1,"Invalid character in "+T)}function c(T,y,w){var E=a(T,w);return w-1>=y&&(E|=a(T,w-1)<<4),E}s.prototype._parseHex=function(y,w,E){this.length=Math.ceil((y.length-w)/6),this.words=new Array(this.length);for(var I=0;I<this.length;I++)this.words[I]=0;var U=0,j=0,z;if(E==="be")for(I=y.length-1;I>=w;I-=2)z=c(y,w,I)<<U,this.words[j]|=z&67108863,U>=18?(U-=18,j+=1,this.words[j]|=z>>>26):U+=8;else{var L=y.length-w;for(I=L%2===0?w+1:w;I<y.length;I+=2)z=c(y,w,I)<<U,this.words[j]|=z&67108863,U>=18?(U-=18,j+=1,this.words[j]|=z>>>26):U+=8}this._strip()};function l(T,y,w,E){for(var I=0,U=0,j=Math.min(T.length,w),z=y;z<j;z++){var L=T.charCodeAt(z)-48;I*=E,L>=49?U=L-49+10:L>=17?U=L-17+10:U=L,n(L>=0&&U<E,"Invalid character"),I+=U}return I}s.prototype._parseBase=function(y,w,E){this.words=[0],this.length=1;for(var I=0,U=1;U<=67108863;U*=w)I++;I--,U=U/w|0;for(var j=y.length-E,z=j%I,L=Math.min(j,j-z)+E,x=0,W=E;W<L;W+=I)x=l(y,W,W+I,w),this.imuln(U),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x);if(z!==0){var K=1;for(x=l(y,W,y.length,w),W=0;W<z;W++)K*=w;this.imuln(K),this.words[0]+x<67108864?this.words[0]+=x:this._iaddn(x)}this._strip()},s.prototype.copy=function(y){y.words=new Array(this.length);for(var w=0;w<this.length;w++)y.words[w]=this.words[w];y.length=this.length,y.negative=this.negative,y.red=this.red};function u(T,y){T.words=y.words,T.length=y.length,T.negative=y.negative,T.red=y.red}if(s.prototype._move=function(y){u(y,this)},s.prototype.clone=function(){var y=new s(null);return this.copy(y),y},s.prototype._expand=function(y){for(;this.length<y;)this.words[this.length++]=0;return this},s.prototype._strip=function(){for(;this.length>1&&this.words[this.length-1]===0;)this.length--;return this._normSign()},s.prototype._normSign=function(){return this.length===1&&this.words[0]===0&&(this.negative=0),this},typeof Symbol<"u"&&typeof Symbol.for=="function")try{s.prototype[Symbol.for("nodejs.util.inspect.custom")]=f}catch{s.prototype.inspect=f}else s.prototype.inspect=f;function f(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"}var h=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],g=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],_=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];s.prototype.toString=function(y,w){y=y||10,w=w|0||1;var E;if(y===16||y==="hex"){E="";for(var I=0,U=0,j=0;j<this.length;j++){var z=this.words[j],L=((z<<I|U)&16777215).toString(16);U=z>>>24-I&16777215,I+=2,I>=26&&(I-=26,j--),U!==0||j!==this.length-1?E=h[6-L.length]+L+E:E=L+E}for(U!==0&&(E=U.toString(16)+E);E.length%w!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}if(y===(y|0)&&y>=2&&y<=36){var x=g[y],W=_[y];E="";var K=this.clone();for(K.negative=0;!K.isZero();){var P=K.modrn(W).toString(y);K=K.idivn(W),K.isZero()?E=P+E:E=h[x-P.length]+P+E}for(this.isZero()&&(E="0"+E);E.length%w!==0;)E="0"+E;return this.negative!==0&&(E="-"+E),E}n(!1,"Base should be between 2 and 36")},s.prototype.toNumber=function(){var y=this.words[0];return this.length===2?y+=this.words[1]*67108864:this.length===3&&this.words[2]===1?y+=4503599627370496+this.words[1]*67108864:this.length>2&&n(!1,"Number can only safely store up to 53 bits"),this.negative!==0?-y:y},s.prototype.toJSON=function(){return this.toString(16,2)},o&&(s.prototype.toBuffer=function(y,w){return this.toArrayLike(o,y,w)}),s.prototype.toArray=function(y,w){return this.toArrayLike(Array,y,w)};var m=function(y,w){return y.allocUnsafe?y.allocUnsafe(w):new y(w)};s.prototype.toArrayLike=function(y,w,E){this._strip();var I=this.byteLength(),U=E||Math.max(1,I);n(I<=U,"byte array longer than desired length"),n(U>0,"Requested array length <= 0");var j=m(y,U),z=w==="le"?"LE":"BE";return this["_toArrayLike"+z](j,I),j},s.prototype._toArrayLikeLE=function(y,w){for(var E=0,I=0,U=0,j=0;U<this.length;U++){var z=this.words[U]<<j|I;y[E++]=z&255,E<y.length&&(y[E++]=z>>8&255),E<y.length&&(y[E++]=z>>16&255),j===6?(E<y.length&&(y[E++]=z>>24&255),I=0,j=0):(I=z>>>24,j+=2)}if(E<y.length)for(y[E++]=I;E<y.length;)y[E++]=0},s.prototype._toArrayLikeBE=function(y,w){for(var E=y.length-1,I=0,U=0,j=0;U<this.length;U++){var z=this.words[U]<<j|I;y[E--]=z&255,E>=0&&(y[E--]=z>>8&255),E>=0&&(y[E--]=z>>16&255),j===6?(E>=0&&(y[E--]=z>>24&255),I=0,j=0):(I=z>>>24,j+=2)}if(E>=0)for(y[E--]=I;E>=0;)y[E--]=0},Math.clz32?s.prototype._countBits=function(y){return 32-Math.clz32(y)}:s.prototype._countBits=function(y){var w=y,E=0;return w>=4096&&(E+=13,w>>>=13),w>=64&&(E+=7,w>>>=7),w>=8&&(E+=4,w>>>=4),w>=2&&(E+=2,w>>>=2),E+w},s.prototype._zeroBits=function(y){if(y===0)return 26;var w=y,E=0;return(w&8191)===0&&(E+=13,w>>>=13),(w&127)===0&&(E+=7,w>>>=7),(w&15)===0&&(E+=4,w>>>=4),(w&3)===0&&(E+=2,w>>>=2),(w&1)===0&&E++,E},s.prototype.bitLength=function(){var y=this.words[this.length-1],w=this._countBits(y);return(this.length-1)*26+w};function b(T){for(var y=new Array(T.bitLength()),w=0;w<y.length;w++){var E=w/26|0,I=w%26;y[w]=T.words[E]>>>I&1}return y}s.prototype.zeroBits=function(){if(this.isZero())return 0;for(var y=0,w=0;w<this.length;w++){var E=this._zeroBits(this.words[w]);if(y+=E,E!==26)break}return y},s.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},s.prototype.toTwos=function(y){return this.negative!==0?this.abs().inotn(y).iaddn(1):this.clone()},s.prototype.fromTwos=function(y){return this.testn(y-1)?this.notn(y).iaddn(1).ineg():this.clone()},s.prototype.isNeg=function(){return this.negative!==0},s.prototype.neg=function(){return this.clone().ineg()},s.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},s.prototype.iuor=function(y){for(;this.length<y.length;)this.words[this.length++]=0;for(var w=0;w<y.length;w++)this.words[w]=this.words[w]|y.words[w];return this._strip()},s.prototype.ior=function(y){return n((this.negative|y.negative)===0),this.iuor(y)},s.prototype.or=function(y){return this.length>y.length?this.clone().ior(y):y.clone().ior(this)},s.prototype.uor=function(y){return this.length>y.length?this.clone().iuor(y):y.clone().iuor(this)},s.prototype.iuand=function(y){var w;this.length>y.length?w=y:w=this;for(var E=0;E<w.length;E++)this.words[E]=this.words[E]&y.words[E];return this.length=w.length,this._strip()},s.prototype.iand=function(y){return n((this.negative|y.negative)===0),this.iuand(y)},s.prototype.and=function(y){return this.length>y.length?this.clone().iand(y):y.clone().iand(this)},s.prototype.uand=function(y){return this.length>y.length?this.clone().iuand(y):y.clone().iuand(this)},s.prototype.iuxor=function(y){var w,E;this.length>y.length?(w=this,E=y):(w=y,E=this);for(var I=0;I<E.length;I++)this.words[I]=w.words[I]^E.words[I];if(this!==w)for(;I<w.length;I++)this.words[I]=w.words[I];return this.length=w.length,this._strip()},s.prototype.ixor=function(y){return n((this.negative|y.negative)===0),this.iuxor(y)},s.prototype.xor=function(y){return this.length>y.length?this.clone().ixor(y):y.clone().ixor(this)},s.prototype.uxor=function(y){return this.length>y.length?this.clone().iuxor(y):y.clone().iuxor(this)},s.prototype.inotn=function(y){n(typeof y=="number"&&y>=0);var w=Math.ceil(y/26)|0,E=y%26;this._expand(w),E>0&&w--;for(var I=0;I<w;I++)this.words[I]=~this.words[I]&67108863;return E>0&&(this.words[I]=~this.words[I]&67108863>>26-E),this._strip()},s.prototype.notn=function(y){return this.clone().inotn(y)},s.prototype.setn=function(y,w){n(typeof y=="number"&&y>=0);var E=y/26|0,I=y%26;return this._expand(E+1),w?this.words[E]=this.words[E]|1<<I:this.words[E]=this.words[E]&~(1<<I),this._strip()},s.prototype.iadd=function(y){var w;if(this.negative!==0&&y.negative===0)return this.negative=0,w=this.isub(y),this.negative^=1,this._normSign();if(this.negative===0&&y.negative!==0)return y.negative=0,w=this.isub(y),y.negative=1,w._normSign();var E,I;this.length>y.length?(E=this,I=y):(E=y,I=this);for(var U=0,j=0;j<I.length;j++)w=(E.words[j]|0)+(I.words[j]|0)+U,this.words[j]=w&67108863,U=w>>>26;for(;U!==0&&j<E.length;j++)w=(E.words[j]|0)+U,this.words[j]=w&67108863,U=w>>>26;if(this.length=E.length,U!==0)this.words[this.length]=U,this.length++;else if(E!==this)for(;j<E.length;j++)this.words[j]=E.words[j];return this},s.prototype.add=function(y){var w;return y.negative!==0&&this.negative===0?(y.negative=0,w=this.sub(y),y.negative^=1,w):y.negative===0&&this.negative!==0?(this.negative=0,w=y.sub(this),this.negative=1,w):this.length>y.length?this.clone().iadd(y):y.clone().iadd(this)},s.prototype.isub=function(y){if(y.negative!==0){y.negative=0;var w=this.iadd(y);return y.negative=1,w._normSign()}else if(this.negative!==0)return this.negative=0,this.iadd(y),this.negative=1,this._normSign();var E=this.cmp(y);if(E===0)return this.negative=0,this.length=1,this.words[0]=0,this;var I,U;E>0?(I=this,U=y):(I=y,U=this);for(var j=0,z=0;z<U.length;z++)w=(I.words[z]|0)-(U.words[z]|0)+j,j=w>>26,this.words[z]=w&67108863;for(;j!==0&&z<I.length;z++)w=(I.words[z]|0)+j,j=w>>26,this.words[z]=w&67108863;if(j===0&&z<I.length&&I!==this)for(;z<I.length;z++)this.words[z]=I.words[z];return this.length=Math.max(this.length,z),I!==this&&(this.negative=1),this._strip()},s.prototype.sub=function(y){return this.clone().isub(y)};function A(T,y,w){w.negative=y.negative^T.negative;var E=T.length+y.length|0;w.length=E,E=E-1|0;var I=T.words[0]|0,U=y.words[0]|0,j=I*U,z=j&67108863,L=j/67108864|0;w.words[0]=z;for(var x=1;x<E;x++){for(var W=L>>>26,K=L&67108863,P=Math.min(x,y.length-1),X=Math.max(0,x-T.length+1);X<=P;X++){var q=x-X|0;I=T.words[q]|0,U=y.words[X]|0,j=I*U+K,W+=j/67108864|0,K=j&67108863}w.words[x]=K|0,L=W|0}return L!==0?w.words[x]=L|0:w.length--,w._strip()}var N=function(y,w,E){var I=y.words,U=w.words,j=E.words,z=0,L,x,W,K=I[0]|0,P=K&8191,X=K>>>13,q=I[1]|0,te=q&8191,ne=q>>>13,le=I[2]|0,me=le&8191,Y=le>>>13,ie=I[3]|0,J=ie&8191,ae=ie>>>13,Ee=I[4]|0,ye=Ee&8191,Ie=Ee>>>13,Ue=I[5]|0,Z=Ue&8191,ee=Ue>>>13,ge=I[6]|0,_e=ge&8191,Re=ge>>>13,Pe=I[7]|0,ue=Pe&8191,be=Pe>>>13,ze=I[8]|0,Xe=ze&8191,lt=ze>>>13,Kr=I[9]|0,At=Kr&8191,jt=Kr>>>13,zs=U[0]|0,It=zs&8191,Mt=zs>>>13,co=U[1]|0,Nr=co&8191,Vr=co>>>13,Lu=U[2]|0,$r=Lu&8191,Fr=Lu>>>13,$u=U[3]|0,Jr=$u&8191,Yr=$u>>>13,Fu=U[4]|0,Br=Fu&8191,Xr=Fu>>>13,Bu=U[5]|0,Qr=Bu&8191,Or=Bu>>>13,Hu=U[6]|0,Dr=Hu&8191,Zr=Hu>>>13,ju=U[7]|0,en=ju&8191,tn=ju>>>13,Wu=U[8]|0,rn=Wu&8191,nn=Wu>>>13,qu=U[9]|0,Hr=qu&8191,sn=qu>>>13;E.negative=y.negative^w.negative,E.length=19,L=Math.imul(P,It),x=Math.imul(P,Mt),x=x+Math.imul(X,It)|0,W=Math.imul(X,Mt);var Bl=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Bl>>>26)|0,Bl&=67108863,L=Math.imul(te,It),x=Math.imul(te,Mt),x=x+Math.imul(ne,It)|0,W=Math.imul(ne,Mt),L=L+Math.imul(P,Nr)|0,x=x+Math.imul(P,Vr)|0,x=x+Math.imul(X,Nr)|0,W=W+Math.imul(X,Vr)|0;var Hl=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Hl>>>26)|0,Hl&=67108863,L=Math.imul(me,It),x=Math.imul(me,Mt),x=x+Math.imul(Y,It)|0,W=Math.imul(Y,Mt),L=L+Math.imul(te,Nr)|0,x=x+Math.imul(te,Vr)|0,x=x+Math.imul(ne,Nr)|0,W=W+Math.imul(ne,Vr)|0,L=L+Math.imul(P,$r)|0,x=x+Math.imul(P,Fr)|0,x=x+Math.imul(X,$r)|0,W=W+Math.imul(X,Fr)|0;var jl=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(jl>>>26)|0,jl&=67108863,L=Math.imul(J,It),x=Math.imul(J,Mt),x=x+Math.imul(ae,It)|0,W=Math.imul(ae,Mt),L=L+Math.imul(me,Nr)|0,x=x+Math.imul(me,Vr)|0,x=x+Math.imul(Y,Nr)|0,W=W+Math.imul(Y,Vr)|0,L=L+Math.imul(te,$r)|0,x=x+Math.imul(te,Fr)|0,x=x+Math.imul(ne,$r)|0,W=W+Math.imul(ne,Fr)|0,L=L+Math.imul(P,Jr)|0,x=x+Math.imul(P,Yr)|0,x=x+Math.imul(X,Jr)|0,W=W+Math.imul(X,Yr)|0;var Wl=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Wl>>>26)|0,Wl&=67108863,L=Math.imul(ye,It),x=Math.imul(ye,Mt),x=x+Math.imul(Ie,It)|0,W=Math.imul(Ie,Mt),L=L+Math.imul(J,Nr)|0,x=x+Math.imul(J,Vr)|0,x=x+Math.imul(ae,Nr)|0,W=W+Math.imul(ae,Vr)|0,L=L+Math.imul(me,$r)|0,x=x+Math.imul(me,Fr)|0,x=x+Math.imul(Y,$r)|0,W=W+Math.imul(Y,Fr)|0,L=L+Math.imul(te,Jr)|0,x=x+Math.imul(te,Yr)|0,x=x+Math.imul(ne,Jr)|0,W=W+Math.imul(ne,Yr)|0,L=L+Math.imul(P,Br)|0,x=x+Math.imul(P,Xr)|0,x=x+Math.imul(X,Br)|0,W=W+Math.imul(X,Xr)|0;var ql=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(ql>>>26)|0,ql&=67108863,L=Math.imul(Z,It),x=Math.imul(Z,Mt),x=x+Math.imul(ee,It)|0,W=Math.imul(ee,Mt),L=L+Math.imul(ye,Nr)|0,x=x+Math.imul(ye,Vr)|0,x=x+Math.imul(Ie,Nr)|0,W=W+Math.imul(Ie,Vr)|0,L=L+Math.imul(J,$r)|0,x=x+Math.imul(J,Fr)|0,x=x+Math.imul(ae,$r)|0,W=W+Math.imul(ae,Fr)|0,L=L+Math.imul(me,Jr)|0,x=x+Math.imul(me,Yr)|0,x=x+Math.imul(Y,Jr)|0,W=W+Math.imul(Y,Yr)|0,L=L+Math.imul(te,Br)|0,x=x+Math.imul(te,Xr)|0,x=x+Math.imul(ne,Br)|0,W=W+Math.imul(ne,Xr)|0,L=L+Math.imul(P,Qr)|0,x=x+Math.imul(P,Or)|0,x=x+Math.imul(X,Qr)|0,W=W+Math.imul(X,Or)|0;var sd=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(sd>>>26)|0,sd&=67108863,L=Math.imul(_e,It),x=Math.imul(_e,Mt),x=x+Math.imul(Re,It)|0,W=Math.imul(Re,Mt),L=L+Math.imul(Z,Nr)|0,x=x+Math.imul(Z,Vr)|0,x=x+Math.imul(ee,Nr)|0,W=W+Math.imul(ee,Vr)|0,L=L+Math.imul(ye,$r)|0,x=x+Math.imul(ye,Fr)|0,x=x+Math.imul(Ie,$r)|0,W=W+Math.imul(Ie,Fr)|0,L=L+Math.imul(J,Jr)|0,x=x+Math.imul(J,Yr)|0,x=x+Math.imul(ae,Jr)|0,W=W+Math.imul(ae,Yr)|0,L=L+Math.imul(me,Br)|0,x=x+Math.imul(me,Xr)|0,x=x+Math.imul(Y,Br)|0,W=W+Math.imul(Y,Xr)|0,L=L+Math.imul(te,Qr)|0,x=x+Math.imul(te,Or)|0,x=x+Math.imul(ne,Qr)|0,W=W+Math.imul(ne,Or)|0,L=L+Math.imul(P,Dr)|0,x=x+Math.imul(P,Zr)|0,x=x+Math.imul(X,Dr)|0,W=W+Math.imul(X,Zr)|0;var Gm=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Gm>>>26)|0,Gm&=67108863,L=Math.imul(ue,It),x=Math.imul(ue,Mt),x=x+Math.imul(be,It)|0,W=Math.imul(be,Mt),L=L+Math.imul(_e,Nr)|0,x=x+Math.imul(_e,Vr)|0,x=x+Math.imul(Re,Nr)|0,W=W+Math.imul(Re,Vr)|0,L=L+Math.imul(Z,$r)|0,x=x+Math.imul(Z,Fr)|0,x=x+Math.imul(ee,$r)|0,W=W+Math.imul(ee,Fr)|0,L=L+Math.imul(ye,Jr)|0,x=x+Math.imul(ye,Yr)|0,x=x+Math.imul(Ie,Jr)|0,W=W+Math.imul(Ie,Yr)|0,L=L+Math.imul(J,Br)|0,x=x+Math.imul(J,Xr)|0,x=x+Math.imul(ae,Br)|0,W=W+Math.imul(ae,Xr)|0,L=L+Math.imul(me,Qr)|0,x=x+Math.imul(me,Or)|0,x=x+Math.imul(Y,Qr)|0,W=W+Math.imul(Y,Or)|0,L=L+Math.imul(te,Dr)|0,x=x+Math.imul(te,Zr)|0,x=x+Math.imul(ne,Dr)|0,W=W+Math.imul(ne,Zr)|0,L=L+Math.imul(P,en)|0,x=x+Math.imul(P,tn)|0,x=x+Math.imul(X,en)|0,W=W+Math.imul(X,tn)|0;var od=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(od>>>26)|0,od&=67108863,L=Math.imul(Xe,It),x=Math.imul(Xe,Mt),x=x+Math.imul(lt,It)|0,W=Math.imul(lt,Mt),L=L+Math.imul(ue,Nr)|0,x=x+Math.imul(ue,Vr)|0,x=x+Math.imul(be,Nr)|0,W=W+Math.imul(be,Vr)|0,L=L+Math.imul(_e,$r)|0,x=x+Math.imul(_e,Fr)|0,x=x+Math.imul(Re,$r)|0,W=W+Math.imul(Re,Fr)|0,L=L+Math.imul(Z,Jr)|0,x=x+Math.imul(Z,Yr)|0,x=x+Math.imul(ee,Jr)|0,W=W+Math.imul(ee,Yr)|0,L=L+Math.imul(ye,Br)|0,x=x+Math.imul(ye,Xr)|0,x=x+Math.imul(Ie,Br)|0,W=W+Math.imul(Ie,Xr)|0,L=L+Math.imul(J,Qr)|0,x=x+Math.imul(J,Or)|0,x=x+Math.imul(ae,Qr)|0,W=W+Math.imul(ae,Or)|0,L=L+Math.imul(me,Dr)|0,x=x+Math.imul(me,Zr)|0,x=x+Math.imul(Y,Dr)|0,W=W+Math.imul(Y,Zr)|0,L=L+Math.imul(te,en)|0,x=x+Math.imul(te,tn)|0,x=x+Math.imul(ne,en)|0,W=W+Math.imul(ne,tn)|0,L=L+Math.imul(P,rn)|0,x=x+Math.imul(P,nn)|0,x=x+Math.imul(X,rn)|0,W=W+Math.imul(X,nn)|0;var Km=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Km>>>26)|0,Km&=67108863,L=Math.imul(At,It),x=Math.imul(At,Mt),x=x+Math.imul(jt,It)|0,W=Math.imul(jt,Mt),L=L+Math.imul(Xe,Nr)|0,x=x+Math.imul(Xe,Vr)|0,x=x+Math.imul(lt,Nr)|0,W=W+Math.imul(lt,Vr)|0,L=L+Math.imul(ue,$r)|0,x=x+Math.imul(ue,Fr)|0,x=x+Math.imul(be,$r)|0,W=W+Math.imul(be,Fr)|0,L=L+Math.imul(_e,Jr)|0,x=x+Math.imul(_e,Yr)|0,x=x+Math.imul(Re,Jr)|0,W=W+Math.imul(Re,Yr)|0,L=L+Math.imul(Z,Br)|0,x=x+Math.imul(Z,Xr)|0,x=x+Math.imul(ee,Br)|0,W=W+Math.imul(ee,Xr)|0,L=L+Math.imul(ye,Qr)|0,x=x+Math.imul(ye,Or)|0,x=x+Math.imul(Ie,Qr)|0,W=W+Math.imul(Ie,Or)|0,L=L+Math.imul(J,Dr)|0,x=x+Math.imul(J,Zr)|0,x=x+Math.imul(ae,Dr)|0,W=W+Math.imul(ae,Zr)|0,L=L+Math.imul(me,en)|0,x=x+Math.imul(me,tn)|0,x=x+Math.imul(Y,en)|0,W=W+Math.imul(Y,tn)|0,L=L+Math.imul(te,rn)|0,x=x+Math.imul(te,nn)|0,x=x+Math.imul(ne,rn)|0,W=W+Math.imul(ne,nn)|0,L=L+Math.imul(P,Hr)|0,x=x+Math.imul(P,sn)|0,x=x+Math.imul(X,Hr)|0,W=W+Math.imul(X,sn)|0;var Vm=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Vm>>>26)|0,Vm&=67108863,L=Math.imul(At,Nr),x=Math.imul(At,Vr),x=x+Math.imul(jt,Nr)|0,W=Math.imul(jt,Vr),L=L+Math.imul(Xe,$r)|0,x=x+Math.imul(Xe,Fr)|0,x=x+Math.imul(lt,$r)|0,W=W+Math.imul(lt,Fr)|0,L=L+Math.imul(ue,Jr)|0,x=x+Math.imul(ue,Yr)|0,x=x+Math.imul(be,Jr)|0,W=W+Math.imul(be,Yr)|0,L=L+Math.imul(_e,Br)|0,x=x+Math.imul(_e,Xr)|0,x=x+Math.imul(Re,Br)|0,W=W+Math.imul(Re,Xr)|0,L=L+Math.imul(Z,Qr)|0,x=x+Math.imul(Z,Or)|0,x=x+Math.imul(ee,Qr)|0,W=W+Math.imul(ee,Or)|0,L=L+Math.imul(ye,Dr)|0,x=x+Math.imul(ye,Zr)|0,x=x+Math.imul(Ie,Dr)|0,W=W+Math.imul(Ie,Zr)|0,L=L+Math.imul(J,en)|0,x=x+Math.imul(J,tn)|0,x=x+Math.imul(ae,en)|0,W=W+Math.imul(ae,tn)|0,L=L+Math.imul(me,rn)|0,x=x+Math.imul(me,nn)|0,x=x+Math.imul(Y,rn)|0,W=W+Math.imul(Y,nn)|0,L=L+Math.imul(te,Hr)|0,x=x+Math.imul(te,sn)|0,x=x+Math.imul(ne,Hr)|0,W=W+Math.imul(ne,sn)|0;var Jm=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Jm>>>26)|0,Jm&=67108863,L=Math.imul(At,$r),x=Math.imul(At,Fr),x=x+Math.imul(jt,$r)|0,W=Math.imul(jt,Fr),L=L+Math.imul(Xe,Jr)|0,x=x+Math.imul(Xe,Yr)|0,x=x+Math.imul(lt,Jr)|0,W=W+Math.imul(lt,Yr)|0,L=L+Math.imul(ue,Br)|0,x=x+Math.imul(ue,Xr)|0,x=x+Math.imul(be,Br)|0,W=W+Math.imul(be,Xr)|0,L=L+Math.imul(_e,Qr)|0,x=x+Math.imul(_e,Or)|0,x=x+Math.imul(Re,Qr)|0,W=W+Math.imul(Re,Or)|0,L=L+Math.imul(Z,Dr)|0,x=x+Math.imul(Z,Zr)|0,x=x+Math.imul(ee,Dr)|0,W=W+Math.imul(ee,Zr)|0,L=L+Math.imul(ye,en)|0,x=x+Math.imul(ye,tn)|0,x=x+Math.imul(Ie,en)|0,W=W+Math.imul(Ie,tn)|0,L=L+Math.imul(J,rn)|0,x=x+Math.imul(J,nn)|0,x=x+Math.imul(ae,rn)|0,W=W+Math.imul(ae,nn)|0,L=L+Math.imul(me,Hr)|0,x=x+Math.imul(me,sn)|0,x=x+Math.imul(Y,Hr)|0,W=W+Math.imul(Y,sn)|0;var mp=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(mp>>>26)|0,mp&=67108863,L=Math.imul(At,Jr),x=Math.imul(At,Yr),x=x+Math.imul(jt,Jr)|0,W=Math.imul(jt,Yr),L=L+Math.imul(Xe,Br)|0,x=x+Math.imul(Xe,Xr)|0,x=x+Math.imul(lt,Br)|0,W=W+Math.imul(lt,Xr)|0,L=L+Math.imul(ue,Qr)|0,x=x+Math.imul(ue,Or)|0,x=x+Math.imul(be,Qr)|0,W=W+Math.imul(be,Or)|0,L=L+Math.imul(_e,Dr)|0,x=x+Math.imul(_e,Zr)|0,x=x+Math.imul(Re,Dr)|0,W=W+Math.imul(Re,Zr)|0,L=L+Math.imul(Z,en)|0,x=x+Math.imul(Z,tn)|0,x=x+Math.imul(ee,en)|0,W=W+Math.imul(ee,tn)|0,L=L+Math.imul(ye,rn)|0,x=x+Math.imul(ye,nn)|0,x=x+Math.imul(Ie,rn)|0,W=W+Math.imul(Ie,nn)|0,L=L+Math.imul(J,Hr)|0,x=x+Math.imul(J,sn)|0,x=x+Math.imul(ae,Hr)|0,W=W+Math.imul(ae,sn)|0;var yp=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(yp>>>26)|0,yp&=67108863,L=Math.imul(At,Br),x=Math.imul(At,Xr),x=x+Math.imul(jt,Br)|0,W=Math.imul(jt,Xr),L=L+Math.imul(Xe,Qr)|0,x=x+Math.imul(Xe,Or)|0,x=x+Math.imul(lt,Qr)|0,W=W+Math.imul(lt,Or)|0,L=L+Math.imul(ue,Dr)|0,x=x+Math.imul(ue,Zr)|0,x=x+Math.imul(be,Dr)|0,W=W+Math.imul(be,Zr)|0,L=L+Math.imul(_e,en)|0,x=x+Math.imul(_e,tn)|0,x=x+Math.imul(Re,en)|0,W=W+Math.imul(Re,tn)|0,L=L+Math.imul(Z,rn)|0,x=x+Math.imul(Z,nn)|0,x=x+Math.imul(ee,rn)|0,W=W+Math.imul(ee,nn)|0,L=L+Math.imul(ye,Hr)|0,x=x+Math.imul(ye,sn)|0,x=x+Math.imul(Ie,Hr)|0,W=W+Math.imul(Ie,sn)|0;var _p=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(_p>>>26)|0,_p&=67108863,L=Math.imul(At,Qr),x=Math.imul(At,Or),x=x+Math.imul(jt,Qr)|0,W=Math.imul(jt,Or),L=L+Math.imul(Xe,Dr)|0,x=x+Math.imul(Xe,Zr)|0,x=x+Math.imul(lt,Dr)|0,W=W+Math.imul(lt,Zr)|0,L=L+Math.imul(ue,en)|0,x=x+Math.imul(ue,tn)|0,x=x+Math.imul(be,en)|0,W=W+Math.imul(be,tn)|0,L=L+Math.imul(_e,rn)|0,x=x+Math.imul(_e,nn)|0,x=x+Math.imul(Re,rn)|0,W=W+Math.imul(Re,nn)|0,L=L+Math.imul(Z,Hr)|0,x=x+Math.imul(Z,sn)|0,x=x+Math.imul(ee,Hr)|0,W=W+Math.imul(ee,sn)|0;var Ym=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Ym>>>26)|0,Ym&=67108863,L=Math.imul(At,Dr),x=Math.imul(At,Zr),x=x+Math.imul(jt,Dr)|0,W=Math.imul(jt,Zr),L=L+Math.imul(Xe,en)|0,x=x+Math.imul(Xe,tn)|0,x=x+Math.imul(lt,en)|0,W=W+Math.imul(lt,tn)|0,L=L+Math.imul(ue,rn)|0,x=x+Math.imul(ue,nn)|0,x=x+Math.imul(be,rn)|0,W=W+Math.imul(be,nn)|0,L=L+Math.imul(_e,Hr)|0,x=x+Math.imul(_e,sn)|0,x=x+Math.imul(Re,Hr)|0,W=W+Math.imul(Re,sn)|0;var Xm=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Xm>>>26)|0,Xm&=67108863,L=Math.imul(At,en),x=Math.imul(At,tn),x=x+Math.imul(jt,en)|0,W=Math.imul(jt,tn),L=L+Math.imul(Xe,rn)|0,x=x+Math.imul(Xe,nn)|0,x=x+Math.imul(lt,rn)|0,W=W+Math.imul(lt,nn)|0,L=L+Math.imul(ue,Hr)|0,x=x+Math.imul(ue,sn)|0,x=x+Math.imul(be,Hr)|0,W=W+Math.imul(be,sn)|0;var Qm=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Qm>>>26)|0,Qm&=67108863,L=Math.imul(At,rn),x=Math.imul(At,nn),x=x+Math.imul(jt,rn)|0,W=Math.imul(jt,nn),L=L+Math.imul(Xe,Hr)|0,x=x+Math.imul(Xe,sn)|0,x=x+Math.imul(lt,Hr)|0,W=W+Math.imul(lt,sn)|0;var Zm=(z+L|0)+((x&8191)<<13)|0;z=(W+(x>>>13)|0)+(Zm>>>26)|0,Zm&=67108863,L=Math.imul(At,Hr),x=Math.imul(At,sn),x=x+Math.imul(jt,Hr)|0,W=Math.imul(jt,sn);var bp=(z+L|0)+((x&8191)<<13)|0;return z=(W+(x>>>13)|0)+(bp>>>26)|0,bp&=67108863,j[0]=Bl,j[1]=Hl,j[2]=jl,j[3]=Wl,j[4]=ql,j[5]=sd,j[6]=Gm,j[7]=od,j[8]=Km,j[9]=Vm,j[10]=Jm,j[11]=mp,j[12]=yp,j[13]=_p,j[14]=Ym,j[15]=Xm,j[16]=Qm,j[17]=Zm,j[18]=bp,z!==0&&(j[19]=z,E.length++),E};Math.imul||(N=A);function R(T,y,w){w.negative=y.negative^T.negative,w.length=T.length+y.length;for(var E=0,I=0,U=0;U<w.length-1;U++){var j=I;I=0;for(var z=E&67108863,L=Math.min(U,y.length-1),x=Math.max(0,U-T.length+1);x<=L;x++){var W=U-x,K=T.words[W]|0,P=y.words[x]|0,X=K*P,q=X&67108863;j=j+(X/67108864|0)|0,q=q+z|0,z=q&67108863,j=j+(q>>>26)|0,I+=j>>>26,j&=67108863}w.words[U]=z,E=j,j=I}return E!==0?w.words[U]=E:w.length--,w._strip()}function k(T,y,w){return R(T,y,w)}s.prototype.mulTo=function(y,w){var E,I=this.length+y.length;return this.length===10&&y.length===10?E=N(this,y,w):I<63?E=A(this,y,w):I<1024?E=R(this,y,w):E=k(this,y,w),E},s.prototype.mul=function(y){var w=new s(null);return w.words=new Array(this.length+y.length),this.mulTo(y,w)},s.prototype.mulf=function(y){var w=new s(null);return w.words=new Array(this.length+y.length),k(this,y,w)},s.prototype.imul=function(y){return this.clone().mulTo(y,this)},s.prototype.imuln=function(y){var w=y<0;w&&(y=-y),n(typeof y=="number"),n(y<67108864);for(var E=0,I=0;I<this.length;I++){var U=(this.words[I]|0)*y,j=(U&67108863)+(E&67108863);E>>=26,E+=U/67108864|0,E+=j>>>26,this.words[I]=j&67108863}return E!==0&&(this.words[I]=E,this.length++),this.length=y===0?1:this.length,w?this.ineg():this},s.prototype.muln=function(y){return this.clone().imuln(y)},s.prototype.sqr=function(){return this.mul(this)},s.prototype.isqr=function(){return this.imul(this.clone())},s.prototype.pow=function(y){var w=b(y);if(w.length===0)return new s(1);for(var E=this,I=0;I<w.length&&w[I]===0;I++,E=E.sqr());if(++I<w.length)for(var U=E.sqr();I<w.length;I++,U=U.sqr())w[I]!==0&&(E=E.mul(U));return E},s.prototype.iushln=function(y){n(typeof y=="number"&&y>=0);var w=y%26,E=(y-w)/26,I=67108863>>>26-w<<26-w,U;if(w!==0){var j=0;for(U=0;U<this.length;U++){var z=this.words[U]&I,L=(this.words[U]|0)-z<<w;this.words[U]=L|j,j=z>>>26-w}j&&(this.words[U]=j,this.length++)}if(E!==0){for(U=this.length-1;U>=0;U--)this.words[U+E]=this.words[U];for(U=0;U<E;U++)this.words[U]=0;this.length+=E}return this._strip()},s.prototype.ishln=function(y){return n(this.negative===0),this.iushln(y)},s.prototype.iushrn=function(y,w,E){n(typeof y=="number"&&y>=0);var I;w?I=(w-w%26)/26:I=0;var U=y%26,j=Math.min((y-U)/26,this.length),z=67108863^67108863>>>U<<U,L=E;if(I-=j,I=Math.max(0,I),L){for(var x=0;x<j;x++)L.words[x]=this.words[x];L.length=j}if(j!==0)if(this.length>j)for(this.length-=j,x=0;x<this.length;x++)this.words[x]=this.words[x+j];else this.words[0]=0,this.length=1;var W=0;for(x=this.length-1;x>=0&&(W!==0||x>=I);x--){var K=this.words[x]|0;this.words[x]=W<<26-U|K>>>U,W=K&z}return L&&W!==0&&(L.words[L.length++]=W),this.length===0&&(this.words[0]=0,this.length=1),this._strip()},s.prototype.ishrn=function(y,w,E){return n(this.negative===0),this.iushrn(y,w,E)},s.prototype.shln=function(y){return this.clone().ishln(y)},s.prototype.ushln=function(y){return this.clone().iushln(y)},s.prototype.shrn=function(y){return this.clone().ishrn(y)},s.prototype.ushrn=function(y){return this.clone().iushrn(y)},s.prototype.testn=function(y){n(typeof y=="number"&&y>=0);var w=y%26,E=(y-w)/26,I=1<<w;if(this.length<=E)return!1;var U=this.words[E];return!!(U&I)},s.prototype.imaskn=function(y){n(typeof y=="number"&&y>=0);var w=y%26,E=(y-w)/26;if(n(this.negative===0,"imaskn works only with positive numbers"),this.length<=E)return this;if(w!==0&&E++,this.length=Math.min(E,this.length),w!==0){var I=67108863^67108863>>>w<<w;this.words[this.length-1]&=I}return this._strip()},s.prototype.maskn=function(y){return this.clone().imaskn(y)},s.prototype.iaddn=function(y){return n(typeof y=="number"),n(y<67108864),y<0?this.isubn(-y):this.negative!==0?this.length===1&&(this.words[0]|0)<=y?(this.words[0]=y-(this.words[0]|0),this.negative=0,this):(this.negative=0,this.isubn(y),this.negative=1,this):this._iaddn(y)},s.prototype._iaddn=function(y){this.words[0]+=y;for(var w=0;w<this.length&&this.words[w]>=67108864;w++)this.words[w]-=67108864,w===this.length-1?this.words[w+1]=1:this.words[w+1]++;return this.length=Math.max(this.length,w+1),this},s.prototype.isubn=function(y){if(n(typeof y=="number"),n(y<67108864),y<0)return this.iaddn(-y);if(this.negative!==0)return this.negative=0,this.iaddn(y),this.negative=1,this;if(this.words[0]-=y,this.length===1&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var w=0;w<this.length&&this.words[w]<0;w++)this.words[w]+=67108864,this.words[w+1]-=1;return this._strip()},s.prototype.addn=function(y){return this.clone().iaddn(y)},s.prototype.subn=function(y){return this.clone().isubn(y)},s.prototype.iabs=function(){return this.negative=0,this},s.prototype.abs=function(){return this.clone().iabs()},s.prototype._ishlnsubmul=function(y,w,E){var I=y.length+E,U;this._expand(I);var j,z=0;for(U=0;U<y.length;U++){j=(this.words[U+E]|0)+z;var L=(y.words[U]|0)*w;j-=L&67108863,z=(j>>26)-(L/67108864|0),this.words[U+E]=j&67108863}for(;U<this.length-E;U++)j=(this.words[U+E]|0)+z,z=j>>26,this.words[U+E]=j&67108863;if(z===0)return this._strip();for(n(z===-1),z=0,U=0;U<this.length;U++)j=-(this.words[U]|0)+z,z=j>>26,this.words[U]=j&67108863;return this.negative=1,this._strip()},s.prototype._wordDiv=function(y,w){var E=this.length-y.length,I=this.clone(),U=y,j=U.words[U.length-1]|0,z=this._countBits(j);E=26-z,E!==0&&(U=U.ushln(E),I.iushln(E),j=U.words[U.length-1]|0);var L=I.length-U.length,x;if(w!=="mod"){x=new s(null),x.length=L+1,x.words=new Array(x.length);for(var W=0;W<x.length;W++)x.words[W]=0}var K=I.clone()._ishlnsubmul(U,1,L);K.negative===0&&(I=K,x&&(x.words[L]=1));for(var P=L-1;P>=0;P--){var X=(I.words[U.length+P]|0)*67108864+(I.words[U.length+P-1]|0);for(X=Math.min(X/j|0,67108863),I._ishlnsubmul(U,X,P);I.negative!==0;)X--,I.negative=0,I._ishlnsubmul(U,1,P),I.isZero()||(I.negative^=1);x&&(x.words[P]=X)}return x&&x._strip(),I._strip(),w!=="div"&&E!==0&&I.iushrn(E),{div:x||null,mod:I}},s.prototype.divmod=function(y,w,E){if(n(!y.isZero()),this.isZero())return{div:new s(0),mod:new s(0)};var I,U,j;return this.negative!==0&&y.negative===0?(j=this.neg().divmod(y,w),w!=="mod"&&(I=j.div.neg()),w!=="div"&&(U=j.mod.neg(),E&&U.negative!==0&&U.iadd(y)),{div:I,mod:U}):this.negative===0&&y.negative!==0?(j=this.divmod(y.neg(),w),w!=="mod"&&(I=j.div.neg()),{div:I,mod:j.mod}):(this.negative&y.negative)!==0?(j=this.neg().divmod(y.neg(),w),w!=="div"&&(U=j.mod.neg(),E&&U.negative!==0&&U.isub(y)),{div:j.div,mod:U}):y.length>this.length||this.cmp(y)<0?{div:new s(0),mod:this}:y.length===1?w==="div"?{div:this.divn(y.words[0]),mod:null}:w==="mod"?{div:null,mod:new s(this.modrn(y.words[0]))}:{div:this.divn(y.words[0]),mod:new s(this.modrn(y.words[0]))}:this._wordDiv(y,w)},s.prototype.div=function(y){return this.divmod(y,"div",!1).div},s.prototype.mod=function(y){return this.divmod(y,"mod",!1).mod},s.prototype.umod=function(y){return this.divmod(y,"mod",!0).mod},s.prototype.divRound=function(y){var w=this.divmod(y);if(w.mod.isZero())return w.div;var E=w.div.negative!==0?w.mod.isub(y):w.mod,I=y.ushrn(1),U=y.andln(1),j=E.cmp(I);return j<0||U===1&&j===0?w.div:w.div.negative!==0?w.div.isubn(1):w.div.iaddn(1)},s.prototype.modrn=function(y){var w=y<0;w&&(y=-y),n(y<=67108863);for(var E=(1<<26)%y,I=0,U=this.length-1;U>=0;U--)I=(E*I+(this.words[U]|0))%y;return w?-I:I},s.prototype.modn=function(y){return this.modrn(y)},s.prototype.idivn=function(y){var w=y<0;w&&(y=-y),n(y<=67108863);for(var E=0,I=this.length-1;I>=0;I--){var U=(this.words[I]|0)+E*67108864;this.words[I]=U/y|0,E=U%y}return this._strip(),w?this.ineg():this},s.prototype.divn=function(y){return this.clone().idivn(y)},s.prototype.egcd=function(y){n(y.negative===0),n(!y.isZero());var w=this,E=y.clone();w.negative!==0?w=w.umod(y):w=w.clone();for(var I=new s(1),U=new s(0),j=new s(0),z=new s(1),L=0;w.isEven()&&E.isEven();)w.iushrn(1),E.iushrn(1),++L;for(var x=E.clone(),W=w.clone();!w.isZero();){for(var K=0,P=1;(w.words[0]&P)===0&&K<26;++K,P<<=1);if(K>0)for(w.iushrn(K);K-- >0;)(I.isOdd()||U.isOdd())&&(I.iadd(x),U.isub(W)),I.iushrn(1),U.iushrn(1);for(var X=0,q=1;(E.words[0]&q)===0&&X<26;++X,q<<=1);if(X>0)for(E.iushrn(X);X-- >0;)(j.isOdd()||z.isOdd())&&(j.iadd(x),z.isub(W)),j.iushrn(1),z.iushrn(1);w.cmp(E)>=0?(w.isub(E),I.isub(j),U.isub(z)):(E.isub(w),j.isub(I),z.isub(U))}return{a:j,b:z,gcd:E.iushln(L)}},s.prototype._invmp=function(y){n(y.negative===0),n(!y.isZero());var w=this,E=y.clone();w.negative!==0?w=w.umod(y):w=w.clone();for(var I=new s(1),U=new s(0),j=E.clone();w.cmpn(1)>0&&E.cmpn(1)>0;){for(var z=0,L=1;(w.words[0]&L)===0&&z<26;++z,L<<=1);if(z>0)for(w.iushrn(z);z-- >0;)I.isOdd()&&I.iadd(j),I.iushrn(1);for(var x=0,W=1;(E.words[0]&W)===0&&x<26;++x,W<<=1);if(x>0)for(E.iushrn(x);x-- >0;)U.isOdd()&&U.iadd(j),U.iushrn(1);w.cmp(E)>=0?(w.isub(E),I.isub(U)):(E.isub(w),U.isub(I))}var K;return w.cmpn(1)===0?K=I:K=U,K.cmpn(0)<0&&K.iadd(y),K},s.prototype.gcd=function(y){if(this.isZero())return y.abs();if(y.isZero())return this.abs();var w=this.clone(),E=y.clone();w.negative=0,E.negative=0;for(var I=0;w.isEven()&&E.isEven();I++)w.iushrn(1),E.iushrn(1);do{for(;w.isEven();)w.iushrn(1);for(;E.isEven();)E.iushrn(1);var U=w.cmp(E);if(U<0){var j=w;w=E,E=j}else if(U===0||E.cmpn(1)===0)break;w.isub(E)}while(!0);return E.iushln(I)},s.prototype.invm=function(y){return this.egcd(y).a.umod(y)},s.prototype.isEven=function(){return(this.words[0]&1)===0},s.prototype.isOdd=function(){return(this.words[0]&1)===1},s.prototype.andln=function(y){return this.words[0]&y},s.prototype.bincn=function(y){n(typeof y=="number");var w=y%26,E=(y-w)/26,I=1<<w;if(this.length<=E)return this._expand(E+1),this.words[E]|=I,this;for(var U=I,j=E;U!==0&&j<this.length;j++){var z=this.words[j]|0;z+=U,U=z>>>26,z&=67108863,this.words[j]=z}return U!==0&&(this.words[j]=U,this.length++),this},s.prototype.isZero=function(){return this.length===1&&this.words[0]===0},s.prototype.cmpn=function(y){var w=y<0;if(this.negative!==0&&!w)return-1;if(this.negative===0&&w)return 1;this._strip();var E;if(this.length>1)E=1;else{w&&(y=-y),n(y<=67108863,"Number is too big");var I=this.words[0]|0;E=I===y?0:I<y?-1:1}return this.negative!==0?-E|0:E},s.prototype.cmp=function(y){if(this.negative!==0&&y.negative===0)return-1;if(this.negative===0&&y.negative!==0)return 1;var w=this.ucmp(y);return this.negative!==0?-w|0:w},s.prototype.ucmp=function(y){if(this.length>y.length)return 1;if(this.length<y.length)return-1;for(var w=0,E=this.length-1;E>=0;E--){var I=this.words[E]|0,U=y.words[E]|0;if(I!==U){I<U?w=-1:I>U&&(w=1);break}}return w},s.prototype.gtn=function(y){return this.cmpn(y)===1},s.prototype.gt=function(y){return this.cmp(y)===1},s.prototype.gten=function(y){return this.cmpn(y)>=0},s.prototype.gte=function(y){return this.cmp(y)>=0},s.prototype.ltn=function(y){return this.cmpn(y)===-1},s.prototype.lt=function(y){return this.cmp(y)===-1},s.prototype.lten=function(y){return this.cmpn(y)<=0},s.prototype.lte=function(y){return this.cmp(y)<=0},s.prototype.eqn=function(y){return this.cmpn(y)===0},s.prototype.eq=function(y){return this.cmp(y)===0},s.red=function(y){return new B(y)},s.prototype.toRed=function(y){return n(!this.red,"Already a number in reduction context"),n(this.negative===0,"red works only with positives"),y.convertTo(this)._forceRed(y)},s.prototype.fromRed=function(){return n(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},s.prototype._forceRed=function(y){return this.red=y,this},s.prototype.forceRed=function(y){return n(!this.red,"Already a number in reduction context"),this._forceRed(y)},s.prototype.redAdd=function(y){return n(this.red,"redAdd works only with red numbers"),this.red.add(this,y)},s.prototype.redIAdd=function(y){return n(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,y)},s.prototype.redSub=function(y){return n(this.red,"redSub works only with red numbers"),this.red.sub(this,y)},s.prototype.redISub=function(y){return n(this.red,"redISub works only with red numbers"),this.red.isub(this,y)},s.prototype.redShl=function(y){return n(this.red,"redShl works only with red numbers"),this.red.shl(this,y)},s.prototype.redMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.mul(this,y)},s.prototype.redIMul=function(y){return n(this.red,"redMul works only with red numbers"),this.red._verify2(this,y),this.red.imul(this,y)},s.prototype.redSqr=function(){return n(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},s.prototype.redISqr=function(){return n(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},s.prototype.redSqrt=function(){return n(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},s.prototype.redInvm=function(){return n(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},s.prototype.redNeg=function(){return n(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},s.prototype.redPow=function(y){return n(this.red&&!y.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,y)};var M={k256:null,p224:null,p192:null,p25519:null};function D(T,y){this.name=T,this.p=new s(y,16),this.n=this.p.bitLength(),this.k=new s(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}D.prototype._tmp=function(){var y=new s(null);return y.words=new Array(Math.ceil(this.n/13)),y},D.prototype.ireduce=function(y){var w=y,E;do this.split(w,this.tmp),w=this.imulK(w),w=w.iadd(this.tmp),E=w.bitLength();while(E>this.n);var I=E<this.n?-1:w.ucmp(this.p);return I===0?(w.words[0]=0,w.length=1):I>0?w.isub(this.p):w.strip!==void 0?w.strip():w._strip(),w},D.prototype.split=function(y,w){y.iushrn(this.n,0,w)},D.prototype.imulK=function(y){return y.imul(this.k)};function H(){D.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}i(H,D),H.prototype.split=function(y,w){for(var E=4194303,I=Math.min(y.length,9),U=0;U<I;U++)w.words[U]=y.words[U];if(w.length=I,y.length<=9){y.words[0]=0,y.length=1;return}var j=y.words[9];for(w.words[w.length++]=j&E,U=10;U<y.length;U++){var z=y.words[U]|0;y.words[U-10]=(z&E)<<4|j>>>22,j=z}j>>>=22,y.words[U-10]=j,j===0&&y.length>10?y.length-=10:y.length-=9},H.prototype.imulK=function(y){y.words[y.length]=0,y.words[y.length+1]=0,y.length+=2;for(var w=0,E=0;E<y.length;E++){var I=y.words[E]|0;w+=I*977,y.words[E]=w&67108863,w=I*64+(w/67108864|0)}return y.words[y.length-1]===0&&(y.length--,y.words[y.length-1]===0&&y.length--),y};function S(){D.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}i(S,D);function C(){D.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}i(C,D);function $(){D.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}i($,D),$.prototype.imulK=function(y){for(var w=0,E=0;E<y.length;E++){var I=(y.words[E]|0)*19+w,U=I&67108863;I>>>=26,y.words[E]=U,w=I}return w!==0&&(y.words[y.length++]=w),y},s._prime=function(y){if(M[y])return M[y];var w;if(y==="k256")w=new H;else if(y==="p224")w=new S;else if(y==="p192")w=new C;else if(y==="p25519")w=new $;else throw new Error("Unknown prime "+y);return M[y]=w,w};function B(T){if(typeof T=="string"){var y=s._prime(T);this.m=y.p,this.prime=y}else n(T.gtn(1),"modulus must be greater than 1"),this.m=T,this.prime=null}B.prototype._verify1=function(y){n(y.negative===0,"red works only with positives"),n(y.red,"red works only with red numbers")},B.prototype._verify2=function(y,w){n((y.negative|w.negative)===0,"red works only with positives"),n(y.red&&y.red===w.red,"red works only with red numbers")},B.prototype.imod=function(y){return this.prime?this.prime.ireduce(y)._forceRed(this):(u(y,y.umod(this.m)._forceRed(this)),y)},B.prototype.neg=function(y){return y.isZero()?y.clone():this.m.sub(y)._forceRed(this)},B.prototype.add=function(y,w){this._verify2(y,w);var E=y.add(w);return E.cmp(this.m)>=0&&E.isub(this.m),E._forceRed(this)},B.prototype.iadd=function(y,w){this._verify2(y,w);var E=y.iadd(w);return E.cmp(this.m)>=0&&E.isub(this.m),E},B.prototype.sub=function(y,w){this._verify2(y,w);var E=y.sub(w);return E.cmpn(0)<0&&E.iadd(this.m),E._forceRed(this)},B.prototype.isub=function(y,w){this._verify2(y,w);var E=y.isub(w);return E.cmpn(0)<0&&E.iadd(this.m),E},B.prototype.shl=function(y,w){return this._verify1(y),this.imod(y.ushln(w))},B.prototype.imul=function(y,w){return this._verify2(y,w),this.imod(y.imul(w))},B.prototype.mul=function(y,w){return this._verify2(y,w),this.imod(y.mul(w))},B.prototype.isqr=function(y){return this.imul(y,y.clone())},B.prototype.sqr=function(y){return this.mul(y,y)},B.prototype.sqrt=function(y){if(y.isZero())return y.clone();var w=this.m.andln(3);if(n(w%2===1),w===3){var E=this.m.add(new s(1)).iushrn(2);return this.pow(y,E)}for(var I=this.m.subn(1),U=0;!I.isZero()&&I.andln(1)===0;)U++,I.iushrn(1);n(!I.isZero());var j=new s(1).toRed(this),z=j.redNeg(),L=this.m.subn(1).iushrn(1),x=this.m.bitLength();for(x=new s(2*x*x).toRed(this);this.pow(x,L).cmp(z)!==0;)x.redIAdd(z);for(var W=this.pow(x,I),K=this.pow(y,I.addn(1).iushrn(1)),P=this.pow(y,I),X=U;P.cmp(j)!==0;){for(var q=P,te=0;q.cmp(j)!==0;te++)q=q.redSqr();n(te<X);var ne=this.pow(W,new s(1).iushln(X-te-1));K=K.redMul(ne),W=ne.redSqr(),P=P.redMul(W),X=te}return K},B.prototype.invm=function(y){var w=y._invmp(this.m);return w.negative!==0?(w.negative=0,this.imod(w).redNeg()):this.imod(w)},B.prototype.pow=function(y,w){if(w.isZero())return new s(1).toRed(this);if(w.cmpn(1)===0)return y.clone();var E=4,I=new Array(1<<E);I[0]=new s(1).toRed(this),I[1]=y;for(var U=2;U<I.length;U++)I[U]=this.mul(I[U-1],y);var j=I[0],z=0,L=0,x=w.bitLength()%26;for(x===0&&(x=26),U=w.length-1;U>=0;U--){for(var W=w.words[U],K=x-1;K>=0;K--){var P=W>>K&1;if(j!==I[0]&&(j=this.sqr(j)),P===0&&z===0){L=0;continue}z<<=1,z|=P,L++,!(L!==E&&(U!==0||K!==0))&&(j=this.mul(j,I[z]),L=0,z=0)}x=26}return j},B.prototype.convertTo=function(y){var w=y.umod(this.m);return w===y?w.clone():w},B.prototype.convertFrom=function(y){var w=y.clone();return w.red=null,w},s.mont=function(y){return new O(y)};function O(T){B.call(this,T),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new s(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}i(O,B),O.prototype.convertTo=function(y){return this.imod(y.ushln(this.shift))},O.prototype.convertFrom=function(y){var w=this.imod(y.mul(this.rinv));return w.red=null,w},O.prototype.imul=function(y,w){if(y.isZero()||w.isZero())return y.words[0]=0,y.length=1,y;var E=y.imul(w),I=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=E.isub(I).iushrn(this.shift),j=U;return U.cmp(this.m)>=0?j=U.isub(this.m):U.cmpn(0)<0&&(j=U.iadd(this.m)),j._forceRed(this)},O.prototype.mul=function(y,w){if(y.isZero()||w.isZero())return new s(0)._forceRed(this);var E=y.mul(w),I=E.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),U=E.isub(I).iushrn(this.shift),j=U;return U.cmp(this.m)>=0?j=U.isub(this.m):U.cmpn(0)<0&&(j=U.iadd(this.m)),j._forceRed(this)},O.prototype.invm=function(y){var w=this.imod(y._invmp(this.m).mul(this.r2));return w._forceRed(this)}})(t,gNe)})(eE)),eE.exports}var yNe=mNe();const fe=Ws(yNe),_Ne="logger/5.8.0";let LU=!1,$U=!1;const tE={debug:1,default:2,info:2,warning:3,error:4,off:5};let FU=tE.default,bS=null;function bNe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const BU=bNe();var z3;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(z3||(z3={}));var Yc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Yc||(Yc={}));const HU="0123456789abcdef";let he=class gi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();tE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(FU>tE[n])&&console.log.apply(console,r)}debug(...e){this._log(gi.levels.DEBUG,e)}info(...e){this._log(gi.levels.INFO,e)}warn(...e){this._log(gi.levels.WARNING,e)}makeError(e,r,n){if($U)return this.makeError("censored error",r,{});r||(r=gi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=HU[l[f]>>4],u+=HU[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Yc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Yc.CALL_EXCEPTION:case Yc.INSUFFICIENT_FUNDS:case Yc.MISSING_NEW:case Yc.NONCE_EXPIRED:case Yc.REPLACEMENT_UNDERPRICED:case Yc.TRANSACTION_REPLACED:case Yc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,gi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){BU&&this.throwError("platform missing String.prototype.normalize",gi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:BU})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,gi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,gi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,gi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,gi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",gi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",gi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",gi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return bS||(bS=new gi(_Ne)),bS}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",gi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),LU){if(!e)return;this.globalLogger().throwError("error censorship permanent",gi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}$U=!!e,LU=!!r}static setLogLevel(e){const r=tE[e.toLowerCase()];if(r==null){gi.globalLogger().warn("invalid log level - "+e);return}FU=r}static from(e){return new gi(e)}};he.errors=Yc;he.levels=z3;const wNe="bytes/5.8.0",qn=new he(wNe);function jz(t){return!!t.toHexString}function Wg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Wg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function t2(t){return Gt(t)&&!(t.length%2)||Om(t)}function jU(t){return typeof t=="number"&&t==t&&t%1===0}function Om(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!jU(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!jU(r)||r<0||r>=256)return!1}return!0}function Ce(t,e){if(e||(e={}),typeof t=="number"){qn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Wg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),jz(t)&&(t=t.toHexString()),Gt(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":qn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Wg(new Uint8Array(n))}return Om(t)?Wg(new Uint8Array(t)):qn.throwArgumentError("invalid arrayify value","value",t)}function Cr(t){const e=t.map(i=>Ce(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Wg(n)}function jf(t){let e=Ce(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function rE(t,e){t=Ce(t),t.length>e&&qn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Wg(r)}function Gt(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const wS="0123456789abcdef";function Oe(t,e){if(e||(e={}),typeof t=="number"){qn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=wS[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),jz(t))return t.toHexString();if(Gt(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":qn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(Om(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=wS[(i&240)>>4]+wS[i&15]}return r}return qn.throwArgumentError("invalid hexlify value","value",t)}function V0(t){if(typeof t!="string")t=Oe(t);else if(!Gt(t)||t.length%2)return null;return(t.length-2)/2}function li(t,e,r){return typeof t!="string"?t=Oe(t):(!Gt(t)||t.length%2)&&qn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function no(t){let e="0x";return t.forEach(r=>{e+=Oe(r).substring(2)}),e}function h6(t){const e=vNe(Oe(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function vNe(t){typeof t!="string"&&(t=Oe(t)),Gt(t)||qn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function Gr(t,e){for(typeof t!="string"?t=Oe(t):Gt(t)||qn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&qn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function Dm(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(t2(t)){let r=Ce(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=Oe(r.slice(0,32)),e.s=Oe(r.slice(32,64))):r.length===65?(e.r=Oe(r.slice(0,32)),e.s=Oe(r.slice(32,64)),e.v=r[64]):qn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:qn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=Oe(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=rE(Ce(e._vs),32);e._vs=Oe(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&qn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=Oe(i);e.s==null?e.s=o:e.s!==o&&qn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?qn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&qn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!Gt(e.r)?qn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Gr(e.r,32),e.s==null||!Gt(e.s)?qn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Gr(e.s,32);const r=Ce(e.s);r[0]>=128&&qn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=Oe(r);e._vs&&(Gt(e._vs)||qn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Gr(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&qn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function WU(t){return t=Dm(t),Oe(Cr([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const Wz="bignumber/5.8.0";var UA=fe.BN;const Af=new he(Wz),vS={},qU=9007199254740991;function ENe(t){return t!=null&&(Fe.isBigNumber(t)||typeof t=="number"&&t%1===0||typeof t=="string"&&!!t.match(/^-?[0-9]+$/)||Gt(t)||typeof t=="bigint"||Om(t))}let zU=!1,Fe=class Bc{constructor(e,r){e!==vS&&Af.throwError("cannot call constructor directly; use BigNumber.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return wo(Vt(this).fromTwos(e))}toTwos(e){return wo(Vt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Bc.from(this._hex.substring(1)):this}add(e){return wo(Vt(this).add(Vt(e)))}sub(e){return wo(Vt(this).sub(Vt(e)))}div(e){return Bc.from(e).isZero()&&La("division-by-zero","div"),wo(Vt(this).div(Vt(e)))}mul(e){return wo(Vt(this).mul(Vt(e)))}mod(e){const r=Vt(e);return r.isNeg()&&La("division-by-zero","mod"),wo(Vt(this).umod(r))}pow(e){const r=Vt(e);return r.isNeg()&&La("negative-power","pow"),wo(Vt(this).pow(r))}and(e){const r=Vt(e);return(this.isNegative()||r.isNeg())&&La("unbound-bitwise-result","and"),wo(Vt(this).and(r))}or(e){const r=Vt(e);return(this.isNegative()||r.isNeg())&&La("unbound-bitwise-result","or"),wo(Vt(this).or(r))}xor(e){const r=Vt(e);return(this.isNegative()||r.isNeg())&&La("unbound-bitwise-result","xor"),wo(Vt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&La("negative-width","mask"),wo(Vt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&La("negative-width","shl"),wo(Vt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&La("negative-width","shr"),wo(Vt(this).shrn(e))}eq(e){return Vt(this).eq(Vt(e))}lt(e){return Vt(this).lt(Vt(e))}lte(e){return Vt(this).lte(Vt(e))}gt(e){return Vt(this).gt(Vt(e))}gte(e){return Vt(this).gte(Vt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Vt(this).isZero()}toNumber(){try{return Vt(this).toNumber()}catch{La("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Af.throwError("this platform does not support BigInt",he.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?zU||(zU=!0,Af.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Af.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",he.errors.UNEXPECTED_ARGUMENT,{}):Af.throwError("BigNumber.toString does not accept parameters",he.errors.UNEXPECTED_ARGUMENT,{})),Vt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Bc)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Bc(vS,jb(e)):e.match(/^-?[0-9]+$/)?new Bc(vS,jb(new UA(e))):Af.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&La("underflow","BigNumber.from",e),(e>=qU||e<=-qU)&&La("overflow","BigNumber.from",e),Bc.from(String(e));const r=e;if(typeof r=="bigint")return Bc.from(r.toString());if(Om(r))return Bc.from(Oe(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Bc.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(Gt(n)||n[0]==="-"&&Gt(n.substring(1))))return Bc.from(n)}return Af.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function jb(t){if(typeof t!="string")return jb(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Af.throwArgumentError("invalid hex","value",t),t=jb(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function wo(t){return Fe.from(jb(t))}function Vt(t){const e=Fe.from(t).toHexString();return e[0]==="-"?new UA("-"+e.substring(3),16):new UA(e.substring(2),16)}function La(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Af.throwError(t,he.errors.NUMERIC_FAULT,n)}function ANe(t){return new UA(t,36).toString(16)}const io=new he(Wz),P_={},qz=Fe.from(0),zz=Fe.from(-1);function Gz(t,e,r,n){const i={fault:e,operation:r};return n!==void 0&&(i.value=n),io.throwError(t,he.errors.NUMERIC_FAULT,i)}let O_="0";for(;O_.length<256;)O_+=O_;function p6(t){if(typeof t!="number")try{t=Fe.from(t).toNumber()}catch{}return typeof t=="number"&&t>=0&&t<=256&&!(t%1)?"1"+O_.substring(0,t):io.throwArgumentError("invalid decimal size","decimals",t)}function nE(t,e){e==null&&(e=0);const r=p6(e);t=Fe.from(t);const n=t.lt(qz);n&&(t=t.mul(zz));let i=t.mod(r).toString();for(;i.length<r.length-1;)i="0"+i;i=i.match(/^([0-9]*[1-9]|0)(0*)/)[1];const s=t.div(r).toString();return r.length===1?t=s:t=s+"."+i,n&&(t="-"+t),t}function nu(t,e){e==null&&(e=0);const r=p6(e);(typeof t!="string"||!t.match(/^-?[0-9.]+$/))&&io.throwArgumentError("invalid decimal value","value",t);const n=t.substring(0,1)==="-";n&&(t=t.substring(1)),t==="."&&io.throwArgumentError("missing value","value",t);const i=t.split(".");i.length>2&&io.throwArgumentError("too many decimal points","value",t);let s=i[0],o=i[1];for(s||(s="0"),o||(o="0");o[o.length-1]==="0";)o=o.substring(0,o.length-1);for(o.length>r.length-1&&Gz("fractional component exceeds decimals","underflow","parseFixed"),o===""&&(o="0");o.length<r.length-1;)o+="0";const a=Fe.from(s),c=Fe.from(o);let l=a.mul(r).add(c);return n&&(l=l.mul(zz)),l}class qg{constructor(e,r,n,i){e!==P_&&io.throwError("cannot use FixedFormat constructor; use FixedFormat.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.signed=r,this.width=n,this.decimals=i,this.name=(r?"":"u")+"fixed"+String(n)+"x"+String(i),this._multiplier=p6(i),Object.freeze(this)}static from(e){if(e instanceof qg)return e;typeof e=="number"&&(e=`fixed128x${e}`);let r=!0,n=128,i=18;if(typeof e=="string"){if(e!=="fixed")if(e==="ufixed")r=!1;else{const s=e.match(/^(u?)fixed([0-9]+)x([0-9]+)$/);s||io.throwArgumentError("invalid fixed format","format",e),r=s[1]!=="u",n=parseInt(s[2]),i=parseInt(s[3])}}else if(e){const s=(o,a,c)=>e[o]==null?c:(typeof e[o]!==a&&io.throwArgumentError("invalid fixed format ("+o+" not "+a+")","format."+o,e[o]),e[o]);r=s("signed","boolean",r),n=s("width","number",n),i=s("decimals","number",i)}return n%8&&io.throwArgumentError("invalid fixed format width (not byte aligned)","format.width",n),i>80&&io.throwArgumentError("invalid fixed format (decimals too large)","format.decimals",i),new qg(P_,r,n,i)}}class os{constructor(e,r,n,i){e!==P_&&io.throwError("cannot use FixedNumber constructor; use FixedNumber.from",he.errors.UNSUPPORTED_OPERATION,{operation:"new FixedFormat"}),this.format=i,this._hex=r,this._value=n,this._isFixedNumber=!0,Object.freeze(this)}_checkFormat(e){this.format.name!==e.format.name&&io.throwArgumentError("incompatible format; use fixedNumber.toFormat","other",e)}addUnsafe(e){this._checkFormat(e);const r=nu(this._value,this.format.decimals),n=nu(e._value,e.format.decimals);return os.fromValue(r.add(n),this.format.decimals,this.format)}subUnsafe(e){this._checkFormat(e);const r=nu(this._value,this.format.decimals),n=nu(e._value,e.format.decimals);return os.fromValue(r.sub(n),this.format.decimals,this.format)}mulUnsafe(e){this._checkFormat(e);const r=nu(this._value,this.format.decimals),n=nu(e._value,e.format.decimals);return os.fromValue(r.mul(n).div(this.format._multiplier),this.format.decimals,this.format)}divUnsafe(e){this._checkFormat(e);const r=nu(this._value,this.format.decimals),n=nu(e._value,e.format.decimals);return os.fromValue(r.mul(this.format._multiplier).div(n),this.format.decimals,this.format)}floor(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=os.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return this.isNegative()&&n&&(r=r.subUnsafe(GU.toFormat(r.format))),r}ceiling(){const e=this.toString().split(".");e.length===1&&e.push("0");let r=os.from(e[0],this.format);const n=!e[1].match(/^(0*)$/);return!this.isNegative()&&n&&(r=r.addUnsafe(GU.toFormat(r.format))),r}round(e){e==null&&(e=0);const r=this.toString().split(".");if(r.length===1&&r.push("0"),(e<0||e>80||e%1)&&io.throwArgumentError("invalid decimal count","decimals",e),r[1].length<=e)return this;const n=os.from("1"+O_.substring(0,e),this.format),i=xNe.toFormat(this.format);return this.mulUnsafe(n).addUnsafe(i).floor().divUnsafe(n)}isZero(){return this._value==="0.0"||this._value==="0"}isNegative(){return this._value[0]==="-"}toString(){return this._value}toHexString(e){if(e==null)return this._hex;e%8&&io.throwArgumentError("invalid byte width","width",e);const r=Fe.from(this._hex).fromTwos(this.format.width).toTwos(e).toHexString();return Gr(r,e/8)}toUnsafeFloat(){return parseFloat(this.toString())}toFormat(e){return os.fromString(this._value,e)}static fromValue(e,r,n){return n==null&&r!=null&&!ENe(r)&&(n=r,r=null),r==null&&(r=0),n==null&&(n="fixed"),os.fromString(nE(e,r),qg.from(n))}static fromString(e,r){r==null&&(r="fixed");const n=qg.from(r),i=nu(e,n.decimals);!n.signed&&i.lt(qz)&&Gz("unsigned value cannot be negative","overflow","value",e);let s=null;n.signed?s=i.toTwos(n.width).toHexString():(s=i.toHexString(),s=Gr(s,n.width/8));const o=nE(i,n.decimals);return new os(P_,s,o,n)}static fromBytes(e,r){r==null&&(r="fixed");const n=qg.from(r);if(Ce(e).length>n.width/8)throw new Error("overflow");let i=Fe.from(e);n.signed&&(i=i.fromTwos(n.width));const s=i.toTwos((n.signed?0:1)+n.width).toHexString(),o=nE(i,n.decimals);return new os(P_,s,o,n)}static from(e,r){if(typeof e=="string")return os.fromString(e,r);if(Om(e))return os.fromBytes(e,r);try{return os.fromValue(e,0,r)}catch(n){if(n.code!==he.errors.INVALID_ARGUMENT)throw n}return io.throwArgumentError("invalid FixedNumber value","value",e)}static isFixedNumber(e){return!!(e&&e._isFixedNumber)}}const GU=os.from(1),xNe=os.from("0.5"),CNe="properties/5.8.0";var NNe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const LA=new he(CNe);function Ae(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Lo(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function Qn(t){return NNe(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function Kz(t,e){(!t||typeof t!="object")&&LA.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||LA.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Ui(t){const e={};for(const r in t)e[r]=t[r];return e}const SNe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function Vz(t){if(t==null||SNe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!Vz(n))return!1}return!0}return LA.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function TNe(t){if(Vz(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>Xf(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&Ae(e,r,Xf(n))}return e}return LA.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function Xf(t){return TNe(t)}let ba=class{constructor(e){for(const r in e)this[r]=Xf(e[r])}};const F1="abi/5.8.0",ir=new he(F1),J0={};let KU={calldata:!0,memory:!0,storage:!0},INe={calldata:!0,memory:!0};function yv(t,e){if(t==="bytes"||t==="string"){if(KU[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&INe[e])return!0;return(KU[e]||e==="payable")&&ir.throwArgumentError("invalid modifier","name",e),!1}function RNe(t,e){let r=t;function n(a){ir.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=vg(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),yv(o.type,o.name)&&(o.name=""),o.type=vg(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),yv(o.type,o.name)&&(o.name=""),o.type=vg(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=vg(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):yv(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&ir.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):yv(o.type,o.name)&&(o.name=""),s.type=vg(s.type),s}function iE(t,e){for(let r in e)Ae(t,r,e[r])}const br=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),PNe=new RegExp(/^(.*)\[([0-9]*)\]$/);let Cu=class Md{constructor(e,r){e!==J0&&ir.throwError("use fromString",he.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),iE(this,r);let n=this.type.match(PNe);n?iE(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:Md.fromObject({type:n[1],components:this.components}),baseType:"array"}):iE(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=br.sighash),br[e]||ir.throwArgumentError("invalid format type","format",e),e===br.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==br.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===br.full?", ":",")+")"):r+=this.type,e!==br.sighash&&(this.indexed===!0&&(r+=" indexed"),e===br.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?Md.fromString(e,r):Md.fromObject(e)}static fromObject(e){return Md.isParamType(e)?e:new Md(J0,{name:e.name||null,type:vg(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(Md.fromObject):null})}static fromString(e,r){function n(i){return Md.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(RNe(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}};function Wb(t,e){return DNe(t).map(r=>Cu.fromString(r,e))}let r2=class r_{constructor(e,r){e!==J0&&ir.throwError("use a static from method",he.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),iE(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return r_.isFragment(e)?e:typeof e=="string"?r_.fromString(e):r_.fromObject(e)}static fromObject(e){if(r_.isFragment(e))return e;switch(e.type){case"function":return FA.fromObject(e);case"event":return G3.fromObject(e);case"constructor":return $A.fromObject(e);case"error":return JU.fromObject(e);case"fallback":case"receive":return null}return ir.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?G3.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?FA.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?$A.fromString(e.trim()):e.split(" ")[0]==="error"?JU.fromString(e.substring(5).trim()):ir.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}},G3=class yg extends r2{format(e){if(e||(e=br.sighash),br[e]||ir.throwArgumentError("invalid format type","format",e),e===br.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==br.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===br.full?", ":",")+") ",e!==br.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?yg.fromString(e):yg.fromObject(e)}static fromObject(e){if(yg.isEventFragment(e))return e;e.type!=="event"&&ir.throwArgumentError("invalid event object","value",e);const r={name:qb(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(Cu.fromObject):[],type:"event"};return new yg(J0,r)}static fromString(e){let r=e.match(zb);r||ir.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:ir.warn("unknown modifier: "+i)}}),yg.fromObject({name:r[1].trim(),anonymous:n,inputs:Wb(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}};function Jz(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&ir.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||ir.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Fe.from(r[1]),r[0]):t}function Yz(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function Xz(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&ir.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&ir.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&ir.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&ir.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&ir.throwArgumentError("unable to determine stateMutability","value",t),e}let $A=class _g extends r2{format(e){if(e||(e=br.sighash),br[e]||ir.throwArgumentError("invalid format type","format",e),e===br.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===br.sighash&&ir.throwError("cannot format a constructor for sighash",he.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===br.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?_g.fromString(e):_g.fromObject(e)}static fromObject(e){if(_g.isConstructorFragment(e))return e;e.type!=="constructor"&&ir.throwArgumentError("invalid constructor object","value",e);let r=Xz(e);r.constant&&ir.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(Cu.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Fe.from(e.gas):null};return new _g(J0,n)}static fromString(e){let r={type:"constructor"};e=Jz(e,r);let n=e.match(zb);return(!n||n[1].trim()!=="constructor")&&ir.throwArgumentError("invalid constructor string","value",e),r.inputs=Wb(n[2].trim(),!1),Yz(n[3].trim(),r),_g.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}},FA=class bg extends $A{format(e){if(e||(e=br.sighash),br[e]||ir.throwArgumentError("invalid format type","format",e),e===br.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==br.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===br.full?", ":",")+") ",e!==br.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?bg.fromString(e):bg.fromObject(e)}static fromObject(e){if(bg.isFunctionFragment(e))return e;e.type!=="function"&&ir.throwArgumentError("invalid function object","value",e);let r=Xz(e);const n={type:e.type,name:qb(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(Cu.fromObject):[],outputs:e.outputs?e.outputs.map(Cu.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Fe.from(e.gas):null};return new bg(J0,n)}static fromString(e){let r={type:"function"};e=Jz(e,r);let n=e.split(" returns ");n.length>2&&ir.throwArgumentError("invalid function string","value",e);let i=n[0].match(zb);if(i||ir.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&qb(r.name),r.inputs=Wb(i[2],!1),Yz(i[3].trim(),r),n.length>1){let s=n[1].match(zb);(s[1].trim()!=""||s[3].trim()!="")&&ir.throwArgumentError("unexpected tokens","value",e),r.outputs=Wb(s[2],!1)}else r.outputs=[];return bg.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}};function VU(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&ir.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}let JU=class wg extends r2{format(e){if(e||(e=br.sighash),br[e]||ir.throwArgumentError("invalid format type","format",e),e===br.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==br.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===br.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?wg.fromString(e):wg.fromObject(e)}static fromObject(e){if(wg.isErrorFragment(e))return e;e.type!=="error"&&ir.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:qb(e.name),inputs:e.inputs?e.inputs.map(Cu.fromObject):[]};return VU(new wg(J0,r))}static fromString(e){let r={type:"error"},n=e.match(zb);return n||ir.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&qb(r.name),r.inputs=Wb(n[2],!1),VU(wg.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}};function vg(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const ONe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function qb(t){return(!t||!t.match(ONe))&&ir.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const zb=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function DNe(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&ir.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const g6=new he(F1);function kNe(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}let rd=class{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){g6.throwArgumentError(e,this.localName,r)}},K3=class{constructor(e){Ae(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return no(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Cr(e._data))}writeBytes(e){let r=Ce(e);const n=r.length%this.wordSize;return n&&(r=Cr([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Ce(Fe.from(e));return r.length>this.wordSize&&g6.throwError("value out-of-bounds",he.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Cr([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}},MNe=class V3{constructor(e,r,n,i){Ae(this,"_data",Ce(e)),Ae(this,"wordSize",r||32),Ae(this,"_coerceFunc",n),Ae(this,"allowLoose",i),this._offset=0}get data(){return Oe(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):V3.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:g6.throwError("data out-of-bounds",he.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new V3(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Fe.from(this.readBytes(this.wordSize))}};var ES={exports:{}};/**
 * [js-sha3]{@link https://github.com/emn178/js-sha3}
 *
 * @version 0.8.0
 * @author Chen, Yi-Cyuan [emn178@gmail.com]
 * @copyright Chen, Yi-Cyuan 2015-2018
 * @license MIT
 */var YU;function UNe(){return YU||(YU=1,(function(t){(function(){var e="input is invalid type",r="finalize already called",n=typeof window=="object",i=n?window:{};i.JS_SHA3_NO_WINDOW&&(n=!1);var s=!n&&typeof self=="object",o=!i.JS_SHA3_NO_NODE_JS&&typeof process=="object"&&process.versions&&process.versions.node;o?i=to:s&&(i=self);var a=!i.JS_SHA3_NO_COMMON_JS&&!0&&t.exports,c=!i.JS_SHA3_NO_ARRAY_BUFFER&&typeof ArrayBuffer<"u",l="0123456789abcdef".split(""),u=[31,7936,2031616,520093696],f=[4,1024,262144,67108864],h=[1,256,65536,16777216],g=[6,1536,393216,100663296],_=[0,8,16,24],m=[1,0,32898,0,32906,2147483648,2147516416,2147483648,32907,0,2147483649,0,2147516545,2147483648,32777,2147483648,138,0,136,0,2147516425,0,2147483658,0,2147516555,0,139,2147483648,32905,2147483648,32771,2147483648,32770,2147483648,128,2147483648,32778,0,2147483658,2147483648,2147516545,2147483648,32896,2147483648,2147483649,0,2147516424,2147483648],b=[224,256,384,512],A=[128,256],N=["hex","buffer","arrayBuffer","array","digest"],R={128:168,256:136};(i.JS_SHA3_NO_NODE_JS||!Array.isArray)&&(Array.isArray=function(P){return Object.prototype.toString.call(P)==="[object Array]"}),c&&(i.JS_SHA3_NO_ARRAY_BUFFER_IS_VIEW||!ArrayBuffer.isView)&&(ArrayBuffer.isView=function(P){return typeof P=="object"&&P.buffer&&P.buffer.constructor===ArrayBuffer});for(var k=function(P,X,q){return function(te){return new x(P,X,P).update(te)[q]()}},M=function(P,X,q){return function(te,ne){return new x(P,X,ne).update(te)[q]()}},D=function(P,X,q){return function(te,ne,le,me){return y["cshake"+P].update(te,ne,le,me)[q]()}},H=function(P,X,q){return function(te,ne,le,me){return y["kmac"+P].update(te,ne,le,me)[q]()}},S=function(P,X,q,te){for(var ne=0;ne<N.length;++ne){var le=N[ne];P[le]=X(q,te,le)}return P},C=function(P,X){var q=k(P,X,"hex");return q.create=function(){return new x(P,X,P)},q.update=function(te){return q.create().update(te)},S(q,k,P,X)},$=function(P,X){var q=M(P,X,"hex");return q.create=function(te){return new x(P,X,te)},q.update=function(te,ne){return q.create(ne).update(te)},S(q,M,P,X)},B=function(P,X){var q=R[P],te=D(P,X,"hex");return te.create=function(ne,le,me){return!le&&!me?y["shake"+P].create(ne):new x(P,X,ne).bytepad([le,me],q)},te.update=function(ne,le,me,Y){return te.create(le,me,Y).update(ne)},S(te,D,P,X)},O=function(P,X){var q=R[P],te=H(P,X,"hex");return te.create=function(ne,le,me){return new W(P,X,le).bytepad(["KMAC",me],q).bytepad([ne],q)},te.update=function(ne,le,me,Y){return te.create(ne,me,Y).update(le)},S(te,H,P,X)},T=[{name:"keccak",padding:h,bits:b,createMethod:C},{name:"sha3",padding:g,bits:b,createMethod:C},{name:"shake",padding:u,bits:A,createMethod:$},{name:"cshake",padding:f,bits:A,createMethod:B},{name:"kmac",padding:f,bits:A,createMethod:O}],y={},w=[],E=0;E<T.length;++E)for(var I=T[E],U=I.bits,j=0;j<U.length;++j){var z=I.name+"_"+U[j];if(w.push(z),y[z]=I.createMethod(U[j],I.padding),I.name!=="sha3"){var L=I.name+U[j];w.push(L),y[L]=y[z]}}function x(P,X,q){this.blocks=[],this.s=[],this.padding=X,this.outputBits=q,this.reset=!0,this.finalized=!1,this.block=0,this.start=0,this.blockCount=1600-(P<<1)>>5,this.byteCount=this.blockCount<<2,this.outputBlocks=q>>5,this.extraBytes=(q&31)>>3;for(var te=0;te<50;++te)this.s[te]=0}x.prototype.update=function(P){if(this.finalized)throw new Error(r);var X,q=typeof P;if(q!=="string"){if(q==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);X=!0}for(var te=this.blocks,ne=this.byteCount,le=P.length,me=this.blockCount,Y=0,ie=this.s,J,ae;Y<le;){if(this.reset)for(this.reset=!1,te[0]=this.block,J=1;J<me+1;++J)te[J]=0;if(X)for(J=this.start;Y<le&&J<ne;++Y)te[J>>2]|=P[Y]<<_[J++&3];else for(J=this.start;Y<le&&J<ne;++Y)ae=P.charCodeAt(Y),ae<128?te[J>>2]|=ae<<_[J++&3]:ae<2048?(te[J>>2]|=(192|ae>>6)<<_[J++&3],te[J>>2]|=(128|ae&63)<<_[J++&3]):ae<55296||ae>=57344?(te[J>>2]|=(224|ae>>12)<<_[J++&3],te[J>>2]|=(128|ae>>6&63)<<_[J++&3],te[J>>2]|=(128|ae&63)<<_[J++&3]):(ae=65536+((ae&1023)<<10|P.charCodeAt(++Y)&1023),te[J>>2]|=(240|ae>>18)<<_[J++&3],te[J>>2]|=(128|ae>>12&63)<<_[J++&3],te[J>>2]|=(128|ae>>6&63)<<_[J++&3],te[J>>2]|=(128|ae&63)<<_[J++&3]);if(this.lastByteIndex=J,J>=ne){for(this.start=J-ne,this.block=te[me],J=0;J<me;++J)ie[J]^=te[J];K(ie),this.reset=!0}else this.start=J}return this},x.prototype.encode=function(P,X){var q=P&255,te=1,ne=[q];for(P=P>>8,q=P&255;q>0;)ne.unshift(q),P=P>>8,q=P&255,++te;return X?ne.push(te):ne.unshift(te),this.update(ne),ne.length},x.prototype.encodeString=function(P){var X,q=typeof P;if(q!=="string"){if(q==="object"){if(P===null)throw new Error(e);if(c&&P.constructor===ArrayBuffer)P=new Uint8Array(P);else if(!Array.isArray(P)&&(!c||!ArrayBuffer.isView(P)))throw new Error(e)}else throw new Error(e);X=!0}var te=0,ne=P.length;if(X)te=ne;else for(var le=0;le<P.length;++le){var me=P.charCodeAt(le);me<128?te+=1:me<2048?te+=2:me<55296||me>=57344?te+=3:(me=65536+((me&1023)<<10|P.charCodeAt(++le)&1023),te+=4)}return te+=this.encode(te*8),this.update(P),te},x.prototype.bytepad=function(P,X){for(var q=this.encode(X),te=0;te<P.length;++te)q+=this.encodeString(P[te]);var ne=X-q%X,le=[];return le.length=ne,this.update(le),this},x.prototype.finalize=function(){if(!this.finalized){this.finalized=!0;var P=this.blocks,X=this.lastByteIndex,q=this.blockCount,te=this.s;if(P[X>>2]|=this.padding[X&3],this.lastByteIndex===this.byteCount)for(P[0]=P[q],X=1;X<q+1;++X)P[X]=0;for(P[q-1]|=2147483648,X=0;X<q;++X)te[X]^=P[X];K(te)}},x.prototype.toString=x.prototype.hex=function(){this.finalize();for(var P=this.blockCount,X=this.s,q=this.outputBlocks,te=this.extraBytes,ne=0,le=0,me="",Y;le<q;){for(ne=0;ne<P&&le<q;++ne,++le)Y=X[ne],me+=l[Y>>4&15]+l[Y&15]+l[Y>>12&15]+l[Y>>8&15]+l[Y>>20&15]+l[Y>>16&15]+l[Y>>28&15]+l[Y>>24&15];le%P===0&&(K(X),ne=0)}return te&&(Y=X[ne],me+=l[Y>>4&15]+l[Y&15],te>1&&(me+=l[Y>>12&15]+l[Y>>8&15]),te>2&&(me+=l[Y>>20&15]+l[Y>>16&15])),me},x.prototype.arrayBuffer=function(){this.finalize();var P=this.blockCount,X=this.s,q=this.outputBlocks,te=this.extraBytes,ne=0,le=0,me=this.outputBits>>3,Y;te?Y=new ArrayBuffer(q+1<<2):Y=new ArrayBuffer(me);for(var ie=new Uint32Array(Y);le<q;){for(ne=0;ne<P&&le<q;++ne,++le)ie[le]=X[ne];le%P===0&&K(X)}return te&&(ie[ne]=X[ne],Y=Y.slice(0,me)),Y},x.prototype.buffer=x.prototype.arrayBuffer,x.prototype.digest=x.prototype.array=function(){this.finalize();for(var P=this.blockCount,X=this.s,q=this.outputBlocks,te=this.extraBytes,ne=0,le=0,me=[],Y,ie;le<q;){for(ne=0;ne<P&&le<q;++ne,++le)Y=le<<2,ie=X[ne],me[Y]=ie&255,me[Y+1]=ie>>8&255,me[Y+2]=ie>>16&255,me[Y+3]=ie>>24&255;le%P===0&&K(X)}return te&&(Y=le<<2,ie=X[ne],me[Y]=ie&255,te>1&&(me[Y+1]=ie>>8&255),te>2&&(me[Y+2]=ie>>16&255)),me};function W(P,X,q){x.call(this,P,X,q)}W.prototype=new x,W.prototype.finalize=function(){return this.encode(this.outputBits,!0),x.prototype.finalize.call(this)};var K=function(P){var X,q,te,ne,le,me,Y,ie,J,ae,Ee,ye,Ie,Ue,Z,ee,ge,_e,Re,Pe,ue,be,ze,Xe,lt,Kr,At,jt,zs,It,Mt,co,Nr,Vr,Lu,$r,Fr,$u,Jr,Yr,Fu,Br,Xr,Bu,Qr,Or,Hu,Dr,Zr,ju,en,tn,Wu,rn,nn,qu,Hr,sn,Bl,Hl,jl,Wl,ql;for(te=0;te<48;te+=2)ne=P[0]^P[10]^P[20]^P[30]^P[40],le=P[1]^P[11]^P[21]^P[31]^P[41],me=P[2]^P[12]^P[22]^P[32]^P[42],Y=P[3]^P[13]^P[23]^P[33]^P[43],ie=P[4]^P[14]^P[24]^P[34]^P[44],J=P[5]^P[15]^P[25]^P[35]^P[45],ae=P[6]^P[16]^P[26]^P[36]^P[46],Ee=P[7]^P[17]^P[27]^P[37]^P[47],ye=P[8]^P[18]^P[28]^P[38]^P[48],Ie=P[9]^P[19]^P[29]^P[39]^P[49],X=ye^(me<<1|Y>>>31),q=Ie^(Y<<1|me>>>31),P[0]^=X,P[1]^=q,P[10]^=X,P[11]^=q,P[20]^=X,P[21]^=q,P[30]^=X,P[31]^=q,P[40]^=X,P[41]^=q,X=ne^(ie<<1|J>>>31),q=le^(J<<1|ie>>>31),P[2]^=X,P[3]^=q,P[12]^=X,P[13]^=q,P[22]^=X,P[23]^=q,P[32]^=X,P[33]^=q,P[42]^=X,P[43]^=q,X=me^(ae<<1|Ee>>>31),q=Y^(Ee<<1|ae>>>31),P[4]^=X,P[5]^=q,P[14]^=X,P[15]^=q,P[24]^=X,P[25]^=q,P[34]^=X,P[35]^=q,P[44]^=X,P[45]^=q,X=ie^(ye<<1|Ie>>>31),q=J^(Ie<<1|ye>>>31),P[6]^=X,P[7]^=q,P[16]^=X,P[17]^=q,P[26]^=X,P[27]^=q,P[36]^=X,P[37]^=q,P[46]^=X,P[47]^=q,X=ae^(ne<<1|le>>>31),q=Ee^(le<<1|ne>>>31),P[8]^=X,P[9]^=q,P[18]^=X,P[19]^=q,P[28]^=X,P[29]^=q,P[38]^=X,P[39]^=q,P[48]^=X,P[49]^=q,Ue=P[0],Z=P[1],Or=P[11]<<4|P[10]>>>28,Hu=P[10]<<4|P[11]>>>28,jt=P[20]<<3|P[21]>>>29,zs=P[21]<<3|P[20]>>>29,Hl=P[31]<<9|P[30]>>>23,jl=P[30]<<9|P[31]>>>23,Br=P[40]<<18|P[41]>>>14,Xr=P[41]<<18|P[40]>>>14,Vr=P[2]<<1|P[3]>>>31,Lu=P[3]<<1|P[2]>>>31,ee=P[13]<<12|P[12]>>>20,ge=P[12]<<12|P[13]>>>20,Dr=P[22]<<10|P[23]>>>22,Zr=P[23]<<10|P[22]>>>22,It=P[33]<<13|P[32]>>>19,Mt=P[32]<<13|P[33]>>>19,Wl=P[42]<<2|P[43]>>>30,ql=P[43]<<2|P[42]>>>30,rn=P[5]<<30|P[4]>>>2,nn=P[4]<<30|P[5]>>>2,$r=P[14]<<6|P[15]>>>26,Fr=P[15]<<6|P[14]>>>26,_e=P[25]<<11|P[24]>>>21,Re=P[24]<<11|P[25]>>>21,ju=P[34]<<15|P[35]>>>17,en=P[35]<<15|P[34]>>>17,co=P[45]<<29|P[44]>>>3,Nr=P[44]<<29|P[45]>>>3,Xe=P[6]<<28|P[7]>>>4,lt=P[7]<<28|P[6]>>>4,qu=P[17]<<23|P[16]>>>9,Hr=P[16]<<23|P[17]>>>9,$u=P[26]<<25|P[27]>>>7,Jr=P[27]<<25|P[26]>>>7,Pe=P[36]<<21|P[37]>>>11,ue=P[37]<<21|P[36]>>>11,tn=P[47]<<24|P[46]>>>8,Wu=P[46]<<24|P[47]>>>8,Bu=P[8]<<27|P[9]>>>5,Qr=P[9]<<27|P[8]>>>5,Kr=P[18]<<20|P[19]>>>12,At=P[19]<<20|P[18]>>>12,sn=P[29]<<7|P[28]>>>25,Bl=P[28]<<7|P[29]>>>25,Yr=P[38]<<8|P[39]>>>24,Fu=P[39]<<8|P[38]>>>24,be=P[48]<<14|P[49]>>>18,ze=P[49]<<14|P[48]>>>18,P[0]=Ue^~ee&_e,P[1]=Z^~ge&Re,P[10]=Xe^~Kr&jt,P[11]=lt^~At&zs,P[20]=Vr^~$r&$u,P[21]=Lu^~Fr&Jr,P[30]=Bu^~Or&Dr,P[31]=Qr^~Hu&Zr,P[40]=rn^~qu&sn,P[41]=nn^~Hr&Bl,P[2]=ee^~_e&Pe,P[3]=ge^~Re&ue,P[12]=Kr^~jt&It,P[13]=At^~zs&Mt,P[22]=$r^~$u&Yr,P[23]=Fr^~Jr&Fu,P[32]=Or^~Dr&ju,P[33]=Hu^~Zr&en,P[42]=qu^~sn&Hl,P[43]=Hr^~Bl&jl,P[4]=_e^~Pe&be,P[5]=Re^~ue&ze,P[14]=jt^~It&co,P[15]=zs^~Mt&Nr,P[24]=$u^~Yr&Br,P[25]=Jr^~Fu&Xr,P[34]=Dr^~ju&tn,P[35]=Zr^~en&Wu,P[44]=sn^~Hl&Wl,P[45]=Bl^~jl&ql,P[6]=Pe^~be&Ue,P[7]=ue^~ze&Z,P[16]=It^~co&Xe,P[17]=Mt^~Nr&lt,P[26]=Yr^~Br&Vr,P[27]=Fu^~Xr&Lu,P[36]=ju^~tn&Bu,P[37]=en^~Wu&Qr,P[46]=Hl^~Wl&rn,P[47]=jl^~ql&nn,P[8]=be^~Ue&ee,P[9]=ze^~Z&ge,P[18]=co^~Xe&Kr,P[19]=Nr^~lt&At,P[28]=Br^~Vr&$r,P[29]=Xr^~Lu&Fr,P[38]=tn^~Bu&Or,P[39]=Wu^~Qr&Hu,P[48]=Wl^~rn&qu,P[49]=ql^~nn&Hr,P[0]^=m[te],P[1]^=m[te+1]};if(a)t.exports=y;else for(E=0;E<w.length;++E)i[w[E]]=y[w[E]]})()})(ES)),ES.exports}var LNe=UNe();const km=Ws(LNe);function xr(t){return"0x"+km.keccak_256(Ce(t))}const $Ne="rlp/5.8.0",au=new he($Ne);function XU(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function QU(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function Qz(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(Qz(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=XU(n.length);return i.unshift(247+i.length),i.concat(n)}t2(t)||au.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Ce(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=XU(e.length);return r.unshift(183+r.length),r.concat(e)}function pm(t){return Oe(Qz(t))}function ZU(t,e,r,n){const i=[];for(;r<e+1+n;){const s=Zz(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&au.throwError("child data too short",he.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function Zz(t,e){if(t.length===0&&au.throwError("data too short",he.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&au.throwError("data short segment too short",he.errors.BUFFER_OVERRUN,{});const n=QU(t,e+1,r);return e+1+r+n>t.length&&au.throwError("data long segment too short",he.errors.BUFFER_OVERRUN,{}),ZU(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&au.throwError("data array too short",he.errors.BUFFER_OVERRUN,{}),ZU(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&au.throwError("data array too short",he.errors.BUFFER_OVERRUN,{});const n=QU(t,e+1,r);e+1+r+n>t.length&&au.throwError("data array too short",he.errors.BUFFER_OVERRUN,{});const i=Oe(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&au.throwError("data too short",he.errors.BUFFER_OVERRUN,{});const n=Oe(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:Oe(t[e])}}function m6(t){const e=Ce(t),r=Zz(e,0);return r.consumed!==e.length&&au.throwArgumentError("invalid rlp data","data",t),r.result}const FNe="address/5.8.0",Og=new he(FNe);function e9(t){Gt(t,20)||Og.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Ce(xr(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const BNe=9007199254740991;function HNe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const y6={};for(let t=0;t<10;t++)y6[String(t)]=String(t);for(let t=0;t<26;t++)y6[String.fromCharCode(65+t)]=String(10+t);const t9=Math.floor(HNe(BNe));function jNe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>y6[n]).join("");for(;e.length>=t9;){let n=e.substring(0,t9);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function Pr(t){let e=null;if(typeof t!="string"&&Og.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=e9(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Og.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==jNe(t)&&Og.throwArgumentError("bad icap checksum","address",t),e=ANe(t.substring(4));e.length<40;)e="0"+e;e=e9("0x"+e)}else Og.throwArgumentError("invalid address","address",t);return e}function eG(t){let e=null;try{e=Pr(t.from)}catch{Og.throwArgumentError("missing from address","transaction",t)}const r=jf(Ce(Fe.from(t.nonce).toHexString()));return Pr(li(xr(pm([e,r])),12))}let WNe=class extends rd{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Pr(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Pr(Gr(e.readValue().toHexString(),20))}},qNe=class extends rd{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}};const Dg=new he(F1);function tG(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||Dg.throwError("cannot encode object for signature with missing names",he.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&Dg.throwError("cannot encode object for signature with duplicate names",he.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else Dg.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&Dg.throwArgumentError("types/value length mismatch","tuple",r);let i=new K3(t.wordSize),s=new K3(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let h=i.writeUpdatableValue();o.push(g=>{h(g+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function rG(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===he.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===he.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}let zNe=class extends rd{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),Dg.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return tG(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&Dg.throwError("insufficient data length",he.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new qNe(this.coder));return e.coerce(this.name,rG(e,n))}},GNe=class extends rd{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}},nG=class extends rd{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Ce(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}},KNe=class extends nG{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Oe(super.decode(e)))}},VNe=class extends rd{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Ce(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Oe(e.readBytes(this.size)))}},JNe=class extends rd{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}};const YNe="0x0000000000000000000000000000000000000000",iG=Fe.from(-1),_6=Fe.from(0),sG=Fe.from(1),b6=Fe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff"),XNe="0x0000000000000000000000000000000000000000000000000000000000000000";let QNe=class extends rd{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Fe.from(r),i=b6.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(sG).mul(iG)))&&this._throwError("value out-of-bounds",r)}else(n.lt(_6)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}};const ZNe="strings/5.8.0",oG=new he(ZNe);var Qf;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Qf||(Qf={}));var na;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(na||(na={}));function eSe(t,e,r,n,i){return oG.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function aG(t,e,r,n,i){if(t===na.BAD_PREFIX||t===na.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===na.OVERRUN?r.length-e-1:0}function tSe(t,e,r,n,i){return t===na.OVERLONG?(n.push(i),0):(n.push(65533),aG(t,e,r))}const rSe=Object.freeze({error:eSe,ignore:aG,replace:tSe});function cG(t,e){e==null&&(e=rSe.error),t=Ce(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(na.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(na.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(na.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(na.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(na.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(na.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(na.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Gn(t,e=Qf.current){e!=Qf.current&&(oG.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Ce(r)}function nSe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function Mm(t,e){return nSe(cG(t,e))}function iSe(t,e=Qf.current){return cG(Gn(t,e))}let sSe=class extends nG{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Gn(r))}decode(e){return Mm(super.decode(e))}},_v=class extends rd{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return tG(e,this.coders,r)}decode(e){return e.coerce(this.name,rG(e,this.coders))}};const bv=new he(F1),oSe=new RegExp(/^bytes([0-9]*)$/),aSe=new RegExp(/^(u?int)([0-9]*)$/);let cSe=class{constructor(e){Ae(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new WNe(e.name);case"bool":return new GNe(e.name);case"string":return new sSe(e.name);case"bytes":return new KNe(e.name);case"array":return new zNe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new _v((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new JNe(e.name)}let r=e.type.match(aSe);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&bv.throwArgumentError("invalid "+r[1]+" bit length","param",e),new QNe(n/8,r[1]==="int",e.name)}if(r=e.type.match(oSe),r){let n=parseInt(r[1]);return(n===0||n>32)&&bv.throwArgumentError("invalid bytes length","param",e),new VNe(n,e.name)}return bv.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new MNe(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new K3(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(Cu.from(i)));return new _v(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&bv.throwError("types/values length mismatch",he.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(Cu.from(o))),i=new _v(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(Cu.from(o)));return new _v(i,"_").decode(this._getReader(Ce(r),n))}};const lSe=new cSe;function wl(t){return xr(Gn(t))}const lG="hash/5.8.0";function uG(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Ce(e)}function fG(t){t=Ce(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function dG(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function uSe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function fSe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let M=1;M<n;M++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,h=Math.pow(2,f),g=h>>>1,_=g>>1,m=h-1;let b=0;for(let M=0;M<f;M++)b=b<<1|u();let A=[],N=0,R=h;for(;;){let M=Math.floor(((b-N+1)*i-1)/R),D=0,H=n;for(;H-D>1;){let $=D+H>>>1;M<s[$]?H=$:D=$}if(D==0)break;A.push(D);let S=N+Math.floor(R*s[D]/i),C=N+Math.floor(R*s[D+1]/i)-1;for(;((S^C)&g)==0;)b=b<<1&m|u(),S=S<<1&m,C=C<<1&m|1;for(;S&~C&_;)b=b&g|b<<1&m>>>1|u(),S=S<<1^g,C=(C^g)<<1|g|1;N=S,R=1+C-S}let k=n-4;return A.map(M=>{switch(M-k){case 3:return k+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return k+256+(t[a++]<<8|t[a++]);case 1:return k+t[a++];default:return M-1}})}function dSe(t){let e=0;return()=>t[e++]}function hSe(t){return dSe(fSe(t))}function pSe(t){return t&1?~t>>1:t>>1}function gSe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function r9(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function mSe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=pSe(e());return r}function BA(t,e){let r=r9(t(),t),n=t(),i=r9(n,t),s=gSe(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function ySe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(bSe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(wSe(r,t))}return uSe(dG(e))}function _Se(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function hG(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)mSe(t,r).forEach((s,o)=>n[o].push(s));return n}function bSe(t,e){let r=1+e(),n=e(),i=_Se(e),s=hG(i.length,1+t,e);return dG(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let h=f*n;return[c+f*r,l.map(g=>g+h)]})}))}function wSe(t,e){let r=1+e();return hG(r,1+t,e).map(i=>[i[0],i.slice(1)])}function vSe(t){let e=BA(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=BA(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function ESe(){return hSe(uG("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const n2=ESe(),ASe=new Set(BA(n2)),xSe=new Set(BA(n2)),CSe=ySe(n2),NSe=vSe(n2),n9=45,i9=95;function pG(t){return iSe(t)}function SSe(t){return t.filter(e=>e!=65039)}function gG(t){for(let e of t.split(".")){let r=pG(e);try{for(let n=r.lastIndexOf(i9)-1;n>=0;n--)if(r[n]!==i9)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===n9&&r[3]===n9)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function TSe(t){return gG(ISe(t,SSe))}function ISe(t,e){let r=pG(t).reverse(),n=[];for(;r.length;){let i=PSe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(ASe.has(s)){n.push(s);continue}if(xSe.has(s))continue;let o=CSe[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return gG(RSe(String.fromCodePoint(...n)))}function RSe(t){return t.normalize("NFC")}function PSe(t,e){var r;let n=NSe,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const OSe=new he(lG),mG=new Uint8Array(32);mG.fill(0);function s9(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function yG(t){const e=Gn(TSe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(s9(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(s9(e.slice(n))),r}function sE(t){typeof t!="string"&&OSe.throwArgumentError("invalid ENS name; not a string","name",t);let e=mG;const r=yG(t);for(;r.length;)e=xr(Cr([e,xr(r.pop())]));return Oe(e)}function DSe(t){return Oe(Cr(yG(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const kSe=`Ethereum Signed Message:
`;function _G(t){return typeof t=="string"&&(t=Gn(t)),xr(Cr([Gn(kSe),Gn(String(t.length)),t]))}var MSe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const kn=new he(lG),bG=new Uint8Array(32);bG.fill(0);const USe=Fe.from(-1),wG=Fe.from(0),vG=Fe.from(1),LSe=Fe.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function $Se(t){const e=Ce(t),r=e.length%32;return r?no([e,bG.slice(r)]):Oe(e)}const FSe=Gr(vG.toHexString(),32),BSe=Gr(wG.toHexString(),32),o9={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},AS=["name","version","chainId","verifyingContract","salt"];function a9(t){return function(e){return typeof e!="string"&&kn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const HSe={name:a9("name"),version:a9("version"),chainId:function(t){try{return Fe.from(t).toString()}catch{}return kn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return Pr(t).toLowerCase()}catch{}return kn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Ce(t);if(e.length!==32)throw new Error("bad length");return Oe(e)}catch{}return kn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function xS(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&kn.throwArgumentError("invalid numeric width","type",t);const i=LSe.mask(r?n-1:n),s=r?i.add(vG).mul(USe):wG;return function(o){const a=Fe.from(o);return(a.lt(s)||a.gt(i))&&kn.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),Gr(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&kn.throwArgumentError("invalid bytes width","type",t),function(n){return Ce(n).length!==r&&kn.throwArgumentError(`invalid length for ${t}`,"value",n),$Se(n)}}}switch(t){case"address":return function(e){return Gr(Pr(e),32)};case"bool":return function(e){return e?FSe:BSe};case"bytes":return function(e){return xr(e)};case"string":return function(e){return wl(e)}}return null}function c9(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}let Gb=class Hc{constructor(e){Ae(this,"types",Object.freeze(Xf(e))),Ae(this,"_encoderCache",{}),Ae(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&kn.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&kn.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!xS(u)&&(n[u]||kn.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?kn.throwArgumentError("missing primary type","types",e):s.length>1&&kn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),Ae(this,"primaryType",s[0]);function o(a,c){c[a]&&kn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=c9(a,e[a])+c.map(l=>c9(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=xS(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&kn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(xr)),xr(no(c))}}const n=this.types[e];if(n){const i=wl(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?xr(l):l});return o.unshift(i),no(o)}}return kn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||kn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return xr(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(xS(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&kn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):kn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Hc(e)}static getPrimaryType(e){return Hc.from(e).primaryType}static hashStruct(e,r,n){return Hc.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=o9[n];i||kn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>AS.indexOf(n.name)-AS.indexOf(i.name)),Hc.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return no(["0x1901",Hc.hashDomain(e),Hc.from(r).hash(n)])}static hash(e,r,n){return xr(Hc.encode(e,r,n))}static resolveNames(e,r,n,i){return MSe(this,void 0,void 0,function*(){e=Ui(e);const s={};e.verifyingContract&&!Gt(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Hc.from(r);o.visit(n,(a,c)=>(a==="address"&&!Gt(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Hc.hashDomain(e);const i={},s=[];AS.forEach(c=>{const l=e[c];l!=null&&(i[c]=HSe[c](l),s.push({name:c,type:o9[c]}))});const o=Hc.from(r),a=Ui(r);return a.EIP712Domain?kn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return Oe(Ce(l));if(c.match(/^u?int/))return Fe.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&kn.throwArgumentError("invalid string","value",l),l}return kn.throwArgumentError("unsupported type","type",c)})}}};const Pn=new he(F1);let jSe=class extends ba{},WSe=class extends ba{},qSe=class extends ba{},J3=class extends ba{static isIndexed(e){return!!(e&&e._isIndexed)}};const zSe={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function l9(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}let u9=class{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,Ae(this,"fragments",r.map(n=>r2.from(n)).filter(n=>n!=null)),Ae(this,"_abiCoder",Lo(new.target,"getAbiCoder")()),Ae(this,"functions",{}),Ae(this,"errors",{}),Ae(this,"events",{}),Ae(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){Pn.warn("duplicate definition - constructor");return}Ae(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){Pn.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||Ae(this,"deploy",$A.from({payable:!1,type:"constructor"})),Ae(this,"_isInterface",!0)}format(e){e||(e=br.full),e===br.sighash&&Pn.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===br.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return lSe}static getAddress(e){return Pr(e)}static getSighash(e){return li(wl(e.format()),0,4)}static getEventTopic(e){return wl(e.format())}getFunction(e){if(Gt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];Pn.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?Pn.throwArgumentError("no matching function","name",n):i.length>1&&Pn.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[FA.fromString(e).format()];return r||Pn.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Gt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];Pn.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?Pn.throwArgumentError("no matching event","name",n):i.length>1&&Pn.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[G3.fromString(e).format()];return r||Pn.throwArgumentError("no matching event","signature",e),r}getError(e){if(Gt(e)){const n=Lo(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}Pn.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?Pn.throwArgumentError("no matching error","name",n):i.length>1&&Pn.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[FA.fromString(e).format()];return r||Pn.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Lo(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Lo(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Ce(r);return Oe(n.slice(0,4))!==this.getSighash(e)&&Pn.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Oe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Oe(Cr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Ce(r);return Oe(n.slice(0,4))!==this.getSighash(e)&&Pn.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Oe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Oe(Cr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Ce(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=Oe(n.slice(0,4)),u=zSe[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return Pn.throwError("call revert exception"+s,he.errors.CALL_EXCEPTION,{method:e.format(),data:Oe(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Oe(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&Pn.throwError("too many arguments for "+e.format(),he.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?wl(o):s.type==="bytes"?xr(Oe(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Fe.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Gr(Oe(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&Pn.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?Pn.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&Pn.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(wl(c));else if(o.type==="bytes")n.push(xr(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!Gt(n[0],32)||n[0].toLowerCase()!==h)&&Pn.throwError("fragment/topic mismatch",he.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((h,g)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(Cu.fromObject({type:"bytes32",name:h.name})),o.push(!0)):(i.push(h),o.push(!1)):(s.push(h),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Cr(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((h,g)=>{if(h.indexed)if(a==null)l[g]=new J3({_isIndexed:!0,hash:null});else if(o[g])l[g]=new J3({_isIndexed:!0,hash:a[f++]});else try{l[g]=a[f++]}catch(_){l[g]=_}else try{l[g]=c[u++]}catch(_){l[g]=_}if(h.name&&l[h.name]==null){const _=l[g];_ instanceof Error?Object.defineProperty(l,h.name,{enumerable:!0,get:()=>{throw l9(`property ${JSON.stringify(h.name)}`,_)}}):l[h.name]=_}});for(let h=0;h<l.length;h++){const g=l[h];g instanceof Error&&Object.defineProperty(l,h,{enumerable:!0,get:()=>{throw l9(`index ${h}`,g)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new WSe({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Fe.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new jSe({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Oe(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new qSe({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}};const GSe="abstract-provider/5.8.0";var KSe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const VSe=new he(GSe);class JSe extends ba{static isForkEvent(e){return!!(e&&e._isForkEvent)}}class B1{constructor(){VSe.checkAbstract(new.target,B1),Ae(this,"_isProvider",!0)}getFeeData(){return KSe(this,void 0,void 0,function*(){const{block:e,gasPrice:r}=yield Qn({block:this.getBlock("latest"),gasPrice:this.getGasPrice().catch(o=>null)});let n=null,i=null,s=null;return e&&e.baseFeePerGas&&(n=e.baseFeePerGas,s=Fe.from("1500000000"),i=e.baseFeePerGas.mul(2).add(s)),{lastBaseFeePerGas:n,maxFeePerGas:i,maxPriorityFeePerGas:s,gasPrice:r}})}addListener(e,r){return this.on(e,r)}removeListener(e,r){return this.off(e,r)}static isProvider(e){return!!(e&&e._isProvider)}}const YSe="abstract-signer/5.8.0";var Mc=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const qa=new he(YSe),XSe=["accessList","ccipReadEnabled","chainId","customData","data","from","gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","nonce","to","type","value"],QSe=[he.errors.INSUFFICIENT_FUNDS,he.errors.NONCE_EXPIRED,he.errors.REPLACEMENT_UNDERPRICED];class Um{constructor(){qa.checkAbstract(new.target,Um),Ae(this,"_isSigner",!0)}getBalance(e){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getBalance"),yield this.provider.getBalance(this.getAddress(),e)})}getTransactionCount(e){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getTransactionCount"),yield this.provider.getTransactionCount(this.getAddress(),e)})}estimateGas(e){return Mc(this,void 0,void 0,function*(){this._checkProvider("estimateGas");const r=yield Qn(this.checkTransaction(e));return yield this.provider.estimateGas(r)})}call(e,r){return Mc(this,void 0,void 0,function*(){this._checkProvider("call");const n=yield Qn(this.checkTransaction(e));return yield this.provider.call(n,r)})}sendTransaction(e){return Mc(this,void 0,void 0,function*(){this._checkProvider("sendTransaction");const r=yield this.populateTransaction(e),n=yield this.signTransaction(r);return yield this.provider.sendTransaction(n)})}getChainId(){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getChainId"),(yield this.provider.getNetwork()).chainId})}getGasPrice(){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getGasPrice"),yield this.provider.getGasPrice()})}getFeeData(){return Mc(this,void 0,void 0,function*(){return this._checkProvider("getFeeData"),yield this.provider.getFeeData()})}resolveName(e){return Mc(this,void 0,void 0,function*(){return this._checkProvider("resolveName"),yield this.provider.resolveName(e)})}checkTransaction(e){for(const n in e)XSe.indexOf(n)===-1&&qa.throwArgumentError("invalid transaction key: "+n,"transaction",e);const r=Ui(e);return r.from==null?r.from=this.getAddress():r.from=Promise.all([Promise.resolve(r.from),this.getAddress()]).then(n=>(n[0].toLowerCase()!==n[1].toLowerCase()&&qa.throwArgumentError("from address mismatch","transaction",e),n[0])),r}populateTransaction(e){return Mc(this,void 0,void 0,function*(){const r=yield Qn(this.checkTransaction(e));r.to!=null&&(r.to=Promise.resolve(r.to).then(i=>Mc(this,void 0,void 0,function*(){if(i==null)return null;const s=yield this.resolveName(i);return s==null&&qa.throwArgumentError("provided ENS name resolves to null","tx.to",i),s})),r.to.catch(i=>{}));const n=r.maxFeePerGas!=null||r.maxPriorityFeePerGas!=null;if(r.gasPrice!=null&&(r.type===2||n)?qa.throwArgumentError("eip-1559 transaction do not support gasPrice","transaction",e):(r.type===0||r.type===1)&&n&&qa.throwArgumentError("pre-eip-1559 transaction do not support maxFeePerGas/maxPriorityFeePerGas","transaction",e),(r.type===2||r.type==null)&&r.maxFeePerGas!=null&&r.maxPriorityFeePerGas!=null)r.type=2;else if(r.type===0||r.type===1)r.gasPrice==null&&(r.gasPrice=this.getGasPrice());else{const i=yield this.getFeeData();if(r.type==null)if(i.maxFeePerGas!=null&&i.maxPriorityFeePerGas!=null)if(r.type=2,r.gasPrice!=null){const s=r.gasPrice;delete r.gasPrice,r.maxFeePerGas=s,r.maxPriorityFeePerGas=s}else r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas);else i.gasPrice!=null?(n&&qa.throwError("network does not support EIP-1559",he.errors.UNSUPPORTED_OPERATION,{operation:"populateTransaction"}),r.gasPrice==null&&(r.gasPrice=i.gasPrice),r.type=0):qa.throwError("failed to get consistent fee data",he.errors.UNSUPPORTED_OPERATION,{operation:"signer.getFeeData"});else r.type===2&&(r.maxFeePerGas==null&&(r.maxFeePerGas=i.maxFeePerGas),r.maxPriorityFeePerGas==null&&(r.maxPriorityFeePerGas=i.maxPriorityFeePerGas))}return r.nonce==null&&(r.nonce=this.getTransactionCount("pending")),r.gasLimit==null&&(r.gasLimit=this.estimateGas(r).catch(i=>{if(QSe.indexOf(i.code)>=0)throw i;return qa.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",he.errors.UNPREDICTABLE_GAS_LIMIT,{error:i,tx:r})})),r.chainId==null?r.chainId=this.getChainId():r.chainId=Promise.all([Promise.resolve(r.chainId),this.getChainId()]).then(i=>(i[1]!==0&&i[0]!==i[1]&&qa.throwArgumentError("chainId address mismatch","transaction",e),i[0])),yield Qn(r)})}_checkProvider(e){this.provider||qa.throwError("missing provider",he.errors.UNSUPPORTED_OPERATION,{operation:e||"_checkProvider"})}static isSigner(e){return!!(e&&e._isSigner)}}class w6 extends Um{constructor(e,r){super(),Ae(this,"address",e),Ae(this,"provider",r||null)}getAddress(){return Promise.resolve(this.address)}_fail(e,r){return Promise.resolve().then(()=>{qa.throwError(e,he.errors.UNSUPPORTED_OPERATION,{operation:r})})}signMessage(e){return this._fail("VoidSigner cannot sign messages","signMessage")}signTransaction(e){return this._fail("VoidSigner cannot sign transactions","signTransaction")}_signTypedData(e,r,n){return this._fail("VoidSigner cannot sign typed data","signTypedData")}connect(e){return new w6(this.address,e)}}var CS={},Wr={},NS,f9;function H1(){if(f9)return NS;f9=1,NS=t;function t(e,r){if(!e)throw new Error(r||"Assertion failed")}return t.equal=function(r,n,i){if(r!=n)throw new Error(i||"Assertion failed: "+r+" != "+n)},NS}var wv={exports:{}},d9;function ZSe(){return d9||(d9=1,typeof Object.create=="function"?wv.exports=function(e,r){r&&(e.super_=r,e.prototype=Object.create(r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:wv.exports=function(e,r){if(r){e.super_=r;var n=function(){};n.prototype=r.prototype,e.prototype=new n,e.prototype.constructor=e}}),wv.exports}var h9;function ku(){if(h9)return Wr;h9=1;var t=H1(),e=ZSe();Wr.inherits=e;function r(O,T){return(O.charCodeAt(T)&64512)!==55296||T<0||T+1>=O.length?!1:(O.charCodeAt(T+1)&64512)===56320}function n(O,T){if(Array.isArray(O))return O.slice();if(!O)return[];var y=[];if(typeof O=="string")if(T){if(T==="hex")for(O=O.replace(/[^a-z0-9]+/ig,""),O.length%2!==0&&(O="0"+O),E=0;E<O.length;E+=2)y.push(parseInt(O[E]+O[E+1],16))}else for(var w=0,E=0;E<O.length;E++){var I=O.charCodeAt(E);I<128?y[w++]=I:I<2048?(y[w++]=I>>6|192,y[w++]=I&63|128):r(O,E)?(I=65536+((I&1023)<<10)+(O.charCodeAt(++E)&1023),y[w++]=I>>18|240,y[w++]=I>>12&63|128,y[w++]=I>>6&63|128,y[w++]=I&63|128):(y[w++]=I>>12|224,y[w++]=I>>6&63|128,y[w++]=I&63|128)}else for(E=0;E<O.length;E++)y[E]=O[E]|0;return y}Wr.toArray=n;function i(O){for(var T="",y=0;y<O.length;y++)T+=a(O[y].toString(16));return T}Wr.toHex=i;function s(O){var T=O>>>24|O>>>8&65280|O<<8&16711680|(O&255)<<24;return T>>>0}Wr.htonl=s;function o(O,T){for(var y="",w=0;w<O.length;w++){var E=O[w];T==="little"&&(E=s(E)),y+=c(E.toString(16))}return y}Wr.toHex32=o;function a(O){return O.length===1?"0"+O:O}Wr.zero2=a;function c(O){return O.length===7?"0"+O:O.length===6?"00"+O:O.length===5?"000"+O:O.length===4?"0000"+O:O.length===3?"00000"+O:O.length===2?"000000"+O:O.length===1?"0000000"+O:O}Wr.zero8=c;function l(O,T,y,w){var E=y-T;t(E%4===0);for(var I=new Array(E/4),U=0,j=T;U<I.length;U++,j+=4){var z;w==="big"?z=O[j]<<24|O[j+1]<<16|O[j+2]<<8|O[j+3]:z=O[j+3]<<24|O[j+2]<<16|O[j+1]<<8|O[j],I[U]=z>>>0}return I}Wr.join32=l;function u(O,T){for(var y=new Array(O.length*4),w=0,E=0;w<O.length;w++,E+=4){var I=O[w];T==="big"?(y[E]=I>>>24,y[E+1]=I>>>16&255,y[E+2]=I>>>8&255,y[E+3]=I&255):(y[E+3]=I>>>24,y[E+2]=I>>>16&255,y[E+1]=I>>>8&255,y[E]=I&255)}return y}Wr.split32=u;function f(O,T){return O>>>T|O<<32-T}Wr.rotr32=f;function h(O,T){return O<<T|O>>>32-T}Wr.rotl32=h;function g(O,T){return O+T>>>0}Wr.sum32=g;function _(O,T,y){return O+T+y>>>0}Wr.sum32_3=_;function m(O,T,y,w){return O+T+y+w>>>0}Wr.sum32_4=m;function b(O,T,y,w,E){return O+T+y+w+E>>>0}Wr.sum32_5=b;function A(O,T,y,w){var E=O[T],I=O[T+1],U=w+I>>>0,j=(U<w?1:0)+y+E;O[T]=j>>>0,O[T+1]=U}Wr.sum64=A;function N(O,T,y,w){var E=T+w>>>0,I=(E<T?1:0)+O+y;return I>>>0}Wr.sum64_hi=N;function R(O,T,y,w){var E=T+w;return E>>>0}Wr.sum64_lo=R;function k(O,T,y,w,E,I,U,j){var z=0,L=T;L=L+w>>>0,z+=L<T?1:0,L=L+I>>>0,z+=L<I?1:0,L=L+j>>>0,z+=L<j?1:0;var x=O+y+E+U+z;return x>>>0}Wr.sum64_4_hi=k;function M(O,T,y,w,E,I,U,j){var z=T+w+I+j;return z>>>0}Wr.sum64_4_lo=M;function D(O,T,y,w,E,I,U,j,z,L){var x=0,W=T;W=W+w>>>0,x+=W<T?1:0,W=W+I>>>0,x+=W<I?1:0,W=W+j>>>0,x+=W<j?1:0,W=W+L>>>0,x+=W<L?1:0;var K=O+y+E+U+z+x;return K>>>0}Wr.sum64_5_hi=D;function H(O,T,y,w,E,I,U,j,z,L){var x=T+w+I+j+L;return x>>>0}Wr.sum64_5_lo=H;function S(O,T,y){var w=T<<32-y|O>>>y;return w>>>0}Wr.rotr64_hi=S;function C(O,T,y){var w=O<<32-y|T>>>y;return w>>>0}Wr.rotr64_lo=C;function $(O,T,y){return O>>>y}Wr.shr64_hi=$;function B(O,T,y){var w=O<<32-y|T>>>y;return w>>>0}return Wr.shr64_lo=B,Wr}var SS={},p9;function j1(){if(p9)return SS;p9=1;var t=ku(),e=H1();function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}return SS.BlockHash=r,r.prototype.update=function(i,s){if(i=t.toArray(i,s),this.pending?this.pending=this.pending.concat(i):this.pending=i,this.pendingTotal+=i.length,this.pending.length>=this._delta8){i=this.pending;var o=i.length%this._delta8;this.pending=i.slice(i.length-o,i.length),this.pending.length===0&&(this.pending=null),i=t.join32(i,0,i.length-o,this.endian);for(var a=0;a<i.length;a+=this._delta32)this._update(i,a,a+this._delta32)}return this},r.prototype.digest=function(i){return this.update(this._pad()),e(this.pending===null),this._digest(i)},r.prototype._pad=function(){var i=this.pendingTotal,s=this._delta8,o=s-(i+this.padLength)%s,a=new Array(o+this.padLength);a[0]=128;for(var c=1;c<o;c++)a[c]=0;if(i<<=3,this.endian==="big"){for(var l=8;l<this.padLength;l++)a[c++]=0;a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=i>>>24&255,a[c++]=i>>>16&255,a[c++]=i>>>8&255,a[c++]=i&255}else for(a[c++]=i&255,a[c++]=i>>>8&255,a[c++]=i>>>16&255,a[c++]=i>>>24&255,a[c++]=0,a[c++]=0,a[c++]=0,a[c++]=0,l=8;l<this.padLength;l++)a[c++]=0;return a},SS}var Zh={},eu={},g9;function EG(){if(g9)return eu;g9=1;var t=ku(),e=t.rotr32;function r(u,f,h,g){if(u===0)return n(f,h,g);if(u===1||u===3)return s(f,h,g);if(u===2)return i(f,h,g)}eu.ft_1=r;function n(u,f,h){return u&f^~u&h}eu.ch32=n;function i(u,f,h){return u&f^u&h^f&h}eu.maj32=i;function s(u,f,h){return u^f^h}eu.p32=s;function o(u){return e(u,2)^e(u,13)^e(u,22)}eu.s0_256=o;function a(u){return e(u,6)^e(u,11)^e(u,25)}eu.s1_256=a;function c(u){return e(u,7)^e(u,18)^u>>>3}eu.g0_256=c;function l(u){return e(u,17)^e(u,19)^u>>>10}return eu.g1_256=l,eu}var TS,m9;function eTe(){if(m9)return TS;m9=1;var t=ku(),e=j1(),r=EG(),n=t.rotl32,i=t.sum32,s=t.sum32_5,o=r.ft_1,a=e.BlockHash,c=[1518500249,1859775393,2400959708,3395469782];function l(){if(!(this instanceof l))return new l;a.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}return t.inherits(l,a),TS=l,l.blockSize=512,l.outSize=160,l.hmacStrength=80,l.padLength=64,l.prototype._update=function(f,h){for(var g=this.W,_=0;_<16;_++)g[_]=f[h+_];for(;_<g.length;_++)g[_]=n(g[_-3]^g[_-8]^g[_-14]^g[_-16],1);var m=this.h[0],b=this.h[1],A=this.h[2],N=this.h[3],R=this.h[4];for(_=0;_<g.length;_++){var k=~~(_/20),M=s(n(m,5),o(k,b,A,N),R,g[_],c[k]);R=N,N=A,A=n(b,30),b=m,m=M}this.h[0]=i(this.h[0],m),this.h[1]=i(this.h[1],b),this.h[2]=i(this.h[2],A),this.h[3]=i(this.h[3],N),this.h[4]=i(this.h[4],R)},l.prototype._digest=function(f){return f==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},TS}var IS,y9;function AG(){if(y9)return IS;y9=1;var t=ku(),e=j1(),r=EG(),n=H1(),i=t.sum32,s=t.sum32_4,o=t.sum32_5,a=r.ch32,c=r.maj32,l=r.s0_256,u=r.s1_256,f=r.g0_256,h=r.g1_256,g=e.BlockHash,_=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function m(){if(!(this instanceof m))return new m;g.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=_,this.W=new Array(64)}return t.inherits(m,g),IS=m,m.blockSize=512,m.outSize=256,m.hmacStrength=192,m.padLength=64,m.prototype._update=function(A,N){for(var R=this.W,k=0;k<16;k++)R[k]=A[N+k];for(;k<R.length;k++)R[k]=s(h(R[k-2]),R[k-7],f(R[k-15]),R[k-16]);var M=this.h[0],D=this.h[1],H=this.h[2],S=this.h[3],C=this.h[4],$=this.h[5],B=this.h[6],O=this.h[7];for(n(this.k.length===R.length),k=0;k<R.length;k++){var T=o(O,u(C),a(C,$,B),this.k[k],R[k]),y=i(l(M),c(M,D,H));O=B,B=$,$=C,C=i(S,T),S=H,H=D,D=M,M=i(T,y)}this.h[0]=i(this.h[0],M),this.h[1]=i(this.h[1],D),this.h[2]=i(this.h[2],H),this.h[3]=i(this.h[3],S),this.h[4]=i(this.h[4],C),this.h[5]=i(this.h[5],$),this.h[6]=i(this.h[6],B),this.h[7]=i(this.h[7],O)},m.prototype._digest=function(A){return A==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")},IS}var RS,_9;function tTe(){if(_9)return RS;_9=1;var t=ku(),e=AG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}return t.inherits(r,e),RS=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,7),"big"):t.split32(this.h.slice(0,7),"big")},RS}var PS,b9;function xG(){if(b9)return PS;b9=1;var t=ku(),e=j1(),r=H1(),n=t.rotr64_hi,i=t.rotr64_lo,s=t.shr64_hi,o=t.shr64_lo,a=t.sum64,c=t.sum64_hi,l=t.sum64_lo,u=t.sum64_4_hi,f=t.sum64_4_lo,h=t.sum64_5_hi,g=t.sum64_5_lo,_=e.BlockHash,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function b(){if(!(this instanceof b))return new b;_.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=m,this.W=new Array(160)}t.inherits(b,_),PS=b,b.blockSize=1024,b.outSize=512,b.hmacStrength=192,b.padLength=128,b.prototype._prepareBlock=function(y,w){for(var E=this.W,I=0;I<32;I++)E[I]=y[w+I];for(;I<E.length;I+=2){var U=B(E[I-4],E[I-3]),j=O(E[I-4],E[I-3]),z=E[I-14],L=E[I-13],x=C(E[I-30],E[I-29]),W=$(E[I-30],E[I-29]),K=E[I-32],P=E[I-31];E[I]=u(U,j,z,L,x,W,K,P),E[I+1]=f(U,j,z,L,x,W,K,P)}},b.prototype._update=function(y,w){this._prepareBlock(y,w);var E=this.W,I=this.h[0],U=this.h[1],j=this.h[2],z=this.h[3],L=this.h[4],x=this.h[5],W=this.h[6],K=this.h[7],P=this.h[8],X=this.h[9],q=this.h[10],te=this.h[11],ne=this.h[12],le=this.h[13],me=this.h[14],Y=this.h[15];r(this.k.length===E.length);for(var ie=0;ie<E.length;ie+=2){var J=me,ae=Y,Ee=H(P,X),ye=S(P,X),Ie=A(P,X,q,te,ne),Ue=N(P,X,q,te,ne,le),Z=this.k[ie],ee=this.k[ie+1],ge=E[ie],_e=E[ie+1],Re=h(J,ae,Ee,ye,Ie,Ue,Z,ee,ge,_e),Pe=g(J,ae,Ee,ye,Ie,Ue,Z,ee,ge,_e);J=M(I,U),ae=D(I,U),Ee=R(I,U,j,z,L),ye=k(I,U,j,z,L,x);var ue=c(J,ae,Ee,ye),be=l(J,ae,Ee,ye);me=ne,Y=le,ne=q,le=te,q=P,te=X,P=c(W,K,Re,Pe),X=l(K,K,Re,Pe),W=L,K=x,L=j,x=z,j=I,z=U,I=c(Re,Pe,ue,be),U=l(Re,Pe,ue,be)}a(this.h,0,I,U),a(this.h,2,j,z),a(this.h,4,L,x),a(this.h,6,W,K),a(this.h,8,P,X),a(this.h,10,q,te),a(this.h,12,ne,le),a(this.h,14,me,Y)},b.prototype._digest=function(y){return y==="hex"?t.toHex32(this.h,"big"):t.split32(this.h,"big")};function A(T,y,w,E,I){var U=T&w^~T&I;return U<0&&(U+=4294967296),U}function N(T,y,w,E,I,U){var j=y&E^~y&U;return j<0&&(j+=4294967296),j}function R(T,y,w,E,I){var U=T&w^T&I^w&I;return U<0&&(U+=4294967296),U}function k(T,y,w,E,I,U){var j=y&E^y&U^E&U;return j<0&&(j+=4294967296),j}function M(T,y){var w=n(T,y,28),E=n(y,T,2),I=n(y,T,7),U=w^E^I;return U<0&&(U+=4294967296),U}function D(T,y){var w=i(T,y,28),E=i(y,T,2),I=i(y,T,7),U=w^E^I;return U<0&&(U+=4294967296),U}function H(T,y){var w=n(T,y,14),E=n(T,y,18),I=n(y,T,9),U=w^E^I;return U<0&&(U+=4294967296),U}function S(T,y){var w=i(T,y,14),E=i(T,y,18),I=i(y,T,9),U=w^E^I;return U<0&&(U+=4294967296),U}function C(T,y){var w=n(T,y,1),E=n(T,y,8),I=s(T,y,7),U=w^E^I;return U<0&&(U+=4294967296),U}function $(T,y){var w=i(T,y,1),E=i(T,y,8),I=o(T,y,7),U=w^E^I;return U<0&&(U+=4294967296),U}function B(T,y){var w=n(T,y,19),E=n(y,T,29),I=s(T,y,6),U=w^E^I;return U<0&&(U+=4294967296),U}function O(T,y){var w=i(T,y,19),E=i(y,T,29),I=o(T,y,6),U=w^E^I;return U<0&&(U+=4294967296),U}return PS}var OS,w9;function rTe(){if(w9)return OS;w9=1;var t=ku(),e=xG();function r(){if(!(this instanceof r))return new r;e.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}return t.inherits(r,e),OS=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(i){return i==="hex"?t.toHex32(this.h.slice(0,12),"big"):t.split32(this.h.slice(0,12),"big")},OS}var v9;function nTe(){return v9||(v9=1,Zh.sha1=eTe(),Zh.sha224=tTe(),Zh.sha256=AG(),Zh.sha384=rTe(),Zh.sha512=xG()),Zh}var DS={},E9;function iTe(){if(E9)return DS;E9=1;var t=ku(),e=j1(),r=t.rotl32,n=t.sum32,i=t.sum32_3,s=t.sum32_4,o=e.BlockHash;function a(){if(!(this instanceof a))return new a;o.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}t.inherits(a,o),DS.ripemd160=a,a.blockSize=512,a.outSize=160,a.hmacStrength=192,a.padLength=64,a.prototype._update=function(b,A){for(var N=this.h[0],R=this.h[1],k=this.h[2],M=this.h[3],D=this.h[4],H=N,S=R,C=k,$=M,B=D,O=0;O<80;O++){var T=n(r(s(N,c(O,R,k,M),b[f[O]+A],l(O)),g[O]),D);N=D,D=M,M=r(k,10),k=R,R=T,T=n(r(s(H,c(79-O,S,C,$),b[h[O]+A],u(O)),_[O]),B),H=B,B=$,$=r(C,10),C=S,S=T}T=i(this.h[1],k,$),this.h[1]=i(this.h[2],M,B),this.h[2]=i(this.h[3],D,H),this.h[3]=i(this.h[4],N,S),this.h[4]=i(this.h[0],R,C),this.h[0]=T},a.prototype._digest=function(b){return b==="hex"?t.toHex32(this.h,"little"):t.split32(this.h,"little")};function c(m,b,A,N){return m<=15?b^A^N:m<=31?b&A|~b&N:m<=47?(b|~A)^N:m<=63?b&N|A&~N:b^(A|~N)}function l(m){return m<=15?0:m<=31?1518500249:m<=47?1859775393:m<=63?2400959708:2840853838}function u(m){return m<=15?1352829926:m<=31?1548603684:m<=47?1836072691:m<=63?2053994217:0}var f=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],h=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],g=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11];return DS}var kS,A9;function sTe(){if(A9)return kS;A9=1;var t=ku(),e=H1();function r(n,i,s){if(!(this instanceof r))return new r(n,i,s);this.Hash=n,this.blockSize=n.blockSize/8,this.outSize=n.outSize/8,this.inner=null,this.outer=null,this._init(t.toArray(i,s))}return kS=r,r.prototype._init=function(i){i.length>this.blockSize&&(i=new this.Hash().update(i).digest()),e(i.length<=this.blockSize);for(var s=i.length;s<this.blockSize;s++)i.push(0);for(s=0;s<i.length;s++)i[s]^=54;for(this.inner=new this.Hash().update(i),s=0;s<i.length;s++)i[s]^=106;this.outer=new this.Hash().update(i)},r.prototype.update=function(i,s){return this.inner.update(i,s),this},r.prototype.digest=function(i){return this.outer.update(this.inner.digest()),this.outer.digest(i)},kS}var x9;function oTe(){return x9||(x9=1,(function(t){var e=t;e.utils=ku(),e.common=j1(),e.sha=nTe(),e.ripemd=iTe(),e.hmac=sTe(),e.sha1=e.sha.sha1,e.sha256=e.sha.sha256,e.sha224=e.sha.sha224,e.sha384=e.sha.sha384,e.sha512=e.sha.sha512,e.ripemd160=e.ripemd.ripemd160})(CS)),CS}var aTe=oTe();const bt=Ws(aTe);function Lm(t,e,r){return r={path:e,exports:{},require:function(n,i){return cTe(n,i??r.path)}},t(r,r.exports),r.exports}function cTe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var v6=CG;function CG(t,e){if(!t)throw new Error(e||"Assertion failed")}CG.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var vl=Lm(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,h=u&255;f?c.push(f,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),wa=Lm(function(t,e){var r=e;r.assert=v6,r.toArray=vl.toArray,r.zero2=vl.zero2,r.toHex=vl.toHex,r.encode=vl.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<f.length;h+=1)f[h]=0;var g=1<<l+1,_=c.clone();for(h=0;h<f.length;h++){var m,b=_.andln(g-1);_.isOdd()?(b>(g>>1)-1?m=(g>>1)-b:m=b,_.isubn(m)):m=0,f[h]=m,_.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,h=0,g;c.cmpn(-f)>0||l.cmpn(-h)>0;){var _=c.andln(3)+f&3,m=l.andln(3)+h&3;_===3&&(_=-1),m===3&&(m=-1);var b;(_&1)===0?b=0:(g=c.andln(7)+f&7,(g===3||g===5)&&m===2?b=-_:b=_),u[0].push(b);var A;(m&1)===0?A=0:(g=l.andln(7)+h&7,(g===3||g===5)&&_===2?A=-m:A=m),u[1].push(A),2*f===b+1&&(f=1-f),2*h===A+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new fe(c,"hex","le")}r.intFromLE=a}),HA=wa.getNAF,lTe=wa.getJSF,jA=wa.assert;function Nh(t,e){this.type=t,this.p=new fe(e.p,16),this.red=e.prime?fe.red(e.prime):fe.mont(this.p),this.zero=new fe(0).toRed(this.red),this.one=new fe(1).toRed(this.red),this.two=new fe(2).toRed(this.red),this.n=e.n&&new fe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var lp=Nh;Nh.prototype.point=function(){throw new Error("Not implemented")};Nh.prototype.validate=function(){throw new Error("Not implemented")};Nh.prototype._fixedNafMul=function(e,r){jA(e.precomputed);var n=e._getDoubles(),i=HA(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?f=f.mixedAdd(n.points[a]):c===-h&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};Nh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=HA(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];jA(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Nh.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(e);o[u]=g.wnd,a[u]=g.points}for(u=i-1;u>=1;u-=2){var _=u-1,m=u;if(o[_]!==1||o[m]!==1){c[_]=HA(n[_],o[_],this._bitLength),c[m]=HA(n[m],o[m],this._bitLength),l=Math.max(c[_].length,l),l=Math.max(c[m].length,l);continue}var b=[r[_],null,null,r[m]];r[_].y.cmp(r[m].y)===0?(b[1]=r[_].add(r[m]),b[2]=r[_].toJ().mixedAdd(r[m].neg())):r[_].y.cmp(r[m].y.redNeg())===0?(b[1]=r[_].toJ().mixedAdd(r[m]),b[2]=r[_].add(r[m].neg())):(b[1]=r[_].toJ().mixedAdd(r[m]),b[2]=r[_].toJ().mixedAdd(r[m].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],N=lTe(n[_],n[m]);for(l=Math.max(N[0].length,l),c[_]=new Array(l),c[m]=new Array(l),f=0;f<l;f++){var R=N[0][f]|0,k=N[1][f]|0;c[_][f]=A[(R+1)*3+(k+1)],c[m][f]=0,a[_]=b}}var M=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var H=0;u>=0;){var S=!0;for(f=0;f<i;f++)D[f]=c[f][u]|0,D[f]!==0&&(S=!1);if(!S)break;H++,u--}if(u>=0&&H++,M=M.dblp(H),u<0)break;for(f=0;f<i;f++){var C=D[f];C!==0&&(C>0?h=a[f][C-1>>1]:C<0&&(h=a[f][-C-1>>1].neg()),h.type==="affine"?M=M.mixedAdd(h):M=M.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?M:M.toP()};function _c(t,e){this.curve=t,this.type=e,this.precomputed=null}Nh.BasePoint=_c;_c.prototype.eq=function(){throw new Error("Not implemented")};_c.prototype.validate=function(){return this.curve.validate(this)};Nh.prototype.decodePoint=function(e,r){e=wa.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?jA(e[e.length-1]%2===0):e[0]===7&&jA(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};_c.prototype.encodeCompressed=function(e){return this.encode(e,!0)};_c.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};_c.prototype.encode=function(e,r){return wa.encode(this._encode(r),e)};_c.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};_c.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};_c.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};_c.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};_c.prototype._getBeta=function(){return null};_c.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var E6=Lm(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),uTe=wa.assert;function bc(t){lp.call(this,"short",t),this.a=new fe(t.a,16).toRed(this.red),this.b=new fe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}E6(bc,lp);var fTe=bc;bc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new fe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new fe(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],uTe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new fe(a.a,16),b:new fe(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};bc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:fe.mont(e),n=new fe(2).toRed(r).redInvm(),i=n.redNeg(),s=new fe(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};bc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new fe(1),o=new fe(0),a=new fe(0),c=new fe(1),l,u,f,h,g,_,m,b=0,A,N;n.cmpn(0)!==0;){var R=i.div(n);A=i.sub(R.mul(n)),N=a.sub(R.mul(s));var k=c.sub(R.mul(o));if(!f&&A.cmp(r)<0)l=m.neg(),u=s,f=A.neg(),h=N;else if(f&&++b===2)break;m=A,i=n,n=A,a=s,s=N,c=o,o=k}g=A.neg(),_=N;var M=f.sqr().add(h.sqr()),D=g.sqr().add(_.sqr());return D.cmp(M)>=0&&(g=l,_=u),f.negative&&(f=f.neg(),h=h.neg()),g.negative&&(g=g.neg(),_=_.neg()),[{a:f,b:h},{a:g,b:_}]};bc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};bc.prototype.pointFromX=function(e,r){e=new fe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};bc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};bc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Ji(t,e,r,n){lp.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new fe(e,16),this.y=new fe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}E6(Ji,lp.BasePoint);bc.prototype.point=function(e,r,n){return new Ji(this,e,r,n)};bc.prototype.pointFromJSON=function(e,r){return Ji.fromJSON(this,e,r)};Ji.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Ji.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Ji.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Ji.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Ji.prototype.isInfinity=function(){return this.inf};Ji.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Ji.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Ji.prototype.getX=function(){return this.x.fromRed()};Ji.prototype.getY=function(){return this.y.fromRed()};Ji.prototype.mul=function(e){return e=new fe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Ji.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Ji.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Ji.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Ji.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Ji.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ms(t,e,r,n){lp.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fe(0)):(this.x=new fe(e,16),this.y=new fe(r,16),this.z=new fe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}E6(ms,lp.BasePoint);bc.prototype.jpoint=function(e,r,n){return new ms(this,e,r,n)};ms.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ms.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ms.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=i.redMul(u),g=l.redSqr().redIAdd(f).redISub(h).redISub(h),_=l.redMul(h.redISub(g)).redISub(o.redMul(f)),m=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,_,m)};ms.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),g=c.redMul(f.redISub(h)).redISub(s.redMul(u)),_=this.z.redMul(a);return this.curve.jpoint(h,g,_)};ms.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),h=u.redSqr(),g=h.redSqr(),_=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),m=o.redMul(h),b=_.redSqr().redISub(m.redAdd(m)),A=m.redISub(b),N=_.redMul(A);N=N.redIAdd(N).redISub(g);var R=u.redMul(c);r+1<e&&(l=l.redMul(g)),o=b,c=R,u=N}return this.curve.jpoint(o,u.redMul(s),c)};ms.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ms.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),_=this.x.redAdd(h).redSqr().redISub(f).redISub(g);_=_.redIAdd(_);var m=f.redAdd(f).redIAdd(f),b=m.redSqr(),A=g.redIAdd(g);A=A.redIAdd(A),A=A.redIAdd(A),e=b.redISub(_).redISub(_),r=m.redMul(_.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ms.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),_=this.x.redSub(f).redMul(this.x.redAdd(f));_=_.redAdd(_).redIAdd(_);var m=g.redIAdd(g);m=m.redIAdd(m);var b=m.redAdd(m);e=_.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var A=h.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),r=_.redMul(m.redISub(e)).redISub(A)}return this.curve.jpoint(e,r,n)};ms.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=c.redMul(h).redISub(g),m=n.redAdd(n).redMul(i);return this.curve.jpoint(f,_,m)};ms.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,_)};ms.prototype.mul=function(e,r){return e=new fe(e,r),this.curve._wnafMul(this,e)};ms.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ms.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ms.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ms.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var oE=Lm(function(t,e){var r=e;r.base=lp,r.short=fTe,r.mont=null,r.edwards=null}),aE=Lm(function(t,e){var r=e,n=wa.assert;function i(a){a.type==="short"?this.curve=new oE.short(a):a.type==="edwards"?this.curve=new oE.edwards(a):this.curve=new oE.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:bt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:bt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:bt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:bt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:bt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bt.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:bt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function hh(t){if(!(this instanceof hh))return new hh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=vl.toArray(t.entropy,t.entropyEnc||"hex"),r=vl.toArray(t.nonce,t.nonceEnc||"hex"),n=vl.toArray(t.pers,t.persEnc||"hex");v6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var NG=hh;hh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};hh.prototype._hmac=function(){return new bt.hmac(this.hash,this.K)};hh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};hh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=vl.toArray(e,r),n=vl.toArray(n,i),v6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};hh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=vl.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,vl.encode(o,r)};var Y3=wa.assert;function Ls(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var A6=Ls;Ls.fromPublic=function(e,r,n){return r instanceof Ls?r:new Ls(e,{pub:r,pubEnc:n})};Ls.fromPrivate=function(e,r,n){return r instanceof Ls?r:new Ls(e,{priv:r,privEnc:n})};Ls.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Ls.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Ls.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Ls.prototype._importPrivate=function(e,r){this.priv=new fe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Ls.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?Y3(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&Y3(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Ls.prototype.derive=function(e){return e.validate()||Y3(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Ls.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Ls.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Ls.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var dTe=wa.assert;function i2(t,e){if(t instanceof i2)return t;this._importDER(t,e)||(dTe(t.r&&t.s,"Signature without r or s"),this.r=new fe(t.r,16),this.s=new fe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var s2=i2;function hTe(){this.place=0}function MS(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function C9(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}i2.prototype._importDER=function(e,r){e=wa.toArray(e,r);var n=new hTe;if(e[n.place++]!==48)return!1;var i=MS(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=MS(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=MS(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new fe(o),this.s=new fe(c),this.recoveryParam=null,!0};function US(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}i2.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=C9(r),n=C9(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];US(i,r.length),i=i.concat(r),i.push(2),US(i,n.length);var s=i.concat(n),o=[48];return US(o,s.length),o=o.concat(s),wa.encode(o,e)};var pTe=(function(){throw new Error("unsupported")}),p0=wa.assert;function fc(t){if(!(this instanceof fc))return new fc(t);typeof t=="string"&&(p0(Object.prototype.hasOwnProperty.call(aE,t),"Unknown curve "+t),t=aE[t]),t instanceof aE.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var gTe=fc;fc.prototype.keyPair=function(e){return new A6(this,e)};fc.prototype.keyFromPrivate=function(e,r){return A6.fromPrivate(this,e,r)};fc.prototype.keyFromPublic=function(e,r){return A6.fromPublic(this,e,r)};fc.prototype.genKeyPair=function(e){e||(e={});for(var r=new NG({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||pTe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new fe(2));;){var s=new fe(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};fc.prototype._truncateToN=function(e,r,n){var i;if(fe.isBN(e)||typeof e=="number")e=new fe(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new fe(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new fe(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};fc.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!fe.isBN(e)){p0(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),p0(e.length>>>0===e.length);for(var s=0;s<e.length;s++)p0((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),p0(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);p0(new fe(c).eq(e),"Can not sign message");for(var l=new NG({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new fe(1)),f=0;;f++){var h=i.k?i.k(f):new fe(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var _=g.getX(),m=_.umod(this.n);if(m.cmpn(0)!==0){var b=h.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var A=(g.getY().isOdd()?1:0)|(_.cmp(m)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),A^=1),new s2({r:m,s:b,recoveryParam:A})}}}}}};fc.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new s2(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};fc.prototype.recoverPubKey=function(t,e,r,n){p0((3&r)===r,"The recovery param is more than two bits"),e=new s2(e,n);var i=this.n,s=new fe(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(f,o,h)};fc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new s2(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var mTe=Lm(function(t,e){var r=e;r.version="6.6.1",r.utils=wa,r.rand=(function(){throw new Error("unsupported")}),r.curve=oE,r.curves=aE,r.ec=gTe,r.eddsa=null}),yTe=mTe.ec;const _Te="signing-key/5.8.0",X3=new he(_Te);let LS=null;function qd(){return LS||(LS=new yTe("secp256k1")),LS}let zg=class{constructor(e){Ae(this,"curve","secp256k1"),Ae(this,"privateKey",Oe(e)),V0(this.privateKey)!==32&&X3.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=qd().keyFromPrivate(Ce(this.privateKey));Ae(this,"publicKey","0x"+r.getPublic(!1,"hex")),Ae(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Ae(this,"_isSigningKey",!0)}_addPoint(e){const r=qd().keyFromPublic(Ce(this.publicKey)),n=qd().keyFromPublic(Ce(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=qd().keyFromPrivate(Ce(this.privateKey)),n=Ce(e);n.length!==32&&X3.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return Dm({recoveryParam:i.recoveryParam,r:Gr("0x"+i.r.toString(16),32),s:Gr("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=qd().keyFromPrivate(Ce(this.privateKey)),n=qd().keyFromPublic(Ce(SG(e)));return Gr("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function bTe(t,e){const r=Dm(e),n={r:Ce(r.r),s:Ce(r.s)};return"0x"+qd().recoverPubKey(Ce(t),n,r.recoveryParam).encode("hex",!1)}function SG(t,e){const r=Ce(t);return r.length===32?new zg(r).publicKey:r.length===33?"0x"+qd().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?Oe(r):X3.throwArgumentError("invalid public or private key","key","[REDACTED]")}const wTe="transactions/5.8.0",Ds=new he(wTe);var N9;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(N9||(N9={}));function x6(t){return t==="0x"?null:Pr(t)}function Rs(t){return t==="0x"?_6:Fe.from(t)}const vTe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],ETe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function Wf(t){const e=SG(t);return Pr(li(xr(li(e,1)),12))}function o2(t,e){return Wf(bTe(Ce(t),e))}function ia(t,e){const r=jf(Fe.from(t).toHexString());return r.length>32&&Ds.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function $S(t,e){return{address:Pr(t),storageKeys:(e||[]).map((r,n)=>(V0(r)!==32&&Ds.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function $m(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&Ds.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),$S(r[0],r[1])):$S(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return $S(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function TG(t){return $m(t).map(e=>[e.address,e.storageKeys])}function IG(t,e){if(t.gasPrice!=null){const n=Fe.from(t.gasPrice),i=Fe.from(t.maxFeePerGas||0);n.eq(i)||Ds.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[ia(t.chainId||0,"chainId"),ia(t.nonce||0,"nonce"),ia(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),ia(t.maxFeePerGas||0,"maxFeePerGas"),ia(t.gasLimit||0,"gasLimit"),t.to!=null?Pr(t.to):"0x",ia(t.value||0,"value"),t.data||"0x",TG(t.accessList||[])];if(e){const n=Dm(e);r.push(ia(n.recoveryParam,"recoveryParam")),r.push(jf(n.r)),r.push(jf(n.s))}return no(["0x02",pm(r)])}function RG(t,e){const r=[ia(t.chainId||0,"chainId"),ia(t.nonce||0,"nonce"),ia(t.gasPrice||0,"gasPrice"),ia(t.gasLimit||0,"gasLimit"),t.to!=null?Pr(t.to):"0x",ia(t.value||0,"value"),t.data||"0x",TG(t.accessList||[])];if(e){const n=Dm(e);r.push(ia(n.recoveryParam,"recoveryParam")),r.push(jf(n.r)),r.push(jf(n.s))}return no(["0x01",pm(r)])}function ATe(t,e){Kz(t,ETe);const r=[];vTe.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=Ce(Oe(a,c)),o.length&&a.length!==o.length&&a.length>0&&Ds.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=jf(a),a.length>o.maxLength&&Ds.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(Oe(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&Ds.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!t2(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(Oe(n)),r.push("0x"),r.push("0x")),!e)return pm(r);const i=Dm(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&Ds.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&Ds.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(Oe(s)),r.push(jf(Ce(i.r))),r.push(jf(Ce(i.s))),pm(r)}function S9(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&Ds.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),ATe(t,e);switch(t.type){case 1:return RG(t,e);case 2:return IG(t,e)}return Ds.throwError(`unsupported transaction type: ${t.type}`,he.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function PG(t,e,r){try{const n=Rs(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{Ds.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Gr(e[1],32),t.s=Gr(e[2],32);try{const n=xr(r(t));t.from=o2(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function xTe(t){const e=m6(t.slice(1));e.length!==9&&e.length!==12&&Ds.throwArgumentError("invalid component count for transaction type: 2","payload",Oe(t));const r=Rs(e[2]),n=Rs(e[3]),i={type:2,chainId:Rs(e[0]).toNumber(),nonce:Rs(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Rs(e[4]),to:x6(e[5]),value:Rs(e[6]),data:e[7],accessList:$m(e[8])};return e.length===9||(i.hash=xr(t),PG(i,e.slice(9),IG)),i}function CTe(t){const e=m6(t.slice(1));e.length!==8&&e.length!==11&&Ds.throwArgumentError("invalid component count for transaction type: 1","payload",Oe(t));const r={type:1,chainId:Rs(e[0]).toNumber(),nonce:Rs(e[1]).toNumber(),gasPrice:Rs(e[2]),gasLimit:Rs(e[3]),to:x6(e[4]),value:Rs(e[5]),data:e[6],accessList:$m(e[7])};return e.length===8||(r.hash=xr(t),PG(r,e.slice(8),RG)),r}function NTe(t){const e=m6(t);e.length!==9&&e.length!==6&&Ds.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Rs(e[0]).toNumber(),gasPrice:Rs(e[1]),gasLimit:Rs(e[2]),to:x6(e[3]),value:Rs(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Fe.from(e[6]).toNumber()}catch{return r}if(r.r=Gr(e[7],32),r.s=Gr(e[8],32),Fe.from(r.r).isZero()&&Fe.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(Oe(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=xr(pm(i));try{r.from=o2(s,{r:Oe(r.r),s:Oe(r.s),recoveryParam:n})}catch{}r.hash=xr(t)}return r.type=null,r}function STe(t){const e=Ce(t);if(e[0]>127)return NTe(e);switch(e[0]){case 1:return CTe(e);case 2:return xTe(e)}return Ds.throwError(`unsupported transaction type: ${e[0]}`,he.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const TTe="contracts/5.7.0";var Y0=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Zn=new he(TTe);function WA(t,e){return Y0(this,void 0,void 0,function*(){const r=yield e;typeof r!="string"&&Zn.throwArgumentError("invalid address or ENS name","name",r);try{return Pr(r)}catch{}t||Zn.throwError("a provider or signer is needed to resolve ENS names",he.errors.UNSUPPORTED_OPERATION,{operation:"resolveName"});const n=yield t.resolveName(r);return n==null&&Zn.throwArgumentError("resolver or addr is not configured for ENS name","name",r),n})}function cE(t,e,r){return Y0(this,void 0,void 0,function*(){return Array.isArray(r)?yield Promise.all(r.map((n,i)=>cE(t,Array.isArray(e)?e[i]:e[n.name],n))):r.type==="address"?yield WA(t,e):r.type==="tuple"?yield cE(t,e,r.components):r.baseType==="array"?Array.isArray(e)?yield Promise.all(e.map(n=>cE(t,n,r.arrayChildren))):Promise.reject(Zn.makeError("invalid value for array",he.errors.INVALID_ARGUMENT,{argument:"value",value:e})):e})}function a2(t,e,r){return Y0(this,void 0,void 0,function*(){let n={};r.length===e.inputs.length+1&&typeof r[r.length-1]=="object"&&(n=Ui(r.pop())),Zn.checkArgumentCount(r.length,e.inputs.length,"passed to contract"),t.signer?n.from?n.from=Qn({override:WA(t.signer,n.from),signer:t.signer.getAddress()}).then(l=>Y0(this,void 0,void 0,function*(){return Pr(l.signer)!==l.override&&Zn.throwError("Contract with a Signer cannot override from",he.errors.UNSUPPORTED_OPERATION,{operation:"overrides.from"}),l.override})):n.from=t.signer.getAddress():n.from&&(n.from=WA(t.provider,n.from));const i=yield Qn({args:cE(t.signer||t.provider,r,e.inputs),address:t.resolvedAddress,overrides:Qn(n)||{}}),s=t.interface.encodeFunctionData(e,i.args),o={data:s,to:i.address},a=i.overrides;if(a.nonce!=null&&(o.nonce=Fe.from(a.nonce).toNumber()),a.gasLimit!=null&&(o.gasLimit=Fe.from(a.gasLimit)),a.gasPrice!=null&&(o.gasPrice=Fe.from(a.gasPrice)),a.maxFeePerGas!=null&&(o.maxFeePerGas=Fe.from(a.maxFeePerGas)),a.maxPriorityFeePerGas!=null&&(o.maxPriorityFeePerGas=Fe.from(a.maxPriorityFeePerGas)),a.from!=null&&(o.from=a.from),a.type!=null&&(o.type=a.type),a.accessList!=null&&(o.accessList=$m(a.accessList)),o.gasLimit==null&&e.gas!=null){let l=21e3;const u=Ce(s);for(let f=0;f<u.length;f++)l+=4,u[f]&&(l+=64);o.gasLimit=Fe.from(e.gas).add(l)}if(a.value){const l=Fe.from(a.value);!l.isZero()&&!e.payable&&Zn.throwError("non-payable method cannot override value",he.errors.UNSUPPORTED_OPERATION,{operation:"overrides.value",value:n.value}),o.value=l}a.customData&&(o.customData=Ui(a.customData)),a.ccipReadEnabled&&(o.ccipReadEnabled=!!a.ccipReadEnabled),delete n.nonce,delete n.gasLimit,delete n.gasPrice,delete n.from,delete n.value,delete n.type,delete n.accessList,delete n.maxFeePerGas,delete n.maxPriorityFeePerGas,delete n.customData,delete n.ccipReadEnabled;const c=Object.keys(n).filter(l=>n[l]!=null);return c.length&&Zn.throwError(`cannot override ${c.map(l=>JSON.stringify(l)).join(",")}`,he.errors.UNSUPPORTED_OPERATION,{operation:"overrides",overrides:c}),o})}function ITe(t,e){return function(...r){return a2(t,e,r)}}function RTe(t,e){const r=t.signer||t.provider;return function(...n){return Y0(this,void 0,void 0,function*(){r||Zn.throwError("estimate require a provider or signer",he.errors.UNSUPPORTED_OPERATION,{operation:"estimateGas"});const i=yield a2(t,e,n);return yield r.estimateGas(i)})}}function PTe(t,e){const r=e.wait.bind(e);e.wait=n=>r(n).then(i=>(i.events=i.logs.map(s=>{let o=Xf(s),a=null;try{a=t.interface.parseLog(s)}catch{}return a&&(o.args=a.args,o.decode=(c,l)=>t.interface.decodeEventLog(a.eventFragment,c,l),o.event=a.name,o.eventSignature=a.signature),o.removeListener=()=>t.provider,o.getBlock=()=>t.provider.getBlock(i.blockHash),o.getTransaction=()=>t.provider.getTransaction(i.transactionHash),o.getTransactionReceipt=()=>Promise.resolve(i),o}),i))}function OG(t,e,r){const n=t.signer||t.provider;return function(...i){return Y0(this,void 0,void 0,function*(){let s;if(i.length===e.inputs.length+1&&typeof i[i.length-1]=="object"){const c=Ui(i.pop());c.blockTag!=null&&(s=yield c.blockTag),delete c.blockTag,i.push(c)}t.deployTransaction!=null&&(yield t._deployed(s));const o=yield a2(t,e,i),a=yield n.call(o,s);try{let c=t.interface.decodeFunctionResult(e,a);return r&&e.outputs.length===1&&(c=c[0]),c}catch(c){throw c.code===he.errors.CALL_EXCEPTION&&(c.address=t.address,c.args=i,c.transaction=o),c}})}}function OTe(t,e){return function(...r){return Y0(this,void 0,void 0,function*(){t.signer||Zn.throwError("sending a transaction requires a signer",he.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction"}),t.deployTransaction!=null&&(yield t._deployed());const n=yield a2(t,e,r),i=yield t.signer.sendTransaction(n);return PTe(t,i),i})}}function T9(t,e,r){return e.constant?OG(t,e,r):OTe(t,e)}function DG(t){return t.address&&(t.topics==null||t.topics.length===0)?"*":(t.address||"*")+"@"+(t.topics?t.topics.map(e=>Array.isArray(e)?e.join("|"):e).join(":"):"")}class Kb{constructor(e,r){Ae(this,"tag",e),Ae(this,"filter",r),this._listeners=[]}addListener(e,r){this._listeners.push({listener:e,once:r})}removeListener(e){let r=!1;this._listeners=this._listeners.filter(n=>r||n.listener!==e?!0:(r=!0,!1))}removeAllListeners(){this._listeners=[]}listeners(){return this._listeners.map(e=>e.listener)}listenerCount(){return this._listeners.length}run(e){const r=this.listenerCount();return this._listeners=this._listeners.filter(n=>{const i=e.slice();return setTimeout(()=>{n.listener.apply(this,i)},0),!n.once}),r}prepareEvent(e){}getEmit(e){return[e]}}class DTe extends Kb{constructor(){super("error",null)}}class I9 extends Kb{constructor(e,r,n,i){const s={address:e};let o=r.getEventTopic(n);i?(o!==i[0]&&Zn.throwArgumentError("topic mismatch","topics",i),s.topics=i.slice()):s.topics=[o],super(DG(s),s),Ae(this,"address",e),Ae(this,"interface",r),Ae(this,"fragment",n)}prepareEvent(e){super.prepareEvent(e),e.event=this.fragment.name,e.eventSignature=this.fragment.format(),e.decode=(r,n)=>this.interface.decodeEventLog(this.fragment,r,n);try{e.args=this.interface.decodeEventLog(this.fragment,e.data,e.topics)}catch(r){e.args=null,e.decodeError=r}}getEmit(e){const r=kNe(e.args);if(r.length)throw r[0].error;const n=(e.args||[]).slice();return n.push(e),n}}class R9 extends Kb{constructor(e,r){super("*",{address:e}),Ae(this,"address",e),Ae(this,"interface",r)}prepareEvent(e){super.prepareEvent(e);try{const r=this.interface.parseLog(e);e.event=r.name,e.eventSignature=r.signature,e.decode=(n,i)=>this.interface.decodeEventLog(r.eventFragment,n,i),e.args=r.args}catch{}}}class kTe{constructor(e,r,n){Ae(this,"interface",Lo(new.target,"getInterface")(r)),n==null?(Ae(this,"provider",null),Ae(this,"signer",null)):Um.isSigner(n)?(Ae(this,"provider",n.provider||null),Ae(this,"signer",n)):B1.isProvider(n)?(Ae(this,"provider",n),Ae(this,"signer",null)):Zn.throwArgumentError("invalid signer or provider","signerOrProvider",n),Ae(this,"callStatic",{}),Ae(this,"estimateGas",{}),Ae(this,"functions",{}),Ae(this,"populateTransaction",{}),Ae(this,"filters",{});{const o={};Object.keys(this.interface.events).forEach(a=>{const c=this.interface.events[a];Ae(this.filters,a,(...l)=>({address:this.address,topics:this.interface.encodeFilterTopics(c,l)})),o[c.name]||(o[c.name]=[]),o[c.name].push(a)}),Object.keys(o).forEach(a=>{const c=o[a];c.length===1?Ae(this.filters,a,this.filters[c[0]]):Zn.warn(`Duplicate definition of ${a} (${c.join(", ")})`)})}if(Ae(this,"_runningEvents",{}),Ae(this,"_wrappedEmits",{}),e==null&&Zn.throwArgumentError("invalid contract address or ENS name","addressOrName",e),Ae(this,"address",e),this.provider)Ae(this,"resolvedAddress",WA(this.provider,e));else try{Ae(this,"resolvedAddress",Promise.resolve(Pr(e)))}catch{Zn.throwError("provider is required to use ENS name as contract address",he.errors.UNSUPPORTED_OPERATION,{operation:"new Contract"})}this.resolvedAddress.catch(o=>{});const i={},s={};Object.keys(this.interface.functions).forEach(o=>{const a=this.interface.functions[o];if(s[o]){Zn.warn(`Duplicate ABI entry for ${JSON.stringify(o)}`);return}s[o]=!0;{const c=a.name;i[`%${c}`]||(i[`%${c}`]=[]),i[`%${c}`].push(o)}this[o]==null&&Ae(this,o,T9(this,a,!0)),this.functions[o]==null&&Ae(this.functions,o,T9(this,a,!1)),this.callStatic[o]==null&&Ae(this.callStatic,o,OG(this,a,!0)),this.populateTransaction[o]==null&&Ae(this.populateTransaction,o,ITe(this,a)),this.estimateGas[o]==null&&Ae(this.estimateGas,o,RTe(this,a))}),Object.keys(i).forEach(o=>{const a=i[o];if(a.length>1)return;o=o.substring(1);const c=a[0];try{this[o]==null&&Ae(this,o,this[c])}catch{}this.functions[o]==null&&Ae(this.functions,o,this.functions[c]),this.callStatic[o]==null&&Ae(this.callStatic,o,this.callStatic[c]),this.populateTransaction[o]==null&&Ae(this.populateTransaction,o,this.populateTransaction[c]),this.estimateGas[o]==null&&Ae(this.estimateGas,o,this.estimateGas[c])})}static getContractAddress(e){return eG(e)}static getInterface(e){return u9.isInterface(e)?e:new u9(e)}deployed(){return this._deployed()}_deployed(e){return this._deployedPromise||(this.deployTransaction?this._deployedPromise=this.deployTransaction.wait().then(()=>this):this._deployedPromise=this.provider.getCode(this.address,e).then(r=>(r==="0x"&&Zn.throwError("contract not deployed",he.errors.UNSUPPORTED_OPERATION,{contractAddress:this.address,operation:"getDeployed"}),this))),this._deployedPromise}fallback(e){this.signer||Zn.throwError("sending a transactions require a signer",he.errors.UNSUPPORTED_OPERATION,{operation:"sendTransaction(fallback)"});const r=Ui(e||{});return["from","to"].forEach(function(n){r[n]!=null&&Zn.throwError("cannot override "+n,he.errors.UNSUPPORTED_OPERATION,{operation:n})}),r.to=this.resolvedAddress,this.deployed().then(()=>this.signer.sendTransaction(r))}connect(e){typeof e=="string"&&(e=new w6(e,this.provider));const r=new this.constructor(this.address,this.interface,e);return this.deployTransaction&&Ae(r,"deployTransaction",this.deployTransaction),r}attach(e){return new this.constructor(e,this.interface,this.signer||this.provider)}static isIndexed(e){return J3.isIndexed(e)}_normalizeRunningEvent(e){return this._runningEvents[e.tag]?this._runningEvents[e.tag]:e}_getRunningEvent(e){if(typeof e=="string"){if(e==="error")return this._normalizeRunningEvent(new DTe);if(e==="event")return this._normalizeRunningEvent(new Kb("event",null));if(e==="*")return this._normalizeRunningEvent(new R9(this.address,this.interface));const r=this.interface.getEvent(e);return this._normalizeRunningEvent(new I9(this.address,this.interface,r))}if(e.topics&&e.topics.length>0){try{const n=e.topics[0];if(typeof n!="string")throw new Error("invalid topic");const i=this.interface.getEvent(n);return this._normalizeRunningEvent(new I9(this.address,this.interface,i,e.topics))}catch{}const r={address:this.address,topics:e.topics};return this._normalizeRunningEvent(new Kb(DG(r),r))}return this._normalizeRunningEvent(new R9(this.address,this.interface))}_checkRunningEvents(e){if(e.listenerCount()===0){delete this._runningEvents[e.tag];const r=this._wrappedEmits[e.tag];r&&e.filter&&(this.provider.off(e.filter,r),delete this._wrappedEmits[e.tag])}}_wrapEvent(e,r,n){const i=Xf(r);return i.removeListener=()=>{n&&(e.removeListener(n),this._checkRunningEvents(e))},i.getBlock=()=>this.provider.getBlock(r.blockHash),i.getTransaction=()=>this.provider.getTransaction(r.transactionHash),i.getTransactionReceipt=()=>this.provider.getTransactionReceipt(r.transactionHash),e.prepareEvent(i),i}_addEventListener(e,r,n){if(this.provider||Zn.throwError("events require a provider or a signer with a provider",he.errors.UNSUPPORTED_OPERATION,{operation:"once"}),e.addListener(r,n),this._runningEvents[e.tag]=e,!this._wrappedEmits[e.tag]){const i=s=>{let o=this._wrapEvent(e,s,r);if(o.decodeError==null)try{const a=e.getEmit(o);this.emit(e.filter,...a)}catch(a){o.decodeError=a.error}e.filter!=null&&this.emit("event",o),o.decodeError!=null&&this.emit("error",o.decodeError,o)};this._wrappedEmits[e.tag]=i,e.filter!=null&&this.provider.on(e.filter,i)}}queryFilter(e,r,n){const i=this._getRunningEvent(e),s=Ui(i.filter);return typeof r=="string"&&Gt(r,32)?(n!=null&&Zn.throwArgumentError("cannot specify toBlock with blockhash","toBlock",n),s.blockHash=r):(s.fromBlock=r??0,s.toBlock=n??"latest"),this.provider.getLogs(s).then(o=>o.map(a=>this._wrapEvent(i,a,null)))}on(e,r){return this._addEventListener(this._getRunningEvent(e),r,!1),this}once(e,r){return this._addEventListener(this._getRunningEvent(e),r,!0),this}emit(e,...r){if(!this.provider)return!1;const n=this._getRunningEvent(e),i=n.run(r)>0;return this._checkRunningEvents(n),i}listenerCount(e){return this.provider?e==null?Object.keys(this._runningEvents).reduce((r,n)=>r+this._runningEvents[n].listenerCount(),0):this._getRunningEvent(e).listenerCount():0}listeners(e){if(!this.provider)return[];if(e==null){const r=[];for(let n in this._runningEvents)this._runningEvents[n].listeners().forEach(i=>{r.push(i)});return r}return this._getRunningEvent(e).listeners()}removeAllListeners(e){if(!this.provider)return this;if(e==null){for(const n in this._runningEvents){const i=this._runningEvents[n];i.removeAllListeners(),this._checkRunningEvents(i)}return this}const r=this._getRunningEvent(e);return r.removeAllListeners(),this._checkRunningEvents(r),this}off(e,r){if(!this.provider)return this;const n=this._getRunningEvent(e);return n.removeListener(r),this._checkRunningEvents(n),this}removeListener(e,r){return this.off(e,r)}}class cu extends kTe{}let kG=class{constructor(e){Ae(this,"alphabet",e),Ae(this,"base",e.length),Ae(this,"_alphabetMap",{}),Ae(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Ce(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Ce(new Uint8Array(r.reverse()))}};new kG("abcdefghijklmnopqrstuvwxyz234567");const Vb=new kG("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz");var Jb;(function(t){t.sha256="sha256",t.sha512="sha512"})(Jb||(Jb={}));const MTe="sha2/5.8.0",UTe=new he(MTe);function LTe(t){return"0x"+bt.ripemd160().update(Ce(t)).digest("hex")}function ph(t){return"0x"+bt.sha256().update(Ce(t)).digest("hex")}function qA(t,e,r){return Jb[t]||UTe.throwError("unsupported algorithm "+t,he.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+bt.hmac(bt[t],Ce(e)).update(Ce(r)).digest("hex")}function W1(t,e,r,n,i){t=Ce(t),e=Ce(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let h=Ce(qA(i,t,c));s||(s=h.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(h);for(let m=1;m<r;m++){h=Ce(qA(i,t,h));for(let b=0;b<s;b++)u[b]^=h[b]}const g=(f-1)*s,_=f===o?l:s;a.set(Ce(u).slice(0,_),g)}return Oe(a)}const $Te="wordlists/5.8.0",FTe=new he($Te);let C6=class MG{constructor(e){FTe.checkAbstract(new.target,MG),Ae(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return wl(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}};const BTe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let D_=null;function P9(t){if(D_==null&&(D_=BTe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),C6.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw D_=null,new Error("BIP39 Wordlist for en (English) FAILED")}let HTe=class extends C6{constructor(){super("en")}getWord(e){return P9(this),D_[e]}getWordIndex(e){return P9(this),D_.indexOf(e)}};const UG=new HTe;C6.register(UG);const O9={en:UG},jTe="hdnode/5.8.0",zA=new he(jTe),WTe=Fe.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qTe=Gn("Bitcoin seed"),Uy=2147483648;function LG(t){return(1<<t)-1<<8-t}function zTe(t){return(1<<t)-1}function vv(t){return Gr(Oe(t),32)}function D9(t){return Vb.encode(Cr([t,li(ph(ph(t)),0,4)]))}function N6(t){if(t==null)return O9.en;if(typeof t=="string"){const e=O9[t];return e==null&&zA.throwArgumentError("unknown locale","wordlist",t),e}return t}const rg={},gh="m/44'/60'/0'/0/0";let gm=class Ud{constructor(e,r,n,i,s,o,a,c){if(e!==rg)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new zg(r);Ae(this,"privateKey",l.privateKey),Ae(this,"publicKey",l.compressedPublicKey)}else Ae(this,"privateKey",null),Ae(this,"publicKey",Oe(n));Ae(this,"parentFingerprint",i),Ae(this,"fingerprint",li(LTe(ph(this.publicKey)),0,4)),Ae(this,"address",Wf(this.publicKey)),Ae(this,"chainCode",s),Ae(this,"index",o),Ae(this,"depth",a),c==null?(Ae(this,"mnemonic",null),Ae(this,"path",null)):typeof c=="string"?(Ae(this,"mnemonic",null),Ae(this,"path",c)):(Ae(this,"mnemonic",c),Ae(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return D9(Cr([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",Oe(this.depth),this.parentFingerprint,Gr(Oe(this.index),4),this.chainCode,this.privateKey!=null?Cr(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Ud(rg,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Uy));const n=new Uint8Array(37);if(e&Uy){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Ce(this.privateKey),1),r&&(r+="'")}else n.set(Ce(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=Ce(qA(Jb.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=vv(Fe.from(s).add(this.privateKey).mod(WTe)):c=new zg(Oe(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new Ud(rg,a,c,this.fingerprint,vv(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Uy)throw new Error("invalid path index - "+s);n=n._derive(Uy+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Uy)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=Ce(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Ce(qA(Jb.sha512,qTe,n));return new Ud(rg,vv(i.slice(0,32)),null,"0x00000000",vv(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=N6(n),e=c2(S6(e,n),n),Ud._fromSeed(GTe(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Ud._fromSeed(e,null)}static fromExtendedKey(e){const r=Vb.decode(e);(r.length!==82||D9(r.slice(0,78))!==e)&&zA.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=Oe(r.slice(5,9)),s=parseInt(Oe(r.slice(9,13)).substring(2),16),o=Oe(r.slice(13,45)),a=r.slice(45,78);switch(Oe(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Ud(rg,null,Oe(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Ud(rg,Oe(a.slice(1)),null,i,o,s,n,null)}return zA.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}};function GTe(t,e){e||(e="");const r=Gn("mnemonic"+e,Qf.NFKD);return W1(Gn(t,Qf.NFKD),r,2048,64,"sha512")}function S6(t,e){e=N6(e),zA.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Ce(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=LG(o);if((Ce(ph(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return Oe(n.slice(0,s/8))}function c2(t,e){if(e=N6(e),t=Ce(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&zTe(8-n)),n+=3);const i=t.length/4,s=Ce(ph(t))[0]&LG(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}const KTe="random/5.8.0",Q3=new he(KTe);function VTe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const k9=VTe();let lE=k9.crypto||k9.msCrypto;(!lE||!lE.getRandomValues)&&(Q3.warn("WARNING: Missing strong random number source"),lE={getRandomValues:function(t){return Q3.throwError("no secure random source avaialble",he.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Lf(t){(t<=0||t>1024||t%1||t!=t)&&Q3.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return lE.getRandomValues(e),Ce(e)}var FS={exports:{}},M9;function JTe(){return M9||(M9=1,(function(t,e){(function(r){function n(L){return parseInt(L)===L}function i(L){if(!n(L.length))return!1;for(var x=0;x<L.length;x++)if(!n(L[x])||L[x]<0||L[x]>255)return!1;return!0}function s(L,x){if(L.buffer&&ArrayBuffer.isView(L)&&L.name==="Uint8Array")return x&&(L.slice?L=L.slice():L=Array.prototype.slice.call(L)),L;if(Array.isArray(L)){if(!i(L))throw new Error("Array contains invalid value: "+L);return new Uint8Array(L)}if(n(L.length)&&i(L))return new Uint8Array(L);throw new Error("unsupported array-like object")}function o(L){return new Uint8Array(L)}function a(L,x,W,K,P){(K!=null||P!=null)&&(L.slice?L=L.slice(K,P):L=Array.prototype.slice.call(L,K,P)),x.set(L,W)}var c=(function(){function L(W){var K=[],P=0;for(W=encodeURI(W);P<W.length;){var X=W.charCodeAt(P++);X===37?(K.push(parseInt(W.substr(P,2),16)),P+=2):K.push(X)}return s(K)}function x(W){for(var K=[],P=0;P<W.length;){var X=W[P];X<128?(K.push(String.fromCharCode(X)),P++):X>191&&X<224?(K.push(String.fromCharCode((X&31)<<6|W[P+1]&63)),P+=2):(K.push(String.fromCharCode((X&15)<<12|(W[P+1]&63)<<6|W[P+2]&63)),P+=3)}return K.join("")}return{toBytes:L,fromBytes:x}})(),l=(function(){function L(K){for(var P=[],X=0;X<K.length;X+=2)P.push(parseInt(K.substr(X,2),16));return P}var x="0123456789abcdef";function W(K){for(var P=[],X=0;X<K.length;X++){var q=K[X];P.push(x[(q&240)>>4]+x[q&15])}return P.join("")}return{toBytes:L,fromBytes:W}})(),u={16:10,24:12,32:14},f=[1,2,4,8,16,32,64,128,27,54,108,216,171,77,154,47,94,188,99,198,151,53,106,212,179,125,250,239,197,145],h=[99,124,119,123,242,107,111,197,48,1,103,43,254,215,171,118,202,130,201,125,250,89,71,240,173,212,162,175,156,164,114,192,183,253,147,38,54,63,247,204,52,165,229,241,113,216,49,21,4,199,35,195,24,150,5,154,7,18,128,226,235,39,178,117,9,131,44,26,27,110,90,160,82,59,214,179,41,227,47,132,83,209,0,237,32,252,177,91,106,203,190,57,74,76,88,207,208,239,170,251,67,77,51,133,69,249,2,127,80,60,159,168,81,163,64,143,146,157,56,245,188,182,218,33,16,255,243,210,205,12,19,236,95,151,68,23,196,167,126,61,100,93,25,115,96,129,79,220,34,42,144,136,70,238,184,20,222,94,11,219,224,50,58,10,73,6,36,92,194,211,172,98,145,149,228,121,231,200,55,109,141,213,78,169,108,86,244,234,101,122,174,8,186,120,37,46,28,166,180,198,232,221,116,31,75,189,139,138,112,62,181,102,72,3,246,14,97,53,87,185,134,193,29,158,225,248,152,17,105,217,142,148,155,30,135,233,206,85,40,223,140,161,137,13,191,230,66,104,65,153,45,15,176,84,187,22],g=[82,9,106,213,48,54,165,56,191,64,163,158,129,243,215,251,124,227,57,130,155,47,255,135,52,142,67,68,196,222,233,203,84,123,148,50,166,194,35,61,238,76,149,11,66,250,195,78,8,46,161,102,40,217,36,178,118,91,162,73,109,139,209,37,114,248,246,100,134,104,152,22,212,164,92,204,93,101,182,146,108,112,72,80,253,237,185,218,94,21,70,87,167,141,157,132,144,216,171,0,140,188,211,10,247,228,88,5,184,179,69,6,208,44,30,143,202,63,15,2,193,175,189,3,1,19,138,107,58,145,17,65,79,103,220,234,151,242,207,206,240,180,230,115,150,172,116,34,231,173,53,133,226,249,55,232,28,117,223,110,71,241,26,113,29,41,197,137,111,183,98,14,170,24,190,27,252,86,62,75,198,210,121,32,154,219,192,254,120,205,90,244,31,221,168,51,136,7,199,49,177,18,16,89,39,128,236,95,96,81,127,169,25,181,74,13,45,229,122,159,147,201,156,239,160,224,59,77,174,42,245,176,200,235,187,60,131,83,153,97,23,43,4,126,186,119,214,38,225,105,20,99,85,33,12,125],_=[3328402341,4168907908,4000806809,4135287693,4294111757,3597364157,3731845041,2445657428,1613770832,33620227,3462883241,1445669757,3892248089,3050821474,1303096294,3967186586,2412431941,528646813,2311702848,4202528135,4026202645,2992200171,2387036105,4226871307,1101901292,3017069671,1604494077,1169141738,597466303,1403299063,3832705686,2613100635,1974974402,3791519004,1033081774,1277568618,1815492186,2118074177,4126668546,2211236943,1748251740,1369810420,3521504564,4193382664,3799085459,2883115123,1647391059,706024767,134480908,2512897874,1176707941,2646852446,806885416,932615841,168101135,798661301,235341577,605164086,461406363,3756188221,3454790438,1311188841,2142417613,3933566367,302582043,495158174,1479289972,874125870,907746093,3698224818,3025820398,1537253627,2756858614,1983593293,3084310113,2108928974,1378429307,3722699582,1580150641,327451799,2790478837,3117535592,0,3253595436,1075847264,3825007647,2041688520,3059440621,3563743934,2378943302,1740553945,1916352843,2487896798,2555137236,2958579944,2244988746,3151024235,3320835882,1336584933,3992714006,2252555205,2588757463,1714631509,293963156,2319795663,3925473552,67240454,4269768577,2689618160,2017213508,631218106,1269344483,2723238387,1571005438,2151694528,93294474,1066570413,563977660,1882732616,4059428100,1673313503,2008463041,2950355573,1109467491,537923632,3858759450,4260623118,3218264685,2177748300,403442708,638784309,3287084079,3193921505,899127202,2286175436,773265209,2479146071,1437050866,4236148354,2050833735,3362022572,3126681063,840505643,3866325909,3227541664,427917720,2655997905,2749160575,1143087718,1412049534,999329963,193497219,2353415882,3354324521,1807268051,672404540,2816401017,3160301282,369822493,2916866934,3688947771,1681011286,1949973070,336202270,2454276571,201721354,1210328172,3093060836,2680341085,3184776046,1135389935,3294782118,965841320,831886756,3554993207,4068047243,3588745010,2345191491,1849112409,3664604599,26054028,2983581028,2622377682,1235855840,3630984372,2891339514,4092916743,3488279077,3395642799,4101667470,1202630377,268961816,1874508501,4034427016,1243948399,1546530418,941366308,1470539505,1941222599,2546386513,3421038627,2715671932,3899946140,1042226977,2521517021,1639824860,227249030,260737669,3765465232,2084453954,1907733956,3429263018,2420656344,100860677,4160157185,470683154,3261161891,1781871967,2924959737,1773779408,394692241,2579611992,974986535,664706745,3655459128,3958962195,731420851,571543859,3530123707,2849626480,126783113,865375399,765172662,1008606754,361203602,3387549984,2278477385,2857719295,1344809080,2782912378,59542671,1503764984,160008576,437062935,1707065306,3622233649,2218934982,3496503480,2185314755,697932208,1512910199,504303377,2075177163,2824099068,1841019862,739644986],m=[2781242211,2230877308,2582542199,2381740923,234877682,3184946027,2984144751,1418839493,1348481072,50462977,2848876391,2102799147,434634494,1656084439,3863849899,2599188086,1167051466,2636087938,1082771913,2281340285,368048890,3954334041,3381544775,201060592,3963727277,1739838676,4250903202,3930435503,3206782108,4149453988,2531553906,1536934080,3262494647,484572669,2923271059,1783375398,1517041206,1098792767,49674231,1334037708,1550332980,4098991525,886171109,150598129,2481090929,1940642008,1398944049,1059722517,201851908,1385547719,1699095331,1587397571,674240536,2704774806,252314885,3039795866,151914247,908333586,2602270848,1038082786,651029483,1766729511,3447698098,2682942837,454166793,2652734339,1951935532,775166490,758520603,3000790638,4004797018,4217086112,4137964114,1299594043,1639438038,3464344499,2068982057,1054729187,1901997871,2534638724,4121318227,1757008337,0,750906861,1614815264,535035132,3363418545,3988151131,3201591914,1183697867,3647454910,1265776953,3734260298,3566750796,3903871064,1250283471,1807470800,717615087,3847203498,384695291,3313910595,3617213773,1432761139,2484176261,3481945413,283769337,100925954,2180939647,4037038160,1148730428,3123027871,3813386408,4087501137,4267549603,3229630528,2315620239,2906624658,3156319645,1215313976,82966005,3747855548,3245848246,1974459098,1665278241,807407632,451280895,251524083,1841287890,1283575245,337120268,891687699,801369324,3787349855,2721421207,3431482436,959321879,1469301956,4065699751,2197585534,1199193405,2898814052,3887750493,724703513,2514908019,2696962144,2551808385,3516813135,2141445340,1715741218,2119445034,2872807568,2198571144,3398190662,700968686,3547052216,1009259540,2041044702,3803995742,487983883,1991105499,1004265696,1449407026,1316239930,504629770,3683797321,168560134,1816667172,3837287516,1570751170,1857934291,4014189740,2797888098,2822345105,2754712981,936633572,2347923833,852879335,1133234376,1500395319,3084545389,2348912013,1689376213,3533459022,3762923945,3034082412,4205598294,133428468,634383082,2949277029,2398386810,3913789102,403703816,3580869306,2297460856,1867130149,1918643758,607656988,4049053350,3346248884,1368901318,600565992,2090982877,2632479860,557719327,3717614411,3697393085,2249034635,2232388234,2430627952,1115438654,3295786421,2865522278,3633334344,84280067,33027830,303828494,2747425121,1600795957,4188952407,3496589753,2434238086,1486471617,658119965,3106381470,953803233,334231800,3005978776,857870609,3151128937,1890179545,2298973838,2805175444,3056442267,574365214,2450884487,550103529,1233637070,4289353045,2018519080,2057691103,2399374476,4166623649,2148108681,387583245,3664101311,836232934,3330556482,3100665960,3280093505,2955516313,2002398509,287182607,3413881008,4238890068,3597515707,975967766],b=[1671808611,2089089148,2006576759,2072901243,4061003762,1807603307,1873927791,3310653893,810573872,16974337,1739181671,729634347,4263110654,3613570519,2883997099,1989864566,3393556426,2191335298,3376449993,2106063485,4195741690,1508618841,1204391495,4027317232,2917941677,3563566036,2734514082,2951366063,2629772188,2767672228,1922491506,3227229120,3082974647,4246528509,2477669779,644500518,911895606,1061256767,4144166391,3427763148,878471220,2784252325,3845444069,4043897329,1905517169,3631459288,827548209,356461077,67897348,3344078279,593839651,3277757891,405286936,2527147926,84871685,2595565466,118033927,305538066,2157648768,3795705826,3945188843,661212711,2999812018,1973414517,152769033,2208177539,745822252,439235610,455947803,1857215598,1525593178,2700827552,1391895634,994932283,3596728278,3016654259,695947817,3812548067,795958831,2224493444,1408607827,3513301457,0,3979133421,543178784,4229948412,2982705585,1542305371,1790891114,3410398667,3201918910,961245753,1256100938,1289001036,1491644504,3477767631,3496721360,4012557807,2867154858,4212583931,1137018435,1305975373,861234739,2241073541,1171229253,4178635257,33948674,2139225727,1357946960,1011120188,2679776671,2833468328,1374921297,2751356323,1086357568,2408187279,2460827538,2646352285,944271416,4110742005,3168756668,3066132406,3665145818,560153121,271589392,4279952895,4077846003,3530407890,3444343245,202643468,322250259,3962553324,1608629855,2543990167,1154254916,389623319,3294073796,2817676711,2122513534,1028094525,1689045092,1575467613,422261273,1939203699,1621147744,2174228865,1339137615,3699352540,577127458,712922154,2427141008,2290289544,1187679302,3995715566,3100863416,339486740,3732514782,1591917662,186455563,3681988059,3762019296,844522546,978220090,169743370,1239126601,101321734,611076132,1558493276,3260915650,3547250131,2901361580,1655096418,2443721105,2510565781,3828863972,2039214713,3878868455,3359869896,928607799,1840765549,2374762893,3580146133,1322425422,2850048425,1823791212,1459268694,4094161908,3928346602,1706019429,2056189050,2934523822,135794696,3134549946,2022240376,628050469,779246638,472135708,2800834470,3032970164,3327236038,3894660072,3715932637,1956440180,522272287,1272813131,3185336765,2340818315,2323976074,1888542832,1044544574,3049550261,1722469478,1222152264,50660867,4127324150,236067854,1638122081,895445557,1475980887,3117443513,2257655686,3243809217,489110045,2662934430,3778599393,4162055160,2561878936,288563729,1773916777,3648039385,2391345038,2493985684,2612407707,505560094,2274497927,3911240169,3460925390,1442818645,678973480,3749357023,2358182796,2717407649,2306869641,219617805,3218761151,3862026214,1120306242,1756942440,1103331905,2578459033,762796589,252780047,2966125488,1425844308,3151392187,372911126],A=[1667474886,2088535288,2004326894,2071694838,4075949567,1802223062,1869591006,3318043793,808472672,16843522,1734846926,724270422,4278065639,3621216949,2880169549,1987484396,3402253711,2189597983,3385409673,2105378810,4210693615,1499065266,1195886990,4042263547,2913856577,3570689971,2728590687,2947541573,2627518243,2762274643,1920112356,3233831835,3082273397,4261223649,2475929149,640051788,909531756,1061110142,4160160501,3435941763,875846760,2779116625,3857003729,4059105529,1903268834,3638064043,825316194,353713962,67374088,3351728789,589522246,3284360861,404236336,2526454071,84217610,2593830191,117901582,303183396,2155911963,3806477791,3958056653,656894286,2998062463,1970642922,151591698,2206440989,741110872,437923380,454765878,1852748508,1515908788,2694904667,1381168804,993742198,3604373943,3014905469,690584402,3823320797,791638366,2223281939,1398011302,3520161977,0,3991743681,538992704,4244381667,2981218425,1532751286,1785380564,3419096717,3200178535,960056178,1246420628,1280103576,1482221744,3486468741,3503319995,4025428677,2863326543,4227536621,1128514950,1296947098,859002214,2240123921,1162203018,4193849577,33687044,2139062782,1347481760,1010582648,2678045221,2829640523,1364325282,2745433693,1077985408,2408548869,2459086143,2644360225,943212656,4126475505,3166494563,3065430391,3671750063,555836226,269496352,4294908645,4092792573,3537006015,3452783745,202118168,320025894,3974901699,1600119230,2543297077,1145359496,387397934,3301201811,2812801621,2122220284,1027426170,1684319432,1566435258,421079858,1936954854,1616945344,2172753945,1330631070,3705438115,572679748,707427924,2425400123,2290647819,1179044492,4008585671,3099120491,336870440,3739122087,1583276732,185277718,3688593069,3772791771,842159716,976899700,168435220,1229577106,101059084,606366792,1549591736,3267517855,3553849021,2897014595,1650632388,2442242105,2509612081,3840161747,2038008818,3890688725,3368567691,926374254,1835907034,2374863873,3587531953,1313788572,2846482505,1819063512,1448540844,4109633523,3941213647,1701162954,2054852340,2930698567,134748176,3132806511,2021165296,623210314,774795868,471606328,2795958615,3031746419,3334885783,3907527627,3722280097,1953799400,522133822,1263263126,3183336545,2341176845,2324333839,1886425312,1044267644,3048588401,1718004428,1212733584,50529542,4143317495,235803164,1633788866,892690282,1465383342,3115962473,2256965911,3250673817,488449850,2661202215,3789633753,4177007595,2560144171,286339874,1768537042,3654906025,2391705863,2492770099,2610673197,505291324,2273808917,3924369609,3469625735,1431699370,673740880,3755965093,2358021891,2711746649,2307489801,218961690,3217021541,3873845719,1111672452,1751693520,1094828930,2576986153,757954394,252645662,2964376443,1414855848,3149649517,370555436],N=[1374988112,2118214995,437757123,975658646,1001089995,530400753,2902087851,1273168787,540080725,2910219766,2295101073,4110568485,1340463100,3307916247,641025152,3043140495,3736164937,632953703,1172967064,1576976609,3274667266,2169303058,2370213795,1809054150,59727847,361929877,3211623147,2505202138,3569255213,1484005843,1239443753,2395588676,1975683434,4102977912,2572697195,666464733,3202437046,4035489047,3374361702,2110667444,1675577880,3843699074,2538681184,1649639237,2976151520,3144396420,4269907996,4178062228,1883793496,2403728665,2497604743,1383856311,2876494627,1917518562,3810496343,1716890410,3001755655,800440835,2261089178,3543599269,807962610,599762354,33778362,3977675356,2328828971,2809771154,4077384432,1315562145,1708848333,101039829,3509871135,3299278474,875451293,2733856160,92987698,2767645557,193195065,1080094634,1584504582,3178106961,1042385657,2531067453,3711829422,1306967366,2438237621,1908694277,67556463,1615861247,429456164,3602770327,2302690252,1742315127,2968011453,126454664,3877198648,2043211483,2709260871,2084704233,4169408201,0,159417987,841739592,504459436,1817866830,4245618683,260388950,1034867998,908933415,168810852,1750902305,2606453969,607530554,202008497,2472011535,3035535058,463180190,2160117071,1641816226,1517767529,470948374,3801332234,3231722213,1008918595,303765277,235474187,4069246893,766945465,337553864,1475418501,2943682380,4003061179,2743034109,4144047775,1551037884,1147550661,1543208500,2336434550,3408119516,3069049960,3102011747,3610369226,1113818384,328671808,2227573024,2236228733,3535486456,2935566865,3341394285,496906059,3702665459,226906860,2009195472,733156972,2842737049,294930682,1206477858,2835123396,2700099354,1451044056,573804783,2269728455,3644379585,2362090238,2564033334,2801107407,2776292904,3669462566,1068351396,742039012,1350078989,1784663195,1417561698,4136440770,2430122216,775550814,2193862645,2673705150,1775276924,1876241833,3475313331,3366754619,270040487,3902563182,3678124923,3441850377,1851332852,3969562369,2203032232,3868552805,2868897406,566021896,4011190502,3135740889,1248802510,3936291284,699432150,832877231,708780849,3332740144,899835584,1951317047,4236429990,3767586992,866637845,4043610186,1106041591,2144161806,395441711,1984812685,1139781709,3433712980,3835036895,2664543715,1282050075,3240894392,1181045119,2640243204,25965917,4203181171,4211818798,3009879386,2463879762,3910161971,1842759443,2597806476,933301370,1509430414,3943906441,3467192302,3076639029,3776767469,2051518780,2631065433,1441952575,404016761,1942435775,1408749034,1610459739,3745345300,2017778566,3400528769,3110650942,941896748,3265478751,371049330,3168937228,675039627,4279080257,967311729,135050206,3635733660,1683407248,2076935265,3576870512,1215061108,3501741890],R=[1347548327,1400783205,3273267108,2520393566,3409685355,4045380933,2880240216,2471224067,1428173050,4138563181,2441661558,636813900,4233094615,3620022987,2149987652,2411029155,1239331162,1730525723,2554718734,3781033664,46346101,310463728,2743944855,3328955385,3875770207,2501218972,3955191162,3667219033,768917123,3545789473,692707433,1150208456,1786102409,2029293177,1805211710,3710368113,3065962831,401639597,1724457132,3028143674,409198410,2196052529,1620529459,1164071807,3769721975,2226875310,486441376,2499348523,1483753576,428819965,2274680428,3075636216,598438867,3799141122,1474502543,711349675,129166120,53458370,2592523643,2782082824,4063242375,2988687269,3120694122,1559041666,730517276,2460449204,4042459122,2706270690,3446004468,3573941694,533804130,2328143614,2637442643,2695033685,839224033,1973745387,957055980,2856345839,106852767,1371368976,4181598602,1033297158,2933734917,1179510461,3046200461,91341917,1862534868,4284502037,605657339,2547432937,3431546947,2003294622,3182487618,2282195339,954669403,3682191598,1201765386,3917234703,3388507166,0,2198438022,1211247597,2887651696,1315723890,4227665663,1443857720,507358933,657861945,1678381017,560487590,3516619604,975451694,2970356327,261314535,3535072918,2652609425,1333838021,2724322336,1767536459,370938394,182621114,3854606378,1128014560,487725847,185469197,2918353863,3106780840,3356761769,2237133081,1286567175,3152976349,4255350624,2683765030,3160175349,3309594171,878443390,1988838185,3704300486,1756818940,1673061617,3403100636,272786309,1075025698,545572369,2105887268,4174560061,296679730,1841768865,1260232239,4091327024,3960309330,3497509347,1814803222,2578018489,4195456072,575138148,3299409036,446754879,3629546796,4011996048,3347532110,3252238545,4270639778,915985419,3483825537,681933534,651868046,2755636671,3828103837,223377554,2607439820,1649704518,3270937875,3901806776,1580087799,4118987695,3198115200,2087309459,2842678573,3016697106,1003007129,2802849917,1860738147,2077965243,164439672,4100872472,32283319,2827177882,1709610350,2125135846,136428751,3874428392,3652904859,3460984630,3572145929,3593056380,2939266226,824852259,818324884,3224740454,930369212,2801566410,2967507152,355706840,1257309336,4148292826,243256656,790073846,2373340630,1296297904,1422699085,3756299780,3818836405,457992840,3099667487,2135319889,77422314,1560382517,1945798516,788204353,1521706781,1385356242,870912086,325965383,2358957921,2050466060,2388260884,2313884476,4006521127,901210569,3990953189,1014646705,1503449823,1062597235,2031621326,3212035895,3931371469,1533017514,350174575,2256028891,2177544179,1052338372,741876788,1606591296,1914052035,213705253,2334669897,1107234197,1899603969,3725069491,2631447780,2422494913,1635502980,1893020342,1950903388,1120974935],k=[2807058932,1699970625,2764249623,1586903591,1808481195,1173430173,1487645946,59984867,4199882800,1844882806,1989249228,1277555970,3623636965,3419915562,1149249077,2744104290,1514790577,459744698,244860394,3235995134,1963115311,4027744588,2544078150,4190530515,1608975247,2627016082,2062270317,1507497298,2200818878,567498868,1764313568,3359936201,2305455554,2037970062,1047239e3,1910319033,1337376481,2904027272,2892417312,984907214,1243112415,830661914,861968209,2135253587,2011214180,2927934315,2686254721,731183368,1750626376,4246310725,1820824798,4172763771,3542330227,48394827,2404901663,2871682645,671593195,3254988725,2073724613,145085239,2280796200,2779915199,1790575107,2187128086,472615631,3029510009,4075877127,3802222185,4107101658,3201631749,1646252340,4270507174,1402811438,1436590835,3778151818,3950355702,3963161475,4020912224,2667994737,273792366,2331590177,104699613,95345982,3175501286,2377486676,1560637892,3564045318,369057872,4213447064,3919042237,1137477952,2658625497,1119727848,2340947849,1530455833,4007360968,172466556,266959938,516552836,0,2256734592,3980931627,1890328081,1917742170,4294704398,945164165,3575528878,958871085,3647212047,2787207260,1423022939,775562294,1739656202,3876557655,2530391278,2443058075,3310321856,547512796,1265195639,437656594,3121275539,719700128,3762502690,387781147,218828297,3350065803,2830708150,2848461854,428169201,122466165,3720081049,1627235199,648017665,4122762354,1002783846,2117360635,695634755,3336358691,4234721005,4049844452,3704280881,2232435299,574624663,287343814,612205898,1039717051,840019705,2708326185,793451934,821288114,1391201670,3822090177,376187827,3113855344,1224348052,1679968233,2361698556,1058709744,752375421,2431590963,1321699145,3519142200,2734591178,188127444,2177869557,3727205754,2384911031,3215212461,2648976442,2450346104,3432737375,1180849278,331544205,3102249176,4150144569,2952102595,2159976285,2474404304,766078933,313773861,2570832044,2108100632,1668212892,3145456443,2013908262,418672217,3070356634,2594734927,1852171925,3867060991,3473416636,3907448597,2614737639,919489135,164948639,2094410160,2997825956,590424639,2486224549,1723872674,3157750862,3399941250,3501252752,3625268135,2555048196,3673637356,1343127501,4130281361,3599595085,2957853679,1297403050,81781910,3051593425,2283490410,532201772,1367295589,3926170974,895287692,1953757831,1093597963,492483431,3528626907,1446242576,1192455638,1636604631,209336225,344873464,1015671571,669961897,3375740769,3857572124,2973530695,3747192018,1933530610,3464042516,935293895,3454686199,2858115069,1863638845,3683022916,4085369519,3292445032,875313188,1080017571,3279033885,621591778,1233856572,2504130317,24197544,3017672716,3835484340,3247465558,2220981195,3060847922,1551124588,1463996600],M=[4104605777,1097159550,396673818,660510266,2875968315,2638606623,4200115116,3808662347,821712160,1986918061,3430322568,38544885,3856137295,718002117,893681702,1654886325,2975484382,3122358053,3926825029,4274053469,796197571,1290801793,1184342925,3556361835,2405426947,2459735317,1836772287,1381620373,3196267988,1948373848,3764988233,3385345166,3263785589,2390325492,1480485785,3111247143,3780097726,2293045232,548169417,3459953789,3746175075,439452389,1362321559,1400849762,1685577905,1806599355,2174754046,137073913,1214797936,1174215055,3731654548,2079897426,1943217067,1258480242,529487843,1437280870,3945269170,3049390895,3313212038,923313619,679998e3,3215307299,57326082,377642221,3474729866,2041877159,133361907,1776460110,3673476453,96392454,878845905,2801699524,777231668,4082475170,2330014213,4142626212,2213296395,1626319424,1906247262,1846563261,562755902,3708173718,1040559837,3871163981,1418573201,3294430577,114585348,1343618912,2566595609,3186202582,1078185097,3651041127,3896688048,2307622919,425408743,3371096953,2081048481,1108339068,2216610296,0,2156299017,736970802,292596766,1517440620,251657213,2235061775,2933202493,758720310,265905162,1554391400,1532285339,908999204,174567692,1474760595,4002861748,2610011675,3234156416,3693126241,2001430874,303699484,2478443234,2687165888,585122620,454499602,151849742,2345119218,3064510765,514443284,4044981591,1963412655,2581445614,2137062819,19308535,1928707164,1715193156,4219352155,1126790795,600235211,3992742070,3841024952,836553431,1669664834,2535604243,3323011204,1243905413,3141400786,4180808110,698445255,2653899549,2989552604,2253581325,3252932727,3004591147,1891211689,2487810577,3915653703,4237083816,4030667424,2100090966,865136418,1229899655,953270745,3399679628,3557504664,4118925222,2061379749,3079546586,2915017791,983426092,2022837584,1607244650,2118541908,2366882550,3635996816,972512814,3283088770,1568718495,3499326569,3576539503,621982671,2895723464,410887952,2623762152,1002142683,645401037,1494807662,2595684844,1335535747,2507040230,4293295786,3167684641,367585007,3885750714,1865862730,2668221674,2960971305,2763173681,1059270954,2777952454,2724642869,1320957812,2194319100,2429595872,2815956275,77089521,3973773121,3444575871,2448830231,1305906550,4021308739,2857194700,2516901860,3518358430,1787304780,740276417,1699839814,1592394909,2352307457,2272556026,188821243,1729977011,3687994002,274084841,3594982253,3613494426,2701949495,4162096729,322734571,2837966542,1640576439,484830689,1202797690,3537852828,4067639125,349075736,3342319475,4157467219,4255800159,1030690015,1155237496,2951971274,1757691577,607398968,2738905026,499347990,3794078908,1011452712,227885567,2818666809,213114376,3034881240,1455525988,3414450555,850817237,1817998408,3092726480],D=[0,235474187,470948374,303765277,941896748,908933415,607530554,708780849,1883793496,2118214995,1817866830,1649639237,1215061108,1181045119,1417561698,1517767529,3767586992,4003061179,4236429990,4069246893,3635733660,3602770327,3299278474,3400528769,2430122216,2664543715,2362090238,2193862645,2835123396,2801107407,3035535058,3135740889,3678124923,3576870512,3341394285,3374361702,3810496343,3977675356,4279080257,4043610186,2876494627,2776292904,3076639029,3110650942,2472011535,2640243204,2403728665,2169303058,1001089995,899835584,666464733,699432150,59727847,226906860,530400753,294930682,1273168787,1172967064,1475418501,1509430414,1942435775,2110667444,1876241833,1641816226,2910219766,2743034109,2976151520,3211623147,2505202138,2606453969,2302690252,2269728455,3711829422,3543599269,3240894392,3475313331,3843699074,3943906441,4178062228,4144047775,1306967366,1139781709,1374988112,1610459739,1975683434,2076935265,1775276924,1742315127,1034867998,866637845,566021896,800440835,92987698,193195065,429456164,395441711,1984812685,2017778566,1784663195,1683407248,1315562145,1080094634,1383856311,1551037884,101039829,135050206,437757123,337553864,1042385657,807962610,573804783,742039012,2531067453,2564033334,2328828971,2227573024,2935566865,2700099354,3001755655,3168937228,3868552805,3902563182,4203181171,4102977912,3736164937,3501741890,3265478751,3433712980,1106041591,1340463100,1576976609,1408749034,2043211483,2009195472,1708848333,1809054150,832877231,1068351396,766945465,599762354,159417987,126454664,361929877,463180190,2709260871,2943682380,3178106961,3009879386,2572697195,2538681184,2236228733,2336434550,3509871135,3745345300,3441850377,3274667266,3910161971,3877198648,4110568485,4211818798,2597806476,2497604743,2261089178,2295101073,2733856160,2902087851,3202437046,2968011453,3936291284,3835036895,4136440770,4169408201,3535486456,3702665459,3467192302,3231722213,2051518780,1951317047,1716890410,1750902305,1113818384,1282050075,1584504582,1350078989,168810852,67556463,371049330,404016761,841739592,1008918595,775550814,540080725,3969562369,3801332234,4035489047,4269907996,3569255213,3669462566,3366754619,3332740144,2631065433,2463879762,2160117071,2395588676,2767645557,2868897406,3102011747,3069049960,202008497,33778362,270040487,504459436,875451293,975658646,675039627,641025152,2084704233,1917518562,1615861247,1851332852,1147550661,1248802510,1484005843,1451044056,933301370,967311729,733156972,632953703,260388950,25965917,328671808,496906059,1206477858,1239443753,1543208500,1441952575,2144161806,1908694277,1675577880,1842759443,3610369226,3644379585,3408119516,3307916247,4011190502,3776767469,4077384432,4245618683,2809771154,2842737049,3144396420,3043140495,2673705150,2438237621,2203032232,2370213795],H=[0,185469197,370938394,487725847,741876788,657861945,975451694,824852259,1483753576,1400783205,1315723890,1164071807,1950903388,2135319889,1649704518,1767536459,2967507152,3152976349,2801566410,2918353863,2631447780,2547432937,2328143614,2177544179,3901806776,3818836405,4270639778,4118987695,3299409036,3483825537,3535072918,3652904859,2077965243,1893020342,1841768865,1724457132,1474502543,1559041666,1107234197,1257309336,598438867,681933534,901210569,1052338372,261314535,77422314,428819965,310463728,3409685355,3224740454,3710368113,3593056380,3875770207,3960309330,4045380933,4195456072,2471224067,2554718734,2237133081,2388260884,3212035895,3028143674,2842678573,2724322336,4138563181,4255350624,3769721975,3955191162,3667219033,3516619604,3431546947,3347532110,2933734917,2782082824,3099667487,3016697106,2196052529,2313884476,2499348523,2683765030,1179510461,1296297904,1347548327,1533017514,1786102409,1635502980,2087309459,2003294622,507358933,355706840,136428751,53458370,839224033,957055980,605657339,790073846,2373340630,2256028891,2607439820,2422494913,2706270690,2856345839,3075636216,3160175349,3573941694,3725069491,3273267108,3356761769,4181598602,4063242375,4011996048,3828103837,1033297158,915985419,730517276,545572369,296679730,446754879,129166120,213705253,1709610350,1860738147,1945798516,2029293177,1239331162,1120974935,1606591296,1422699085,4148292826,4233094615,3781033664,3931371469,3682191598,3497509347,3446004468,3328955385,2939266226,2755636671,3106780840,2988687269,2198438022,2282195339,2501218972,2652609425,1201765386,1286567175,1371368976,1521706781,1805211710,1620529459,2105887268,1988838185,533804130,350174575,164439672,46346101,870912086,954669403,636813900,788204353,2358957921,2274680428,2592523643,2441661558,2695033685,2880240216,3065962831,3182487618,3572145929,3756299780,3270937875,3388507166,4174560061,4091327024,4006521127,3854606378,1014646705,930369212,711349675,560487590,272786309,457992840,106852767,223377554,1678381017,1862534868,1914052035,2031621326,1211247597,1128014560,1580087799,1428173050,32283319,182621114,401639597,486441376,768917123,651868046,1003007129,818324884,1503449823,1385356242,1333838021,1150208456,1973745387,2125135846,1673061617,1756818940,2970356327,3120694122,2802849917,2887651696,2637442643,2520393566,2334669897,2149987652,3917234703,3799141122,4284502037,4100872472,3309594171,3460984630,3545789473,3629546796,2050466060,1899603969,1814803222,1730525723,1443857720,1560382517,1075025698,1260232239,575138148,692707433,878443390,1062597235,243256656,91341917,409198410,325965383,3403100636,3252238545,3704300486,3620022987,3874428392,3990953189,4042459122,4227665663,2460449204,2578018489,2226875310,2411029155,3198115200,3046200461,2827177882,2743944855],S=[0,218828297,437656594,387781147,875313188,958871085,775562294,590424639,1750626376,1699970625,1917742170,2135253587,1551124588,1367295589,1180849278,1265195639,3501252752,3720081049,3399941250,3350065803,3835484340,3919042237,4270507174,4085369519,3102249176,3051593425,2734591178,2952102595,2361698556,2177869557,2530391278,2614737639,3145456443,3060847922,2708326185,2892417312,2404901663,2187128086,2504130317,2555048196,3542330227,3727205754,3375740769,3292445032,3876557655,3926170974,4246310725,4027744588,1808481195,1723872674,1910319033,2094410160,1608975247,1391201670,1173430173,1224348052,59984867,244860394,428169201,344873464,935293895,984907214,766078933,547512796,1844882806,1627235199,2011214180,2062270317,1507497298,1423022939,1137477952,1321699145,95345982,145085239,532201772,313773861,830661914,1015671571,731183368,648017665,3175501286,2957853679,2807058932,2858115069,2305455554,2220981195,2474404304,2658625497,3575528878,3625268135,3473416636,3254988725,3778151818,3963161475,4213447064,4130281361,3599595085,3683022916,3432737375,3247465558,3802222185,4020912224,4172763771,4122762354,3201631749,3017672716,2764249623,2848461854,2331590177,2280796200,2431590963,2648976442,104699613,188127444,472615631,287343814,840019705,1058709744,671593195,621591778,1852171925,1668212892,1953757831,2037970062,1514790577,1463996600,1080017571,1297403050,3673637356,3623636965,3235995134,3454686199,4007360968,3822090177,4107101658,4190530515,2997825956,3215212461,2830708150,2779915199,2256734592,2340947849,2627016082,2443058075,172466556,122466165,273792366,492483431,1047239e3,861968209,612205898,695634755,1646252340,1863638845,2013908262,1963115311,1446242576,1530455833,1277555970,1093597963,1636604631,1820824798,2073724613,1989249228,1436590835,1487645946,1337376481,1119727848,164948639,81781910,331544205,516552836,1039717051,821288114,669961897,719700128,2973530695,3157750862,2871682645,2787207260,2232435299,2283490410,2667994737,2450346104,3647212047,3564045318,3279033885,3464042516,3980931627,3762502690,4150144569,4199882800,3070356634,3121275539,2904027272,2686254721,2200818878,2384911031,2570832044,2486224549,3747192018,3528626907,3310321856,3359936201,3950355702,3867060991,4049844452,4234721005,1739656202,1790575107,2108100632,1890328081,1402811438,1586903591,1233856572,1149249077,266959938,48394827,369057872,418672217,1002783846,919489135,567498868,752375421,209336225,24197544,376187827,459744698,945164165,895287692,574624663,793451934,1679968233,1764313568,2117360635,1933530610,1343127501,1560637892,1243112415,1192455638,3704280881,3519142200,3336358691,3419915562,3907448597,3857572124,4075877127,4294704398,3029510009,3113855344,2927934315,2744104290,2159976285,2377486676,2594734927,2544078150],C=[0,151849742,303699484,454499602,607398968,758720310,908999204,1059270954,1214797936,1097159550,1517440620,1400849762,1817998408,1699839814,2118541908,2001430874,2429595872,2581445614,2194319100,2345119218,3034881240,3186202582,2801699524,2951971274,3635996816,3518358430,3399679628,3283088770,4237083816,4118925222,4002861748,3885750714,1002142683,850817237,698445255,548169417,529487843,377642221,227885567,77089521,1943217067,2061379749,1640576439,1757691577,1474760595,1592394909,1174215055,1290801793,2875968315,2724642869,3111247143,2960971305,2405426947,2253581325,2638606623,2487810577,3808662347,3926825029,4044981591,4162096729,3342319475,3459953789,3576539503,3693126241,1986918061,2137062819,1685577905,1836772287,1381620373,1532285339,1078185097,1229899655,1040559837,923313619,740276417,621982671,439452389,322734571,137073913,19308535,3871163981,4021308739,4104605777,4255800159,3263785589,3414450555,3499326569,3651041127,2933202493,2815956275,3167684641,3049390895,2330014213,2213296395,2566595609,2448830231,1305906550,1155237496,1607244650,1455525988,1776460110,1626319424,2079897426,1928707164,96392454,213114376,396673818,514443284,562755902,679998e3,865136418,983426092,3708173718,3557504664,3474729866,3323011204,4180808110,4030667424,3945269170,3794078908,2507040230,2623762152,2272556026,2390325492,2975484382,3092726480,2738905026,2857194700,3973773121,3856137295,4274053469,4157467219,3371096953,3252932727,3673476453,3556361835,2763173681,2915017791,3064510765,3215307299,2156299017,2307622919,2459735317,2610011675,2081048481,1963412655,1846563261,1729977011,1480485785,1362321559,1243905413,1126790795,878845905,1030690015,645401037,796197571,274084841,425408743,38544885,188821243,3613494426,3731654548,3313212038,3430322568,4082475170,4200115116,3780097726,3896688048,2668221674,2516901860,2366882550,2216610296,3141400786,2989552604,2837966542,2687165888,1202797690,1320957812,1437280870,1554391400,1669664834,1787304780,1906247262,2022837584,265905162,114585348,499347990,349075736,736970802,585122620,972512814,821712160,2595684844,2478443234,2293045232,2174754046,3196267988,3079546586,2895723464,2777952454,3537852828,3687994002,3234156416,3385345166,4142626212,4293295786,3841024952,3992742070,174567692,57326082,410887952,292596766,777231668,660510266,1011452712,893681702,1108339068,1258480242,1343618912,1494807662,1715193156,1865862730,1948373848,2100090966,2701949495,2818666809,3004591147,3122358053,2235061775,2352307457,2535604243,2653899549,3915653703,3764988233,4219352155,4067639125,3444575871,3294430577,3746175075,3594982253,836553431,953270745,600235211,718002117,367585007,484830689,133361907,251657213,2041877159,1891211689,1806599355,1654886325,1568718495,1418573201,1335535747,1184342925];function $(L){for(var x=[],W=0;W<L.length;W+=4)x.push(L[W]<<24|L[W+1]<<16|L[W+2]<<8|L[W+3]);return x}var B=function(L){if(!(this instanceof B))throw Error("AES must be instanitated with `new`");Object.defineProperty(this,"key",{value:s(L,!0)}),this._prepare()};B.prototype._prepare=function(){var L=u[this.key.length];if(L==null)throw new Error("invalid key size (must be 16, 24 or 32 bytes)");this._Ke=[],this._Kd=[];for(var x=0;x<=L;x++)this._Ke.push([0,0,0,0]),this._Kd.push([0,0,0,0]);for(var W=(L+1)*4,K=this.key.length/4,P=$(this.key),X,x=0;x<K;x++)X=x>>2,this._Ke[X][x%4]=P[x],this._Kd[L-X][x%4]=P[x];for(var q=0,te=K,ne;te<W;){if(ne=P[K-1],P[0]^=h[ne>>16&255]<<24^h[ne>>8&255]<<16^h[ne&255]<<8^h[ne>>24&255]^f[q]<<24,q+=1,K!=8)for(var x=1;x<K;x++)P[x]^=P[x-1];else{for(var x=1;x<K/2;x++)P[x]^=P[x-1];ne=P[K/2-1],P[K/2]^=h[ne&255]^h[ne>>8&255]<<8^h[ne>>16&255]<<16^h[ne>>24&255]<<24;for(var x=K/2+1;x<K;x++)P[x]^=P[x-1]}for(var x=0,le,me;x<K&&te<W;)le=te>>2,me=te%4,this._Ke[le][me]=P[x],this._Kd[L-le][me]=P[x++],te++}for(var le=1;le<L;le++)for(var me=0;me<4;me++)ne=this._Kd[le][me],this._Kd[le][me]=D[ne>>24&255]^H[ne>>16&255]^S[ne>>8&255]^C[ne&255]},B.prototype.encrypt=function(L){if(L.length!=16)throw new Error("invalid plaintext size (must be 16 bytes)");for(var x=this._Ke.length-1,W=[0,0,0,0],K=$(L),P=0;P<4;P++)K[P]^=this._Ke[0][P];for(var X=1;X<x;X++){for(var P=0;P<4;P++)W[P]=_[K[P]>>24&255]^m[K[(P+1)%4]>>16&255]^b[K[(P+2)%4]>>8&255]^A[K[(P+3)%4]&255]^this._Ke[X][P];K=W.slice()}for(var q=o(16),te,P=0;P<4;P++)te=this._Ke[x][P],q[4*P]=(h[K[P]>>24&255]^te>>24)&255,q[4*P+1]=(h[K[(P+1)%4]>>16&255]^te>>16)&255,q[4*P+2]=(h[K[(P+2)%4]>>8&255]^te>>8)&255,q[4*P+3]=(h[K[(P+3)%4]&255]^te)&255;return q},B.prototype.decrypt=function(L){if(L.length!=16)throw new Error("invalid ciphertext size (must be 16 bytes)");for(var x=this._Kd.length-1,W=[0,0,0,0],K=$(L),P=0;P<4;P++)K[P]^=this._Kd[0][P];for(var X=1;X<x;X++){for(var P=0;P<4;P++)W[P]=N[K[P]>>24&255]^R[K[(P+3)%4]>>16&255]^k[K[(P+2)%4]>>8&255]^M[K[(P+1)%4]&255]^this._Kd[X][P];K=W.slice()}for(var q=o(16),te,P=0;P<4;P++)te=this._Kd[x][P],q[4*P]=(g[K[P]>>24&255]^te>>24)&255,q[4*P+1]=(g[K[(P+3)%4]>>16&255]^te>>16)&255,q[4*P+2]=(g[K[(P+2)%4]>>8&255]^te>>8)&255,q[4*P+3]=(g[K[(P+1)%4]&255]^te)&255;return q};var O=function(L){if(!(this instanceof O))throw Error("AES must be instanitated with `new`");this.description="Electronic Code Block",this.name="ecb",this._aes=new B(L)};O.prototype.encrypt=function(L){if(L=s(L),L.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var x=o(L.length),W=o(16),K=0;K<L.length;K+=16)a(L,W,0,K,K+16),W=this._aes.encrypt(W),a(W,x,K);return x},O.prototype.decrypt=function(L){if(L=s(L),L.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var x=o(L.length),W=o(16),K=0;K<L.length;K+=16)a(L,W,0,K,K+16),W=this._aes.decrypt(W),a(W,x,K);return x};var T=function(L,x){if(!(this instanceof T))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Block Chaining",this.name="cbc",!x)x=o(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastCipherblock=s(x,!0),this._aes=new B(L)};T.prototype.encrypt=function(L){if(L=s(L),L.length%16!==0)throw new Error("invalid plaintext size (must be multiple of 16 bytes)");for(var x=o(L.length),W=o(16),K=0;K<L.length;K+=16){a(L,W,0,K,K+16);for(var P=0;P<16;P++)W[P]^=this._lastCipherblock[P];this._lastCipherblock=this._aes.encrypt(W),a(this._lastCipherblock,x,K)}return x},T.prototype.decrypt=function(L){if(L=s(L),L.length%16!==0)throw new Error("invalid ciphertext size (must be multiple of 16 bytes)");for(var x=o(L.length),W=o(16),K=0;K<L.length;K+=16){a(L,W,0,K,K+16),W=this._aes.decrypt(W);for(var P=0;P<16;P++)x[K+P]=W[P]^this._lastCipherblock[P];a(L,this._lastCipherblock,0,K,K+16)}return x};var y=function(L,x,W){if(!(this instanceof y))throw Error("AES must be instanitated with `new`");if(this.description="Cipher Feedback",this.name="cfb",!x)x=o(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 size)");W||(W=1),this.segmentSize=W,this._shiftRegister=s(x,!0),this._aes=new B(L)};y.prototype.encrypt=function(L){if(L.length%this.segmentSize!=0)throw new Error("invalid plaintext size (must be segmentSize bytes)");for(var x=s(L,!0),W,K=0;K<x.length;K+=this.segmentSize){W=this._aes.encrypt(this._shiftRegister);for(var P=0;P<this.segmentSize;P++)x[K+P]^=W[P];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(x,this._shiftRegister,16-this.segmentSize,K,K+this.segmentSize)}return x},y.prototype.decrypt=function(L){if(L.length%this.segmentSize!=0)throw new Error("invalid ciphertext size (must be segmentSize bytes)");for(var x=s(L,!0),W,K=0;K<x.length;K+=this.segmentSize){W=this._aes.encrypt(this._shiftRegister);for(var P=0;P<this.segmentSize;P++)x[K+P]^=W[P];a(this._shiftRegister,this._shiftRegister,0,this.segmentSize),a(L,this._shiftRegister,16-this.segmentSize,K,K+this.segmentSize)}return x};var w=function(L,x){if(!(this instanceof w))throw Error("AES must be instanitated with `new`");if(this.description="Output Feedback",this.name="ofb",!x)x=o(16);else if(x.length!=16)throw new Error("invalid initialation vector size (must be 16 bytes)");this._lastPrecipher=s(x,!0),this._lastPrecipherIndex=16,this._aes=new B(L)};w.prototype.encrypt=function(L){for(var x=s(L,!0),W=0;W<x.length;W++)this._lastPrecipherIndex===16&&(this._lastPrecipher=this._aes.encrypt(this._lastPrecipher),this._lastPrecipherIndex=0),x[W]^=this._lastPrecipher[this._lastPrecipherIndex++];return x},w.prototype.decrypt=w.prototype.encrypt;var E=function(L){if(!(this instanceof E))throw Error("Counter must be instanitated with `new`");L!==0&&!L&&(L=1),typeof L=="number"?(this._counter=o(16),this.setValue(L)):this.setBytes(L)};E.prototype.setValue=function(L){if(typeof L!="number"||parseInt(L)!=L)throw new Error("invalid counter value (must be an integer)");for(var x=15;x>=0;--x)this._counter[x]=L%256,L=L>>8},E.prototype.setBytes=function(L){if(L=s(L,!0),L.length!=16)throw new Error("invalid counter bytes size (must be 16 bytes)");this._counter=L},E.prototype.increment=function(){for(var L=15;L>=0;L--)if(this._counter[L]===255)this._counter[L]=0;else{this._counter[L]++;break}};var I=function(L,x){if(!(this instanceof I))throw Error("AES must be instanitated with `new`");this.description="Counter",this.name="ctr",x instanceof E||(x=new E(x)),this._counter=x,this._remainingCounter=null,this._remainingCounterIndex=16,this._aes=new B(L)};I.prototype.encrypt=function(L){for(var x=s(L,!0),W=0;W<x.length;W++)this._remainingCounterIndex===16&&(this._remainingCounter=this._aes.encrypt(this._counter._counter),this._remainingCounterIndex=0,this._counter.increment()),x[W]^=this._remainingCounter[this._remainingCounterIndex++];return x},I.prototype.decrypt=I.prototype.encrypt;function U(L){L=s(L,!0);var x=16-L.length%16,W=o(L.length+x);a(L,W);for(var K=L.length;K<W.length;K++)W[K]=x;return W}function j(L){if(L=s(L,!0),L.length<16)throw new Error("PKCS#7 invalid length");var x=L[L.length-1];if(x>16)throw new Error("PKCS#7 padding byte out of range");for(var W=L.length-x,K=0;K<x;K++)if(L[W+K]!==x)throw new Error("PKCS#7 invalid padding byte");var P=o(W);return a(L,P,0,0,W),P}var z={AES:B,Counter:E,ModeOfOperation:{ecb:O,cbc:T,cfb:y,ofb:w,ctr:I},utils:{hex:l,utf8:c},padding:{pkcs7:{pad:U,strip:j}},_arrayTest:{coerceArray:s,createArray:o,copyArray:a}};t.exports=z})()})(FS)),FS.exports}var YTe=JTe();const ui=Ws(YTe),$G="json-wallets/5.8.0";function O0(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ce(t)}function Ly(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function T6(t){return typeof t=="string"?Gn(t,Qf.NFKC):Ce(t)}function ei(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function XTe(t){const e=Ce(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=Oe(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const QTe=new he($G);let ZTe=class extends ba{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}};function FG(t,e){const r=JSON.parse(t);e=T6(e);const n=Pr(ei(r,"ethaddr")),i=O0(ei(r,"encseed"));(!i||i.length%16!==0)&&QTe.throwArgumentError("invalid encseed","json",t);const s=Ce(W1(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new ui.ModeOfOperation.cbc(s,o),l=ui.padding.pkcs7.strip(Ce(c.decrypt(a)));let u="";for(let g=0;g<l.length;g++)u+=String.fromCharCode(l[g]);const f=Gn(u),h=xr(f);return new ZTe({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function BG(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function HG(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}var BS={exports:{}},U9;function eIe(){return U9||(U9=1,(function(t,e){(function(r){function i(m){const b=new Uint32Array([1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298]);let A=1779033703,N=3144134277,R=1013904242,k=2773480762,M=1359893119,D=2600822924,H=528734635,S=1541459225;const C=new Uint32Array(64);function $(I){let U=0,j=I.length;for(;j>=64;){let z=A,L=N,x=R,W=k,K=M,P=D,X=H,q=S,te,ne,le,me,Y;for(ne=0;ne<16;ne++)le=U+ne*4,C[ne]=(I[le]&255)<<24|(I[le+1]&255)<<16|(I[le+2]&255)<<8|I[le+3]&255;for(ne=16;ne<64;ne++)te=C[ne-2],me=(te>>>17|te<<15)^(te>>>19|te<<13)^te>>>10,te=C[ne-15],Y=(te>>>7|te<<25)^(te>>>18|te<<14)^te>>>3,C[ne]=(me+C[ne-7]|0)+(Y+C[ne-16]|0)|0;for(ne=0;ne<64;ne++)me=(((K>>>6|K<<26)^(K>>>11|K<<21)^(K>>>25|K<<7))+(K&P^~K&X)|0)+(q+(b[ne]+C[ne]|0)|0)|0,Y=((z>>>2|z<<30)^(z>>>13|z<<19)^(z>>>22|z<<10))+(z&L^z&x^L&x)|0,q=X,X=P,P=K,K=W+me|0,W=x,x=L,L=z,z=me+Y|0;A=A+z|0,N=N+L|0,R=R+x|0,k=k+W|0,M=M+K|0,D=D+P|0,H=H+X|0,S=S+q|0,U+=64,j-=64}}$(m);let B,O=m.length%64,T=m.length/536870912|0,y=m.length<<3,w=O<56?56:120,E=m.slice(m.length-O,m.length);for(E.push(128),B=O+1;B<w;B++)E.push(0);return E.push(T>>>24&255),E.push(T>>>16&255),E.push(T>>>8&255),E.push(T>>>0&255),E.push(y>>>24&255),E.push(y>>>16&255),E.push(y>>>8&255),E.push(y>>>0&255),$(E),[A>>>24&255,A>>>16&255,A>>>8&255,A>>>0&255,N>>>24&255,N>>>16&255,N>>>8&255,N>>>0&255,R>>>24&255,R>>>16&255,R>>>8&255,R>>>0&255,k>>>24&255,k>>>16&255,k>>>8&255,k>>>0&255,M>>>24&255,M>>>16&255,M>>>8&255,M>>>0&255,D>>>24&255,D>>>16&255,D>>>8&255,D>>>0&255,H>>>24&255,H>>>16&255,H>>>8&255,H>>>0&255,S>>>24&255,S>>>16&255,S>>>8&255,S>>>0&255]}function s(m,b,A){m=m.length<=64?m:i(m);const N=64+b.length+4,R=new Array(N),k=new Array(64);let M,D=[];for(M=0;M<64;M++)R[M]=54;for(M=0;M<m.length;M++)R[M]^=m[M];for(M=0;M<b.length;M++)R[64+M]=b[M];for(M=N-4;M<N;M++)R[M]=0;for(M=0;M<64;M++)k[M]=92;for(M=0;M<m.length;M++)k[M]^=m[M];function H(){for(let S=N-1;S>=N-4;S--){if(R[S]++,R[S]<=255)return;R[S]=0}}for(;A>=32;)H(),D=D.concat(i(k.concat(i(R)))),A-=32;return A>0&&(H(),D=D.concat(i(k.concat(i(R))).slice(0,A))),D}function o(m,b,A,N,R){let k;for(u(m,(2*A-1)*16,R,0,16),k=0;k<2*A;k++)l(m,k*16,R,16),c(R,N),u(R,0,m,b+k*16,16);for(k=0;k<A;k++)u(m,b+k*2*16,m,k*16,16);for(k=0;k<A;k++)u(m,b+(k*2+1)*16,m,(k+A)*16,16)}function a(m,b){return m<<b|m>>>32-b}function c(m,b){u(m,0,b,0,16);for(let A=8;A>0;A-=2)b[4]^=a(b[0]+b[12],7),b[8]^=a(b[4]+b[0],9),b[12]^=a(b[8]+b[4],13),b[0]^=a(b[12]+b[8],18),b[9]^=a(b[5]+b[1],7),b[13]^=a(b[9]+b[5],9),b[1]^=a(b[13]+b[9],13),b[5]^=a(b[1]+b[13],18),b[14]^=a(b[10]+b[6],7),b[2]^=a(b[14]+b[10],9),b[6]^=a(b[2]+b[14],13),b[10]^=a(b[6]+b[2],18),b[3]^=a(b[15]+b[11],7),b[7]^=a(b[3]+b[15],9),b[11]^=a(b[7]+b[3],13),b[15]^=a(b[11]+b[7],18),b[1]^=a(b[0]+b[3],7),b[2]^=a(b[1]+b[0],9),b[3]^=a(b[2]+b[1],13),b[0]^=a(b[3]+b[2],18),b[6]^=a(b[5]+b[4],7),b[7]^=a(b[6]+b[5],9),b[4]^=a(b[7]+b[6],13),b[5]^=a(b[4]+b[7],18),b[11]^=a(b[10]+b[9],7),b[8]^=a(b[11]+b[10],9),b[9]^=a(b[8]+b[11],13),b[10]^=a(b[9]+b[8],18),b[12]^=a(b[15]+b[14],7),b[13]^=a(b[12]+b[15],9),b[14]^=a(b[13]+b[12],13),b[15]^=a(b[14]+b[13],18);for(let A=0;A<16;++A)m[A]+=b[A]}function l(m,b,A,N){for(let R=0;R<N;R++)A[R]^=m[b+R]}function u(m,b,A,N,R){for(;R--;)A[N++]=m[b++]}function f(m){if(!m||typeof m.length!="number")return!1;for(let b=0;b<m.length;b++){const A=m[b];if(typeof A!="number"||A%1||A<0||A>=256)return!1}return!0}function h(m,b){if(typeof m!="number"||m%1)throw new Error("invalid "+b);return m}function g(m,b,A,N,R,k,M){if(A=h(A,"N"),N=h(N,"r"),R=h(R,"p"),k=h(k,"dkLen"),A===0||(A&A-1)!==0)throw new Error("N must be power of 2");if(A>2147483647/128/N)throw new Error("N too large");if(N>2147483647/128/R)throw new Error("r too large");if(!f(m))throw new Error("password must be an array or buffer");if(m=Array.prototype.slice.call(m),!f(b))throw new Error("salt must be an array or buffer");b=Array.prototype.slice.call(b);let D=s(m,b,R*128*N);const H=new Uint32Array(R*32*N);for(let K=0;K<H.length;K++){const P=K*4;H[K]=(D[P+3]&255)<<24|(D[P+2]&255)<<16|(D[P+1]&255)<<8|(D[P+0]&255)<<0}const S=new Uint32Array(64*N),C=new Uint32Array(32*N*A),$=32*N,B=new Uint32Array(16),O=new Uint32Array(16),T=R*A*2;let y=0,w=null,E=!1,I=0,U=0,j,z;const L=M?parseInt(1e3/N):4294967295,x=typeof setImmediate<"u"?setImmediate:setTimeout,W=function(){if(E)return M(new Error("cancelled"),y/T);let K;switch(I){case 0:z=U*32*N,u(H,z,S,0,$),I=1,j=0;case 1:K=A-j,K>L&&(K=L);for(let X=0;X<K;X++)u(S,0,C,(j+X)*$,$),o(S,$,N,B,O);if(j+=K,y+=K,M){const X=parseInt(1e3*y/T);if(X!==w){if(E=M(null,y/T),E)break;w=X}}if(j<A)break;j=0,I=2;case 2:K=A-j,K>L&&(K=L);for(let X=0;X<K;X++){const q=(2*N-1)*16,te=S[q]&A-1;l(C,te*$,S,$),o(S,$,N,B,O)}if(j+=K,y+=K,M){const X=parseInt(1e3*y/T);if(X!==w){if(E=M(null,y/T),E)break;w=X}}if(j<A)break;if(u(S,0,H,z,$),U++,U<R){I=0;break}D=[];for(let X=0;X<H.length;X++)D.push(H[X]>>0&255),D.push(H[X]>>8&255),D.push(H[X]>>16&255),D.push(H[X]>>24&255);const P=s(m,D,k);return M&&M(null,1,P),P}M&&x(W)};if(!M)for(;;){const K=W();if(K!=null)return K}W()}const _={scrypt:function(m,b,A,N,R,k,M){return new Promise(function(D,H){let S=0;M&&M(0),g(m,b,A,N,R,k,function(C,$,B){if(C)H(C);else if(B)M&&S!==1&&M(1),D(new Uint8Array(B));else if(M&&$!==S)return S=$,M($)})})},syncScrypt:function(m,b,A,N,R,k){return new Uint8Array(g(m,b,A,N,R,k))}};t.exports=_})()})(BS)),BS.exports}var tIe=eIe();const Fm=Ws(tIe);var rIe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Z3=new he($G);function L9(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}let nIe=class extends ba{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}};function iIe(t,e,r){if(ei(t,"crypto/cipher")==="aes-128-ctr"){const i=O0(ei(t,"crypto/cipherparams/iv")),s=new ui.Counter(i),o=new ui.ModeOfOperation.ctr(e,s);return Ce(o.decrypt(r))}return null}function jG(t,e){const r=O0(ei(t,"crypto/ciphertext"));if(Oe(xr(Cr([e.slice(16,32),r]))).substring(2)!==ei(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=iIe(t,e.slice(0,16),r);i||Z3.throwError("unsupported cipher",he.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Wf(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Pr(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:Oe(i)};if(ei(t,"x-ethers/version")==="0.1"){const c=O0(ei(t,"x-ethers/mnemonicCiphertext")),l=O0(ei(t,"x-ethers/mnemonicCounter")),u=new ui.Counter(l),f=new ui.ModeOfOperation.ctr(s,u),h=ei(t,"x-ethers/path")||gh,g=ei(t,"x-ethers/locale")||"en",_=Ce(f.decrypt(c));try{const m=c2(_,g),b=gm.fromMnemonic(m,null,g).derivePath(h);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(m){if(m.code!==he.errors.INVALID_ARGUMENT||m.argument!=="wordlist")throw m}}return new nIe(a)}function WG(t,e,r,n,i){return Ce(W1(t,e,r,n,i))}function sIe(t,e,r,n,i){return Promise.resolve(WG(t,e,r,n,i))}function qG(t,e,r,n,i){const s=T6(e),o=ei(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return Z3.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=O0(ei(t,"crypto/kdfparams/salt")),l=parseInt(ei(t,"crypto/kdfparams/n")),u=parseInt(ei(t,"crypto/kdfparams/r")),f=parseInt(ei(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const h=parseInt(ei(t,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=O0(ei(t,"crypto/kdfparams/salt"));let l=null;const u=ei(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(ei(t,"crypto/kdfparams/c")),h=parseInt(ei(t,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),r(s,c,f,h,l)}}return Z3.throwArgumentError("unsupported key-derivation function","kdf",o)}function oIe(t,e){const r=JSON.parse(t),n=qG(r,e,WG,Fm.syncScrypt);return jG(r,n)}function aIe(t,e,r){return rIe(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield qG(n,e,sIe,Fm.scrypt,r);return jG(n,i)})}function cIe(t,e,r,n){try{if(Pr(t.address)!==Wf(t.privateKey))throw new Error("address/privateKey mismatch");if(L9(t)){const b=t.mnemonic;if(gm.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||gh).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=Ce(t.privateKey),s=T6(e);let o=null,a=null,c=null;if(L9(t)){const b=t.mnemonic;o=Ce(S6(b.phrase,b.locale||"en")),a=b.path||gh,c=b.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=Ce(r.salt):u=Lf(32);let f=null;if(r.iv){if(f=Ce(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Lf(16);let h=null;if(r.uuid){if(h=Ce(r.uuid),h.length!==16)throw new Error("invalid uuid")}else h=Lf(16);let g=1<<17,_=8,m=1;return r.scrypt&&(r.scrypt.N&&(g=r.scrypt.N),r.scrypt.r&&(_=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),Fm.scrypt(s,u,g,_,m,64,n).then(b=>{b=Ce(b);const A=b.slice(0,16),N=b.slice(16,32),R=b.slice(32,64),k=new ui.Counter(f),M=new ui.ModeOfOperation.ctr(A,k),D=Ce(M.encrypt(i)),H=xr(Cr([N,D])),S={address:t.address.substring(2).toLowerCase(),id:XTe(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Oe(f).substring(2)},ciphertext:Oe(D).substring(2),kdf:"scrypt",kdfparams:{salt:Oe(u).substring(2),n:g,dklen:32,p:m,r:_},mac:H.substring(2)}};if(o){const C=Lf(16),$=new ui.Counter(C),B=new ui.ModeOfOperation.ctr(R,$),O=Ce(B.encrypt(o)),T=new Date,y=T.getUTCFullYear()+"-"+Ly(T.getUTCMonth()+1,2)+"-"+Ly(T.getUTCDate(),2)+"T"+Ly(T.getUTCHours(),2)+"-"+Ly(T.getUTCMinutes(),2)+"-"+Ly(T.getUTCSeconds(),2)+".0Z";S["x-ethers"]={client:l,gethFilename:"UTC--"+y+"--"+S.address,mnemonicCounter:Oe(C).substring(2),mnemonicCiphertext:Oe(O).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(S)})}function lIe(t,e,r){if(BG(t)){r&&r(0);const n=FG(t,e);return r&&r(1),Promise.resolve(n)}return HG(t)?aIe(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function uIe(t,e){if(BG(t))return FG(t,e);if(HG(t))return oIe(t,e);throw new Error("invalid JSON wallet")}const fIe="wallet/5.7.0";var $9=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ng=new he(fIe);function dIe(t){return t!=null&&Gt(t.privateKey,32)&&t.address!=null}function hIe(t){const e=t.mnemonic;return e&&e.phrase}class g0 extends Um{constructor(e,r){if(super(),dIe(e)){const n=new zg(e.privateKey);if(Ae(this,"_signingKey",()=>n),Ae(this,"address",Wf(this.publicKey)),this.address!==Pr(e.address)&&ng.throwArgumentError("privateKey/address mismatch","privateKey","[REDACTED]"),hIe(e)){const i=e.mnemonic;Ae(this,"_mnemonic",()=>({phrase:i.phrase,path:i.path||gh,locale:i.locale||"en"}));const s=this.mnemonic,o=gm.fromMnemonic(s.phrase,null,s.locale).derivePath(s.path);Wf(o.privateKey)!==this.address&&ng.throwArgumentError("mnemonic/address mismatch","privateKey","[REDACTED]")}else Ae(this,"_mnemonic",()=>null)}else{if(zg.isSigningKey(e))e.curve!=="secp256k1"&&ng.throwArgumentError("unsupported curve; must be secp256k1","privateKey","[REDACTED]"),Ae(this,"_signingKey",()=>e);else{typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e="0x"+e);const n=new zg(e);Ae(this,"_signingKey",()=>n)}Ae(this,"_mnemonic",()=>null),Ae(this,"address",Wf(this.publicKey))}r&&!B1.isProvider(r)&&ng.throwArgumentError("invalid provider","provider",r),Ae(this,"provider",r||null)}get mnemonic(){return this._mnemonic()}get privateKey(){return this._signingKey().privateKey}get publicKey(){return this._signingKey().publicKey}getAddress(){return Promise.resolve(this.address)}connect(e){return new g0(this,e)}signTransaction(e){return Qn(e).then(r=>{r.from!=null&&(Pr(r.from)!==this.address&&ng.throwArgumentError("transaction from address mismatch","transaction.from",e.from),delete r.from);const n=this._signingKey().signDigest(xr(S9(r)));return S9(r,n)})}signMessage(e){return $9(this,void 0,void 0,function*(){return WU(this._signingKey().signDigest(_G(e)))})}_signTypedData(e,r,n){return $9(this,void 0,void 0,function*(){const i=yield Gb.resolveNames(e,r,n,s=>(this.provider==null&&ng.throwError("cannot resolve ENS names without a provider",he.errors.UNSUPPORTED_OPERATION,{operation:"resolveName",value:s}),this.provider.resolveName(s)));return WU(this._signingKey().signDigest(Gb.hash(i.domain,r,i.value)))})}encrypt(e,r,n){if(typeof r=="function"&&!n&&(n=r,r={}),n&&typeof n!="function")throw new Error("invalid callback");return r||(r={}),cIe(this,e,r,n)}static createRandom(e){let r=Lf(16);e||(e={}),e.extraEntropy&&(r=Ce(li(xr(Cr([r,e.extraEntropy])),0,16)));const n=c2(r,e.locale);return g0.fromMnemonic(n,e.path,e.locale)}static fromEncryptedJson(e,r,n){return lIe(e,r,n).then(i=>new g0(i))}static fromEncryptedJsonSync(e,r){return new g0(uIe(e,r))}static fromMnemonic(e,r,n){return r||(r=gh),new g0(gm.fromMnemonic(e,null,n).derivePath(r))}}function pIe(t,e){return o2(_G(t),e)}function gIe(t,e,r,n){return o2(Gb.hash(t,e,r),n)}const mIe=Object.freeze(Object.defineProperty({__proto__:null,Wallet:g0,verifyMessage:pIe,verifyTypedData:gIe},Symbol.toStringTag,{value:"Module"})),yIe="networks/5.8.0",F9=new he(yIe);function _Ie(t){return t&&typeof t.renetwork=="function"}function Xc(t){const e=function(r,n){n==null&&(n={});const i=[];if(r.InfuraProvider&&n.infura!=="-")try{i.push(new r.InfuraProvider(t,n.infura))}catch{}if(r.EtherscanProvider&&n.etherscan!=="-")try{i.push(new r.EtherscanProvider(t,n.etherscan))}catch{}if(r.AlchemyProvider&&n.alchemy!=="-")try{i.push(new r.AlchemyProvider(t,n.alchemy))}catch{}if(r.PocketProvider&&n.pocket!=="-"){const s=["goerli","ropsten","rinkeby","sepolia"];try{const o=new r.PocketProvider(t,n.pocket);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}}if(r.CloudflareProvider&&n.cloudflare!=="-")try{i.push(new r.CloudflareProvider(t))}catch{}if(r.AnkrProvider&&n.ankr!=="-")try{const s=["ropsten"],o=new r.AnkrProvider(t,n.ankr);o.network&&s.indexOf(o.network.name)===-1&&i.push(o)}catch{}if(r.QuickNodeProvider&&n.quicknode!=="-")try{i.push(new r.QuickNodeProvider(t,n.quicknode))}catch{}if(i.length===0)return null;if(r.FallbackProvider){let s=1;return n.quorum!=null?s=n.quorum:t==="homestead"&&(s=2),new r.FallbackProvider(i,s)}return i[0]};return e.renetwork=function(r){return Xc(r)},e}function GA(t,e){const r=function(n,i){return n.JsonRpcProvider?new n.JsonRpcProvider(t,e):null};return r.renetwork=function(n){return GA(t,n)},r}const B9={chainId:1,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"homestead",_defaultProvider:Xc("homestead")},H9={chainId:3,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"ropsten",_defaultProvider:Xc("ropsten")},j9={chainId:63,name:"classicMordor",_defaultProvider:GA("https://www.ethercluster.com/mordor","classicMordor")},Ev={unspecified:{chainId:0,name:"unspecified"},homestead:B9,mainnet:B9,morden:{chainId:2,name:"morden"},ropsten:H9,testnet:H9,rinkeby:{chainId:4,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"rinkeby",_defaultProvider:Xc("rinkeby")},kovan:{chainId:42,name:"kovan",_defaultProvider:Xc("kovan")},goerli:{chainId:5,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"goerli",_defaultProvider:Xc("goerli")},kintsugi:{chainId:1337702,name:"kintsugi"},sepolia:{chainId:11155111,ensAddress:"0x00000000000C2E074eC69A0dFb2997BA6C7d2e1e",name:"sepolia",_defaultProvider:Xc("sepolia")},holesky:{chainId:17e3,name:"holesky",_defaultProvider:Xc("holesky")},classic:{chainId:61,name:"classic",_defaultProvider:GA("https://www.ethercluster.com/etc","classic")},classicMorden:{chainId:62,name:"classicMorden"},classicMordor:j9,classicTestnet:j9,classicKotti:{chainId:6,name:"classicKotti",_defaultProvider:GA("https://www.ethercluster.com/kotti","classicKotti")},xdai:{chainId:100,name:"xdai"},matic:{chainId:137,name:"matic",_defaultProvider:Xc("matic")},maticmum:{chainId:80001,name:"maticmum",_defaultProvider:Xc("maticmum")},optimism:{chainId:10,name:"optimism",_defaultProvider:Xc("optimism")},"optimism-kovan":{chainId:69,name:"optimism-kovan"},"optimism-goerli":{chainId:420,name:"optimism-goerli"},"optimism-sepolia":{chainId:11155420,name:"optimism-sepolia"},arbitrum:{chainId:42161,name:"arbitrum"},"arbitrum-rinkeby":{chainId:421611,name:"arbitrum-rinkeby"},"arbitrum-goerli":{chainId:421613,name:"arbitrum-goerli"},"arbitrum-sepolia":{chainId:421614,name:"arbitrum-sepolia"},bnb:{chainId:56,name:"bnb"},bnbt:{chainId:97,name:"bnbt"}};function bIe(t){if(t==null)return null;if(typeof t=="number"){for(const n in Ev){const i=Ev[n];if(i.chainId===t)return{name:i.name,chainId:i.chainId,ensAddress:i.ensAddress||null,_defaultProvider:i._defaultProvider||null}}return{chainId:t,name:"unknown"}}if(typeof t=="string"){const n=Ev[t];return n==null?null:{name:n.name,chainId:n.chainId,ensAddress:n.ensAddress,_defaultProvider:n._defaultProvider||null}}const e=Ev[t.name];if(!e)return typeof t.chainId!="number"&&F9.throwArgumentError("invalid network chainId","network",t),t;t.chainId!==0&&t.chainId!==e.chainId&&F9.throwArgumentError("network chainId mismatch","network",t);let r=t._defaultProvider||null;return r==null&&e._defaultProvider&&(_Ie(e._defaultProvider)?r=e._defaultProvider.renetwork(t):r=e._defaultProvider),{name:t.name,chainId:e.chainId,ensAddress:t.ensAddress||e.ensAddress||null,_defaultProvider:r}}const wIe="web/5.8.0";var vIe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function EIe(t,e){return vIe(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Ce(new Uint8Array(i))}})}var AIe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const jc=new he(wIe);function W9(t){return new Promise(e=>{setTimeout(e,t)})}function Td(t,e){if(t==null)return null;if(typeof t=="string")return t;if(t2(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return Mm(t)}catch{}return Oe(t)}return t}function xIe(t){return Gn(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function CIe(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;jc.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;jc.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&jc.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const A in t.headers)a[A.toLowerCase()]={key:A,value:String(t.headers[A])},["if-none-match","if-modified-since"].indexOf(A.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&jc.throwError("basic authentication requires a secure https url",he.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const A=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+fG(Gn(A))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=Ui(t.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=c?c.match(h):null;if(g)try{const A={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?uG(g[3]):xIe(g[3])};let N=A.body;return r&&(N=r(A.body,A)),Promise.resolve(N)}catch(A){jc.throwError("processing response error",he.errors.SERVER_ERROR,{body:Td(g[1],g[2]),error:A,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const _={};Object.keys(a).forEach(A=>{const N=a[A];_[N.key]=N.value}),l.headers=_;const m=(function(){let A=null;return{promise:new Promise(function(k,M){f&&(A=setTimeout(()=>{A!=null&&(A=null,M(jc.makeError("timeout",he.errors.TIMEOUT,{requestBody:Td(l.body,_["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){A!=null&&(clearTimeout(A),A=null)}}})(),b=(function(){return AIe(this,void 0,void 0,function*(){for(let A=0;A<n;A++){let N=null;try{if(N=yield EIe(c,l),A<n){if(N.statusCode===301||N.statusCode===302){const k=N.headers.location||"";if(l.method==="GET"&&k.match(/^https:/)){c=N.headers.location;continue}}else if(N.statusCode===429){let k=!0;if(i&&(k=yield i(A,c)),k){let M=0;const D=N.headers["retry-after"];typeof D=="string"&&D.match(/^[1-9][0-9]*$/)?M=parseInt(D)*1e3:M=s*parseInt(String(Math.random()*Math.pow(2,A))),yield W9(M);continue}}}}catch(k){N=k.response,N==null&&(m.cancel(),jc.throwError("missing response",he.errors.SERVER_ERROR,{requestBody:Td(l.body,_["content-type"]),requestMethod:l.method,serverError:k,url:c}))}let R=N.body;if(u&&N.statusCode===304?R=null:!o&&(N.statusCode<200||N.statusCode>=300)&&(m.cancel(),jc.throwError("bad response",he.errors.SERVER_ERROR,{status:N.statusCode,headers:N.headers,body:Td(R,N.headers?N.headers["content-type"]:null),requestBody:Td(l.body,_["content-type"]),requestMethod:l.method,url:c})),r)try{const k=yield r(R,N);return m.cancel(),k}catch(k){if(k.throttleRetry&&A<n){let M=!0;if(i&&(M=yield i(A,c)),M){const D=s*parseInt(String(Math.random()*Math.pow(2,A)));yield W9(D);continue}}m.cancel(),jc.throwError("processing response error",he.errors.SERVER_ERROR,{body:Td(R,N.headers?N.headers["content-type"]:null),error:k,requestBody:Td(l.body,_["content-type"]),requestMethod:l.method,url:c})}return m.cancel(),R}return jc.throwError("failed response",he.errors.SERVER_ERROR,{requestBody:Td(l.body,_["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([m.promise,b])}function I6(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(Mm(s))}catch(c){jc.throwError("invalid JSON",he.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=Gn(e);const s=typeof t=="string"?{url:t}:Ui(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=Ui(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return CIe(t,i,n)}function n_(t,e){return e||(e={}),e=Ui(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}var HS,q9;function NIe(){if(q9)return HS;q9=1;for(var t="qpzry9x8gf2tvdw0s3jn54khce6mua7l",e={},r=0;r<t.length;r++){var n=t.charAt(r);if(e[n]!==void 0)throw new TypeError(n+" is ambiguous");e[n]=r}function i(m){var b=m>>25;return(m&33554431)<<5^-(b>>0&1)&996825010^-(b>>1&1)&642813549^-(b>>2&1)&513874426^-(b>>3&1)&1027748829^-(b>>4&1)&705979059}function s(m){for(var b=1,A=0;A<m.length;++A){var N=m.charCodeAt(A);if(N<33||N>126)return"Invalid prefix ("+m+")";b=i(b)^N>>5}for(b=i(b),A=0;A<m.length;++A){var R=m.charCodeAt(A);b=i(b)^R&31}return b}function o(m,b,A){if(A=A||90,m.length+7+b.length>A)throw new TypeError("Exceeds length limit");m=m.toLowerCase();var N=s(m);if(typeof N=="string")throw new Error(N);for(var R=m+"1",k=0;k<b.length;++k){var M=b[k];if(M>>5!==0)throw new Error("Non 5-bit word");N=i(N)^M,R+=t.charAt(M)}for(k=0;k<6;++k)N=i(N);for(N^=1,k=0;k<6;++k){var D=N>>(5-k)*5&31;R+=t.charAt(D)}return R}function a(m,b){if(b=b||90,m.length<8)return m+" too short";if(m.length>b)return"Exceeds length limit";var A=m.toLowerCase(),N=m.toUpperCase();if(m!==A&&m!==N)return"Mixed-case string "+m;m=A;var R=m.lastIndexOf("1");if(R===-1)return"No separator character for "+m;if(R===0)return"Missing prefix for "+m;var k=m.slice(0,R),M=m.slice(R+1);if(M.length<6)return"Data too short";var D=s(k);if(typeof D=="string")return D;for(var H=[],S=0;S<M.length;++S){var C=M.charAt(S),$=e[C];if($===void 0)return"Unknown character "+C;D=i(D)^$,!(S+6>=M.length)&&H.push($)}return D!==1?"Invalid checksum for "+m:{prefix:k,words:H}}function c(){var m=a.apply(null,arguments);if(typeof m=="object")return m}function l(m){var b=a.apply(null,arguments);if(typeof b=="object")return b;throw new Error(b)}function u(m,b,A,N){for(var R=0,k=0,M=(1<<A)-1,D=[],H=0;H<m.length;++H)for(R=R<<b|m[H],k+=b;k>=A;)k-=A,D.push(R>>k&M);if(N)k>0&&D.push(R<<A-k&M);else{if(k>=b)return"Excess padding";if(R<<A-k&M)return"Non-zero padding"}return D}function f(m){var b=u(m,8,5,!0);if(Array.isArray(b))return b}function h(m){var b=u(m,8,5,!0);if(Array.isArray(b))return b;throw new Error(b)}function g(m){var b=u(m,5,8,!1);if(Array.isArray(b))return b}function _(m){var b=u(m,5,8,!1);if(Array.isArray(b))return b;throw new Error(b)}return HS={decodeUnsafe:c,decode:l,encode:o,toWordsUnsafe:f,toWords:h,fromWordsUnsafe:g,fromWords:_},HS}var SIe=NIe();const z9=Ws(SIe),l2="providers/5.7.2",$y=new he(l2);class it{constructor(){this.formats=this.getDefaultFormats()}getDefaultFormats(){const e={},r=this.address.bind(this),n=this.bigNumber.bind(this),i=this.blockTag.bind(this),s=this.data.bind(this),o=this.hash.bind(this),a=this.hex.bind(this),c=this.number.bind(this),l=this.type.bind(this),u=f=>this.data(f,!0);return e.transaction={hash:o,type:l,accessList:it.allowNull(this.accessList.bind(this),null),blockHash:it.allowNull(o,null),blockNumber:it.allowNull(c,null),transactionIndex:it.allowNull(c,null),confirmations:it.allowNull(c,null),from:r,gasPrice:it.allowNull(n),maxPriorityFeePerGas:it.allowNull(n),maxFeePerGas:it.allowNull(n),gasLimit:n,to:it.allowNull(r,null),value:n,nonce:c,data:s,r:it.allowNull(this.uint256),s:it.allowNull(this.uint256),v:it.allowNull(c),creates:it.allowNull(r,null),raw:it.allowNull(s)},e.transactionRequest={from:it.allowNull(r),nonce:it.allowNull(c),gasLimit:it.allowNull(n),gasPrice:it.allowNull(n),maxPriorityFeePerGas:it.allowNull(n),maxFeePerGas:it.allowNull(n),to:it.allowNull(r),value:it.allowNull(n),data:it.allowNull(u),type:it.allowNull(c),accessList:it.allowNull(this.accessList.bind(this),null)},e.receiptLog={transactionIndex:c,blockNumber:c,transactionHash:o,address:r,topics:it.arrayOf(o),data:s,logIndex:c,blockHash:o},e.receipt={to:it.allowNull(this.address,null),from:it.allowNull(this.address,null),contractAddress:it.allowNull(r,null),transactionIndex:c,root:it.allowNull(a),gasUsed:n,logsBloom:it.allowNull(s),blockHash:o,transactionHash:o,logs:it.arrayOf(this.receiptLog.bind(this)),blockNumber:c,confirmations:it.allowNull(c,null),cumulativeGasUsed:n,effectiveGasPrice:it.allowNull(n),status:it.allowNull(c),type:l},e.block={hash:it.allowNull(o),parentHash:o,number:c,timestamp:c,nonce:it.allowNull(a),difficulty:this.difficulty.bind(this),gasLimit:n,gasUsed:n,miner:it.allowNull(r),extraData:s,transactions:it.allowNull(it.arrayOf(o)),baseFeePerGas:it.allowNull(n)},e.blockWithTransactions=Ui(e.block),e.blockWithTransactions.transactions=it.allowNull(it.arrayOf(this.transactionResponse.bind(this))),e.filter={fromBlock:it.allowNull(i,void 0),toBlock:it.allowNull(i,void 0),blockHash:it.allowNull(o,void 0),address:it.allowNull(r,void 0),topics:it.allowNull(this.topics.bind(this),void 0)},e.filterLog={blockNumber:it.allowNull(c),blockHash:it.allowNull(o),transactionIndex:c,removed:it.allowNull(this.boolean.bind(this)),address:r,data:it.allowFalsish(s,"0x"),topics:it.arrayOf(o),transactionHash:o,logIndex:c},e}accessList(e){return $m(e||[])}number(e){return e==="0x"?0:Fe.from(e).toNumber()}type(e){return e==="0x"||e==null?0:Fe.from(e).toNumber()}bigNumber(e){return Fe.from(e)}boolean(e){if(typeof e=="boolean")return e;if(typeof e=="string"){if(e=e.toLowerCase(),e==="true")return!0;if(e==="false")return!1}throw new Error("invalid boolean - "+e)}hex(e,r){return typeof e=="string"&&(!r&&e.substring(0,2)!=="0x"&&(e="0x"+e),Gt(e))?e.toLowerCase():$y.throwArgumentError("invalid hash","value",e)}data(e,r){const n=this.hex(e,r);if(n.length%2!==0)throw new Error("invalid data; odd-length - "+e);return n}address(e){return Pr(e)}callAddress(e){if(!Gt(e,32))return null;const r=Pr(li(e,12));return r===YNe?null:r}contractAddress(e){return eG(e)}blockTag(e){if(e==null)return"latest";if(e==="earliest")return"0x0";switch(e){case"earliest":return"0x0";case"latest":case"pending":case"safe":case"finalized":return e}if(typeof e=="number"||Gt(e))return h6(e);throw new Error("invalid blockTag")}hash(e,r){const n=this.hex(e,r);return V0(n)!==32?$y.throwArgumentError("invalid hash","value",e):n}difficulty(e){if(e==null)return null;const r=Fe.from(e);try{return r.toNumber()}catch{}return null}uint256(e){if(!Gt(e))throw new Error("invalid uint256");return Gr(e,32)}_block(e,r){e.author!=null&&e.miner==null&&(e.miner=e.author);const n=e._difficulty!=null?e._difficulty:e.difficulty,i=it.check(r,e);return i._difficulty=n==null?null:Fe.from(n),i}block(e){return this._block(e,this.formats.block)}blockWithTransactions(e){return this._block(e,this.formats.blockWithTransactions)}transactionRequest(e){return it.check(this.formats.transactionRequest,e)}transactionResponse(e){e.gas!=null&&e.gasLimit==null&&(e.gasLimit=e.gas),e.to&&Fe.from(e.to).isZero()&&(e.to="0x0000000000000000000000000000000000000000"),e.input!=null&&e.data==null&&(e.data=e.input),e.to==null&&e.creates==null&&(e.creates=this.contractAddress(e)),(e.type===1||e.type===2)&&e.accessList==null&&(e.accessList=[]);const r=it.check(this.formats.transaction,e);if(e.chainId!=null){let n=e.chainId;Gt(n)&&(n=Fe.from(n).toNumber()),r.chainId=n}else{let n=e.networkId;n==null&&r.v==null&&(n=e.chainId),Gt(n)&&(n=Fe.from(n).toNumber()),typeof n!="number"&&r.v!=null&&(n=(r.v-35)/2,n<0&&(n=0),n=parseInt(n)),typeof n!="number"&&(n=0),r.chainId=n}return r.blockHash&&r.blockHash.replace(/0/g,"")==="x"&&(r.blockHash=null),r}transaction(e){return STe(e)}receiptLog(e){return it.check(this.formats.receiptLog,e)}receipt(e){const r=it.check(this.formats.receipt,e);if(r.root!=null)if(r.root.length<=4){const n=Fe.from(r.root).toNumber();n===0||n===1?(r.status!=null&&r.status!==n&&$y.throwArgumentError("alt-root-status/status mismatch","value",{root:r.root,status:r.status}),r.status=n,delete r.root):$y.throwArgumentError("invalid alt-root-status","value.root",r.root)}else r.root.length!==66&&$y.throwArgumentError("invalid root hash","value.root",r.root);return r.status!=null&&(r.byzantium=!0),r}topics(e){return Array.isArray(e)?e.map(r=>this.topics(r)):e!=null?this.hash(e,!0):null}filter(e){return it.check(this.formats.filter,e)}filterLog(e){return it.check(this.formats.filterLog,e)}static check(e,r){const n={};for(const i in e)try{const s=e[i](r[i]);s!==void 0&&(n[i]=s)}catch(s){throw s.checkKey=i,s.checkValue=r[i],s}return n}static allowNull(e,r){return(function(n){return n==null?r:e(n)})}static allowFalsish(e,r){return(function(n){return n?e(n):r})}static arrayOf(e){return(function(r){if(!Array.isArray(r))throw new Error("not an array");const n=[];return r.forEach(function(i){n.push(e(i))}),n})}}var Nt=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Bt=new he(l2),TIe=10;function G9(t){return t==null?"null":(V0(t)!==32&&Bt.throwArgumentError("invalid topic","topic",t),t.toLowerCase())}function K9(t){for(t=t.slice();t.length>0&&t[t.length-1]==null;)t.pop();return t.map(e=>{if(Array.isArray(e)){const r={};e.forEach(i=>{r[G9(i)]=!0});const n=Object.keys(r);return n.sort(),n.join("|")}else return G9(e)}).join("&")}function IIe(t){return t===""?[]:t.split(/&/g).map(e=>{if(e==="")return[];const r=e.split("|").map(n=>n==="null"?null:n);return r.length===1?r[0]:r})}function ig(t){if(typeof t=="string"){if(t=t.toLowerCase(),V0(t)===32)return"tx:"+t;if(t.indexOf(":")===-1)return t}else{if(Array.isArray(t))return"filter:*:"+K9(t);if(JSe.isForkEvent(t))throw Bt.warn("not implemented"),new Error("not implemented");if(t&&typeof t=="object")return"filter:"+(t.address||"*")+":"+K9(t.topics||[])}throw new Error("invalid event - "+t)}function Fy(){return new Date().getTime()}function V9(t){return new Promise(e=>{setTimeout(e,t)})}const RIe=["block","network","pending","poll"];let PIe=class{constructor(e,r,n){Ae(this,"tag",e),Ae(this,"listener",r),Ae(this,"once",n),this._lastBlockNumber=-2,this._inflight=!1}get event(){switch(this.type){case"tx":return this.hash;case"filter":return this.filter}return this.tag}get type(){return this.tag.split(":")[0]}get hash(){const e=this.tag.split(":");return e[0]!=="tx"?null:e[1]}get filter(){const e=this.tag.split(":");if(e[0]!=="filter")return null;const r=e[1],n=IIe(e[2]),i={};return n.length>0&&(i.topics=n),r&&r!=="*"&&(i.address=r),i}pollable(){return this.tag.indexOf(":")>=0||RIe.indexOf(this.tag)>=0}};const OIe={0:{symbol:"btc",p2pkh:0,p2sh:5,prefix:"bc"},2:{symbol:"ltc",p2pkh:48,p2sh:50,prefix:"ltc"},3:{symbol:"doge",p2pkh:30,p2sh:22},60:{symbol:"eth",ilk:"eth"},61:{symbol:"etc",ilk:"eth"},700:{symbol:"xdai",ilk:"eth"}};function jS(t){return Gr(Fe.from(t).toHexString(),32)}function J9(t){return Vb.encode(Cr([t,li(ph(ph(t)),0,4)]))}const zG=new RegExp("^(ipfs)://(.*)$","i"),Y9=[new RegExp("^(https)://(.*)$","i"),new RegExp("^(data):(.*)$","i"),zG,new RegExp("^eip155:[0-9]+/(erc[0-9]+):(.*)$","i")];function uE(t,e){try{return Mm(Yb(t,e))}catch{}return null}function Yb(t,e){if(t==="0x")return null;const r=Fe.from(li(t,e,e+32)).toNumber(),n=Fe.from(li(t,r,r+32)).toNumber();return li(t,r+32,r+32+n)}function WS(t){return t.match(/^ipfs:\/\/ipfs\//i)?t=t.substring(12):t.match(/^ipfs:\/\//i)?t=t.substring(7):Bt.throwArgumentError("unsupported IPFS format","link",t),`https://gateway.ipfs.io/ipfs/${t}`}function X9(t){const e=Ce(t);if(e.length>32)throw new Error("internal; should not happen");const r=new Uint8Array(32);return r.set(e,32-e.length),r}function DIe(t){if(t.length%32===0)return t;const e=new Uint8Array(Math.ceil(t.length/32)*32);return e.set(t),e}function GG(t){const e=[];let r=0;for(let n=0;n<t.length;n++)e.push(null),r+=32;for(let n=0;n<t.length;n++){const i=Ce(t[n]);e[n]=X9(r),e.push(X9(i.length)),e.push(DIe(i)),r+=32+Math.ceil(i.length/32)*32}return no(e)}class Q9{constructor(e,r,n,i){Ae(this,"provider",e),Ae(this,"name",n),Ae(this,"address",e.formatter.address(r)),Ae(this,"_resolvedAddress",i)}supportsWildcard(){return this._supportsEip2544||(this._supportsEip2544=this.provider.call({to:this.address,data:"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000"}).then(e=>Fe.from(e).eq(1)).catch(e=>{if(e.code===he.errors.CALL_EXCEPTION)return!1;throw this._supportsEip2544=null,e})),this._supportsEip2544}_fetch(e,r){return Nt(this,void 0,void 0,function*(){const n={to:this.address,ccipReadEnabled:!0,data:no([e,sE(this.name),r||"0x"])};let i=!1;(yield this.supportsWildcard())&&(i=!0,n.data=no(["0x9061b923",GG([DSe(this.name),n.data])]));try{let s=yield this.provider.call(n);return Ce(s).length%32===4&&Bt.throwError("resolver threw error",he.errors.CALL_EXCEPTION,{transaction:n,data:s}),i&&(s=Yb(s,0)),s}catch(s){if(s.code===he.errors.CALL_EXCEPTION)return null;throw s}})}_fetchBytes(e,r){return Nt(this,void 0,void 0,function*(){const n=yield this._fetch(e,r);return n!=null?Yb(n,0):null})}_getAddress(e,r){const n=OIe[String(e)];if(n==null&&Bt.throwError(`unsupported coin type: ${e}`,he.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`}),n.ilk==="eth")return this.provider.formatter.address(r);const i=Ce(r);if(n.p2pkh!=null){const s=r.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return J9(Cr([[n.p2pkh],"0x"+s[2]]))}}if(n.p2sh!=null){const s=r.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);if(s){const o=parseInt(s[1],16);if(s[2].length===o*2&&o>=1&&o<=75)return J9(Cr([[n.p2sh],"0x"+s[2]]))}}if(n.prefix!=null){const s=i[1];let o=i[0];if(o===0?s!==20&&s!==32&&(o=-1):o=-1,o>=0&&i.length===2+s&&s>=1&&s<=75){const a=z9.toWords(i.slice(2));return a.unshift(o),z9.encode(n.prefix,a)}}return null}getAddress(e){return Nt(this,void 0,void 0,function*(){if(e==null&&(e=60),e===60)try{const i=yield this._fetch("0x3b3b57de");return i==="0x"||i===XNe?null:this.provider.formatter.callAddress(i)}catch(i){if(i.code===he.errors.CALL_EXCEPTION)return null;throw i}const r=yield this._fetchBytes("0xf1cb7e06",jS(e));if(r==null||r==="0x")return null;const n=this._getAddress(e,r);return n==null&&Bt.throwError("invalid or unsupported coin data",he.errors.UNSUPPORTED_OPERATION,{operation:`getAddress(${e})`,coinType:e,data:r}),n})}getAvatar(){return Nt(this,void 0,void 0,function*(){const e=[{type:"name",content:this.name}];try{const r=yield this.getText("avatar");if(r==null)return null;for(let n=0;n<Y9.length;n++){const i=r.match(Y9[n]);if(i==null)continue;const s=i[1].toLowerCase();switch(s){case"https":return e.push({type:"url",content:r}),{linkage:e,url:r};case"data":return e.push({type:"data",content:r}),{linkage:e,url:r};case"ipfs":return e.push({type:"ipfs",content:r}),{linkage:e,url:WS(r)};case"erc721":case"erc1155":{const o=s==="erc721"?"0xc87b56dd":"0x0e89341c";e.push({type:s,content:r});const a=this._resolvedAddress||(yield this.getAddress()),c=(i[2]||"").split("/");if(c.length!==2)return null;const l=yield this.provider.formatter.address(c[0]),u=Gr(Fe.from(c[1]).toHexString(),32);if(s==="erc721"){const m=this.provider.formatter.callAddress(yield this.provider.call({to:l,data:no(["0x6352211e",u])}));if(a!==m)return null;e.push({type:"owner",content:m})}else if(s==="erc1155"){const m=Fe.from(yield this.provider.call({to:l,data:no(["0x00fdd58e",Gr(a,32),u])}));if(m.isZero())return null;e.push({type:"balance",content:m.toString()})}const f={to:this.provider.formatter.address(c[0]),data:no([o,u])};let h=uE(yield this.provider.call(f),0);if(h==null)return null;e.push({type:"metadata-url-base",content:h}),s==="erc1155"&&(h=h.replace("{id}",u.substring(2)),e.push({type:"metadata-url-expanded",content:h})),h.match(/^ipfs:/i)&&(h=WS(h)),e.push({type:"metadata-url",content:h});const g=yield I6(h);if(!g)return null;e.push({type:"metadata",content:JSON.stringify(g)});let _=g.image;if(typeof _!="string")return null;if(!_.match(/^(https:\/\/|data:)/i)){if(_.match(zG)==null)return null;e.push({type:"url-ipfs",content:_}),_=WS(_)}return e.push({type:"url",content:_}),{linkage:e,url:_}}}}}catch{}return null})}getContentHash(){return Nt(this,void 0,void 0,function*(){const e=yield this._fetchBytes("0xbc1c58d1");if(e==null||e==="0x")return null;const r=e.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(r){const o=parseInt(r[3],16);if(r[4].length===o*2)return"ipfs://"+Vb.encode("0x"+r[1])}const n=e.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);if(n){const o=parseInt(n[3],16);if(n[4].length===o*2)return"ipns://"+Vb.encode("0x"+n[1])}const i=e.match(/^0xe40101fa011b20([0-9a-f]*)$/);if(i&&i[1].length===64)return"bzz://"+i[1];const s=e.match(/^0x90b2c605([0-9a-f]*)$/);if(s&&s[1].length===68){const o={"=":"","+":"-","/":"_"};return"sia://"+fG("0x"+s[1]).replace(/[=+\/]/g,c=>o[c])}return Bt.throwError("invalid or unsupported content hash data",he.errors.UNSUPPORTED_OPERATION,{operation:"getContentHash()",data:e})})}getText(e){return Nt(this,void 0,void 0,function*(){let r=Gn(e);r=Cr([jS(64),jS(r.length),r]),r.length%32!==0&&(r=Cr([r,Gr("0x",32-e.length%32)]));const n=yield this._fetchBytes("0x59d1d43c",Oe(r));return n==null||n==="0x"?null:Mm(n)})}}let qS=null,kIe=1;class MIe extends B1{constructor(e){if(super(),this._events=[],this._emitted={block:-2},this.disableCcipRead=!1,this.formatter=new.target.getFormatter(),Ae(this,"anyNetwork",e==="any"),this.anyNetwork&&(e=this.detectNetwork()),e instanceof Promise)this._networkPromise=e,e.catch(r=>{}),this._ready().catch(r=>{});else{const r=Lo(new.target,"getNetwork")(e);r?(Ae(this,"_network",r),this.emit("network",r,null)):Bt.throwArgumentError("invalid network","network",e)}this._maxInternalBlockNumber=-1024,this._lastBlockNumber=-2,this._maxFilterBlockRange=10,this._pollingInterval=4e3,this._fastQueryDate=0}_ready(){return Nt(this,void 0,void 0,function*(){if(this._network==null){let e=null;if(this._networkPromise)try{e=yield this._networkPromise}catch{}e==null&&(e=yield this.detectNetwork()),e||Bt.throwError("no network detected",he.errors.UNKNOWN_ERROR,{}),this._network==null&&(this.anyNetwork?this._network=e:Ae(this,"_network",e),this.emit("network",e,null))}return this._network})}get ready(){return n_(()=>this._ready().then(e=>e,e=>{if(!(e.code===he.errors.NETWORK_ERROR&&e.event==="noNetwork"))throw e}))}static getFormatter(){return qS==null&&(qS=new it),qS}static getNetwork(e){return bIe(e??"homestead")}ccipReadFetch(e,r,n){return Nt(this,void 0,void 0,function*(){if(this.disableCcipRead||n.length===0)return null;const i=e.to.toLowerCase(),s=r.toLowerCase(),o=[];for(let a=0;a<n.length;a++){const c=n[a],l=c.replace("{sender}",i).replace("{data}",s),u=c.indexOf("{data}")>=0?null:JSON.stringify({data:s,sender:i}),f=yield I6({url:l,errorPassThrough:!0},u,(g,_)=>(g.status=_.statusCode,g));if(f.data)return f.data;const h=f.message||"unknown error";if(f.status>=400&&f.status<500)return Bt.throwError(`response not found during CCIP fetch: ${h}`,he.errors.SERVER_ERROR,{url:c,errorMessage:h});o.push(h)}return Bt.throwError(`error encountered during CCIP fetch: ${o.map(a=>JSON.stringify(a)).join(", ")}`,he.errors.SERVER_ERROR,{urls:n,errorMessages:o})})}_getInternalBlockNumber(e){return Nt(this,void 0,void 0,function*(){if(yield this._ready(),e>0)for(;this._internalBlockNumber;){const i=this._internalBlockNumber;try{const s=yield i;if(Fy()-s.respTime<=e)return s.blockNumber;break}catch{if(this._internalBlockNumber===i)break}}const r=Fy(),n=Qn({blockNumber:this.perform("getBlockNumber",{}),networkError:this.getNetwork().then(i=>null,i=>i)}).then(({blockNumber:i,networkError:s})=>{if(s)throw this._internalBlockNumber===n&&(this._internalBlockNumber=null),s;const o=Fy();return i=Fe.from(i).toNumber(),i<this._maxInternalBlockNumber&&(i=this._maxInternalBlockNumber),this._maxInternalBlockNumber=i,this._setFastBlockNumber(i),{blockNumber:i,reqTime:r,respTime:o}});return this._internalBlockNumber=n,n.catch(i=>{this._internalBlockNumber===n&&(this._internalBlockNumber=null)}),(yield n).blockNumber})}poll(){return Nt(this,void 0,void 0,function*(){const e=kIe++,r=[];let n=null;try{n=yield this._getInternalBlockNumber(100+this.pollingInterval/2)}catch(i){this.emit("error",i);return}if(this._setFastBlockNumber(n),this.emit("poll",e,n),n===this._lastBlockNumber){this.emit("didPoll",e);return}if(this._emitted.block===-2&&(this._emitted.block=n-1),Math.abs(this._emitted.block-n)>1e3)Bt.warn(`network block skew detected; skipping block events (emitted=${this._emitted.block} blockNumber${n})`),this.emit("error",Bt.makeError("network block skew detected",he.errors.NETWORK_ERROR,{blockNumber:n,event:"blockSkew",previousBlockNumber:this._emitted.block})),this.emit("block",n);else for(let i=this._emitted.block+1;i<=n;i++)this.emit("block",i);this._emitted.block!==n&&(this._emitted.block=n,Object.keys(this._emitted).forEach(i=>{if(i==="block")return;const s=this._emitted[i];s!=="pending"&&n-s>12&&delete this._emitted[i]})),this._lastBlockNumber===-2&&(this._lastBlockNumber=n-1),this._events.forEach(i=>{switch(i.type){case"tx":{const s=i.hash;let o=this.getTransactionReceipt(s).then(a=>(!a||a.blockNumber==null||(this._emitted["t:"+s]=a.blockNumber,this.emit(s,a)),null)).catch(a=>{this.emit("error",a)});r.push(o);break}case"filter":{if(!i._inflight){i._inflight=!0,i._lastBlockNumber===-2&&(i._lastBlockNumber=n-1);const s=i.filter;s.fromBlock=i._lastBlockNumber+1,s.toBlock=n;const o=s.toBlock-this._maxFilterBlockRange;o>s.fromBlock&&(s.fromBlock=o),s.fromBlock<0&&(s.fromBlock=0);const a=this.getLogs(s).then(c=>{i._inflight=!1,c.length!==0&&c.forEach(l=>{l.blockNumber>i._lastBlockNumber&&(i._lastBlockNumber=l.blockNumber),this._emitted["b:"+l.blockHash]=l.blockNumber,this._emitted["t:"+l.transactionHash]=l.blockNumber,this.emit(s,l)})}).catch(c=>{this.emit("error",c),i._inflight=!1});r.push(a)}break}}}),this._lastBlockNumber=n,Promise.all(r).then(()=>{this.emit("didPoll",e)}).catch(i=>{this.emit("error",i)})})}resetEventsBlock(e){this._lastBlockNumber=e-1,this.polling&&this.poll()}get network(){return this._network}detectNetwork(){return Nt(this,void 0,void 0,function*(){return Bt.throwError("provider does not support network detection",he.errors.UNSUPPORTED_OPERATION,{operation:"provider.detectNetwork"})})}getNetwork(){return Nt(this,void 0,void 0,function*(){const e=yield this._ready(),r=yield this.detectNetwork();if(e.chainId!==r.chainId){if(this.anyNetwork)return this._network=r,this._lastBlockNumber=-2,this._fastBlockNumber=null,this._fastBlockNumberPromise=null,this._fastQueryDate=0,this._emitted.block=-2,this._maxInternalBlockNumber=-1024,this._internalBlockNumber=null,this.emit("network",r,e),yield V9(0),this._network;const n=Bt.makeError("underlying network changed",he.errors.NETWORK_ERROR,{event:"changed",network:e,detectedNetwork:r});throw this.emit("error",n),n}return e})}get blockNumber(){return this._getInternalBlockNumber(100+this.pollingInterval/2).then(e=>{this._setFastBlockNumber(e)},e=>{}),this._fastBlockNumber!=null?this._fastBlockNumber:-1}get polling(){return this._poller!=null}set polling(e){e&&!this._poller?(this._poller=setInterval(()=>{this.poll()},this.pollingInterval),this._bootstrapPoll||(this._bootstrapPoll=setTimeout(()=>{this.poll(),this._bootstrapPoll=setTimeout(()=>{this._poller||this.poll(),this._bootstrapPoll=null},this.pollingInterval)},0))):!e&&this._poller&&(clearInterval(this._poller),this._poller=null)}get pollingInterval(){return this._pollingInterval}set pollingInterval(e){if(typeof e!="number"||e<=0||parseInt(String(e))!=e)throw new Error("invalid polling interval");this._pollingInterval=e,this._poller&&(clearInterval(this._poller),this._poller=setInterval(()=>{this.poll()},this._pollingInterval))}_getFastBlockNumber(){const e=Fy();return e-this._fastQueryDate>2*this._pollingInterval&&(this._fastQueryDate=e,this._fastBlockNumberPromise=this.getBlockNumber().then(r=>((this._fastBlockNumber==null||r>this._fastBlockNumber)&&(this._fastBlockNumber=r),this._fastBlockNumber))),this._fastBlockNumberPromise}_setFastBlockNumber(e){this._fastBlockNumber!=null&&e<this._fastBlockNumber||(this._fastQueryDate=Fy(),(this._fastBlockNumber==null||e>this._fastBlockNumber)&&(this._fastBlockNumber=e,this._fastBlockNumberPromise=Promise.resolve(e)))}waitForTransaction(e,r,n){return Nt(this,void 0,void 0,function*(){return this._waitForTransaction(e,r??1,n||0,null)})}_waitForTransaction(e,r,n,i){return Nt(this,void 0,void 0,function*(){const s=yield this.getTransactionReceipt(e);return(s?s.confirmations:0)>=r?s:new Promise((o,a)=>{const c=[];let l=!1;const u=function(){return l?!0:(l=!0,c.forEach(h=>{h()}),!1)},f=h=>{h.confirmations<r||u()||o(h)};if(this.on(e,f),c.push(()=>{this.removeListener(e,f)}),i){let h=i.startBlock,g=null;const _=m=>Nt(this,void 0,void 0,function*(){l||(yield V9(1e3),this.getTransactionCount(i.from).then(b=>Nt(this,void 0,void 0,function*(){if(!l){if(b<=i.nonce)h=m;else{{const A=yield this.getTransaction(e);if(A&&A.blockNumber!=null)return}for(g==null&&(g=h-3,g<i.startBlock&&(g=i.startBlock));g<=m;){if(l)return;const A=yield this.getBlockWithTransactions(g);for(let N=0;N<A.transactions.length;N++){const R=A.transactions[N];if(R.hash===e)return;if(R.from===i.from&&R.nonce===i.nonce){if(l)return;const k=yield this.waitForTransaction(R.hash,r);if(u())return;let M="replaced";R.data===i.data&&R.to===i.to&&R.value.eq(i.value)?M="repriced":R.data==="0x"&&R.from===R.to&&R.value.isZero()&&(M="cancelled"),a(Bt.makeError("transaction was replaced",he.errors.TRANSACTION_REPLACED,{cancelled:M==="replaced"||M==="cancelled",reason:M,replacement:this._wrapTransaction(R),hash:e,receipt:k}));return}}g++}}l||this.once("block",_)}}),b=>{l||this.once("block",_)}))});if(l)return;this.once("block",_),c.push(()=>{this.removeListener("block",_)})}if(typeof n=="number"&&n>0){const h=setTimeout(()=>{u()||a(Bt.makeError("timeout exceeded",he.errors.TIMEOUT,{timeout:n}))},n);h.unref&&h.unref(),c.push(()=>{clearTimeout(h)})}})})}getBlockNumber(){return Nt(this,void 0,void 0,function*(){return this._getInternalBlockNumber(0)})}getGasPrice(){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const e=yield this.perform("getGasPrice",{});try{return Fe.from(e)}catch(r){return Bt.throwError("bad result from backend",he.errors.SERVER_ERROR,{method:"getGasPrice",result:e,error:r})}})}getBalance(e,r){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Qn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getBalance",n);try{return Fe.from(i)}catch(s){return Bt.throwError("bad result from backend",he.errors.SERVER_ERROR,{method:"getBalance",params:n,result:i,error:s})}})}getTransactionCount(e,r){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Qn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getTransactionCount",n);try{return Fe.from(i).toNumber()}catch(s){return Bt.throwError("bad result from backend",he.errors.SERVER_ERROR,{method:"getTransactionCount",params:n,result:i,error:s})}})}getCode(e,r){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Qn({address:this._getAddress(e),blockTag:this._getBlockTag(r)}),i=yield this.perform("getCode",n);try{return Oe(i)}catch(s){return Bt.throwError("bad result from backend",he.errors.SERVER_ERROR,{method:"getCode",params:n,result:i,error:s})}})}getStorageAt(e,r,n){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const i=yield Qn({address:this._getAddress(e),blockTag:this._getBlockTag(n),position:Promise.resolve(r).then(o=>h6(o))}),s=yield this.perform("getStorageAt",i);try{return Oe(s)}catch(o){return Bt.throwError("bad result from backend",he.errors.SERVER_ERROR,{method:"getStorageAt",params:i,result:s,error:o})}})}_wrapTransaction(e,r,n){if(r!=null&&V0(r)!==32)throw new Error("invalid response - sendTransaction");const i=e;return r!=null&&e.hash!==r&&Bt.throwError("Transaction hash mismatch from Provider.sendTransaction.",he.errors.UNKNOWN_ERROR,{expectedHash:e.hash,returnedHash:r}),i.wait=(s,o)=>Nt(this,void 0,void 0,function*(){s==null&&(s=1),o==null&&(o=0);let a;s!==0&&n!=null&&(a={data:e.data,from:e.from,nonce:e.nonce,to:e.to,value:e.value,startBlock:n});const c=yield this._waitForTransaction(e.hash,s,o,a);return c==null&&s===0?null:(this._emitted["t:"+e.hash]=c.blockNumber,c.status===0&&Bt.throwError("transaction failed",he.errors.CALL_EXCEPTION,{transactionHash:e.hash,transaction:e,receipt:c}),c)}),i}sendTransaction(e){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Promise.resolve(e).then(s=>Oe(s)),n=this.formatter.transaction(e);n.confirmations==null&&(n.confirmations=0);const i=yield this._getInternalBlockNumber(100+2*this.pollingInterval);try{const s=yield this.perform("sendTransaction",{signedTransaction:r});return this._wrapTransaction(n,s,i)}catch(s){throw s.transaction=n,s.transactionHash=n.hash,s}})}_getTransactionRequest(e){return Nt(this,void 0,void 0,function*(){const r=yield e,n={};return["from","to"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?this._getAddress(s):null))}),["gasLimit","gasPrice","maxFeePerGas","maxPriorityFeePerGas","value"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Fe.from(s):null))}),["type"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s??null))}),r.accessList&&(n.accessList=this.formatter.accessList(r.accessList)),["data"].forEach(i=>{r[i]!=null&&(n[i]=Promise.resolve(r[i]).then(s=>s?Oe(s):null))}),this.formatter.transactionRequest(yield Qn(n))})}_getFilter(e){return Nt(this,void 0,void 0,function*(){e=yield e;const r={};return e.address!=null&&(r.address=this._getAddress(e.address)),["blockHash","topics"].forEach(n=>{e[n]!=null&&(r[n]=e[n])}),["fromBlock","toBlock"].forEach(n=>{e[n]!=null&&(r[n]=this._getBlockTag(e[n]))}),this.formatter.filter(yield Qn(r))})}_call(e,r,n){return Nt(this,void 0,void 0,function*(){n>=TIe&&Bt.throwError("CCIP read exceeded maximum redirections",he.errors.SERVER_ERROR,{redirects:n,transaction:e});const i=e.to,s=yield this.perform("call",{transaction:e,blockTag:r});if(n>=0&&r==="latest"&&i!=null&&s.substring(0,10)==="0x556f1830"&&V0(s)%32===4)try{const o=li(s,4),a=li(o,0,32);Fe.from(a).eq(i)||Bt.throwError("CCIP Read sender did not match",he.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const c=[],l=Fe.from(li(o,32,64)).toNumber(),u=Fe.from(li(o,l,l+32)).toNumber(),f=li(o,l+32);for(let A=0;A<u;A++){const N=uE(f,A*32);N==null&&Bt.throwError("CCIP Read contained corrupt URL string",he.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s}),c.push(N)}const h=Yb(o,64);Fe.from(li(o,100,128)).isZero()||Bt.throwError("CCIP Read callback selector included junk",he.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const g=li(o,96,100),_=Yb(o,128),m=yield this.ccipReadFetch(e,h,c);m==null&&Bt.throwError("CCIP Read disabled or provided no URLs",he.errors.CALL_EXCEPTION,{name:"OffchainLookup",signature:"OffchainLookup(address,string[],bytes,bytes4,bytes)",transaction:e,data:s});const b={to:i,data:no([g,GG([m,_])])};return this._call(b,r,n+1)}catch(o){if(o.code===he.errors.SERVER_ERROR)throw o}try{return Oe(s)}catch(o){return Bt.throwError("bad result from backend",he.errors.SERVER_ERROR,{method:"call",params:{transaction:e,blockTag:r},result:s,error:o})}})}call(e,r){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const n=yield Qn({transaction:this._getTransactionRequest(e),blockTag:this._getBlockTag(r),ccipReadEnabled:Promise.resolve(e.ccipReadEnabled)});return this._call(n.transaction,n.blockTag,n.ccipReadEnabled?0:-1)})}estimateGas(e){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qn({transaction:this._getTransactionRequest(e)}),n=yield this.perform("estimateGas",r);try{return Fe.from(n)}catch(i){return Bt.throwError("bad result from backend",he.errors.SERVER_ERROR,{method:"estimateGas",params:r,result:n,error:i})}})}_getAddress(e){return Nt(this,void 0,void 0,function*(){e=yield e,typeof e!="string"&&Bt.throwArgumentError("invalid address or ENS name","name",e);const r=yield this.resolveName(e);return r==null&&Bt.throwError("ENS name not configured",he.errors.UNSUPPORTED_OPERATION,{operation:`resolveName(${JSON.stringify(e)})`}),r})}_getBlock(e,r){return Nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;let n=-128;const i={includeTransactions:!!r};if(Gt(e,32))i.blockHash=e;else try{i.blockTag=yield this._getBlockTag(e),Gt(i.blockTag)&&(n=parseInt(i.blockTag.substring(2),16))}catch{Bt.throwArgumentError("invalid block hash or block tag","blockHashOrBlockTag",e)}return n_(()=>Nt(this,void 0,void 0,function*(){const s=yield this.perform("getBlock",i);if(s==null)return i.blockHash!=null&&this._emitted["b:"+i.blockHash]==null||i.blockTag!=null&&n>this._emitted.block?null:void 0;if(r){let o=null;for(let c=0;c<s.transactions.length;c++){const l=s.transactions[c];if(l.blockNumber==null)l.confirmations=0;else if(l.confirmations==null){o==null&&(o=yield this._getInternalBlockNumber(100+2*this.pollingInterval));let u=o-l.blockNumber+1;u<=0&&(u=1),l.confirmations=u}}const a=this.formatter.blockWithTransactions(s);return a.transactions=a.transactions.map(c=>this._wrapTransaction(c)),a}return this.formatter.block(s)}),{oncePoll:this})})}getBlock(e){return this._getBlock(e,!1)}getBlockWithTransactions(e){return this._getBlock(e,!0)}getTransaction(e){return Nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return n_(()=>Nt(this,void 0,void 0,function*(){const n=yield this.perform("getTransaction",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;const i=this.formatter.transactionResponse(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return this._wrapTransaction(i)}),{oncePoll:this})})}getTransactionReceipt(e){return Nt(this,void 0,void 0,function*(){yield this.getNetwork(),e=yield e;const r={transactionHash:this.formatter.hash(e,!0)};return n_(()=>Nt(this,void 0,void 0,function*(){const n=yield this.perform("getTransactionReceipt",r);if(n==null)return this._emitted["t:"+e]==null?null:void 0;if(n.blockHash==null)return;const i=this.formatter.receipt(n);if(i.blockNumber==null)i.confirmations=0;else if(i.confirmations==null){let o=(yield this._getInternalBlockNumber(100+2*this.pollingInterval))-i.blockNumber+1;o<=0&&(o=1),i.confirmations=o}return i}),{oncePoll:this})})}getLogs(e){return Nt(this,void 0,void 0,function*(){yield this.getNetwork();const r=yield Qn({filter:this._getFilter(e)}),n=yield this.perform("getLogs",r);return n.forEach(i=>{i.removed==null&&(i.removed=!1)}),it.arrayOf(this.formatter.filterLog.bind(this.formatter))(n)})}getEtherPrice(){return Nt(this,void 0,void 0,function*(){return yield this.getNetwork(),this.perform("getEtherPrice",{})})}_getBlockTag(e){return Nt(this,void 0,void 0,function*(){if(e=yield e,typeof e=="number"&&e<0){e%1&&Bt.throwArgumentError("invalid BlockTag","blockTag",e);let r=yield this._getInternalBlockNumber(100+2*this.pollingInterval);return r+=e,r<0&&(r=0),this.formatter.blockTag(r)}return this.formatter.blockTag(e)})}getResolver(e){return Nt(this,void 0,void 0,function*(){let r=e;for(;;){if(r===""||r==="."||e!=="eth"&&r==="eth")return null;const n=yield this._getResolver(r,"getResolver");if(n!=null){const i=new Q9(this,n,e);return r!==e&&!(yield i.supportsWildcard())?null:i}r=r.split(".").slice(1).join(".")}})}_getResolver(e,r){return Nt(this,void 0,void 0,function*(){r==null&&(r="ENS");const n=yield this.getNetwork();n.ensAddress||Bt.throwError("network does not support ENS",he.errors.UNSUPPORTED_OPERATION,{operation:r,network:n.name});try{const i=yield this.call({to:n.ensAddress,data:"0x0178b8bf"+sE(e).substring(2)});return this.formatter.callAddress(i)}catch{}return null})}resolveName(e){return Nt(this,void 0,void 0,function*(){e=yield e;try{return Promise.resolve(this.formatter.address(e))}catch(n){if(Gt(e))throw n}typeof e!="string"&&Bt.throwArgumentError("invalid ENS name","name",e);const r=yield this.getResolver(e);return r?yield r.getAddress():null})}lookupAddress(e){return Nt(this,void 0,void 0,function*(){e=yield e,e=this.formatter.address(e);const r=e.substring(2).toLowerCase()+".addr.reverse",n=yield this._getResolver(r,"lookupAddress");if(n==null)return null;const i=uE(yield this.call({to:n,data:"0x691f3431"+sE(r).substring(2)}),0);return(yield this.resolveName(i))!=e?null:i})}getAvatar(e){return Nt(this,void 0,void 0,function*(){let r=null;if(Gt(e)){const s=this.formatter.address(e).substring(2).toLowerCase()+".addr.reverse",o=yield this._getResolver(s,"getAvatar");if(!o)return null;r=new Q9(this,o,s);try{const a=yield r.getAvatar();if(a)return a.url}catch(a){if(a.code!==he.errors.CALL_EXCEPTION)throw a}try{const a=uE(yield this.call({to:o,data:"0x691f3431"+sE(s).substring(2)}),0);r=yield this.getResolver(a)}catch(a){if(a.code!==he.errors.CALL_EXCEPTION)throw a;return null}}else if(r=yield this.getResolver(e),!r)return null;const n=yield r.getAvatar();return n==null?null:n.url})}perform(e,r){return Bt.throwError(e+" not implemented",he.errors.NOT_IMPLEMENTED,{operation:e})}_startEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_stopEvent(e){this.polling=this._events.filter(r=>r.pollable()).length>0}_addEventListener(e,r,n){const i=new PIe(ig(e),r,n);return this._events.push(i),this._startEvent(i),this}on(e,r){return this._addEventListener(e,r,!1)}once(e,r){return this._addEventListener(e,r,!0)}emit(e,...r){let n=!1,i=[],s=ig(e);return this._events=this._events.filter(o=>o.tag!==s?!0:(setTimeout(()=>{o.listener.apply(this,r)},0),n=!0,o.once?(i.push(o),!1):!0)),i.forEach(o=>{this._stopEvent(o)}),n}listenerCount(e){if(!e)return this._events.length;let r=ig(e);return this._events.filter(n=>n.tag===r).length}listeners(e){if(e==null)return this._events.map(n=>n.listener);let r=ig(e);return this._events.filter(n=>n.tag===r).map(n=>n.listener)}off(e,r){if(r==null)return this.removeAllListeners(e);const n=[];let i=!1,s=ig(e);return this._events=this._events.filter(o=>o.tag!==s||o.listener!=r||i?!0:(i=!0,n.push(o),!1)),n.forEach(o=>{this._stopEvent(o)}),this}removeAllListeners(e){let r=[];if(e==null)r=this._events,this._events=[];else{const n=ig(e);this._events=this._events.filter(i=>i.tag!==n?!0:(r.push(i),!1))}return r.forEach(n=>{this._stopEvent(n)}),this}}var xf=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const ai=new he(l2),UIe=["call","estimateGas"];function k_(t,e){if(t==null)return null;if(typeof t.message=="string"&&t.message.match("reverted")){const r=Gt(t.data)?t.data:null;if(!e||r)return{message:t.message,data:r}}if(typeof t=="object"){for(const r in t){const n=k_(t[r],e);if(n)return n}return null}if(typeof t=="string")try{return k_(JSON.parse(t),e)}catch{}return null}function KG(t,e,r){const n=r.transaction||r.signedTransaction;if(t==="call"){const s=k_(e,!0);if(s)return s.data;ai.throwError("missing revert data in call exception; Transaction reverted without a reason string",he.errors.CALL_EXCEPTION,{data:"0x",transaction:n,error:e})}if(t==="estimateGas"){let s=k_(e.body,!1);s==null&&(s=k_(e,!1)),s&&ai.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",he.errors.UNPREDICTABLE_GAS_LIMIT,{reason:s.message,method:t,transaction:n,error:e})}let i=e.message;throw e.code===he.errors.SERVER_ERROR&&e.error&&typeof e.error.message=="string"?i=e.error.message:typeof e.body=="string"?i=e.body:typeof e.responseText=="string"&&(i=e.responseText),i=(i||"").toLowerCase(),i.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&ai.throwError("insufficient funds for intrinsic transaction cost",he.errors.INSUFFICIENT_FUNDS,{error:e,method:t,transaction:n}),i.match(/nonce (is )?too low/i)&&ai.throwError("nonce has already been used",he.errors.NONCE_EXPIRED,{error:e,method:t,transaction:n}),i.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&ai.throwError("replacement fee too low",he.errors.REPLACEMENT_UNDERPRICED,{error:e,method:t,transaction:n}),i.match(/only replay-protected/i)&&ai.throwError("legacy pre-eip-155 transactions not supported",he.errors.UNSUPPORTED_OPERATION,{error:e,method:t,transaction:n}),UIe.indexOf(t)>=0&&i.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&ai.throwError("cannot estimate gas; transaction may fail or may require manual gas limit",he.errors.UNPREDICTABLE_GAS_LIMIT,{error:e,method:t,transaction:n}),e}function Z9(t){return new Promise(function(e){setTimeout(e,t)})}function LIe(t){if(t.error){const e=new Error(t.error.message);throw e.code=t.error.code,e.data=t.error.data,e}return t.result}function By(t){return t&&t.toLowerCase()}const eR={};class VG extends Um{constructor(e,r,n){if(super(),e!==eR)throw new Error("do not call the JsonRpcSigner constructor directly; use provider.getSigner");Ae(this,"provider",r),n==null&&(n=0),typeof n=="string"?(Ae(this,"_address",this.provider.formatter.address(n)),Ae(this,"_index",null)):typeof n=="number"?(Ae(this,"_index",n),Ae(this,"_address",null)):ai.throwArgumentError("invalid address or index","addressOrIndex",n)}connect(e){return ai.throwError("cannot alter JSON-RPC Signer connection",he.errors.UNSUPPORTED_OPERATION,{operation:"connect"})}connectUnchecked(){return new $Ie(eR,this.provider,this._address||this._index)}getAddress(){return this._address?Promise.resolve(this._address):this.provider.send("eth_accounts",[]).then(e=>(e.length<=this._index&&ai.throwError("unknown account #"+this._index,he.errors.UNSUPPORTED_OPERATION,{operation:"getAddress"}),this.provider.formatter.address(e[this._index])))}sendUncheckedTransaction(e){e=Ui(e);const r=this.getAddress().then(n=>(n&&(n=n.toLowerCase()),n));if(e.gasLimit==null){const n=Ui(e);n.from=r,e.gasLimit=this.provider.estimateGas(n)}return e.to!=null&&(e.to=Promise.resolve(e.to).then(n=>xf(this,void 0,void 0,function*(){if(n==null)return null;const i=yield this.provider.resolveName(n);return i==null&&ai.throwArgumentError("provided ENS name resolves to null","tx.to",n),i}))),Qn({tx:Qn(e),sender:r}).then(({tx:n,sender:i})=>{n.from!=null?n.from.toLowerCase()!==i&&ai.throwArgumentError("from address mismatch","transaction",e):n.from=i;const s=this.provider.constructor.hexlifyTransaction(n,{from:!0});return this.provider.send("eth_sendTransaction",[s]).then(o=>o,o=>(typeof o.message=="string"&&o.message.match(/user denied/i)&&ai.throwError("user rejected transaction",he.errors.ACTION_REJECTED,{action:"sendTransaction",transaction:n}),KG("sendTransaction",o,s)))})}signTransaction(e){return ai.throwError("signing transactions is unsupported",he.errors.UNSUPPORTED_OPERATION,{operation:"signTransaction"})}sendTransaction(e){return xf(this,void 0,void 0,function*(){const r=yield this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval),n=yield this.sendUncheckedTransaction(e);try{return yield n_(()=>xf(this,void 0,void 0,function*(){const i=yield this.provider.getTransaction(n);if(i!==null)return this.provider._wrapTransaction(i,n,r)}),{oncePoll:this.provider})}catch(i){throw i.transactionHash=n,i}})}signMessage(e){return xf(this,void 0,void 0,function*(){const r=typeof e=="string"?Gn(e):e,n=yield this.getAddress();try{return yield this.provider.send("personal_sign",[Oe(r),n.toLowerCase()])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&ai.throwError("user rejected signing",he.errors.ACTION_REJECTED,{action:"signMessage",from:n,messageData:e}),i}})}_legacySignMessage(e){return xf(this,void 0,void 0,function*(){const r=typeof e=="string"?Gn(e):e,n=yield this.getAddress();try{return yield this.provider.send("eth_sign",[n.toLowerCase(),Oe(r)])}catch(i){throw typeof i.message=="string"&&i.message.match(/user denied/i)&&ai.throwError("user rejected signing",he.errors.ACTION_REJECTED,{action:"_legacySignMessage",from:n,messageData:e}),i}})}_signTypedData(e,r,n){return xf(this,void 0,void 0,function*(){const i=yield Gb.resolveNames(e,r,n,o=>this.provider.resolveName(o)),s=yield this.getAddress();try{return yield this.provider.send("eth_signTypedData_v4",[s.toLowerCase(),JSON.stringify(Gb.getPayload(i.domain,r,i.value))])}catch(o){throw typeof o.message=="string"&&o.message.match(/user denied/i)&&ai.throwError("user rejected signing",he.errors.ACTION_REJECTED,{action:"_signTypedData",from:s,messageData:{domain:i.domain,types:r,value:i.value}}),o}})}unlock(e){return xf(this,void 0,void 0,function*(){const r=this.provider,n=yield this.getAddress();return r.send("personal_unlockAccount",[n.toLowerCase(),e,null])})}}class $Ie extends VG{sendTransaction(e){return this.sendUncheckedTransaction(e).then(r=>({hash:r,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:n=>this.provider.waitForTransaction(r,n)}))}}const FIe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};class Xb extends MIe{constructor(e,r){let n=r;n==null&&(n=new Promise((i,s)=>{setTimeout(()=>{this.detectNetwork().then(o=>{i(o)},o=>{s(o)})},0)})),super(n),e||(e=Lo(this.constructor,"defaultUrl")()),typeof e=="string"?Ae(this,"connection",Object.freeze({url:e})):Ae(this,"connection",Object.freeze(Ui(e))),this._nextId=42}get _cache(){return this._eventLoopCache==null&&(this._eventLoopCache={}),this._eventLoopCache}static defaultUrl(){return"http://localhost:8545"}detectNetwork(){return this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(()=>{this._cache.detectNetwork=null},0)),this._cache.detectNetwork}_uncachedDetectNetwork(){return xf(this,void 0,void 0,function*(){yield Z9(0);let e=null;try{e=yield this.send("eth_chainId",[])}catch{try{e=yield this.send("net_version",[])}catch{}}if(e!=null){const r=Lo(this.constructor,"getNetwork");try{return r(Fe.from(e).toNumber())}catch(n){return ai.throwError("could not detect network",he.errors.NETWORK_ERROR,{chainId:e,event:"invalidNetwork",serverError:n})}}return ai.throwError("could not detect network",he.errors.NETWORK_ERROR,{event:"noNetwork"})})}getSigner(e){return new VG(eR,this,e)}getUncheckedSigner(e){return this.getSigner(e).connectUnchecked()}listAccounts(){return this.send("eth_accounts",[]).then(e=>e.map(r=>this.formatter.address(r)))}send(e,r){const n={method:e,params:r,id:this._nextId++,jsonrpc:"2.0"};this.emit("debug",{action:"request",request:Xf(n),provider:this});const i=["eth_chainId","eth_blockNumber"].indexOf(e)>=0;if(i&&this._cache[e])return this._cache[e];const s=I6(this.connection,JSON.stringify(n),LIe).then(o=>(this.emit("debug",{action:"response",request:n,response:o,provider:this}),o),o=>{throw this.emit("debug",{action:"response",error:o,request:n,provider:this}),o});return i&&(this._cache[e]=s,setTimeout(()=>{this._cache[e]=null},0)),s}prepareRequest(e,r){switch(e){case"getBlockNumber":return["eth_blockNumber",[]];case"getGasPrice":return["eth_gasPrice",[]];case"getBalance":return["eth_getBalance",[By(r.address),r.blockTag]];case"getTransactionCount":return["eth_getTransactionCount",[By(r.address),r.blockTag]];case"getCode":return["eth_getCode",[By(r.address),r.blockTag]];case"getStorageAt":return["eth_getStorageAt",[By(r.address),Gr(r.position,32),r.blockTag]];case"sendTransaction":return["eth_sendRawTransaction",[r.signedTransaction]];case"getBlock":return r.blockTag?["eth_getBlockByNumber",[r.blockTag,!!r.includeTransactions]]:r.blockHash?["eth_getBlockByHash",[r.blockHash,!!r.includeTransactions]]:null;case"getTransaction":return["eth_getTransactionByHash",[r.transactionHash]];case"getTransactionReceipt":return["eth_getTransactionReceipt",[r.transactionHash]];case"call":return["eth_call",[Lo(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0}),r.blockTag]];case"estimateGas":return["eth_estimateGas",[Lo(this.constructor,"hexlifyTransaction")(r.transaction,{from:!0})]];case"getLogs":return r.filter&&r.filter.address!=null&&(r.filter.address=By(r.filter.address)),["eth_getLogs",[r.filter]]}return null}perform(e,r){return xf(this,void 0,void 0,function*(){if(e==="call"||e==="estimateGas"){const i=r.transaction;if(i&&i.type!=null&&Fe.from(i.type).isZero()&&i.maxFeePerGas==null&&i.maxPriorityFeePerGas==null){const s=yield this.getFeeData();s.maxFeePerGas==null&&s.maxPriorityFeePerGas==null&&(r=Ui(r),r.transaction=Ui(i),delete r.transaction.type)}}const n=this.prepareRequest(e,r);n==null&&ai.throwError(e+" not implemented",he.errors.NOT_IMPLEMENTED,{operation:e});try{return yield this.send(n[0],n[1])}catch(i){return KG(e,i,r)}})}_startEvent(e){e.tag==="pending"&&this._startPending(),super._startEvent(e)}_startPending(){if(this._pendingFilter!=null)return;const e=this,r=this.send("eth_newPendingTransactionFilter",[]);this._pendingFilter=r,r.then(function(n){function i(){e.send("eth_getFilterChanges",[n]).then(function(s){if(e._pendingFilter!=r)return null;let o=Promise.resolve();return s.forEach(function(a){e._emitted["t:"+a.toLowerCase()]="pending",o=o.then(function(){return e.getTransaction(a).then(function(c){return e.emit("pending",c),null})})}),o.then(function(){return Z9(1e3)})}).then(function(){if(e._pendingFilter!=r){e.send("eth_uninstallFilter",[n]);return}return setTimeout(function(){i()},0),null}).catch(s=>{})}return i(),n}).catch(n=>{})}_stopEvent(e){e.tag==="pending"&&this.listenerCount("pending")===0&&(this._pendingFilter=null),super._stopEvent(e)}static hexlifyTransaction(e,r){const n=Ui(FIe);if(r)for(const s in r)r[s]&&(n[s]=!0);Kz(e,n);const i={};return["chainId","gasLimit","gasPrice","type","maxFeePerGas","maxPriorityFeePerGas","nonce","value"].forEach(function(s){if(e[s]==null)return;const o=h6(Fe.from(e[s]));s==="gasLimit"&&(s="gas"),i[s]=o}),["from","to","data"].forEach(function(s){e[s]!=null&&(i[s]=Oe(e[s]))}),e.accessList&&(i.accessList=$m(e.accessList)),i}}const e7=new he(l2);let BIe=1;function t7(t,e){const r="Web3LegacyFetcher";return function(n,i){const s={method:n,params:i,id:BIe++,jsonrpc:"2.0"};return new Promise((o,a)=>{this.emit("debug",{action:"request",fetcher:r,request:Xf(s),provider:this}),e(s,(c,l)=>{if(c)return this.emit("debug",{action:"response",fetcher:r,error:c,request:s,provider:this}),a(c);if(this.emit("debug",{action:"response",fetcher:r,request:s,response:l,provider:this}),l.error){const u=new Error(l.error.message);return u.code=l.error.code,u.data=l.error.data,a(u)}o(l.result)})})}}function HIe(t){return function(e,r){r==null&&(r=[]);const n={method:e,params:r};return this.emit("debug",{action:"request",fetcher:"Eip1193Fetcher",request:Xf(n),provider:this}),t.request(n).then(i=>(this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,response:i,provider:this}),i),i=>{throw this.emit("debug",{action:"response",fetcher:"Eip1193Fetcher",request:n,error:i,provider:this}),i})}}class Gg extends Xb{constructor(e,r){e==null&&e7.throwArgumentError("missing provider","provider",e);let n=null,i=null,s=null;typeof e=="function"?(n="unknown:",i=e):(n=e.host||e.path||"",!n&&e.isMetaMask&&(n="metamask"),s=e,e.request?(n===""&&(n="eip-1193:"),i=HIe(e)):e.sendAsync?i=t7(e,e.sendAsync.bind(e)):e.send?i=t7(e,e.send.bind(e)):e7.throwArgumentError("unsupported provider","provider",e),n||(n="unknown:")),super(n,r),Ae(this,"jsonRpcFetchFunc",i),Ae(this,"provider",s)}send(e,r){return this.jsonRpcFetchFunc(e,r)}}const q1="abi/5.7.0",sr=new he(q1),X0={};let r7={calldata:!0,memory:!0,storage:!0},jIe={calldata:!0,memory:!0};function Av(t,e){if(t==="bytes"||t==="string"){if(r7[e])return!0}else if(t==="address"){if(e==="payable")return!0}else if((t.indexOf("[")>=0||t==="tuple")&&jIe[e])return!0;return(r7[e]||e==="payable")&&sr.throwArgumentError("invalid modifier","name",e),!1}function WIe(t,e){let r=t;function n(a){sr.throwArgumentError(`unexpected character at position ${a}`,"param",t)}t=t.replace(/\s/g," ");function i(a){let c={type:"",name:"",parent:a,state:{allowType:!0}};return e&&(c.indexed=!1),c}let s={type:"",name:"",state:{allowType:!0}},o=s;for(let a=0;a<t.length;a++){let c=t[a];switch(c){case"(":o.state.allowType&&o.type===""?o.type="tuple":o.state.allowParams||n(a),o.state.allowType=!1,o.type=Eg(o.type),o.components=[i(o)],o=o.components[0];break;case")":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Av(o.type,o.name)&&(o.name=""),o.type=Eg(o.type);let l=o;o=o.parent,o||n(a),delete l.parent,o.state.allowParams=!1,o.state.allowName=!0,o.state.allowArray=!0;break;case",":delete o.state,o.name==="indexed"&&(e||n(a),o.indexed=!0,o.name=""),Av(o.type,o.name)&&(o.name=""),o.type=Eg(o.type);let u=i(o.parent);o.parent.components.push(u),delete o.parent,o=u;break;case" ":o.state.allowType&&o.type!==""&&(o.type=Eg(o.type),delete o.state.allowType,o.state.allowName=!0,o.state.allowParams=!0),o.state.allowName&&o.name!==""&&(o.name==="indexed"?(e||n(a),o.indexed&&n(a),o.indexed=!0,o.name=""):Av(o.type,o.name)?o.name="":o.state.allowName=!1);break;case"[":o.state.allowArray||n(a),o.type+=c,o.state.allowArray=!1,o.state.allowName=!1,o.state.readArray=!0;break;case"]":o.state.readArray||n(a),o.type+=c,o.state.readArray=!1,o.state.allowArray=!0,o.state.allowName=!0;break;default:o.state.allowType?(o.type+=c,o.state.allowParams=!0,o.state.allowArray=!0):o.state.allowName?(o.name+=c,delete o.state.allowArray):o.state.readArray?o.type+=c:n(a)}}return o.parent&&sr.throwArgumentError("unexpected eof","param",t),delete s.state,o.name==="indexed"?(e||n(r.length-7),o.indexed&&n(r.length-7),o.indexed=!0,o.name=""):Av(o.type,o.name)&&(o.name=""),s.type=Eg(s.type),s}function fE(t,e){for(let r in e)Ae(t,r,e[r])}const dr=Object.freeze({sighash:"sighash",minimal:"minimal",full:"full",json:"json"}),qIe=new RegExp(/^(.*)\[([0-9]*)\]$/);class ki{constructor(e,r){e!==X0&&sr.throwError("use fromString",he.errors.UNSUPPORTED_OPERATION,{operation:"new ParamType()"}),fE(this,r);let n=this.type.match(qIe);n?fE(this,{arrayLength:parseInt(n[2]||"-1"),arrayChildren:ki.fromObject({type:n[1],components:this.components}),baseType:"array"}):fE(this,{arrayLength:null,arrayChildren:null,baseType:this.components!=null?"tuple":this.type}),this._isParamType=!0,Object.freeze(this)}format(e){if(e||(e=dr.sighash),dr[e]||sr.throwArgumentError("invalid format type","format",e),e===dr.json){let n={type:this.baseType==="tuple"?"tuple":this.type,name:this.name||void 0};return typeof this.indexed=="boolean"&&(n.indexed=this.indexed),this.components&&(n.components=this.components.map(i=>JSON.parse(i.format(e)))),JSON.stringify(n)}let r="";return this.baseType==="array"?(r+=this.arrayChildren.format(e),r+="["+(this.arrayLength<0?"":String(this.arrayLength))+"]"):this.baseType==="tuple"?(e!==dr.sighash&&(r+=this.type),r+="("+this.components.map(n=>n.format(e)).join(e===dr.full?", ":",")+")"):r+=this.type,e!==dr.sighash&&(this.indexed===!0&&(r+=" indexed"),e===dr.full&&this.name&&(r+=" "+this.name)),r}static from(e,r){return typeof e=="string"?ki.fromString(e,r):ki.fromObject(e)}static fromObject(e){return ki.isParamType(e)?e:new ki(X0,{name:e.name||null,type:Eg(e.type),indexed:e.indexed==null?null:!!e.indexed,components:e.components?e.components.map(ki.fromObject):null})}static fromString(e,r){function n(i){return ki.fromObject({name:i.name,type:i.type,indexed:i.indexed,components:i.components})}return n(WIe(e,!!r))}static isParamType(e){return!!(e!=null&&e._isParamType)}}function Qb(t,e){return GIe(t).map(r=>ki.fromString(r,e))}class bu{constructor(e,r){e!==X0&&sr.throwError("use a static from method",he.errors.UNSUPPORTED_OPERATION,{operation:"new Fragment()"}),fE(this,r),this._isFragment=!0,Object.freeze(this)}static from(e){return bu.isFragment(e)?e:typeof e=="string"?bu.fromString(e):bu.fromObject(e)}static fromObject(e){if(bu.isFragment(e))return e;switch(e.type){case"function":return ml.fromObject(e);case"event":return gu.fromObject(e);case"constructor":return gl.fromObject(e);case"error":return kf.fromObject(e);case"fallback":case"receive":return null}return sr.throwArgumentError("invalid fragment object","value",e)}static fromString(e){return e=e.replace(/\s/g," "),e=e.replace(/\(/g," (").replace(/\)/g,") ").replace(/\s+/g," "),e=e.trim(),e.split(" ")[0]==="event"?gu.fromString(e.substring(5).trim()):e.split(" ")[0]==="function"?ml.fromString(e.substring(8).trim()):e.split("(")[0].trim()==="constructor"?gl.fromString(e.trim()):e.split(" ")[0]==="error"?kf.fromString(e.substring(5).trim()):sr.throwArgumentError("unsupported fragment","value",e)}static isFragment(e){return!!(e&&e._isFragment)}}class gu extends bu{format(e){if(e||(e=dr.sighash),dr[e]||sr.throwArgumentError("invalid format type","format",e),e===dr.json)return JSON.stringify({type:"event",anonymous:this.anonymous,name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==dr.sighash&&(r+="event "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===dr.full?", ":",")+") ",e!==dr.sighash&&this.anonymous&&(r+="anonymous "),r.trim()}static from(e){return typeof e=="string"?gu.fromString(e):gu.fromObject(e)}static fromObject(e){if(gu.isEventFragment(e))return e;e.type!=="event"&&sr.throwArgumentError("invalid event object","value",e);const r={name:Zb(e.name),anonymous:e.anonymous,inputs:e.inputs?e.inputs.map(ki.fromObject):[],type:"event"};return new gu(X0,r)}static fromString(e){let r=e.match(e1);r||sr.throwArgumentError("invalid event string","value",e);let n=!1;return r[3].split(" ").forEach(i=>{switch(i.trim()){case"anonymous":n=!0;break;case"":break;default:sr.warn("unknown modifier: "+i)}}),gu.fromObject({name:r[1].trim(),anonymous:n,inputs:Qb(r[2],!0),type:"event"})}static isEventFragment(e){return e&&e._isFragment&&e.type==="event"}}function JG(t,e){e.gas=null;let r=t.split("@");return r.length!==1?(r.length>2&&sr.throwArgumentError("invalid human-readable ABI signature","value",t),r[1].match(/^[0-9]+$/)||sr.throwArgumentError("invalid human-readable ABI signature gas","value",t),e.gas=Fe.from(r[1]),r[0]):t}function YG(t,e){e.constant=!1,e.payable=!1,e.stateMutability="nonpayable",t.split(" ").forEach(r=>{switch(r.trim()){case"constant":e.constant=!0;break;case"payable":e.payable=!0,e.stateMutability="payable";break;case"nonpayable":e.payable=!1,e.stateMutability="nonpayable";break;case"pure":e.constant=!0,e.stateMutability="pure";break;case"view":e.constant=!0,e.stateMutability="view";break;case"external":case"public":case"":break;default:console.log("unknown modifier: "+r)}})}function XG(t){let e={constant:!1,payable:!0,stateMutability:"payable"};return t.stateMutability!=null?(e.stateMutability=t.stateMutability,e.constant=e.stateMutability==="view"||e.stateMutability==="pure",t.constant!=null&&!!t.constant!==e.constant&&sr.throwArgumentError("cannot have constant function with mutability "+e.stateMutability,"value",t),e.payable=e.stateMutability==="payable",t.payable!=null&&!!t.payable!==e.payable&&sr.throwArgumentError("cannot have payable function with mutability "+e.stateMutability,"value",t)):t.payable!=null?(e.payable=!!t.payable,t.constant==null&&!e.payable&&t.type!=="constructor"&&sr.throwArgumentError("unable to determine stateMutability","value",t),e.constant=!!t.constant,e.constant?e.stateMutability="view":e.stateMutability=e.payable?"payable":"nonpayable",e.payable&&e.constant&&sr.throwArgumentError("cannot have constant payable function","value",t)):t.constant!=null?(e.constant=!!t.constant,e.payable=!e.constant,e.stateMutability=e.constant?"view":"payable"):t.type!=="constructor"&&sr.throwArgumentError("unable to determine stateMutability","value",t),e}class gl extends bu{format(e){if(e||(e=dr.sighash),dr[e]||sr.throwArgumentError("invalid format type","format",e),e===dr.json)return JSON.stringify({type:"constructor",stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});e===dr.sighash&&sr.throwError("cannot format a constructor for sighash",he.errors.UNSUPPORTED_OPERATION,{operation:"format(sighash)"});let r="constructor("+this.inputs.map(n=>n.format(e)).join(e===dr.full?", ":",")+") ";return this.stateMutability&&this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "),r.trim()}static from(e){return typeof e=="string"?gl.fromString(e):gl.fromObject(e)}static fromObject(e){if(gl.isConstructorFragment(e))return e;e.type!=="constructor"&&sr.throwArgumentError("invalid constructor object","value",e);let r=XG(e);r.constant&&sr.throwArgumentError("constructor cannot be constant","value",e);const n={name:null,type:e.type,inputs:e.inputs?e.inputs.map(ki.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Fe.from(e.gas):null};return new gl(X0,n)}static fromString(e){let r={type:"constructor"};e=JG(e,r);let n=e.match(e1);return(!n||n[1].trim()!=="constructor")&&sr.throwArgumentError("invalid constructor string","value",e),r.inputs=Qb(n[2].trim(),!1),YG(n[3].trim(),r),gl.fromObject(r)}static isConstructorFragment(e){return e&&e._isFragment&&e.type==="constructor"}}class ml extends gl{format(e){if(e||(e=dr.sighash),dr[e]||sr.throwArgumentError("invalid format type","format",e),e===dr.json)return JSON.stringify({type:"function",name:this.name,constant:this.constant,stateMutability:this.stateMutability!=="nonpayable"?this.stateMutability:void 0,payable:this.payable,gas:this.gas?this.gas.toNumber():void 0,inputs:this.inputs.map(n=>JSON.parse(n.format(e))),outputs:this.outputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==dr.sighash&&(r+="function "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===dr.full?", ":",")+") ",e!==dr.sighash&&(this.stateMutability?this.stateMutability!=="nonpayable"&&(r+=this.stateMutability+" "):this.constant&&(r+="view "),this.outputs&&this.outputs.length&&(r+="returns ("+this.outputs.map(n=>n.format(e)).join(", ")+") "),this.gas!=null&&(r+="@"+this.gas.toString()+" ")),r.trim()}static from(e){return typeof e=="string"?ml.fromString(e):ml.fromObject(e)}static fromObject(e){if(ml.isFunctionFragment(e))return e;e.type!=="function"&&sr.throwArgumentError("invalid function object","value",e);let r=XG(e);const n={type:e.type,name:Zb(e.name),constant:r.constant,inputs:e.inputs?e.inputs.map(ki.fromObject):[],outputs:e.outputs?e.outputs.map(ki.fromObject):[],payable:r.payable,stateMutability:r.stateMutability,gas:e.gas?Fe.from(e.gas):null};return new ml(X0,n)}static fromString(e){let r={type:"function"};e=JG(e,r);let n=e.split(" returns ");n.length>2&&sr.throwArgumentError("invalid function string","value",e);let i=n[0].match(e1);if(i||sr.throwArgumentError("invalid function signature","value",e),r.name=i[1].trim(),r.name&&Zb(r.name),r.inputs=Qb(i[2],!1),YG(i[3].trim(),r),n.length>1){let s=n[1].match(e1);(s[1].trim()!=""||s[3].trim()!="")&&sr.throwArgumentError("unexpected tokens","value",e),r.outputs=Qb(s[2],!1)}else r.outputs=[];return ml.fromObject(r)}static isFunctionFragment(e){return e&&e._isFragment&&e.type==="function"}}function n7(t){const e=t.format();return(e==="Error(string)"||e==="Panic(uint256)")&&sr.throwArgumentError(`cannot specify user defined ${e} error`,"fragment",t),t}class kf extends bu{format(e){if(e||(e=dr.sighash),dr[e]||sr.throwArgumentError("invalid format type","format",e),e===dr.json)return JSON.stringify({type:"error",name:this.name,inputs:this.inputs.map(n=>JSON.parse(n.format(e)))});let r="";return e!==dr.sighash&&(r+="error "),r+=this.name+"("+this.inputs.map(n=>n.format(e)).join(e===dr.full?", ":",")+") ",r.trim()}static from(e){return typeof e=="string"?kf.fromString(e):kf.fromObject(e)}static fromObject(e){if(kf.isErrorFragment(e))return e;e.type!=="error"&&sr.throwArgumentError("invalid error object","value",e);const r={type:e.type,name:Zb(e.name),inputs:e.inputs?e.inputs.map(ki.fromObject):[]};return n7(new kf(X0,r))}static fromString(e){let r={type:"error"},n=e.match(e1);return n||sr.throwArgumentError("invalid error signature","value",e),r.name=n[1].trim(),r.name&&Zb(r.name),r.inputs=Qb(n[2],!1),n7(kf.fromObject(r))}static isErrorFragment(e){return e&&e._isFragment&&e.type==="error"}}function Eg(t){return t.match(/^uint($|[^1-9])/)?t="uint256"+t.substring(4):t.match(/^int($|[^1-9])/)&&(t="int256"+t.substring(3)),t}const zIe=new RegExp("^[a-zA-Z$_][a-zA-Z0-9$_]*$");function Zb(t){return(!t||!t.match(zIe))&&sr.throwArgumentError(`invalid identifier "${t}"`,"value",t),t}const e1=new RegExp("^([^)(]*)\\((.*)\\)([^)(]*)$");function GIe(t){t=t.trim();let e=[],r="",n=0;for(let i=0;i<t.length;i++){let s=t[i];s===","&&n===0?(e.push(r),r=""):(r+=s,s==="("?n++:s===")"&&(n--,n===-1&&sr.throwArgumentError("unbalanced parenthesis","value",t)))}return r&&e.push(r),e}const R6=new he(q1);function KIe(t){const e=[],r=function(n,i){if(Array.isArray(i))for(let s in i){const o=n.slice();o.push(s);try{r(o,i[s])}catch(a){e.push({path:o,error:a})}}};return r([],t),e}class nd{constructor(e,r,n,i){this.name=e,this.type=r,this.localName=n,this.dynamic=i}_throwError(e,r){R6.throwArgumentError(e,this.localName,r)}}class tR{constructor(e){Ae(this,"wordSize",e||32),this._data=[],this._dataLength=0,this._padding=new Uint8Array(e)}get data(){return no(this._data)}get length(){return this._dataLength}_writeData(e){return this._data.push(e),this._dataLength+=e.length,e.length}appendWriter(e){return this._writeData(Cr(e._data))}writeBytes(e){let r=Ce(e);const n=r.length%this.wordSize;return n&&(r=Cr([r,this._padding.slice(n)])),this._writeData(r)}_getValue(e){let r=Ce(Fe.from(e));return r.length>this.wordSize&&R6.throwError("value out-of-bounds",he.errors.BUFFER_OVERRUN,{length:this.wordSize,offset:r.length}),r.length%this.wordSize&&(r=Cr([this._padding.slice(r.length%this.wordSize),r])),r}writeValue(e){return this._writeData(this._getValue(e))}writeUpdatableValue(){const e=this._data.length;return this._data.push(this._padding),this._dataLength+=this.wordSize,r=>{this._data[e]=this._getValue(r)}}}class KA{constructor(e,r,n,i){Ae(this,"_data",Ce(e)),Ae(this,"wordSize",r||32),Ae(this,"_coerceFunc",n),Ae(this,"allowLoose",i),this._offset=0}get data(){return Oe(this._data)}get consumed(){return this._offset}static coerce(e,r){let n=e.match("^u?int([0-9]+)$");return n&&parseInt(n[1])<=48&&(r=r.toNumber()),r}coerce(e,r){return this._coerceFunc?this._coerceFunc(e,r):KA.coerce(e,r)}_peekBytes(e,r,n){let i=Math.ceil(r/this.wordSize)*this.wordSize;return this._offset+i>this._data.length&&(this.allowLoose&&n&&this._offset+r<=this._data.length?i=r:R6.throwError("data out-of-bounds",he.errors.BUFFER_OVERRUN,{length:this._data.length,offset:this._offset+i})),this._data.slice(this._offset,this._offset+i)}subReader(e){return new KA(this._data.slice(this._offset+e),this.wordSize,this._coerceFunc,this.allowLoose)}readBytes(e,r){let n=this._peekBytes(0,e,!!r);return this._offset+=n.length,n.slice(0,e)}readValue(){return Fe.from(this.readBytes(this.wordSize))}}class VIe extends nd{constructor(e){super("address","address",e,!1)}defaultValue(){return"0x0000000000000000000000000000000000000000"}encode(e,r){try{r=Pr(r)}catch(n){this._throwError(n.message,r)}return e.writeValue(r)}decode(e){return Pr(Gr(e.readValue().toHexString(),20))}}class JIe extends nd{constructor(e){super(e.name,e.type,void 0,e.dynamic),this.coder=e}defaultValue(){return this.coder.defaultValue()}encode(e,r){return this.coder.encode(e,r)}decode(e){return this.coder.decode(e)}}const kg=new he(q1);function QG(t,e,r){let n=null;if(Array.isArray(r))n=r;else if(r&&typeof r=="object"){let c={};n=e.map(l=>{const u=l.localName;return u||kg.throwError("cannot encode object for signature with missing names",he.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]&&kg.throwError("cannot encode object for signature with duplicate names",he.errors.INVALID_ARGUMENT,{argument:"values",coder:l,value:r}),c[u]=!0,r[u]})}else kg.throwArgumentError("invalid tuple value","tuple",r);e.length!==n.length&&kg.throwArgumentError("types/value length mismatch","tuple",r);let i=new tR(t.wordSize),s=new tR(t.wordSize),o=[];e.forEach((c,l)=>{let u=n[l];if(c.dynamic){let f=s.length;c.encode(s,u);let h=i.writeUpdatableValue();o.push(g=>{h(g+f)})}else c.encode(i,u)}),o.forEach(c=>{c(i.length)});let a=t.appendWriter(i);return a+=t.appendWriter(s),a}function ZG(t,e){let r=[],n=t.subReader(0);e.forEach(s=>{let o=null;if(s.dynamic){let a=t.readValue(),c=n.subReader(a.toNumber());try{o=s.decode(c)}catch(l){if(l.code===he.errors.BUFFER_OVERRUN)throw l;o=l,o.baseType=s.name,o.name=s.localName,o.type=s.type}}else try{o=s.decode(t)}catch(a){if(a.code===he.errors.BUFFER_OVERRUN)throw a;o=a,o.baseType=s.name,o.name=s.localName,o.type=s.type}o!=null&&r.push(o)});const i=e.reduce((s,o)=>{const a=o.localName;return a&&(s[a]||(s[a]=0),s[a]++),s},{});e.forEach((s,o)=>{let a=s.localName;if(!a||i[a]!==1||(a==="length"&&(a="_length"),r[a]!=null))return;const c=r[o];c instanceof Error?Object.defineProperty(r,a,{enumerable:!0,get:()=>{throw c}}):r[a]=c});for(let s=0;s<r.length;s++){const o=r[s];o instanceof Error&&Object.defineProperty(r,s,{enumerable:!0,get:()=>{throw o}})}return Object.freeze(r)}class YIe extends nd{constructor(e,r,n){const i=e.type+"["+(r>=0?r:"")+"]",s=r===-1||e.dynamic;super("array",i,n,s),this.coder=e,this.length=r}defaultValue(){const e=this.coder.defaultValue(),r=[];for(let n=0;n<this.length;n++)r.push(e);return r}encode(e,r){Array.isArray(r)||this._throwError("expected array value",r);let n=this.length;n===-1&&(n=r.length,e.writeValue(r.length)),kg.checkArgumentCount(r.length,n,"coder array"+(this.localName?" "+this.localName:""));let i=[];for(let s=0;s<r.length;s++)i.push(this.coder);return QG(e,i,r)}decode(e){let r=this.length;r===-1&&(r=e.readValue().toNumber(),r*32>e._data.length&&kg.throwError("insufficient data length",he.errors.BUFFER_OVERRUN,{length:e._data.length,count:r}));let n=[];for(let i=0;i<r;i++)n.push(new JIe(this.coder));return e.coerce(this.name,ZG(e,n))}}class XIe extends nd{constructor(e){super("bool","bool",e,!1)}defaultValue(){return!1}encode(e,r){return e.writeValue(r?1:0)}decode(e){return e.coerce(this.type,!e.readValue().isZero())}}class eK extends nd{constructor(e,r){super(e,e,r,!0)}defaultValue(){return"0x"}encode(e,r){r=Ce(r);let n=e.writeValue(r.length);return n+=e.writeBytes(r),n}decode(e){return e.readBytes(e.readValue().toNumber(),!0)}}class QIe extends eK{constructor(e){super("bytes",e)}decode(e){return e.coerce(this.name,Oe(super.decode(e)))}}class ZIe extends nd{constructor(e,r){let n="bytes"+String(e);super(n,n,r,!1),this.size=e}defaultValue(){return"0x0000000000000000000000000000000000000000000000000000000000000000".substring(0,2+this.size*2)}encode(e,r){let n=Ce(r);return n.length!==this.size&&this._throwError("incorrect data length",r),e.writeBytes(n)}decode(e){return e.coerce(this.name,Oe(e.readBytes(this.size)))}}class e3e extends nd{constructor(e){super("null","",e,!1)}defaultValue(){return null}encode(e,r){return r!=null&&this._throwError("not null",r),e.writeBytes([])}decode(e){return e.readBytes(0),e.coerce(this.name,null)}}class t3e extends nd{constructor(e,r,n){const i=(r?"int":"uint")+e*8;super(i,i,n,!1),this.size=e,this.signed=r}defaultValue(){return 0}encode(e,r){let n=Fe.from(r),i=b6.mask(e.wordSize*8);if(this.signed){let s=i.mask(this.size*8-1);(n.gt(s)||n.lt(s.add(sG).mul(iG)))&&this._throwError("value out-of-bounds",r)}else(n.lt(_6)||n.gt(i.mask(this.size*8)))&&this._throwError("value out-of-bounds",r);return n=n.toTwos(this.size*8).mask(this.size*8),this.signed&&(n=n.fromTwos(this.size*8).toTwos(8*e.wordSize)),e.writeValue(n)}decode(e){let r=e.readValue().mask(this.size*8);return this.signed&&(r=r.fromTwos(this.size*8)),e.coerce(this.name,r)}}class r3e extends eK{constructor(e){super("string",e)}defaultValue(){return""}encode(e,r){return super.encode(e,Gn(r))}decode(e){return Mm(super.decode(e))}}class xv extends nd{constructor(e,r){let n=!1;const i=[];e.forEach(o=>{o.dynamic&&(n=!0),i.push(o.type)});const s="tuple("+i.join(",")+")";super("tuple",s,r,n),this.coders=e}defaultValue(){const e=[];this.coders.forEach(n=>{e.push(n.defaultValue())});const r=this.coders.reduce((n,i)=>{const s=i.localName;return s&&(n[s]||(n[s]=0),n[s]++),n},{});return this.coders.forEach((n,i)=>{let s=n.localName;!s||r[s]!==1||(s==="length"&&(s="_length"),e[s]==null&&(e[s]=e[i]))}),Object.freeze(e)}encode(e,r){return QG(e,this.coders,r)}decode(e){return e.coerce(this.name,ZG(e,this.coders))}}const Cv=new he(q1),n3e=new RegExp(/^bytes([0-9]*)$/),i3e=new RegExp(/^(u?int)([0-9]*)$/);class tK{constructor(e){Ae(this,"coerceFunc",e||null)}_getCoder(e){switch(e.baseType){case"address":return new VIe(e.name);case"bool":return new XIe(e.name);case"string":return new r3e(e.name);case"bytes":return new QIe(e.name);case"array":return new YIe(this._getCoder(e.arrayChildren),e.arrayLength,e.name);case"tuple":return new xv((e.components||[]).map(n=>this._getCoder(n)),e.name);case"":return new e3e(e.name)}let r=e.type.match(i3e);if(r){let n=parseInt(r[2]||"256");return(n===0||n>256||n%8!==0)&&Cv.throwArgumentError("invalid "+r[1]+" bit length","param",e),new t3e(n/8,r[1]==="int",e.name)}if(r=e.type.match(n3e),r){let n=parseInt(r[1]);return(n===0||n>32)&&Cv.throwArgumentError("invalid bytes length","param",e),new ZIe(n,e.name)}return Cv.throwArgumentError("invalid type","type",e.type)}_getWordSize(){return 32}_getReader(e,r){return new KA(e,this._getWordSize(),this.coerceFunc,r)}_getWriter(){return new tR(this._getWordSize())}getDefaultValue(e){const r=e.map(i=>this._getCoder(ki.from(i)));return new xv(r,"_").defaultValue()}encode(e,r){e.length!==r.length&&Cv.throwError("types/values length mismatch",he.errors.INVALID_ARGUMENT,{count:{types:e.length,values:r.length},value:{types:e,values:r}});const n=e.map(o=>this._getCoder(ki.from(o))),i=new xv(n,"_"),s=this._getWriter();return i.encode(s,r),s.data}decode(e,r,n){const i=e.map(o=>this._getCoder(ki.from(o)));return new xv(i,"_").decode(this._getReader(Ce(r),n))}}const rK=new tK,On=new he(q1);class nK extends ba{}class iK extends ba{}class s3e extends ba{}class rR extends ba{static isIndexed(e){return!!(e&&e._isIndexed)}}const o3e={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};function i7(t,e){const r=new Error(`deferred error during ABI decoding triggered accessing ${t}`);return r.error=e,r}class a3e{constructor(e){let r=[];typeof e=="string"?r=JSON.parse(e):r=e,Ae(this,"fragments",r.map(n=>bu.from(n)).filter(n=>n!=null)),Ae(this,"_abiCoder",Lo(new.target,"getAbiCoder")()),Ae(this,"functions",{}),Ae(this,"errors",{}),Ae(this,"events",{}),Ae(this,"structs",{}),this.fragments.forEach(n=>{let i=null;switch(n.type){case"constructor":if(this.deploy){On.warn("duplicate definition - constructor");return}Ae(this,"deploy",n);return;case"function":i=this.functions;break;case"event":i=this.events;break;case"error":i=this.errors;break;default:return}let s=n.format();if(i[s]){On.warn("duplicate definition - "+s);return}i[s]=n}),this.deploy||Ae(this,"deploy",gl.from({payable:!1,type:"constructor"})),Ae(this,"_isInterface",!0)}format(e){e||(e=dr.full),e===dr.sighash&&On.throwArgumentError("interface does not support formatting sighash","format",e);const r=this.fragments.map(n=>n.format(e));return e===dr.json?JSON.stringify(r.map(n=>JSON.parse(n))):r}static getAbiCoder(){return rK}static getAddress(e){return Pr(e)}static getSighash(e){return li(wl(e.format()),0,4)}static getEventTopic(e){return wl(e.format())}getFunction(e){if(Gt(e)){for(const n in this.functions)if(e===this.getSighash(n))return this.functions[n];On.throwArgumentError("no matching function","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.functions).filter(s=>s.split("(")[0]===n);return i.length===0?On.throwArgumentError("no matching function","name",n):i.length>1&&On.throwArgumentError("multiple matching functions","name",n),this.functions[i[0]]}const r=this.functions[ml.fromString(e).format()];return r||On.throwArgumentError("no matching function","signature",e),r}getEvent(e){if(Gt(e)){const n=e.toLowerCase();for(const i in this.events)if(n===this.getEventTopic(i))return this.events[i];On.throwArgumentError("no matching event","topichash",n)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.events).filter(s=>s.split("(")[0]===n);return i.length===0?On.throwArgumentError("no matching event","name",n):i.length>1&&On.throwArgumentError("multiple matching events","name",n),this.events[i[0]]}const r=this.events[gu.fromString(e).format()];return r||On.throwArgumentError("no matching event","signature",e),r}getError(e){if(Gt(e)){const n=Lo(this.constructor,"getSighash");for(const i in this.errors){const s=this.errors[i];if(e===n(s))return this.errors[i]}On.throwArgumentError("no matching error","sighash",e)}if(e.indexOf("(")===-1){const n=e.trim(),i=Object.keys(this.errors).filter(s=>s.split("(")[0]===n);return i.length===0?On.throwArgumentError("no matching error","name",n):i.length>1&&On.throwArgumentError("multiple matching errors","name",n),this.errors[i[0]]}const r=this.errors[ml.fromString(e).format()];return r||On.throwArgumentError("no matching error","signature",e),r}getSighash(e){if(typeof e=="string")try{e=this.getFunction(e)}catch(r){try{e=this.getError(e)}catch{throw r}}return Lo(this.constructor,"getSighash")(e)}getEventTopic(e){return typeof e=="string"&&(e=this.getEvent(e)),Lo(this.constructor,"getEventTopic")(e)}_decodeParams(e,r){return this._abiCoder.decode(e,r)}_encodeParams(e,r){return this._abiCoder.encode(e,r)}encodeDeploy(e){return this._encodeParams(this.deploy.inputs,e||[])}decodeErrorResult(e,r){typeof e=="string"&&(e=this.getError(e));const n=Ce(r);return Oe(n.slice(0,4))!==this.getSighash(e)&&On.throwArgumentError(`data signature does not match error ${e.name}.`,"data",Oe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeErrorResult(e,r){return typeof e=="string"&&(e=this.getError(e)),Oe(Cr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionData(e,r){typeof e=="string"&&(e=this.getFunction(e));const n=Ce(r);return Oe(n.slice(0,4))!==this.getSighash(e)&&On.throwArgumentError(`data signature does not match function ${e.name}.`,"data",Oe(n)),this._decodeParams(e.inputs,n.slice(4))}encodeFunctionData(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Oe(Cr([this.getSighash(e),this._encodeParams(e.inputs,r||[])]))}decodeFunctionResult(e,r){typeof e=="string"&&(e=this.getFunction(e));let n=Ce(r),i=null,s="",o=null,a=null,c=null;switch(n.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(e.outputs,n)}catch{}break;case 4:{const l=Oe(n.slice(0,4)),u=o3e[l];if(u)o=this._abiCoder.decode(u.inputs,n.slice(4)),a=u.name,c=u.signature,u.reason&&(i=o[0]),a==="Error"?s=`; VM Exception while processing transaction: reverted with reason string ${JSON.stringify(o[0])}`:a==="Panic"&&(s=`; VM Exception while processing transaction: reverted with panic code ${o[0]}`);else try{const f=this.getError(l);o=this._abiCoder.decode(f.inputs,n.slice(4)),a=f.name,c=f.format()}catch{}break}}return On.throwError("call revert exception"+s,he.errors.CALL_EXCEPTION,{method:e.format(),data:Oe(r),errorArgs:o,errorName:a,errorSignature:c,reason:i})}encodeFunctionResult(e,r){return typeof e=="string"&&(e=this.getFunction(e)),Oe(this._abiCoder.encode(e.outputs,r||[]))}encodeFilterTopics(e,r){typeof e=="string"&&(e=this.getEvent(e)),r.length>e.inputs.length&&On.throwError("too many arguments for "+e.format(),he.errors.UNEXPECTED_ARGUMENT,{argument:"values",value:r});let n=[];e.anonymous||n.push(this.getEventTopic(e));const i=(s,o)=>s.type==="string"?wl(o):s.type==="bytes"?xr(Oe(o)):(s.type==="bool"&&typeof o=="boolean"&&(o=o?"0x01":"0x00"),s.type.match(/^u?int/)&&(o=Fe.from(o).toHexString()),s.type==="address"&&this._abiCoder.encode(["address"],[o]),Gr(Oe(o),32));for(r.forEach((s,o)=>{let a=e.inputs[o];if(!a.indexed){s!=null&&On.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+a.name,s);return}s==null?n.push(null):a.baseType==="array"||a.baseType==="tuple"?On.throwArgumentError("filtering with tuples or arrays not supported","contract."+a.name,s):Array.isArray(s)?n.push(s.map(c=>i(a,c))):n.push(i(a,s))});n.length&&n[n.length-1]===null;)n.pop();return n}encodeEventLog(e,r){typeof e=="string"&&(e=this.getEvent(e));const n=[],i=[],s=[];return e.anonymous||n.push(this.getEventTopic(e)),r.length!==e.inputs.length&&On.throwArgumentError("event arguments/values mismatch","values",r),e.inputs.forEach((o,a)=>{const c=r[a];if(o.indexed)if(o.type==="string")n.push(wl(c));else if(o.type==="bytes")n.push(xr(c));else{if(o.baseType==="tuple"||o.baseType==="array")throw new Error("not implemented");n.push(this._abiCoder.encode([o.type],[c]))}else i.push(o),s.push(c)}),{data:this._abiCoder.encode(i,s),topics:n}}decodeEventLog(e,r,n){if(typeof e=="string"&&(e=this.getEvent(e)),n!=null&&!e.anonymous){let h=this.getEventTopic(e);(!Gt(n[0],32)||n[0].toLowerCase()!==h)&&On.throwError("fragment/topic mismatch",he.errors.INVALID_ARGUMENT,{argument:"topics[0]",expected:h,value:n[0]}),n=n.slice(1)}let i=[],s=[],o=[];e.inputs.forEach((h,g)=>{h.indexed?h.type==="string"||h.type==="bytes"||h.baseType==="tuple"||h.baseType==="array"?(i.push(ki.fromObject({type:"bytes32",name:h.name})),o.push(!0)):(i.push(h),o.push(!1)):(s.push(h),o.push(!1))});let a=n!=null?this._abiCoder.decode(i,Cr(n)):null,c=this._abiCoder.decode(s,r,!0),l=[],u=0,f=0;e.inputs.forEach((h,g)=>{if(h.indexed)if(a==null)l[g]=new rR({_isIndexed:!0,hash:null});else if(o[g])l[g]=new rR({_isIndexed:!0,hash:a[f++]});else try{l[g]=a[f++]}catch(_){l[g]=_}else try{l[g]=c[u++]}catch(_){l[g]=_}if(h.name&&l[h.name]==null){const _=l[g];_ instanceof Error?Object.defineProperty(l,h.name,{enumerable:!0,get:()=>{throw i7(`property ${JSON.stringify(h.name)}`,_)}}):l[h.name]=_}});for(let h=0;h<l.length;h++){const g=l[h];g instanceof Error&&Object.defineProperty(l,h,{enumerable:!0,get:()=>{throw i7(`index ${h}`,g)}})}return Object.freeze(l)}parseTransaction(e){let r=this.getFunction(e.data.substring(0,10).toLowerCase());return r?new iK({args:this._abiCoder.decode(r.inputs,"0x"+e.data.substring(10)),functionFragment:r,name:r.name,signature:r.format(),sighash:this.getSighash(r),value:Fe.from(e.value||"0")}):null}parseLog(e){let r=this.getEvent(e.topics[0]);return!r||r.anonymous?null:new nK({eventFragment:r,name:r.name,signature:r.format(),topic:this.getEventTopic(r),args:this.decodeEventLog(r,e.data,e.topics)})}parseError(e){const r=Oe(e);let n=this.getError(r.substring(0,10).toLowerCase());return n?new s3e({args:this._abiCoder.decode(n.inputs,"0x"+r.substring(10)),errorFragment:n,name:n.name,signature:n.format(),sighash:this.getSighash(n)}):null}static isInterface(e){return!!(e&&e._isInterface)}}const c3e=Object.freeze(Object.defineProperty({__proto__:null,AbiCoder:tK,ConstructorFragment:gl,ErrorFragment:kf,EventFragment:gu,FormatTypes:dr,Fragment:bu,FunctionFragment:ml,Indexed:rR,Interface:a3e,LogDescription:nK,ParamType:ki,TransactionDescription:iK,checkResultErrors:KIe,defaultAbiCoder:rK},Symbol.toStringTag,{value:"Module"})),l3e="logger/5.8.0";let s7=!1,o7=!1;const dE={debug:1,default:2,info:2,warning:3,error:4,off:5};let a7=dE.default,zS=null;function u3e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const c7=u3e();var nR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(nR||(nR={}));var Qc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Qc||(Qc={}));const l7="0123456789abcdef";let El=class mi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();dE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(a7>dE[n])&&console.log.apply(console,r)}debug(...e){this._log(mi.levels.DEBUG,e)}info(...e){this._log(mi.levels.INFO,e)}warn(...e){this._log(mi.levels.WARNING,e)}makeError(e,r,n){if(o7)return this.makeError("censored error",r,{});r||(r=mi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=l7[l[f]>>4],u+=l7[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Qc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Qc.CALL_EXCEPTION:case Qc.INSUFFICIENT_FUNDS:case Qc.MISSING_NEW:case Qc.NONCE_EXPIRED:case Qc.REPLACEMENT_UNDERPRICED:case Qc.TRANSACTION_REPLACED:case Qc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,mi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){c7&&this.throwError("platform missing String.prototype.normalize",mi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:c7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,mi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,mi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,mi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,mi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",mi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",mi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",mi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return zS||(zS=new mi(l3e)),zS}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",mi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),s7){if(!e)return;this.globalLogger().throwError("error censorship permanent",mi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}o7=!!e,s7=!!r}static setLogLevel(e){const r=dE[e.toLowerCase()];if(r==null){mi.globalLogger().warn("invalid log level - "+e);return}a7=r}static from(e){return new mi(e)}};El.errors=Qc;El.levels=nR;const f3e="bytes/5.8.0",D0=new El(f3e);function sK(t){return!!t.toHexString}function M_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return M_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function d3e(t){return mh(t)&&!(t.length%2)||u2(t)}function u7(t){return typeof t=="number"&&t==t&&t%1===0}function u2(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!u7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!u7(r)||r<0||r>=256)return!1}return!0}function Bm(t,e){if(e||(e={}),typeof t=="number"){D0.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),M_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),sK(t)&&(t=t.toHexString()),mh(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":D0.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return M_(new Uint8Array(n))}return u2(t)?M_(new Uint8Array(t)):D0.throwArgumentError("invalid arrayify value","value",t)}function h3e(t){const e=t.map(i=>Bm(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),M_(n)}function p3e(t){let e=Bm(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function mh(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const GS="0123456789abcdef";function f2(t,e){if(e||(e={}),typeof t=="number"){D0.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=GS[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),sK(t))return t.toHexString();if(mh(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":D0.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(u2(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=GS[(i&240)>>4]+GS[i&15]}return r}return D0.throwArgumentError("invalid hexlify value","value",t)}function f7(t){if(typeof t!="string")t=f2(t);else if(!mh(t)||t.length%2)return null;return(t.length-2)/2}function oK(t,e,r){return typeof t!="string"?t=f2(t):(!mh(t)||t.length%2)&&D0.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}const g3e="bignumber/5.8.0";var t1=fe.BN;const Cf=new El(g3e),KS={},d7=9007199254740991;let h7=!1,P6=class Wc{constructor(e,r){e!==KS&&Cf.throwError("cannot call constructor directly; use BigNumber.from",El.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return vo(Jt(this).fromTwos(e))}toTwos(e){return vo(Jt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Wc.from(this._hex.substring(1)):this}add(e){return vo(Jt(this).add(Jt(e)))}sub(e){return vo(Jt(this).sub(Jt(e)))}div(e){return Wc.from(e).isZero()&&$a("division-by-zero","div"),vo(Jt(this).div(Jt(e)))}mul(e){return vo(Jt(this).mul(Jt(e)))}mod(e){const r=Jt(e);return r.isNeg()&&$a("division-by-zero","mod"),vo(Jt(this).umod(r))}pow(e){const r=Jt(e);return r.isNeg()&&$a("negative-power","pow"),vo(Jt(this).pow(r))}and(e){const r=Jt(e);return(this.isNegative()||r.isNeg())&&$a("unbound-bitwise-result","and"),vo(Jt(this).and(r))}or(e){const r=Jt(e);return(this.isNegative()||r.isNeg())&&$a("unbound-bitwise-result","or"),vo(Jt(this).or(r))}xor(e){const r=Jt(e);return(this.isNegative()||r.isNeg())&&$a("unbound-bitwise-result","xor"),vo(Jt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&$a("negative-width","mask"),vo(Jt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&$a("negative-width","shl"),vo(Jt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&$a("negative-width","shr"),vo(Jt(this).shrn(e))}eq(e){return Jt(this).eq(Jt(e))}lt(e){return Jt(this).lt(Jt(e))}lte(e){return Jt(this).lte(Jt(e))}gt(e){return Jt(this).gt(Jt(e))}gte(e){return Jt(this).gte(Jt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Jt(this).isZero()}toNumber(){try{return Jt(this).toNumber()}catch{$a("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Cf.throwError("this platform does not support BigInt",El.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?h7||(h7=!0,Cf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Cf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",El.errors.UNEXPECTED_ARGUMENT,{}):Cf.throwError("BigNumber.toString does not accept parameters",El.errors.UNEXPECTED_ARGUMENT,{})),Jt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Wc)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Wc(KS,r1(e)):e.match(/^-?[0-9]+$/)?new Wc(KS,r1(new t1(e))):Cf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&$a("underflow","BigNumber.from",e),(e>=d7||e<=-d7)&&$a("overflow","BigNumber.from",e),Wc.from(String(e));const r=e;if(typeof r=="bigint")return Wc.from(r.toString());if(u2(r))return Wc.from(f2(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Wc.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(mh(n)||n[0]==="-"&&mh(n.substring(1))))return Wc.from(n)}return Cf.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function r1(t){if(typeof t!="string")return r1(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Cf.throwArgumentError("invalid hex","value",t),t=r1(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function vo(t){return P6.from(r1(t))}function Jt(t){const e=P6.from(t).toHexString();return e[0]==="-"?new t1("-"+e.substring(3),16):new t1(e.substring(2),16)}function $a(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Cf.throwError(t,El.errors.NUMERIC_FAULT,n)}function m3e(t){return new t1(t,36).toString(16)}function y3e(t){return new t1(t,16).toString(36)}function O6(t){return"0x"+km.keccak_256(Bm(t))}const _3e="rlp/5.8.0",b3e=new El(_3e);function p7(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function aK(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(aK(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=p7(n.length);return i.unshift(247+i.length),i.concat(n)}d3e(t)||b3e.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(Bm(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=p7(e.length);return r.unshift(183+r.length),r.concat(e)}function w3e(t){return f2(aK(t))}const v3e="address/5.7.0",Qd=new El(v3e);function g7(t){mh(t,20)||Qd.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Bm(O6(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const E3e=9007199254740991;function A3e(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const D6={};for(let t=0;t<10;t++)D6[String(t)]=String(t);for(let t=0;t<26;t++)D6[String.fromCharCode(65+t)]=String(10+t);const m7=Math.floor(A3e(E3e));function cK(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>D6[n]).join("");for(;e.length>=m7;){let n=e.substring(0,m7);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function yh(t){let e=null;if(typeof t!="string"&&Qd.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=g7(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&Qd.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==cK(t)&&Qd.throwArgumentError("bad icap checksum","address",t),e=m3e(t.substring(4));e.length<40;)e="0"+e;e=g7("0x"+e)}else Qd.throwArgumentError("invalid address","address",t);return e}function x3e(t){try{return yh(t),!0}catch{}return!1}function C3e(t){let e=y3e(yh(t).substring(2)).toUpperCase();for(;e.length<30;)e="0"+e;return"XE"+cK("XE00"+e)+e}function N3e(t){let e=null;try{e=yh(t.from)}catch{Qd.throwArgumentError("missing from address","transaction",t)}const r=p3e(Bm(P6.from(t.nonce).toHexString()));return yh(oK(O6(w3e([e,r])),12))}function S3e(t,e,r){return f7(e)!==32&&Qd.throwArgumentError("salt must be 32 bytes","salt",e),f7(r)!==32&&Qd.throwArgumentError("initCodeHash must be 32 bytes","initCodeHash",r),yh(oK(O6(h3e(["0xff",yh(t),e,r])),12))}const T3e=Object.freeze(Object.defineProperty({__proto__:null,getAddress:yh,getContractAddress:N3e,getCreate2Address:S3e,getIcapAddress:C3e,isAddress:x3e},Symbol.toStringTag,{value:"Module"})),I3e="logger/5.8.0";let y7=!1,_7=!1;const hE={debug:1,default:2,info:2,warning:3,error:4,off:5};let b7=hE.default,VS=null;function R3e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const w7=R3e();var iR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(iR||(iR={}));var Zc;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Zc||(Zc={}));const v7="0123456789abcdef";let k6=class yi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();hE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(b7>hE[n])&&console.log.apply(console,r)}debug(...e){this._log(yi.levels.DEBUG,e)}info(...e){this._log(yi.levels.INFO,e)}warn(...e){this._log(yi.levels.WARNING,e)}makeError(e,r,n){if(_7)return this.makeError("censored error",r,{});r||(r=yi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=v7[l[f]>>4],u+=v7[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Zc.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Zc.CALL_EXCEPTION:case Zc.INSUFFICIENT_FUNDS:case Zc.MISSING_NEW:case Zc.NONCE_EXPIRED:case Zc.REPLACEMENT_UNDERPRICED:case Zc.TRANSACTION_REPLACED:case Zc.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,yi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){w7&&this.throwError("platform missing String.prototype.normalize",yi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:w7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,yi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,yi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,yi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,yi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",yi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",yi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",yi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return VS||(VS=new yi(I3e)),VS}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",yi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),y7){if(!e)return;this.globalLogger().throwError("error censorship permanent",yi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_7=!!e,y7=!!r}static setLogLevel(e){const r=hE[e.toLowerCase()];if(r==null){yi.globalLogger().warn("invalid log level - "+e);return}b7=r}static from(e){return new yi(e)}};k6.errors=Zc;k6.levels=iR;const P3e="bytes/5.8.0",JS=new k6(P3e);function O3e(t){return!!t.toHexString}function pE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return pE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function E7(t){return typeof t=="number"&&t==t&&t%1===0}function D3e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!E7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!E7(r)||r<0||r>=256)return!1}return!0}function lK(t,e){if(e||(e={}),typeof t=="number"){JS.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),pE(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),O3e(t)&&(t=t.toHexString()),k3e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":JS.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return pE(new Uint8Array(n))}return D3e(t)?pE(new Uint8Array(t)):JS.throwArgumentError("invalid arrayify value","value",t)}function k3e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function M3e(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return lK(e)}function U3e(t){t=lK(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}const L3e=Object.freeze(Object.defineProperty({__proto__:null,decode:M3e,encode:U3e},Symbol.toStringTag,{value:"Module"})),$3e="logger/5.8.0";let A7=!1,x7=!1;const gE={debug:1,default:2,info:2,warning:3,error:4,off:5};let C7=gE.default,YS=null;function F3e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const N7=F3e();var sR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(sR||(sR={}));var el;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(el||(el={}));const S7="0123456789abcdef";let M6=class _i{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();gE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(C7>gE[n])&&console.log.apply(console,r)}debug(...e){this._log(_i.levels.DEBUG,e)}info(...e){this._log(_i.levels.INFO,e)}warn(...e){this._log(_i.levels.WARNING,e)}makeError(e,r,n){if(x7)return this.makeError("censored error",r,{});r||(r=_i.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=S7[l[f]>>4],u+=S7[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case el.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case el.CALL_EXCEPTION:case el.INSUFFICIENT_FUNDS:case el.MISSING_NEW:case el.NONCE_EXPIRED:case el.REPLACEMENT_UNDERPRICED:case el.TRANSACTION_REPLACED:case el.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,_i.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){N7&&this.throwError("platform missing String.prototype.normalize",_i.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:N7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,_i.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,_i.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,_i.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,_i.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",_i.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",_i.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",_i.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return YS||(YS=new _i($3e)),YS}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",_i.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),A7){if(!e)return;this.globalLogger().throwError("error censorship permanent",_i.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}x7=!!e,A7=!!r}static setLogLevel(e){const r=gE[e.toLowerCase()];if(r==null){_i.globalLogger().warn("invalid log level - "+e);return}C7=r}static from(e){return new _i(e)}};M6.errors=el;M6.levels=sR;const B3e="bytes/5.8.0",XS=new M6(B3e);function H3e(t){return!!t.toHexString}function mE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return mE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function T7(t){return typeof t=="number"&&t==t&&t%1===0}function j3e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!T7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!T7(r)||r<0||r>=256)return!1}return!0}function I7(t,e){if(e||(e={}),typeof t=="number"){XS.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),mE(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),H3e(t)&&(t=t.toHexString()),W3e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":XS.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return mE(new Uint8Array(n))}return j3e(t)?mE(new Uint8Array(t)):XS.throwArgumentError("invalid arrayify value","value",t)}function W3e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function Nv(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}let U6=class{constructor(e){Nv(this,"alphabet",e),Nv(this,"base",e.length),Nv(this,"_alphabetMap",{}),Nv(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=I7(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return I7(new Uint8Array(r.reverse()))}};const q3e=new U6("abcdefghijklmnopqrstuvwxyz234567"),z3e=new U6("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),G3e=Object.freeze(Object.defineProperty({__proto__:null,Base32:q3e,Base58:z3e,BaseX:U6},Symbol.toStringTag,{value:"Module"})),K3e="logger/5.8.0";let R7=!1,P7=!1;const yE={debug:1,default:2,info:2,warning:3,error:4,off:5};let O7=yE.default,QS=null;function V3e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const D7=V3e();var oR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(oR||(oR={}));var tl;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(tl||(tl={}));const k7="0123456789abcdef";let L6=class bi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();yE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(O7>yE[n])&&console.log.apply(console,r)}debug(...e){this._log(bi.levels.DEBUG,e)}info(...e){this._log(bi.levels.INFO,e)}warn(...e){this._log(bi.levels.WARNING,e)}makeError(e,r,n){if(P7)return this.makeError("censored error",r,{});r||(r=bi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=k7[l[f]>>4],u+=k7[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case tl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case tl.CALL_EXCEPTION:case tl.INSUFFICIENT_FUNDS:case tl.MISSING_NEW:case tl.NONCE_EXPIRED:case tl.REPLACEMENT_UNDERPRICED:case tl.TRANSACTION_REPLACED:case tl.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,bi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){D7&&this.throwError("platform missing String.prototype.normalize",bi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:D7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,bi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,bi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,bi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,bi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",bi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",bi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",bi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return QS||(QS=new bi(K3e)),QS}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",bi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),R7){if(!e)return;this.globalLogger().throwError("error censorship permanent",bi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}P7=!!e,R7=!!r}static setLogLevel(e){const r=yE[e.toLowerCase()];if(r==null){bi.globalLogger().warn("invalid log level - "+e);return}O7=r}static from(e){return new bi(e)}};L6.errors=tl;L6.levels=oR;const J3e="bytes/5.7.0",zn=new L6(J3e);function uK(t){return!!t.toHexString}function Kg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Kg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function fK(t){return ic(t)&&!(t.length%2)||d2(t)}function M7(t){return typeof t=="number"&&t==t&&t%1===0}function d2(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!M7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!M7(r)||r<0||r>=256)return!1}return!0}function k0(t,e){if(e||(e={}),typeof t=="number"){zn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Kg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uK(t)&&(t=t.toHexString()),ic(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":zn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Kg(new Uint8Array(n))}return d2(t)?Kg(new Uint8Array(t)):zn.throwArgumentError("invalid arrayify value","value",t)}function dK(t){const e=t.map(i=>k0(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Kg(n)}function Y3e(t){let e=k0(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function hK(t,e){t=k0(t),t.length>e&&zn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Kg(r)}function ic(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const ZS="0123456789abcdef";function cs(t,e){if(e||(e={}),typeof t=="number"){zn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=ZS[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),uK(t))return t.toHexString();if(ic(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":zn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(d2(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=ZS[(i&240)>>4]+ZS[i&15]}return r}return zn.throwArgumentError("invalid hexlify value","value",t)}function X3e(t){if(typeof t!="string")t=cs(t);else if(!ic(t)||t.length%2)return null;return(t.length-2)/2}function Q3e(t,e,r){return typeof t!="string"?t=cs(t):(!ic(t)||t.length%2)&&zn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function Z3e(t){let e="0x";return t.forEach(r=>{e+=cs(r).substring(2)}),e}function eRe(t){const e=pK(cs(t,{hexPad:"left"}));return e==="0x"?"0x0":e}function pK(t){typeof t!="string"&&(t=cs(t)),ic(t)||zn.throwArgumentError("invalid hex string","value",t),t=t.substring(2);let e=0;for(;e<t.length&&t[e]==="0";)e++;return"0x"+t.substring(e)}function _E(t,e){for(typeof t!="string"?t=cs(t):ic(t)||zn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&zn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function gK(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(fK(t)){let r=k0(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=cs(r.slice(0,32)),e.s=cs(r.slice(32,64))):r.length===65?(e.r=cs(r.slice(0,32)),e.s=cs(r.slice(32,64)),e.v=r[64]):zn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:zn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=cs(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=hK(k0(e._vs),32);e._vs=cs(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&zn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=cs(i);e.s==null?e.s=o:e.s!==o&&zn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?zn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&zn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ic(e.r)?zn.throwArgumentError("signature missing or invalid r","signature",t):e.r=_E(e.r,32),e.s==null||!ic(e.s)?zn.throwArgumentError("signature missing or invalid s","signature",t):e.s=_E(e.s,32);const r=k0(e.s);r[0]>=128&&zn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=cs(r);e._vs&&(ic(e._vs)||zn.throwArgumentError("signature invalid _vs","signature",t),e._vs=_E(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&zn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function tRe(t){return t=gK(t),cs(dK([t.r,t.s,t.recoveryParam?"0x1c":"0x1b"]))}const rRe=Object.freeze(Object.defineProperty({__proto__:null,arrayify:k0,concat:dK,hexConcat:Z3e,hexDataLength:X3e,hexDataSlice:Q3e,hexStripZeros:pK,hexValue:eRe,hexZeroPad:_E,hexlify:cs,isBytes:d2,isBytesLike:fK,isHexString:ic,joinSignature:tRe,splitSignature:gK,stripZeros:Y3e,zeroPad:hK},Symbol.toStringTag,{value:"Module"})),nRe="logger/5.8.0";let U7=!1,L7=!1;const bE={debug:1,default:2,info:2,warning:3,error:4,off:5};let $7=bE.default,eT=null;function iRe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const F7=iRe();var aR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(aR||(aR={}));var rl;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(rl||(rl={}));const B7="0123456789abcdef";let $o=class wi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();bE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!($7>bE[n])&&console.log.apply(console,r)}debug(...e){this._log(wi.levels.DEBUG,e)}info(...e){this._log(wi.levels.INFO,e)}warn(...e){this._log(wi.levels.WARNING,e)}makeError(e,r,n){if(L7)return this.makeError("censored error",r,{});r||(r=wi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=B7[l[f]>>4],u+=B7[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case rl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case rl.CALL_EXCEPTION:case rl.INSUFFICIENT_FUNDS:case rl.MISSING_NEW:case rl.NONCE_EXPIRED:case rl.REPLACEMENT_UNDERPRICED:case rl.TRANSACTION_REPLACED:case rl.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,wi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){F7&&this.throwError("platform missing String.prototype.normalize",wi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:F7})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,wi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,wi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,wi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,wi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",wi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",wi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",wi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return eT||(eT=new wi(nRe)),eT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",wi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),U7){if(!e)return;this.globalLogger().throwError("error censorship permanent",wi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}L7=!!e,U7=!!r}static setLogLevel(e){const r=bE[e.toLowerCase()];if(r==null){wi.globalLogger().warn("invalid log level - "+e);return}$7=r}static from(e){return new wi(e)}};$o.errors=rl;$o.levels=aR;const sRe="bytes/5.8.0",rh=new $o(sRe);function mK(t){return!!t.toHexString}function U_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return U_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function H7(t){return typeof t=="number"&&t==t&&t%1===0}function $6(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!H7(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!H7(r)||r<0||r>=256)return!1}return!0}function Mu(t,e){if(e||(e={}),typeof t=="number"){rh.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),U_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),mK(t)&&(t=t.toHexString()),_h(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":rh.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return U_(new Uint8Array(n))}return $6(t)?U_(new Uint8Array(t)):rh.throwArgumentError("invalid arrayify value","value",t)}function F6(t){const e=t.map(i=>Mu(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),U_(n)}function _h(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const tT="0123456789abcdef";function Sh(t,e){if(e||(e={}),typeof t=="number"){rh.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=tT[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),mK(t))return t.toHexString();if(_h(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":rh.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if($6(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=tT[(i&240)>>4]+tT[i&15]}return r}return rh.throwArgumentError("invalid hexlify value","value",t)}function wE(t){let e="0x";return t.forEach(r=>{e+=Sh(r).substring(2)}),e}function VA(t,e){for(typeof t!="string"?t=Sh(t):_h(t)||rh.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&rh.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function yl(t){return"0x"+km.keccak_256(Mu(t))}const oRe="bignumber/5.8.0";var JA=fe.BN;const Nf=new $o(oRe),rT={},j7=9007199254740991;let W7=!1,id=class qc{constructor(e,r){e!==rT&&Nf.throwError("cannot call constructor directly; use BigNumber.from",$o.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Eo(Yt(this).fromTwos(e))}toTwos(e){return Eo(Yt(this).toTwos(e))}abs(){return this._hex[0]==="-"?qc.from(this._hex.substring(1)):this}add(e){return Eo(Yt(this).add(Yt(e)))}sub(e){return Eo(Yt(this).sub(Yt(e)))}div(e){return qc.from(e).isZero()&&Fa("division-by-zero","div"),Eo(Yt(this).div(Yt(e)))}mul(e){return Eo(Yt(this).mul(Yt(e)))}mod(e){const r=Yt(e);return r.isNeg()&&Fa("division-by-zero","mod"),Eo(Yt(this).umod(r))}pow(e){const r=Yt(e);return r.isNeg()&&Fa("negative-power","pow"),Eo(Yt(this).pow(r))}and(e){const r=Yt(e);return(this.isNegative()||r.isNeg())&&Fa("unbound-bitwise-result","and"),Eo(Yt(this).and(r))}or(e){const r=Yt(e);return(this.isNegative()||r.isNeg())&&Fa("unbound-bitwise-result","or"),Eo(Yt(this).or(r))}xor(e){const r=Yt(e);return(this.isNegative()||r.isNeg())&&Fa("unbound-bitwise-result","xor"),Eo(Yt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Fa("negative-width","mask"),Eo(Yt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Fa("negative-width","shl"),Eo(Yt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Fa("negative-width","shr"),Eo(Yt(this).shrn(e))}eq(e){return Yt(this).eq(Yt(e))}lt(e){return Yt(this).lt(Yt(e))}lte(e){return Yt(this).lte(Yt(e))}gt(e){return Yt(this).gt(Yt(e))}gte(e){return Yt(this).gte(Yt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Yt(this).isZero()}toNumber(){try{return Yt(this).toNumber()}catch{Fa("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Nf.throwError("this platform does not support BigInt",$o.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?W7||(W7=!0,Nf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Nf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",$o.errors.UNEXPECTED_ARGUMENT,{}):Nf.throwError("BigNumber.toString does not accept parameters",$o.errors.UNEXPECTED_ARGUMENT,{})),Yt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof qc)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new qc(rT,n1(e)):e.match(/^-?[0-9]+$/)?new qc(rT,n1(new JA(e))):Nf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Fa("underflow","BigNumber.from",e),(e>=j7||e<=-j7)&&Fa("overflow","BigNumber.from",e),qc.from(String(e));const r=e;if(typeof r=="bigint")return qc.from(r.toString());if($6(r))return qc.from(Sh(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return qc.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(_h(n)||n[0]==="-"&&_h(n.substring(1))))return qc.from(n)}return Nf.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function n1(t){if(typeof t!="string")return n1(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Nf.throwArgumentError("invalid hex","value",t),t=n1(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Eo(t){return id.from(n1(t))}function Yt(t){const e=id.from(t).toHexString();return e[0]==="-"?new JA("-"+e.substring(3),16):new JA(e.substring(2),16)}function Fa(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Nf.throwError(t,$o.errors.NUMERIC_FAULT,n)}function aRe(t){return new JA(t,36).toString(16)}const cRe="strings/5.8.0",yK=new $o(cRe);var i1;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(i1||(i1={}));var sa;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(sa||(sa={}));function lRe(t,e,r,n,i){return yK.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function _K(t,e,r,n,i){if(t===sa.BAD_PREFIX||t===sa.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===sa.OVERRUN?r.length-e-1:0}function uRe(t,e,r,n,i){return t===sa.OVERLONG?(n.push(i),0):(n.push(65533),_K(t,e,r))}const fRe=Object.freeze({error:lRe,ignore:_K,replace:uRe});function bK(t,e){e==null&&(e=fRe.error),t=Mu(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(sa.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(sa.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(sa.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(sa.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(sa.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(sa.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(sa.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function Vg(t,e=i1.current){e!=i1.current&&(yK.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Mu(r)}function dRe(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function hRe(t,e){return dRe(bK(t,e))}function pRe(t,e=i1.current){return bK(Vg(t,e))}function B6(t){return yl(Vg(t))}const wK="hash/5.7.0";function gRe(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Mu(e)}function vK(t,e){e==null&&(e=1);const r=[],n=r.forEach,i=function(s,o){n.call(s,function(a){o>0&&Array.isArray(a)?i(a,o-1):r.push(a)})};return i(t,e),r}function mRe(t){const e={};for(let r=0;r<t.length;r++){const n=t[r];e[n[0]]=n[1]}return e}function yRe(t){let e=0;function r(){return t[e++]<<8|t[e++]}let n=r(),i=1,s=[0,1];for(let M=1;M<n;M++)s.push(i+=r());let o=r(),a=e;e+=o;let c=0,l=0;function u(){return c==0&&(l=l<<8|t[e++],c=8),l>>--c&1}const f=31,h=Math.pow(2,f),g=h>>>1,_=g>>1,m=h-1;let b=0;for(let M=0;M<f;M++)b=b<<1|u();let A=[],N=0,R=h;for(;;){let M=Math.floor(((b-N+1)*i-1)/R),D=0,H=n;for(;H-D>1;){let $=D+H>>>1;M<s[$]?H=$:D=$}if(D==0)break;A.push(D);let S=N+Math.floor(R*s[D]/i),C=N+Math.floor(R*s[D+1]/i)-1;for(;((S^C)&g)==0;)b=b<<1&m|u(),S=S<<1&m,C=C<<1&m|1;for(;S&~C&_;)b=b&g|b<<1&m>>>1|u(),S=S<<1^g,C=(C^g)<<1|g|1;N=S,R=1+C-S}let k=n-4;return A.map(M=>{switch(M-k){case 3:return k+65792+(t[a++]<<16|t[a++]<<8|t[a++]);case 2:return k+256+(t[a++]<<8|t[a++]);case 1:return k+t[a++];default:return M-1}})}function _Re(t){let e=0;return()=>t[e++]}function bRe(t){return _Re(yRe(t))}function wRe(t){return t&1?~t>>1:t>>1}function vRe(t,e){let r=Array(t);for(let n=0;n<t;n++)r[n]=1+e();return r}function q7(t,e){let r=Array(t);for(let n=0,i=-1;n<t;n++)r[n]=i+=1+e();return r}function ERe(t,e){let r=Array(t);for(let n=0,i=0;n<t;n++)r[n]=i+=wRe(e());return r}function YA(t,e){let r=q7(t(),t),n=t(),i=q7(n,t),s=vRe(n,t);for(let o=0;o<n;o++)for(let a=0;a<s[o];a++)r.push(i[o]+a);return e?r.map(o=>e[o]):r}function ARe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(CRe(r,t))}for(;;){let r=t()-1;if(r<0)break;e.push(NRe(r,t))}return mRe(vK(e))}function xRe(t){let e=[];for(;;){let r=t();if(r==0)break;e.push(r)}return e}function EK(t,e,r){let n=Array(t).fill(void 0).map(()=>[]);for(let i=0;i<e;i++)ERe(t,r).forEach((s,o)=>n[o].push(s));return n}function CRe(t,e){let r=1+e(),n=e(),i=xRe(e),s=EK(i.length,1+t,e);return vK(s.map((o,a)=>{const c=o[0],l=o.slice(1);return Array(i[a]).fill(void 0).map((u,f)=>{let h=f*n;return[c+f*r,l.map(g=>g+h)]})}))}function NRe(t,e){let r=1+e();return EK(r,1+t,e).map(i=>[i[0],i.slice(1)])}function SRe(t){let e=YA(t).sort((n,i)=>n-i);return r();function r(){let n=[];for(;;){let l=YA(t,e);if(l.length==0)break;n.push({set:new Set(l),node:r()})}n.sort((l,u)=>u.set.size-l.set.size);let i=t(),s=i%3;i=i/3|0;let o=!!(i&1);i>>=1;let a=i==1,c=i==2;return{branches:n,valid:s,fe0f:o,save:a,check:c}}}function TRe(){return bRe(gRe("AEQF2AO2DEsA2wIrAGsBRABxAN8AZwCcAEwAqgA0AGwAUgByADcATAAVAFYAIQAyACEAKAAYAFgAGwAjABQAMAAmADIAFAAfABQAKwATACoADgAbAA8AHQAYABoAGQAxADgALAAoADwAEwA9ABMAGgARAA4ADwAWABMAFgAIAA8AHgQXBYMA5BHJAS8JtAYoAe4AExozi0UAH21tAaMnBT8CrnIyhrMDhRgDygIBUAEHcoFHUPe8AXBjAewCjgDQR8IICIcEcQLwATXCDgzvHwBmBoHNAqsBdBcUAykgDhAMShskMgo8AY8jqAQfAUAfHw8BDw87MioGlCIPBwZCa4ELatMAAMspJVgsDl8AIhckSg8XAHdvTwBcIQEiDT4OPhUqbyECAEoAS34Aej8Ybx83JgT/Xw8gHxZ/7w8RICxPHA9vBw+Pfw8PHwAPFv+fAsAvCc8vEr8ivwD/EQ8Bol8OEBa/A78hrwAPCU8vESNvvwWfHwNfAVoDHr+ZAAED34YaAdJPAK7PLwSEgDLHAGo1Pz8Pvx9fUwMrpb8O/58VTzAPIBoXIyQJNF8hpwIVAT8YGAUADDNBaX3RAMomJCg9EhUeA29MABsZBTMNJipjOhc19gcIDR8bBwQHEggCWi6DIgLuAQYA+BAFCha3A5XiAEsqM7UFFgFLhAMjFTMYE1Klnw74nRVBG/ASCm0BYRN/BrsU3VoWy+S0vV8LQx+vN8gF2AC2AK5EAWwApgYDKmAAroQ0NDQ0AT+OCg7wAAIHRAbpNgVcBV0APTA5BfbPFgMLzcYL/QqqA82eBALKCjQCjqYCht0/k2+OAsXQAoP3ASTKDgDw6ACKAUYCMpIKJpRaAE4A5womABzZvs0REEKiACIQAd5QdAECAj4Ywg/wGqY2AVgAYADYvAoCGAEubA0gvAY2ALAAbpbvqpyEAGAEpgQAJgAG7gAgAEACmghUFwCqAMpAINQIwC4DthRAAPcycKgApoIdABwBfCisABoATwBqASIAvhnSBP8aH/ECeAKXAq40NjgDBTwFYQU6AXs3oABgAD4XNgmcCY1eCl5tIFZeUqGgyoNHABgAEQAaABNwWQAmABMATPMa3T34ADldyprmM1M2XociUQgLzvwAXT3xABgAEQAaABNwIGFAnADD8AAgAD4BBJWzaCcIAIEBFMAWwKoAAdq9BWAF5wLQpALEtQAKUSGkahR4GnJM+gsAwCgeFAiUAECQ0BQuL8AAIAAAADKeIheclvFqQAAETr4iAMxIARMgAMIoHhQIAn0E0pDQFC4HhznoAAAAIAI2C0/4lvFqQAAETgBJJwYCAy4ABgYAFAA8MBKYEH4eRhTkAjYeFcgACAYAeABsOqyQ5gRwDayqugEgaIIAtgoACgDmEABmBAWGme5OBJJA2m4cDeoAmITWAXwrMgOgAGwBCh6CBXYF1Tzg1wKAAFdiuABRAFwAXQBsAG8AdgBrAHYAbwCEAHEwfxQBVE5TEQADVFhTBwBDANILAqcCzgLTApQCrQL6vAAMAL8APLhNBKkE6glGKTAU4Dr4N2EYEwBCkABKk8rHAbYBmwIoAiU4Ajf/Aq4CowCAANIChzgaNBsCsTgeODcFXrgClQKdAqQBiQGYAqsCsjTsNHsfNPA0ixsAWTWiOAMFPDQSNCk2BDZHNow2TTZUNhk28Jk9VzI3QkEoAoICoQKwAqcAQAAxBV4FXbS9BW47YkIXP1ciUqs05DS/FwABUwJW11e6nHuYZmSh/RAYA8oMKvZ8KASoUAJYWAJ6ILAsAZSoqjpgA0ocBIhmDgDWAAawRDQoAAcuAj5iAHABZiR2AIgiHgCaAU68ACxuHAG0ygM8MiZIAlgBdF4GagJqAPZOHAMuBgoATkYAsABiAHgAMLoGDPj0HpKEBAAOJgAuALggTAHWAeAMEDbd20Uege0ADwAWADkAQgA9OHd+2MUQZBBhBgNNDkxxPxUQArEPqwvqERoM1irQ090ANK4H8ANYB/ADWANYB/AH8ANYB/ADWANYA1gDWBwP8B/YxRBkD00EcgWTBZAE2wiIJk4RhgctCNdUEnQjHEwDSgEBIypJITuYMxAlR0wRTQgIATZHbKx9PQNMMbBU+pCnA9AyVDlxBgMedhKlAC8PeCE1uk6DekxxpQpQT7NX9wBFBgASqwAS5gBJDSgAUCwGPQBI4zTYABNGAE2bAE3KAExdGABKaAbgAFBXAFCOAFBJABI2SWdObALDOq0//QomCZhvwHdTBkIQHCemEPgMNAG2ATwN7kvZBPIGPATKH34ZGg/OlZ0Ipi3eDO4m5C6igFsj9iqEBe5L9TzeC05RaQ9aC2YJ5DpkgU8DIgEOIowK3g06CG4Q9ArKbA3mEUYHOgPWSZsApgcCCxIdNhW2JhFirQsKOXgG/Br3C5AmsBMqev0F1BoiBk4BKhsAANAu6IWxWjJcHU9gBgQLJiPIFKlQIQ0mQLh4SRocBxYlqgKSQ3FKiFE3HpQh9zw+DWcuFFF9B/Y8BhlQC4I8n0asRQ8R0z6OPUkiSkwtBDaALDAnjAnQD4YMunxzAVoJIgmyDHITMhEYN8YIOgcaLpclJxYIIkaWYJsE+KAD9BPSAwwFQAlCBxQDthwuEy8VKgUOgSXYAvQ21i60ApBWgQEYBcwPJh/gEFFH4Q7qCJwCZgOEJewALhUiABginAhEZABgj9lTBi7MCMhqbSN1A2gU6GIRdAeSDlgHqBw0FcAc4nDJXgyGCSiksAlcAXYJmgFgBOQICjVcjKEgQmdUi1kYnCBiQUBd/QIyDGYVoES+h3kCjA9sEhwBNgF0BzoNAgJ4Ee4RbBCWCOyGBTW2M/k6JgRQIYQgEgooA1BszwsoJvoM+WoBpBJjAw00PnfvZ6xgtyUX/gcaMsZBYSHyC5NPzgydGsIYQ1QvGeUHwAP0GvQn60FYBgADpAQUOk4z7wS+C2oIjAlAAEoOpBgH2BhrCnKM0QEyjAG4mgNYkoQCcJAGOAcMAGgMiAV65gAeAqgIpAAGANADWAA6Aq4HngAaAIZCAT4DKDABIuYCkAOUCDLMAZYwAfQqBBzEDBYA+DhuSwLDsgKAa2ajBd5ZAo8CSjYBTiYEBk9IUgOwcuIA3ABMBhTgSAEWrEvMG+REAeBwLADIAPwABjYHBkIBzgH0bgC4AWALMgmjtLYBTuoqAIQAFmwB2AKKAN4ANgCA8gFUAE4FWvoF1AJQSgESMhksWGIBvAMgATQBDgB6BsyOpsoIIARuB9QCEBwV4gLvLwe2AgMi4BPOQsYCvd9WADIXUu5eZwqoCqdeaAC0YTQHMnM9UQAPH6k+yAdy/BZIiQImSwBQ5gBQQzSaNTFWSTYBpwGqKQK38AFtqwBI/wK37gK3rQK3sAK6280C0gK33AK3zxAAUEIAUD9SklKDArekArw5AEQAzAHCO147WTteO1k7XjtZO147WTteO1kDmChYI03AVU0oJqkKbV9GYewMpw3VRMk6ShPcYFJgMxPJLbgUwhXPJVcZPhq9JwYl5VUKDwUt1GYxCC00dhe9AEApaYNCY4ceMQpMHOhTklT5LRwAskujM7ANrRsWREEFSHXuYisWDwojAmSCAmJDXE6wXDchAqH4AmiZAmYKAp+FOBwMAmY8AmYnBG8EgAN/FAN+kzkHOXgYOYM6JCQCbB4CMjc4CwJtyAJtr/CLADRoRiwBaADfAOIASwYHmQyOAP8MwwAOtgJ3MAJ2o0ACeUxEAni7Hl3cRa9G9AJ8QAJ6yQJ9CgJ88UgBSH5kJQAsFklZSlwWGErNAtECAtDNSygDiFADh+dExpEzAvKiXQQDA69Lz0wuJgTQTU1NsAKLQAKK2cIcCB5EaAa4Ao44Ao5dQZiCAo7aAo5deVG1UzYLUtVUhgKT/AKTDQDqAB1VH1WwVdEHLBwplocy4nhnRTw6ApegAu+zWCKpAFomApaQApZ9nQCqWa1aCoJOADwClrYClk9cRVzSApnMApllXMtdCBoCnJw5wzqeApwXAp+cAp65iwAeEDIrEAKd8gKekwC2PmE1YfACntQCoG8BqgKeoCACnk+mY8lkKCYsAiewAiZ/AqD8AqBN2AKmMAKlzwKoAAB+AqfzaH1osgAESmodatICrOQCrK8CrWgCrQMCVx4CVd0CseLYAx9PbJgCsr4OArLpGGzhbWRtSWADJc4Ctl08QG6RAylGArhfArlIFgK5K3hwN3DiAr0aAy2zAzISAr6JcgMDM3ICvhtzI3NQAsPMAsMFc4N0TDZGdOEDPKgDPJsDPcACxX0CxkgCxhGKAshqUgLIRQLJUALJLwJkngLd03h6YniveSZL0QMYpGcDAmH1GfSVJXsMXpNevBICz2wCz20wTFTT9BSgAMeuAs90ASrrA04TfkwGAtwoAtuLAtJQA1JdA1NgAQIDVY2AikABzBfuYUZ2AILPg44C2sgC2d+EEYRKpz0DhqYAMANkD4ZyWvoAVgLfZgLeuXR4AuIw7RUB8zEoAfScAfLTiALr9ALpcXoAAur6AurlAPpIAboC7ooC652Wq5cEAu5AA4XhmHpw4XGiAvMEAGoDjheZlAL3FAORbwOSiAL3mQL52gL4Z5odmqy8OJsfA52EAv77ARwAOp8dn7QDBY4DpmsDptoA0sYDBmuhiaIGCgMMSgFgASACtgNGAJwEgLpoBgC8BGzAEowcggCEDC6kdjoAJAM0C5IKRoABZCgiAIzw3AYBLACkfng9ogigkgNmWAN6AEQCvrkEVqTGAwCsBRbAA+4iQkMCHR072jI2PTbUNsk2RjY5NvA23TZKNiU3EDcZN5I+RTxDRTBCJkK5VBYKFhZfwQCWygU3AJBRHpu+OytgNxa61A40GMsYjsn7BVwFXQVcBV0FaAVdBVwFXQVcBV0FXAVdBVwFXUsaCNyKAK4AAQUHBwKU7oICoW1e7jAEzgPxA+YDwgCkBFDAwADABKzAAOxFLhitA1UFTDeyPkM+bj51QkRCuwTQWWQ8X+0AWBYzsACNA8xwzAGm7EZ/QisoCTAbLDs6fnLfb8H2GccsbgFw13M1HAVkBW/Jxsm9CNRO8E8FDD0FBQw9FkcClOYCoMFegpDfADgcMiA2AJQACB8AsigKAIzIEAJKeBIApY5yPZQIAKQiHb4fvj5BKSRPQrZCOz0oXyxgOywfKAnGbgMClQaCAkILXgdeCD9IIGUgQj5fPoY+dT52Ao5CM0dAX9BTVG9SDzFwWTQAbxBzJF/lOEIQQglCCkKJIAls5AcClQICoKPMODEFxhi6KSAbiyfIRrMjtCgdWCAkPlFBIitCsEJRzAbMAV/OEyQzDg0OAQQEJ36i328/Mk9AybDJsQlq3tDRApUKAkFzXf1d/j9uALYP6hCoFgCTGD8kPsFKQiobrm0+zj0KSD8kPnVCRBwMDyJRTHFgMTJa5rwXQiQ2YfI/JD7BMEJEHGINTw4TOFlIRzwJO0icMQpyPyQ+wzJCRBv6DVgnKB01NgUKj2bwYzMqCoBkznBgEF+zYDIocwRIX+NgHj4HICNfh2C4CwdwFWpTG/lgUhYGAwRfv2Ts8mAaXzVgml/XYIJfuWC4HI1gUF9pYJZgMR6ilQHMAOwLAlDRefC0in4AXAEJA6PjCwc0IamOANMMCAECRQDFNRTZBgd+CwQlRA+r6+gLBDEFBnwUBXgKATIArwAGRAAHA3cDdAN2A3kDdwN9A3oDdQN7A30DfAN4A3oDfQAYEAAlAtYASwMAUAFsAHcKAHcAmgB3AHUAdQB2AHVu8UgAygDAAHcAdQB1AHYAdQALCgB3AAsAmgB3AAsCOwB3AAtu8UgAygDAAHgKAJoAdwB3AHUAdQB2AHUAeAB1AHUAdgB1bvFIAMoAwAALCgCaAHcACwB3AAsCOwB3AAtu8UgAygDAAH4ACwGgALcBpwC6AahdAu0COwLtbvFIAMoAwAALCgCaAu0ACwLtAAsCOwLtAAtu8UgAygDAA24ACwNvAAu0VsQAAzsAABCkjUIpAAsAUIusOggWcgMeBxVsGwL67U/2HlzmWOEeOgALASvuAAseAfpKUpnpGgYJDCIZM6YyARUE9ThqAD5iXQgnAJYJPnOzw0ZAEZxEKsIAkA4DhAHnTAIDxxUDK0lxCQlPYgIvIQVYJQBVqE1GakUAKGYiDToSBA1EtAYAXQJYAIF8GgMHRyAAIAjOe9YncekRAA0KACUrjwE7Ayc6AAYWAqaiKG4McEcqANoN3+Mg9TwCBhIkuCny+JwUQ29L008JluRxu3K+oAdqiHOqFH0AG5SUIfUJ5SxCGfxdipRzqTmT4V5Zb+r1Uo4Vm+NqSSEl2mNvR2JhIa8SpYO6ntdwFXHCWTCK8f2+Hxo7uiG3drDycAuKIMP5bhi06ACnqArH1rz4Rqg//lm6SgJGEVbF9xJHISaR6HxqxSnkw6shDnelHKNEfGUXSJRJ1GcsmtJw25xrZMDK9gXSm1/YMkdX4/6NKYOdtk/NQ3/NnDASjTc3fPjIjW/5sVfVObX2oTDWkr1dF9f3kxBsD3/3aQO8hPfRz+e0uEiJqt1161griu7gz8hDDwtpy+F+BWtefnKHZPAxcZoWbnznhJpy0e842j36bcNzGnIEusgGX0a8ZxsnjcSsPDZ09yZ36fCQbriHeQ72JRMILNl6ePPf2HWoVwgWAm1fb3V2sAY0+B6rAXqSwPBgseVmoqsBTSrm91+XasMYYySI8eeRxH3ZvHkMz3BQ5aJ3iUVbYPNM3/7emRtjlsMgv/9VyTsyt/mK+8fgWeT6SoFaclXqn42dAIsvAarF5vNNWHzKSkKQ/8Hfk5ZWK7r9yliOsooyBjRhfkHP4Q2DkWXQi6FG/9r/IwbmkV5T7JSopHKn1pJwm9tb5Ot0oyN1Z2mPpKXHTxx2nlK08fKk1hEYA8WgVVWL5lgx0iTv+KdojJeU23ZDjmiubXOxVXJKKi2Wjuh2HLZOFLiSC7Tls5SMh4f+Pj6xUSrNjFqLGehRNB8lC0QSLNmkJJx/wSG3MnjE9T1CkPwJI0wH2lfzwETIiVqUxg0dfu5q39Gt+hwdcxkhhNvQ4TyrBceof3Mhs/IxFci1HmHr4FMZgXEEczPiGCx0HRwzAqDq2j9AVm1kwN0mRVLWLylgtoPNapF5cY4Y1wJh/e0BBwZj44YgZrDNqvD/9Hv7GFYdUQeDJuQ3EWI4HaKqavU1XjC/n41kT4L79kqGq0kLhdTZvgP3TA3fS0ozVz+5piZsoOtIvBUFoMKbNcmBL6YxxaUAusHB38XrS8dQMnQwJfUUkpRoGr5AUeWicvBTzyK9g77+yCkf5PAysL7r/JjcZgrbvRpMW9iyaxZvKO6ceZN2EwIxKwVFPuvFuiEPGCoagbMo+SpydLrXqBzNCDGFCrO/rkcwa2xhokQZ5CdZ0AsU3JfSqJ6n5I14YA+P/uAgfhPU84Tlw7cEFfp7AEE8ey4sP12PTt4Cods1GRgDOB5xvyiR5m+Bx8O5nBCNctU8BevfV5A08x6RHd5jcwPTMDSZJOedIZ1cGQ704lxbAzqZOP05ZxaOghzSdvFBHYqomATARyAADK4elP8Ly3IrUZKfWh23Xy20uBUmLS4Pfagu9+oyVa2iPgqRP3F2CTUsvJ7+RYnN8fFZbU/HVvxvcFFDKkiTqV5UBZ3Gz54JAKByi9hkKMZJvuGgcSYXFmw08UyoQyVdfTD1/dMkCHXcTGAKeROgArsvmRrQTLUOXioOHGK2QkjHuoYFgXciZoTJd6Fs5q1QX1G+p/e26hYsEf7QZD1nnIyl/SFkNtYYmmBhpBrxl9WbY0YpHWRuw2Ll/tj9mD8P4snVzJl4F9J+1arVeTb9E5r2ILH04qStjxQNwn3m4YNqxmaNbLAqW2TN6LidwuJRqS+NXbtqxoeDXpxeGWmxzSkWxjkyCkX4NQRme6q5SAcC+M7+9ETfA/EwrzQajKakCwYyeunP6ZFlxU2oMEn1Pz31zeStW74G406ZJFCl1wAXIoUKkWotYEpOuXB1uVNxJ63dpJEqfxBeptwIHNrPz8BllZoIcBoXwgfJ+8VAUnVPvRvexnw0Ma/WiGYuJO5y8QTvEYBigFmhUxY5RqzE8OcywN/8m4UYrlaniJO75XQ6KSo9+tWHlu+hMi0UVdiKQp7NelnoZUzNaIyBPVeOwK6GNp+FfHuPOoyhaWuNvTYFkvxscMQWDh+zeFCFkgwbXftiV23ywJ4+uwRqmg9k3KzwIQpzppt8DBBOMbrqwQM5Gb05sEwdKzMiAqOloaA/lr0KA+1pr0/+HiWoiIjHA/wir2nIuS3PeU/ji3O6ZwoxcR1SZ9FhtLC5S0FIzFhbBWcGVP/KpxOPSiUoAdWUpqKH++6Scz507iCcxYI6rdMBICPJZea7OcmeFw5mObJSiqpjg2UoWNIs+cFhyDSt6geV5qgi3FunmwwDoGSMgerFOZGX1m0dMCYo5XOruxO063dwENK9DbnVM9wYFREzh4vyU1WYYJ/LRRp6oxgjqP/X5a8/4Af6p6NWkQferzBmXme0zY/4nwMJm/wd1tIqSwGz+E3xPEAOoZlJit3XddD7/BT1pllzOx+8bmQtANQ/S6fZexc6qi3W+Q2xcmXTUhuS5mpHQRvcxZUN0S5+PL9lXWUAaRZhEH8hTdAcuNMMCuVNKTEGtSUKNi3O6KhSaTzck8csZ2vWRZ+d7mW8c4IKwXIYd25S/zIftPkwPzufjEvOHWVD1m+FjpDVUTV0DGDuHj6QnaEwLu/dEgdLQOg9E1Sro9XHJ8ykLAwtPu+pxqKDuFexqON1sKQm7rwbE1E68UCfA/erovrTCG+DBSNg0l4goDQvZN6uNlbyLpcZAwj2UclycvLpIZMgv4yRlpb3YuMftozorbcGVHt/VeDV3+Fdf1TP0iuaCsPi2G4XeGhsyF1ubVDxkoJhmniQ0/jSg/eYML9KLfnCFgISWkp91eauR3IQvED0nAPXK+6hPCYs+n3+hCZbiskmVMG2da+0EsZPonUeIY8EbfusQXjsK/eFDaosbPjEfQS0RKG7yj5GG69M7MeO1HmiUYocgygJHL6M1qzUDDwUSmr99V7Sdr2F3JjQAJY+F0yH33Iv3+C9M38eML7gTgmNu/r2bUMiPvpYbZ6v1/IaESirBHNa7mPKn4dEmYg7v/+HQgPN1G79jBQ1+soydfDC2r+h2Bl/KIc5KjMK7OH6nb1jLsNf0EHVe2KBiE51ox636uyG6Lho0t3J34L5QY/ilE3mikaF4HKXG1mG1rCevT1Vv6GavltxoQe/bMrpZvRggnBxSEPEeEzkEdOxTnPXHVjUYdw8JYvjB/o7Eegc3Ma+NUxLLnsK0kJlinPmUHzHGtrk5+CAbVzFOBqpyy3QVUnzTDfC/0XD94/okH+OB+i7g9lolhWIjSnfIb+Eq43ZXOWmwvjyV/qqD+t0e+7mTEM74qP/Ozt8nmC7mRpyu63OB4KnUzFc074SqoyPUAgM+/TJGFo6T44EHnQU4X4z6qannVqgw/U7zCpwcmXV1AubIrvOmkKHazJAR55ePjp5tLBsN8vAqs3NAHdcEHOR2xQ0lsNAFzSUuxFQCFYvXLZJdOj9p4fNq6p0HBGUik2YzaI4xySy91KzhQ0+q1hjxvImRwPRf76tChlRkhRCi74NXZ9qUNeIwP+s5p+3m5nwPdNOHgSLD79n7O9m1n1uDHiMntq4nkYwV5OZ1ENbXxFd4PgrlvavZsyUO4MqYlqqn1O8W/I1dEZq5dXhrbETLaZIbC2Kj/Aa/QM+fqUOHdf0tXAQ1huZ3cmWECWSXy/43j35+Mvq9xws7JKseriZ1pEWKc8qlzNrGPUGcVgOa9cPJYIJsGnJTAUsEcDOEVULO5x0rXBijc1lgXEzQQKhROf8zIV82w8eswc78YX11KYLWQRcgHNJElBxfXr72lS2RBSl07qTKorO2uUDZr3sFhYsvnhLZn0A94KRzJ/7DEGIAhW5ZWFpL8gEwu1aLA9MuWZzNwl8Oze9Y+bX+v9gywRVnoB5I/8kXTXU3141yRLYrIOOz6SOnyHNy4SieqzkBXharjfjqq1q6tklaEbA8Qfm2DaIPs7OTq/nvJBjKfO2H9bH2cCMh1+5gspfycu8f/cuuRmtDjyqZ7uCIMyjdV3a+p3fqmXsRx4C8lujezIFHnQiVTXLXuI1XrwN3+siYYj2HHTvESUx8DlOTXpak9qFRK+L3mgJ1WsD7F4cu1aJoFoYQnu+wGDMOjJM3kiBQWHCcvhJ/HRdxodOQp45YZaOTA22Nb4XKCVxqkbwMYFhzYQYIAnCW8FW14uf98jhUG2zrKhQQ0q0CEq0t5nXyvUyvR8DvD69LU+g3i+HFWQMQ8PqZuHD+sNKAV0+M6EJC0szq7rEr7B5bQ8BcNHzvDMc9eqB5ZCQdTf80Obn4uzjwpYU7SISdtV0QGa9D3Wrh2BDQtpBKxaNFV+/Cy2P/Sv+8s7Ud0Fd74X4+o/TNztWgETUapy+majNQ68Lq3ee0ZO48VEbTZYiH1Co4OlfWef82RWeyUXo7woM03PyapGfikTnQinoNq5z5veLpeMV3HCAMTaZmA1oGLAn7XS3XYsz+XK7VMQsc4XKrmDXOLU/pSXVNUq8dIqTba///3x6LiLS6xs1xuCAYSfcQ3+rQgmu7uvf3THKt5Ooo97TqcbRqxx7EASizaQCBQllG/rYxVapMLgtLbZS64w1MDBMXX+PQpBKNwqUKOf2DDRDUXQf9EhOS0Qj4nTmlA8dzSLz/G1d+Ud8MTy/6ghhdiLpeerGY/UlDOfiuqFsMUU5/UYlP+BAmgRLuNpvrUaLlVkrqDievNVEAwF+4CoM1MZTmjxjJMsKJq+u8Zd7tNCUFy6LiyYXRJQ4VyvEQFFaCGKsxIwQkk7EzZ6LTJq2hUuPhvAW+gQnSG6J+MszC+7QCRHcnqDdyNRJ6T9xyS87A6MDutbzKGvGktpbXqtzWtXb9HsfK2cBMomjN9a4y+TaJLnXxAeX/HWzmf4cR4vALt/P4w4qgKY04ml4ZdLOinFYS6cup3G/1ie4+t1eOnpBNlqGqs75ilzkT4+DsZQxNvaSKJ//6zIbbk/M7LOhFmRc/1R+kBtz7JFGdZm/COotIdvQoXpTqP/1uqEUmCb/QWoGLMwO5ANcHzxdY48IGP5+J+zKOTBFZ4Pid+GTM+Wq12MV/H86xEJptBa6T+p3kgpwLedManBHC2GgNrFpoN2xnrMz9WFWX/8/ygSBkavq2Uv7FdCsLEYLu9LLIvAU0bNRDtzYl+/vXmjpIvuJFYjmI0im6QEYqnIeMsNjXG4vIutIGHijeAG/9EDBozKV5cldkHbLxHh25vT+ZEzbhXlqvpzKJwcEgfNwLAKFeo0/pvEE10XDB+EXRTXtSzJozQKFFAJhMxYkVaCW+E9AL7tMeU8acxidHqzb6lX4691UsDpy/LLRmT+epgW56+5Cw8tB4kMUv6s9lh3eRKbyGs+H/4mQMaYzPTf2OOdokEn+zzgvoD3FqNKk8QqGAXVsqcGdXrT62fSPkR2vROFi68A6se86UxRUk4cajfPyCC4G5wDhD+zNq4jodQ4u4n/m37Lr36n4LIAAsVr02dFi9AiwA81MYs2rm4eDlDNmdMRvEKRHfBwW5DdMNp0jPFZMeARqF/wL4XBfd+EMLBfMzpH5GH6NaW+1vrvMdg+VxDzatk3MXgO3ro3P/DpcC6+Mo4MySJhKJhSR01SGGGp5hPWmrrUgrv3lDnP+HhcI3nt3YqBoVAVTBAQT5iuhTg8nvPtd8ZeYj6w1x6RqGUBrSku7+N1+BaasZvjTk64RoIDlL8brpEcJx3OmY7jLoZsswdtmhfC/G21llXhITOwmvRDDeTTPbyASOa16cF5/A1fZAidJpqju3wYAy9avPR1ya6eNp9K8XYrrtuxlqi+bDKwlfrYdR0RRiKRVTLOH85+ZY7XSmzRpfZBJjaTa81VDcJHpZnZnSQLASGYW9l51ZV/h7eVzTi3Hv6hUsgc/51AqJRTkpbFVLXXszoBL8nBX0u/0jBLT8nH+fJePbrwURT58OY+UieRjd1vs04w0VG5VN2U6MoGZkQzKN/ptz0Q366dxoTGmj7i1NQGHi9GgnquXFYdrCfZBmeb7s0T6yrdlZH5cZuwHFyIJ/kAtGsTg0xH5taAAq44BAk1CPk9KVVbqQzrCUiFdF/6gtlPQ8bHHc1G1W92MXGZ5HEHftyLYs8mbD/9xYRUWkHmlM0zC2ilJlnNgV4bfALpQghxOUoZL7VTqtCHIaQSXm+YUMnpkXybnV+A6xlm2CVy8fn0Xlm2XRa0+zzOa21JWWmixfiPMSCZ7qA4rS93VN3pkpF1s5TonQjisHf7iU9ZGvUPOAKZcR1pbeVf/Ul7OhepGCaId9wOtqo7pJ7yLcBZ0pFkOF28y4zEI/kcUNmutBHaQpBdNM8vjCS6HZRokkeo88TBAjGyG7SR+6vUgTcyK9Imalj0kuxz0wmK+byQU11AiJFk/ya5dNduRClcnU64yGu/ieWSeOos1t3ep+RPIWQ2pyTYVbZltTbsb7NiwSi3AV+8KLWk7LxCnfZUetEM8ThnsSoGH38/nyAwFguJp8FjvlHtcWZuU4hPva0rHfr0UhOOJ/F6vS62FW7KzkmRll2HEc7oUq4fyi5T70Vl7YVIfsPHUCdHesf9Lk7WNVWO75JDkYbMI8TOW8JKVtLY9d6UJRITO8oKo0xS+o99Yy04iniGHAaGj88kEWgwv0OrHdY/nr76DOGNS59hXCGXzTKUvDl9iKpLSWYN1lxIeyywdNpTkhay74w2jFT6NS8qkjo5CxA1yfSYwp6AJIZNKIeEK5PJAW7ORgWgwp0VgzYpqovMrWxbu+DGZ6Lhie1RAqpzm8VUzKJOH3mCzWuTOLsN3VT/dv2eeYe9UjbR8YTBsLz7q60VN1sU51k+um1f8JxD5pPhbhSC8rRaB454tmh6YUWrJI3+GWY0qeWioj/tbkYITOkJaeuGt4JrJvHA+l0Gu7kY7XOaa05alMnRWVCXqFgLIwSY4uF59Ue5SU4QKuc/HamDxbr0x6csCetXGoP7Qn1Bk/J9DsynO/UD6iZ1Hyrz+jit0hDCwi/E9OjgKTbB3ZQKQ/0ZOvevfNHG0NK4Aj3Cp7NpRk07RT1i/S0EL93Ag8GRgKI9CfpajKyK6+Jj/PI1KO5/85VAwz2AwzP8FTBb075IxCXv6T9RVvWT2tUaqxDS92zrGUbWzUYk9mSs82pECH+fkqsDt93VW++4YsR/dHCYcQSYTO/KaBMDj9LSD/J/+z20Kq8XvZUAIHtm9hRPP3ItbuAu2Hm5lkPs92pd7kCxgRs0xOVBnZ13ccdA0aunrwv9SdqElJRC3g+oCu+nXyCgmXUs9yMjTMAIHfxZV+aPKcZeUBWt057Xo85Ks1Ir5gzEHCWqZEhrLZMuF11ziGtFQUds/EESajhagzcKsxamcSZxGth4UII+adPhQkUnx2WyN+4YWR+r3f8MnkyGFuR4zjzxJS8WsQYR5PTyRaD9ixa6Mh741nBHbzfjXHskGDq179xaRNrCIB1z1xRfWfjqw2pHc1zk9xlPpL8sQWAIuETZZhbnmL54rceXVNRvUiKrrqIkeogsl0XXb17ylNb0f4GA9Wd44vffEG8FSZGHEL2fbaTGRcSiCeA8PmA/f6Hz8HCS76fXUHwgwkzSwlI71ekZ7Fapmlk/KC+Hs8hUcw3N2LN5LhkVYyizYFl/uPeVP5lsoJHhhfWvvSWruCUW1ZcJOeuTbrDgywJ/qG07gZJplnTvLcYdNaH0KMYOYMGX+rB4NGPFmQsNaIwlWrfCezxre8zXBrsMT+edVLbLqN1BqB76JH4BvZTqUIMfGwPGEn+EnmTV86fPBaYbFL3DFEhjB45CewkXEAtJxk4/Ms2pPXnaRqdky0HOYdcUcE2zcXq4vaIvW2/v0nHFJH2XXe22ueDmq/18XGtELSq85j9X8q0tcNSSKJIX8FTuJF/Pf8j5PhqG2u+osvsLxYrvvfeVJL+4tkcXcr9JV7v0ERmj/X6fM3NC4j6dS1+9Umr2oPavqiAydTZPLMNRGY23LO9zAVDly7jD+70G5TPPLdhRIl4WxcYjLnM+SNcJ26FOrkrISUtPObIz5Zb3AG612krnpy15RMW+1cQjlnWFI6538qky9axd2oJmHIHP08KyP0ubGO+TQNOYuv2uh17yCIvR8VcStw7o1g0NM60sk+8Tq7YfIBJrtp53GkvzXH7OA0p8/n/u1satf/VJhtR1l8Wa6Gmaug7haSpaCaYQax6ta0mkutlb+eAOSG1aobM81D9A4iS1RRlzBBoVX6tU1S6WE2N9ORY6DfeLRC4l9Rvr5h95XDWB2mR1d4WFudpsgVYwiTwT31ljskD8ZyDOlm5DkGh9N/UB/0AI5Xvb8ZBmai2hQ4BWMqFwYnzxwB26YHSOv9WgY3JXnvoN+2R4rqGVh/LLDMtpFP+SpMGJNWvbIl5SOodbCczW2RKleksPoUeGEzrjtKHVdtZA+kfqO+rVx/iclCqwoopepvJpSTDjT+b9GWylGRF8EDbGlw6eUzmJM95Ovoz+kwLX3c2fTjFeYEsE7vUZm3mqdGJuKh2w9/QGSaqRHs99aScGOdDqkFcACoqdbBoQqqjamhH6Q9ng39JCg3lrGJwd50Qk9ovnqBTr8MME7Ps2wiVfygUmPoUBJJfJWX5Nda0nuncbFkA=="))}const h2=TRe(),IRe=new Set(YA(h2)),RRe=new Set(YA(h2)),PRe=ARe(h2),ORe=SRe(h2),z7=45,G7=95;function AK(t){return pRe(t)}function DRe(t){return t.filter(e=>e!=65039)}function xK(t){for(let e of t.split(".")){let r=AK(e);try{for(let n=r.lastIndexOf(G7)-1;n>=0;n--)if(r[n]!==G7)throw new Error("underscore only allowed at start");if(r.length>=4&&r.every(n=>n<128)&&r[2]===z7&&r[3]===z7)throw new Error("invalid label extension")}catch(n){throw new Error(`Invalid label "${e}": ${n.message}`)}}return t}function kRe(t){return xK(MRe(t,DRe))}function MRe(t,e){let r=AK(t).reverse(),n=[];for(;r.length;){let i=LRe(r);if(i){n.push(...e(i));continue}let s=r.pop();if(IRe.has(s)){n.push(s);continue}if(RRe.has(s))continue;let o=PRe[s];if(o){n.push(...o);continue}throw new Error(`Disallowed codepoint: 0x${s.toString(16).toUpperCase()}`)}return xK(URe(String.fromCodePoint(...n)))}function URe(t){return t.normalize("NFC")}function LRe(t,e){var r;let n=ORe,i,s,o=[],a=t.length;for(;a;){let c=t[--a];if(n=(r=n.branches.find(l=>l.set.has(c)))===null||r===void 0?void 0:r.node,!n)break;if(n.save)s=c;else if(n.check&&c===s)break;o.push(c),n.fe0f&&(o.push(65039),a>0&&t[a-1]==65039&&a--),n.valid&&(i=o.slice(),n.valid==2&&i.splice(1,1),t.length=a)}return i}const $Re=new $o(wK),CK=new Uint8Array(32);CK.fill(0);function K7(t){if(t.length===0)throw new Error("invalid ENS name; empty component");return t}function p2(t){const e=Vg(kRe(t)),r=[];if(t.length===0)return r;let n=0;for(let i=0;i<e.length;i++)e[i]===46&&(r.push(K7(e.slice(n,i))),n=i+1);if(n>=e.length)throw new Error("invalid ENS name; empty component");return r.push(K7(e.slice(n))),r}function FRe(t){return p2(t).map(e=>hRe(e)).join(".")}function BRe(t){try{return p2(t).length!==0}catch{}return!1}function HRe(t){typeof t!="string"&&$Re.throwArgumentError("invalid ENS name; not a string","name",t);let e=CK;const r=p2(t);for(;r.length;)e=yl(F6([e,yl(r.pop())]));return Sh(e)}function jRe(t){return Sh(F6(p2(t).map(e=>{if(e.length>63)throw new Error("invalid DNS encoded entry; length exceeds 63 bytes");const r=new Uint8Array(e.length+1);return r.set(e,1),r[0]=r.length-1,r})))+"00"}const NK=`Ethereum Signed Message:
`;function WRe(t){return typeof t=="string"&&(t=Vg(t)),yl(F6([Vg(NK),Vg(String(t.length)),t]))}const qRe="address/5.8.0",i_=new $o(qRe);function V7(t){_h(t,20)||i_.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Mu(yl(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const zRe=9007199254740991;function GRe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const H6={};for(let t=0;t<10;t++)H6[String(t)]=String(t);for(let t=0;t<26;t++)H6[String.fromCharCode(65+t)]=String(10+t);const J7=Math.floor(GRe(zRe));function KRe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>H6[n]).join("");for(;e.length>=J7;){let n=e.substring(0,J7);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function SK(t){let e=null;if(typeof t!="string"&&i_.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=V7(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&i_.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==KRe(t)&&i_.throwArgumentError("bad icap checksum","address",t),e=aRe(t.substring(4));e.length<40;)e="0"+e;e=V7("0x"+e)}else i_.throwArgumentError("invalid address","address",t);return e}const VRe="properties/5.8.0",TK=new $o(VRe);function s_(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function Y7(t){const e={};for(const r in t)e[r]=t[r];return e}const JRe={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function IK(t){if(t==null||JRe[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!IK(n))return!1}return!0}return TK.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function YRe(t){if(IK(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>cR(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&s_(e,r,cR(n))}return e}return TK.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function cR(t){return YRe(t)}var XRe=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Mn=new $o(wK),RK=new Uint8Array(32);RK.fill(0);const QRe=id.from(-1),PK=id.from(0),OK=id.from(1),ZRe=id.from("0xffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffffff");function ePe(t){const e=Mu(t),r=e.length%32;return r?wE([e,RK.slice(r)]):Sh(e)}const tPe=VA(OK.toHexString(),32),rPe=VA(PK.toHexString(),32),X7={name:"string",version:"string",chainId:"uint256",verifyingContract:"address",salt:"bytes32"},nT=["name","version","chainId","verifyingContract","salt"];function Q7(t){return function(e){return typeof e!="string"&&Mn.throwArgumentError(`invalid domain value for ${JSON.stringify(t)}`,`domain.${t}`,e),e}}const nPe={name:Q7("name"),version:Q7("version"),chainId:function(t){try{return id.from(t).toString()}catch{}return Mn.throwArgumentError('invalid domain value for "chainId"',"domain.chainId",t)},verifyingContract:function(t){try{return SK(t).toLowerCase()}catch{}return Mn.throwArgumentError('invalid domain value "verifyingContract"',"domain.verifyingContract",t)},salt:function(t){try{const e=Mu(t);if(e.length!==32)throw new Error("bad length");return Sh(e)}catch{}return Mn.throwArgumentError('invalid domain value "salt"',"domain.salt",t)}};function iT(t){{const e=t.match(/^(u?)int(\d*)$/);if(e){const r=e[1]==="",n=parseInt(e[2]||"256");(n%8!==0||n>256||e[2]&&e[2]!==String(n))&&Mn.throwArgumentError("invalid numeric width","type",t);const i=ZRe.mask(r?n-1:n),s=r?i.add(OK).mul(QRe):PK;return function(o){const a=id.from(o);return(a.lt(s)||a.gt(i))&&Mn.throwArgumentError(`value out-of-bounds for ${t}`,"value",o),VA(a.toTwos(256).toHexString(),32)}}}{const e=t.match(/^bytes(\d+)$/);if(e){const r=parseInt(e[1]);return(r===0||r>32||e[1]!==String(r))&&Mn.throwArgumentError("invalid bytes width","type",t),function(n){return Mu(n).length!==r&&Mn.throwArgumentError(`invalid length for ${t}`,"value",n),ePe(n)}}}switch(t){case"address":return function(e){return VA(SK(e),32)};case"bool":return function(e){return e?tPe:rPe};case"bytes":return function(e){return yl(e)};case"string":return function(e){return B6(e)}}return null}function Z7(t,e){return`${t}(${e.map(({name:r,type:n})=>n+" "+r).join(",")})`}class Va{constructor(e){s_(this,"types",Object.freeze(cR(e))),s_(this,"_encoderCache",{}),s_(this,"_types",{});const r={},n={},i={};Object.keys(e).forEach(a=>{r[a]={},n[a]=[],i[a]={}});for(const a in e){const c={};e[a].forEach(l=>{c[l.name]&&Mn.throwArgumentError(`duplicate variable name ${JSON.stringify(l.name)} in ${JSON.stringify(a)}`,"types",e),c[l.name]=!0;const u=l.type.match(/^([^\x5b]*)(\x5b|$)/)[1];u===a&&Mn.throwArgumentError(`circular type reference to ${JSON.stringify(u)}`,"types",e),!iT(u)&&(n[u]||Mn.throwArgumentError(`unknown type ${JSON.stringify(u)}`,"types",e),n[u].push(a),r[a][u]=!0)})}const s=Object.keys(n).filter(a=>n[a].length===0);s.length===0?Mn.throwArgumentError("missing primary type","types",e):s.length>1&&Mn.throwArgumentError(`ambiguous primary types or unused types: ${s.map(a=>JSON.stringify(a)).join(", ")}`,"types",e),s_(this,"primaryType",s[0]);function o(a,c){c[a]&&Mn.throwArgumentError(`circular type reference to ${JSON.stringify(a)}`,"types",e),c[a]=!0,Object.keys(r[a]).forEach(l=>{n[l]&&(o(l,c),Object.keys(c).forEach(u=>{i[u][l]=!0}))}),delete c[a]}o(this.primaryType,{});for(const a in i){const c=Object.keys(i[a]);c.sort(),this._types[a]=Z7(a,e[a])+c.map(l=>Z7(l,e[l])).join("")}}getEncoder(e){let r=this._encoderCache[e];return r||(r=this._encoderCache[e]=this._getEncoder(e)),r}_getEncoder(e){{const i=iT(e);if(i)return i}const r=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(r){const i=r[1],s=this.getEncoder(i),o=parseInt(r[3]);return a=>{o>=0&&a.length!==o&&Mn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",a);let c=a.map(s);return this._types[i]&&(c=c.map(yl)),yl(wE(c))}}const n=this.types[e];if(n){const i=B6(this._types[e]);return s=>{const o=n.map(({name:a,type:c})=>{const l=this.getEncoder(c)(s[a]);return this._types[c]?yl(l):l});return o.unshift(i),wE(o)}}return Mn.throwArgumentError(`unknown type: ${e}`,"type",e)}encodeType(e){const r=this._types[e];return r||Mn.throwArgumentError(`unknown type: ${JSON.stringify(e)}`,"name",e),r}encodeData(e,r){return this.getEncoder(e)(r)}hashStruct(e,r){return yl(this.encodeData(e,r))}encode(e){return this.encodeData(this.primaryType,e)}hash(e){return this.hashStruct(this.primaryType,e)}_visit(e,r,n){if(iT(e))return n(e,r);const i=e.match(/^(.*)(\x5b(\d*)\x5d)$/);if(i){const o=i[1],a=parseInt(i[3]);return a>=0&&r.length!==a&&Mn.throwArgumentError("array length mismatch; expected length ${ arrayLength }","value",r),r.map(c=>this._visit(o,c,n))}const s=this.types[e];return s?s.reduce((o,{name:a,type:c})=>(o[a]=this._visit(c,r[a],n),o),{}):Mn.throwArgumentError(`unknown type: ${e}`,"type",e)}visit(e,r){return this._visit(this.primaryType,e,r)}static from(e){return new Va(e)}static getPrimaryType(e){return Va.from(e).primaryType}static hashStruct(e,r,n){return Va.from(r).hashStruct(e,n)}static hashDomain(e){const r=[];for(const n in e){const i=X7[n];i||Mn.throwArgumentError(`invalid typed-data domain key: ${JSON.stringify(n)}`,"domain",e),r.push({name:n,type:i})}return r.sort((n,i)=>nT.indexOf(n.name)-nT.indexOf(i.name)),Va.hashStruct("EIP712Domain",{EIP712Domain:r},e)}static encode(e,r,n){return wE(["0x1901",Va.hashDomain(e),Va.from(r).hash(n)])}static hash(e,r,n){return yl(Va.encode(e,r,n))}static resolveNames(e,r,n,i){return XRe(this,void 0,void 0,function*(){e=Y7(e);const s={};e.verifyingContract&&!_h(e.verifyingContract,20)&&(s[e.verifyingContract]="0x");const o=Va.from(r);o.visit(n,(a,c)=>(a==="address"&&!_h(c,20)&&(s[c]="0x"),c));for(const a in s)s[a]=yield i(a);return e.verifyingContract&&s[e.verifyingContract]&&(e.verifyingContract=s[e.verifyingContract]),n=o.visit(n,(a,c)=>a==="address"&&s[c]?s[c]:c),{domain:e,value:n}})}static getPayload(e,r,n){Va.hashDomain(e);const i={},s=[];nT.forEach(c=>{const l=e[c];l!=null&&(i[c]=nPe[c](l),s.push({name:c,type:X7[c]}))});const o=Va.from(r),a=Y7(r);return a.EIP712Domain?Mn.throwArgumentError("types must not contain EIP712Domain type","types.EIP712Domain",r):a.EIP712Domain=s,o.encode(n),{types:a,domain:i,primaryType:o.primaryType,message:o.visit(n,(c,l)=>{if(c.match(/^bytes(\d*)/))return Sh(Mu(l));if(c.match(/^u?int/))return id.from(l).toString();switch(c){case"address":return l.toLowerCase();case"bool":return!!l;case"string":return typeof l!="string"&&Mn.throwArgumentError("invalid string","value",l),l}return Mn.throwArgumentError("unsupported type","type",c)})}}}const iPe=Object.freeze(Object.defineProperty({__proto__:null,_TypedDataEncoder:Va,dnsEncode:jRe,ensNormalize:FRe,hashMessage:WRe,id:B6,isValidName:BRe,messagePrefix:NK,namehash:HRe},Symbol.toStringTag,{value:"Module"})),sPe="logger/5.8.0";let eL=!1,tL=!1;const vE={debug:1,default:2,info:2,warning:3,error:4,off:5};let rL=vE.default,sT=null;function oPe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const nL=oPe();var lR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(lR||(lR={}));var nl;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(nl||(nl={}));const iL="0123456789abcdef";let Ms=class vi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();vE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(rL>vE[n])&&console.log.apply(console,r)}debug(...e){this._log(vi.levels.DEBUG,e)}info(...e){this._log(vi.levels.INFO,e)}warn(...e){this._log(vi.levels.WARNING,e)}makeError(e,r,n){if(tL)return this.makeError("censored error",r,{});r||(r=vi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=iL[l[f]>>4],u+=iL[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case nl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case nl.CALL_EXCEPTION:case nl.INSUFFICIENT_FUNDS:case nl.MISSING_NEW:case nl.NONCE_EXPIRED:case nl.REPLACEMENT_UNDERPRICED:case nl.TRANSACTION_REPLACED:case nl.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,vi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){nL&&this.throwError("platform missing String.prototype.normalize",vi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:nL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,vi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,vi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,vi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,vi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",vi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",vi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",vi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return sT||(sT=new vi(sPe)),sT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",vi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),eL){if(!e)return;this.globalLogger().throwError("error censorship permanent",vi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}tL=!!e,eL=!!r}static setLogLevel(e){const r=vE[e.toLowerCase()];if(r==null){vi.globalLogger().warn("invalid log level - "+e);return}rL=r}static from(e){return new vi(e)}};Ms.errors=nl;Ms.levels=lR;const aPe="bytes/5.8.0",Yn=new Ms(aPe);function DK(t){return!!t.toHexString}function Jg(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return Jg(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function cPe(t){return sc(t)&&!(t.length%2)||g2(t)}function sL(t){return typeof t=="number"&&t==t&&t%1===0}function g2(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!sL(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!sL(r)||r<0||r>=256)return!1}return!0}function Zt(t,e){if(e||(e={}),typeof t=="number"){Yn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),Jg(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),DK(t)&&(t=t.toHexString()),sc(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Yn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return Jg(new Uint8Array(n))}return g2(t)?Jg(new Uint8Array(t)):Yn.throwArgumentError("invalid arrayify value","value",t)}function uR(t){const e=t.map(i=>Zt(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),Jg(n)}function lPe(t,e){t=Zt(t),t.length>e&&Yn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),Jg(r)}function sc(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const oT="0123456789abcdef";function ln(t,e){if(e||(e={}),typeof t=="number"){Yn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=oT[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),DK(t))return t.toHexString();if(sc(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Yn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(g2(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=oT[(i&240)>>4]+oT[i&15]}return r}return Yn.throwArgumentError("invalid hexlify value","value",t)}function uPe(t){if(typeof t!="string")t=ln(t);else if(!sc(t)||t.length%2)return null;return(t.length-2)/2}function XA(t,e,r){return typeof t!="string"?t=ln(t):(!sc(t)||t.length%2)&&Yn.throwArgumentError("invalid hexData","value",t),e=2+2*e,r!=null?"0x"+t.substring(e,2+2*r):"0x"+t.substring(e)}function nh(t,e){for(typeof t!="string"?t=ln(t):sc(t)||Yn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Yn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function fPe(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(cPe(t)){let r=Zt(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ln(r.slice(0,32)),e.s=ln(r.slice(32,64))):r.length===65?(e.r=ln(r.slice(0,32)),e.s=ln(r.slice(32,64)),e.v=r[64]):Yn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Yn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ln(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=lPe(Zt(e._vs),32);e._vs=ln(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Yn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ln(i);e.s==null?e.s=o:e.s!==o&&Yn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Yn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Yn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!sc(e.r)?Yn.throwArgumentError("signature missing or invalid r","signature",t):e.r=nh(e.r,32),e.s==null||!sc(e.s)?Yn.throwArgumentError("signature missing or invalid s","signature",t):e.s=nh(e.s,32);const r=Zt(e.s);r[0]>=128&&Yn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ln(r);e._vs&&(sc(e._vs)||Yn.throwArgumentError("signature invalid _vs","signature",t),e._vs=nh(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Yn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function hn(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}class kK{constructor(e){hn(this,"alphabet",e),hn(this,"base",e.length),hn(this,"_alphabetMap",{}),hn(this,"_leader",e.charAt(0));for(let r=0;r<e.length;r++)this._alphabetMap[e.charAt(r)]=r}encode(e){let r=Zt(e);if(r.length===0)return"";let n=[0];for(let s=0;s<r.length;++s){let o=r[s];for(let a=0;a<n.length;++a)o+=n[a]<<8,n[a]=o%this.base,o=o/this.base|0;for(;o>0;)n.push(o%this.base),o=o/this.base|0}let i="";for(let s=0;r[s]===0&&s<r.length-1;++s)i+=this._leader;for(let s=n.length-1;s>=0;--s)i+=this.alphabet[n[s]];return i}decode(e){if(typeof e!="string")throw new TypeError("Expected String");let r=[];if(e.length===0)return new Uint8Array(r);r.push(0);for(let n=0;n<e.length;n++){let i=this._alphabetMap[e[n]];if(i===void 0)throw new Error("Non-base"+this.base+" character");let s=i;for(let o=0;o<r.length;++o)s+=r[o]*this.base,r[o]=s&255,s>>=8;for(;s>0;)r.push(s&255),s>>=8}for(let n=0;e[n]===this._leader&&n<e.length-1;++n)r.push(0);return Zt(new Uint8Array(r.reverse()))}}new kK("abcdefghijklmnopqrstuvwxyz234567");const MK=new kK("123456789ABCDEFGHJKLMNPQRSTUVWXYZabcdefghijkmnopqrstuvwxyz"),dPe="bignumber/5.8.0";var QA=fe.BN;const Sf=new Ms(dPe),aT={},oL=9007199254740991;let aL=!1,m2=class zc{constructor(e,r){e!==aT&&Sf.throwError("cannot call constructor directly; use BigNumber.from",Ms.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return Ao(Xt(this).fromTwos(e))}toTwos(e){return Ao(Xt(this).toTwos(e))}abs(){return this._hex[0]==="-"?zc.from(this._hex.substring(1)):this}add(e){return Ao(Xt(this).add(Xt(e)))}sub(e){return Ao(Xt(this).sub(Xt(e)))}div(e){return zc.from(e).isZero()&&Ba("division-by-zero","div"),Ao(Xt(this).div(Xt(e)))}mul(e){return Ao(Xt(this).mul(Xt(e)))}mod(e){const r=Xt(e);return r.isNeg()&&Ba("division-by-zero","mod"),Ao(Xt(this).umod(r))}pow(e){const r=Xt(e);return r.isNeg()&&Ba("negative-power","pow"),Ao(Xt(this).pow(r))}and(e){const r=Xt(e);return(this.isNegative()||r.isNeg())&&Ba("unbound-bitwise-result","and"),Ao(Xt(this).and(r))}or(e){const r=Xt(e);return(this.isNegative()||r.isNeg())&&Ba("unbound-bitwise-result","or"),Ao(Xt(this).or(r))}xor(e){const r=Xt(e);return(this.isNegative()||r.isNeg())&&Ba("unbound-bitwise-result","xor"),Ao(Xt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Ba("negative-width","mask"),Ao(Xt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ba("negative-width","shl"),Ao(Xt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ba("negative-width","shr"),Ao(Xt(this).shrn(e))}eq(e){return Xt(this).eq(Xt(e))}lt(e){return Xt(this).lt(Xt(e))}lte(e){return Xt(this).lte(Xt(e))}gt(e){return Xt(this).gt(Xt(e))}gte(e){return Xt(this).gte(Xt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Xt(this).isZero()}toNumber(){try{return Xt(this).toNumber()}catch{Ba("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return Sf.throwError("this platform does not support BigInt",Ms.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?aL||(aL=!0,Sf.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?Sf.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Ms.errors.UNEXPECTED_ARGUMENT,{}):Sf.throwError("BigNumber.toString does not accept parameters",Ms.errors.UNEXPECTED_ARGUMENT,{})),Xt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof zc)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new zc(aT,s1(e)):e.match(/^-?[0-9]+$/)?new zc(aT,s1(new QA(e))):Sf.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ba("underflow","BigNumber.from",e),(e>=oL||e<=-oL)&&Ba("overflow","BigNumber.from",e),zc.from(String(e));const r=e;if(typeof r=="bigint")return zc.from(r.toString());if(g2(r))return zc.from(ln(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return zc.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(sc(n)||n[0]==="-"&&sc(n.substring(1))))return zc.from(n)}return Sf.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function s1(t){if(typeof t!="string")return s1(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&Sf.throwArgumentError("invalid hex","value",t),t=s1(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function Ao(t){return m2.from(s1(t))}function Xt(t){const e=m2.from(t).toHexString();return e[0]==="-"?new QA("-"+e.substring(3),16):new QA(e.substring(2),16)}function Ba(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),Sf.throwError(t,Ms.errors.NUMERIC_FAULT,n)}function hPe(t){return new QA(t,36).toString(16)}const pPe="strings/5.8.0",gPe=new Ms(pPe);var mm;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(mm||(mm={}));var cL;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(cL||(cL={}));function ZA(t,e=mm.current){e!=mm.current&&(gPe.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Zt(r)}var o1;(function(t){t.sha256="sha256",t.sha512="sha512"})(o1||(o1={}));const mPe="sha2/5.8.0",yPe=new Ms(mPe);function _Pe(t){return"0x"+bt.ripemd160().update(Zt(t)).digest("hex")}function a1(t){return"0x"+bt.sha256().update(Zt(t)).digest("hex")}function ex(t,e,r){return o1[t]||yPe.throwError("unsupported algorithm "+t,Ms.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+bt.hmac(bt[t],Zt(e)).update(Zt(r)).digest("hex")}function bPe(t,e,r,n,i){t=Zt(t),e=Zt(e);let s,o=1;const a=new Uint8Array(n),c=new Uint8Array(e.length+4);c.set(e);let l,u;for(let f=1;f<=o;f++){c[e.length]=f>>24&255,c[e.length+1]=f>>16&255,c[e.length+2]=f>>8&255,c[e.length+3]=f&255;let h=Zt(ex(i,t,c));s||(s=h.length,u=new Uint8Array(s),o=Math.ceil(n/s),l=n-(o-1)*s),u.set(h);for(let m=1;m<r;m++){h=Zt(ex(i,t,h));for(let b=0;b<s;b++)u[b]^=h[b]}const g=(f-1)*s,_=f===o?l:s;a.set(Zt(u).slice(0,_),g)}return ln(a)}function Hm(t,e,r){return r={path:e,exports:{},require:function(n,i){return wPe(n,i??r.path)}},t(r,r.exports),r.exports}function wPe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var j6=UK;function UK(t,e){if(!t)throw new Error(e||"Assertion failed")}UK.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Al=Hm(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,h=u&255;f?c.push(f,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),va=Hm(function(t,e){var r=e;r.assert=j6,r.toArray=Al.toArray,r.zero2=Al.zero2,r.toHex=Al.toHex,r.encode=Al.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<f.length;h+=1)f[h]=0;var g=1<<l+1,_=c.clone();for(h=0;h<f.length;h++){var m,b=_.andln(g-1);_.isOdd()?(b>(g>>1)-1?m=(g>>1)-b:m=b,_.isubn(m)):m=0,f[h]=m,_.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,h=0,g;c.cmpn(-f)>0||l.cmpn(-h)>0;){var _=c.andln(3)+f&3,m=l.andln(3)+h&3;_===3&&(_=-1),m===3&&(m=-1);var b;(_&1)===0?b=0:(g=c.andln(7)+f&7,(g===3||g===5)&&m===2?b=-_:b=_),u[0].push(b);var A;(m&1)===0?A=0:(g=l.andln(7)+h&7,(g===3||g===5)&&_===2?A=-m:A=m),u[1].push(A),2*f===b+1&&(f=1-f),2*h===A+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new fe(c,"hex","le")}r.intFromLE=a}),tx=va.getNAF,vPe=va.getJSF,rx=va.assert;function Th(t,e){this.type=t,this.p=new fe(e.p,16),this.red=e.prime?fe.red(e.prime):fe.mont(this.p),this.zero=new fe(0).toRed(this.red),this.one=new fe(1).toRed(this.red),this.two=new fe(2).toRed(this.red),this.n=e.n&&new fe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var up=Th;Th.prototype.point=function(){throw new Error("Not implemented")};Th.prototype.validate=function(){throw new Error("Not implemented")};Th.prototype._fixedNafMul=function(e,r){rx(e.precomputed);var n=e._getDoubles(),i=tx(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?f=f.mixedAdd(n.points[a]):c===-h&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};Th.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=tx(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];rx(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Th.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(e);o[u]=g.wnd,a[u]=g.points}for(u=i-1;u>=1;u-=2){var _=u-1,m=u;if(o[_]!==1||o[m]!==1){c[_]=tx(n[_],o[_],this._bitLength),c[m]=tx(n[m],o[m],this._bitLength),l=Math.max(c[_].length,l),l=Math.max(c[m].length,l);continue}var b=[r[_],null,null,r[m]];r[_].y.cmp(r[m].y)===0?(b[1]=r[_].add(r[m]),b[2]=r[_].toJ().mixedAdd(r[m].neg())):r[_].y.cmp(r[m].y.redNeg())===0?(b[1]=r[_].toJ().mixedAdd(r[m]),b[2]=r[_].add(r[m].neg())):(b[1]=r[_].toJ().mixedAdd(r[m]),b[2]=r[_].toJ().mixedAdd(r[m].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],N=vPe(n[_],n[m]);for(l=Math.max(N[0].length,l),c[_]=new Array(l),c[m]=new Array(l),f=0;f<l;f++){var R=N[0][f]|0,k=N[1][f]|0;c[_][f]=A[(R+1)*3+(k+1)],c[m][f]=0,a[_]=b}}var M=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var H=0;u>=0;){var S=!0;for(f=0;f<i;f++)D[f]=c[f][u]|0,D[f]!==0&&(S=!1);if(!S)break;H++,u--}if(u>=0&&H++,M=M.dblp(H),u<0)break;for(f=0;f<i;f++){var C=D[f];C!==0&&(C>0?h=a[f][C-1>>1]:C<0&&(h=a[f][-C-1>>1].neg()),h.type==="affine"?M=M.mixedAdd(h):M=M.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?M:M.toP()};function wc(t,e){this.curve=t,this.type=e,this.precomputed=null}Th.BasePoint=wc;wc.prototype.eq=function(){throw new Error("Not implemented")};wc.prototype.validate=function(){return this.curve.validate(this)};Th.prototype.decodePoint=function(e,r){e=va.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?rx(e[e.length-1]%2===0):e[0]===7&&rx(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};wc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};wc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};wc.prototype.encode=function(e,r){return va.encode(this._encode(r),e)};wc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};wc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};wc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};wc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};wc.prototype._getBeta=function(){return null};wc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var W6=Hm(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),EPe=va.assert;function vc(t){up.call(this,"short",t),this.a=new fe(t.a,16).toRed(this.red),this.b=new fe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}W6(vc,up);var APe=vc;vc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new fe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new fe(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],EPe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new fe(a.a,16),b:new fe(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};vc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:fe.mont(e),n=new fe(2).toRed(r).redInvm(),i=n.redNeg(),s=new fe(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};vc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new fe(1),o=new fe(0),a=new fe(0),c=new fe(1),l,u,f,h,g,_,m,b=0,A,N;n.cmpn(0)!==0;){var R=i.div(n);A=i.sub(R.mul(n)),N=a.sub(R.mul(s));var k=c.sub(R.mul(o));if(!f&&A.cmp(r)<0)l=m.neg(),u=s,f=A.neg(),h=N;else if(f&&++b===2)break;m=A,i=n,n=A,a=s,s=N,c=o,o=k}g=A.neg(),_=N;var M=f.sqr().add(h.sqr()),D=g.sqr().add(_.sqr());return D.cmp(M)>=0&&(g=l,_=u),f.negative&&(f=f.neg(),h=h.neg()),g.negative&&(g=g.neg(),_=_.neg()),[{a:f,b:h},{a:g,b:_}]};vc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};vc.prototype.pointFromX=function(e,r){e=new fe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};vc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};vc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Yi(t,e,r,n){up.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new fe(e,16),this.y=new fe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}W6(Yi,up.BasePoint);vc.prototype.point=function(e,r,n){return new Yi(this,e,r,n)};vc.prototype.pointFromJSON=function(e,r){return Yi.fromJSON(this,e,r)};Yi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Yi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Yi.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Yi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Yi.prototype.isInfinity=function(){return this.inf};Yi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Yi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Yi.prototype.getX=function(){return this.x.fromRed()};Yi.prototype.getY=function(){return this.y.fromRed()};Yi.prototype.mul=function(e){return e=new fe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Yi.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Yi.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Yi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Yi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Yi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function ys(t,e,r,n){up.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fe(0)):(this.x=new fe(e,16),this.y=new fe(r,16),this.z=new fe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}W6(ys,up.BasePoint);vc.prototype.jpoint=function(e,r,n){return new ys(this,e,r,n)};ys.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};ys.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};ys.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=i.redMul(u),g=l.redSqr().redIAdd(f).redISub(h).redISub(h),_=l.redMul(h.redISub(g)).redISub(o.redMul(f)),m=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,_,m)};ys.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),g=c.redMul(f.redISub(h)).redISub(s.redMul(u)),_=this.z.redMul(a);return this.curve.jpoint(h,g,_)};ys.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),h=u.redSqr(),g=h.redSqr(),_=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),m=o.redMul(h),b=_.redSqr().redISub(m.redAdd(m)),A=m.redISub(b),N=_.redMul(A);N=N.redIAdd(N).redISub(g);var R=u.redMul(c);r+1<e&&(l=l.redMul(g)),o=b,c=R,u=N}return this.curve.jpoint(o,u.redMul(s),c)};ys.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};ys.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),_=this.x.redAdd(h).redSqr().redISub(f).redISub(g);_=_.redIAdd(_);var m=f.redAdd(f).redIAdd(f),b=m.redSqr(),A=g.redIAdd(g);A=A.redIAdd(A),A=A.redIAdd(A),e=b.redISub(_).redISub(_),r=m.redMul(_.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};ys.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),_=this.x.redSub(f).redMul(this.x.redAdd(f));_=_.redAdd(_).redIAdd(_);var m=g.redIAdd(g);m=m.redIAdd(m);var b=m.redAdd(m);e=_.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var A=h.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),r=_.redMul(m.redISub(e)).redISub(A)}return this.curve.jpoint(e,r,n)};ys.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=c.redMul(h).redISub(g),m=n.redAdd(n).redMul(i);return this.curve.jpoint(f,_,m)};ys.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,_)};ys.prototype.mul=function(e,r){return e=new fe(e,r),this.curve._wnafMul(this,e)};ys.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};ys.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};ys.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};ys.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var EE=Hm(function(t,e){var r=e;r.base=up,r.short=APe,r.mont=null,r.edwards=null}),AE=Hm(function(t,e){var r=e,n=va.assert;function i(a){a.type==="short"?this.curve=new EE.short(a):a.type==="edwards"?this.curve=new EE.edwards(a):this.curve=new EE.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:bt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:bt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:bt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:bt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:bt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bt.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:bt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function bh(t){if(!(this instanceof bh))return new bh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Al.toArray(t.entropy,t.entropyEnc||"hex"),r=Al.toArray(t.nonce,t.nonceEnc||"hex"),n=Al.toArray(t.pers,t.persEnc||"hex");j6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var LK=bh;bh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};bh.prototype._hmac=function(){return new bt.hmac(this.hash,this.K)};bh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};bh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Al.toArray(e,r),n=Al.toArray(n,i),j6(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};bh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Al.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Al.encode(o,r)};var fR=va.assert;function $s(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var q6=$s;$s.fromPublic=function(e,r,n){return r instanceof $s?r:new $s(e,{pub:r,pubEnc:n})};$s.fromPrivate=function(e,r,n){return r instanceof $s?r:new $s(e,{priv:r,privEnc:n})};$s.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};$s.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};$s.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};$s.prototype._importPrivate=function(e,r){this.priv=new fe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};$s.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?fR(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&fR(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};$s.prototype.derive=function(e){return e.validate()||fR(e.validate(),"public point not validated"),e.mul(this.priv).getX()};$s.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};$s.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};$s.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var xPe=va.assert;function y2(t,e){if(t instanceof y2)return t;this._importDER(t,e)||(xPe(t.r&&t.s,"Signature without r or s"),this.r=new fe(t.r,16),this.s=new fe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var _2=y2;function CPe(){this.place=0}function cT(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function lL(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}y2.prototype._importDER=function(e,r){e=va.toArray(e,r);var n=new CPe;if(e[n.place++]!==48)return!1;var i=cT(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=cT(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=cT(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new fe(o),this.s=new fe(c),this.recoveryParam=null,!0};function lT(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}y2.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=lL(r),n=lL(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];lT(i,r.length),i=i.concat(r),i.push(2),lT(i,n.length);var s=i.concat(n),o=[48];return lT(o,s.length),o=o.concat(s),va.encode(o,e)};var NPe=(function(){throw new Error("unsupported")}),m0=va.assert;function dc(t){if(!(this instanceof dc))return new dc(t);typeof t=="string"&&(m0(Object.prototype.hasOwnProperty.call(AE,t),"Unknown curve "+t),t=AE[t]),t instanceof AE.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var SPe=dc;dc.prototype.keyPair=function(e){return new q6(this,e)};dc.prototype.keyFromPrivate=function(e,r){return q6.fromPrivate(this,e,r)};dc.prototype.keyFromPublic=function(e,r){return q6.fromPublic(this,e,r)};dc.prototype.genKeyPair=function(e){e||(e={});for(var r=new LK({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||NPe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new fe(2));;){var s=new fe(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};dc.prototype._truncateToN=function(e,r,n){var i;if(fe.isBN(e)||typeof e=="number")e=new fe(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new fe(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new fe(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};dc.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!fe.isBN(e)){m0(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),m0(e.length>>>0===e.length);for(var s=0;s<e.length;s++)m0((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),m0(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);m0(new fe(c).eq(e),"Can not sign message");for(var l=new LK({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new fe(1)),f=0;;f++){var h=i.k?i.k(f):new fe(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var _=g.getX(),m=_.umod(this.n);if(m.cmpn(0)!==0){var b=h.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var A=(g.getY().isOdd()?1:0)|(_.cmp(m)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),A^=1),new _2({r:m,s:b,recoveryParam:A})}}}}}};dc.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new _2(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};dc.prototype.recoverPubKey=function(t,e,r,n){m0((3&r)===r,"The recovery param is more than two bits"),e=new _2(e,n);var i=this.n,s=new fe(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(f,o,h)};dc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new _2(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var TPe=Hm(function(t,e){var r=e;r.version="6.6.1",r.utils=va,r.rand=(function(){throw new Error("unsupported")}),r.curve=EE,r.curves=AE,r.ec=SPe,r.eddsa=null}),IPe=TPe.ec;const RPe="signing-key/5.8.0",dR=new Ms(RPe);let uT=null;function c0(){return uT||(uT=new IPe("secp256k1")),uT}let hR=class{constructor(e){hn(this,"curve","secp256k1"),hn(this,"privateKey",ln(e)),uPe(this.privateKey)!==32&&dR.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=c0().keyFromPrivate(Zt(this.privateKey));hn(this,"publicKey","0x"+r.getPublic(!1,"hex")),hn(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),hn(this,"_isSigningKey",!0)}_addPoint(e){const r=c0().keyFromPublic(Zt(this.publicKey)),n=c0().keyFromPublic(Zt(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=c0().keyFromPrivate(Zt(this.privateKey)),n=Zt(e);n.length!==32&&dR.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return fPe({recoveryParam:i.recoveryParam,r:nh("0x"+i.r.toString(16),32),s:nh("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=c0().keyFromPrivate(Zt(this.privateKey)),n=c0().keyFromPublic(Zt($K(e)));return nh("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function $K(t,e){const r=Zt(t);return r.length===32?new hR(r).publicKey:r.length===33?"0x"+c0().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?ln(r):dR.throwArgumentError("invalid public or private key","key","[REDACTED]")}function z6(t){return"0x"+km.keccak_256(Zt(t))}const PPe="address/5.8.0",o_=new Ms(PPe);function uL(t){sc(t,20)||o_.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=Zt(z6(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const OPe=9007199254740991;function DPe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const G6={};for(let t=0;t<10;t++)G6[String(t)]=String(t);for(let t=0;t<26;t++)G6[String.fromCharCode(65+t)]=String(10+t);const fL=Math.floor(DPe(OPe));function kPe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>G6[n]).join("");for(;e.length>=fL;){let n=e.substring(0,fL);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function MPe(t){let e=null;if(typeof t!="string"&&o_.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=uL(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&o_.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==kPe(t)&&o_.throwArgumentError("bad icap checksum","address",t),e=hPe(t.substring(4));e.length<40;)e="0"+e;e=uL("0x"+e)}else o_.throwArgumentError("invalid address","address",t);return e}var dL;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(dL||(dL={}));function UPe(t){const e=$K(t);return MPe(XA(z6(XA(e,1)),12))}function LPe(t){return z6(ZA(t))}const $Pe="wordlists/5.8.0",FPe=new Ms($Pe);class z1{constructor(e){FPe.checkAbstract(new.target,z1),hn(this,"locale",e)}split(e){return e.toLowerCase().split(/ +/g)}join(e){return e.join(" ")}static check(e){const r=[];for(let n=0;n<2048;n++){const i=e.getWord(n);if(n!==e.getWordIndex(i))return"0x";r.push(i)}return LPe(r.join(`
`)+`
`)}static register(e,r){r||(r=e.locale)}}const BPe="AbandonAbilityAbleAboutAboveAbsentAbsorbAbstractAbsurdAbuseAccessAccidentAccountAccuseAchieveAcidAcousticAcquireAcrossActActionActorActressActualAdaptAddAddictAddressAdjustAdmitAdultAdvanceAdviceAerobicAffairAffordAfraidAgainAgeAgentAgreeAheadAimAirAirportAisleAlarmAlbumAlcoholAlertAlienAllAlleyAllowAlmostAloneAlphaAlreadyAlsoAlterAlwaysAmateurAmazingAmongAmountAmusedAnalystAnchorAncientAngerAngleAngryAnimalAnkleAnnounceAnnualAnotherAnswerAntennaAntiqueAnxietyAnyApartApologyAppearAppleApproveAprilArchArcticAreaArenaArgueArmArmedArmorArmyAroundArrangeArrestArriveArrowArtArtefactArtistArtworkAskAspectAssaultAssetAssistAssumeAsthmaAthleteAtomAttackAttendAttitudeAttractAuctionAuditAugustAuntAuthorAutoAutumnAverageAvocadoAvoidAwakeAwareAwayAwesomeAwfulAwkwardAxisBabyBachelorBaconBadgeBagBalanceBalconyBallBambooBananaBannerBarBarelyBargainBarrelBaseBasicBasketBattleBeachBeanBeautyBecauseBecomeBeefBeforeBeginBehaveBehindBelieveBelowBeltBenchBenefitBestBetrayBetterBetweenBeyondBicycleBidBikeBindBiologyBirdBirthBitterBlackBladeBlameBlanketBlastBleakBlessBlindBloodBlossomBlouseBlueBlurBlushBoardBoatBodyBoilBombBoneBonusBookBoostBorderBoringBorrowBossBottomBounceBoxBoyBracketBrainBrandBrassBraveBreadBreezeBrickBridgeBriefBrightBringBriskBroccoliBrokenBronzeBroomBrotherBrownBrushBubbleBuddyBudgetBuffaloBuildBulbBulkBulletBundleBunkerBurdenBurgerBurstBusBusinessBusyButterBuyerBuzzCabbageCabinCableCactusCageCakeCallCalmCameraCampCanCanalCancelCandyCannonCanoeCanvasCanyonCapableCapitalCaptainCarCarbonCardCargoCarpetCarryCartCaseCashCasinoCastleCasualCatCatalogCatchCategoryCattleCaughtCauseCautionCaveCeilingCeleryCementCensusCenturyCerealCertainChairChalkChampionChangeChaosChapterChargeChaseChatCheapCheckCheeseChefCherryChestChickenChiefChildChimneyChoiceChooseChronicChuckleChunkChurnCigarCinnamonCircleCitizenCityCivilClaimClapClarifyClawClayCleanClerkCleverClickClientCliffClimbClinicClipClockClogCloseClothCloudClownClubClumpClusterClutchCoachCoastCoconutCodeCoffeeCoilCoinCollectColorColumnCombineComeComfortComicCommonCompanyConcertConductConfirmCongressConnectConsiderControlConvinceCookCoolCopperCopyCoralCoreCornCorrectCostCottonCouchCountryCoupleCourseCousinCoverCoyoteCrackCradleCraftCramCraneCrashCraterCrawlCrazyCreamCreditCreekCrewCricketCrimeCrispCriticCropCrossCrouchCrowdCrucialCruelCruiseCrumbleCrunchCrushCryCrystalCubeCultureCupCupboardCuriousCurrentCurtainCurveCushionCustomCuteCycleDadDamageDampDanceDangerDaringDashDaughterDawnDayDealDebateDebrisDecadeDecemberDecideDeclineDecorateDecreaseDeerDefenseDefineDefyDegreeDelayDeliverDemandDemiseDenialDentistDenyDepartDependDepositDepthDeputyDeriveDescribeDesertDesignDeskDespairDestroyDetailDetectDevelopDeviceDevoteDiagramDialDiamondDiaryDiceDieselDietDifferDigitalDignityDilemmaDinnerDinosaurDirectDirtDisagreeDiscoverDiseaseDishDismissDisorderDisplayDistanceDivertDivideDivorceDizzyDoctorDocumentDogDollDolphinDomainDonateDonkeyDonorDoorDoseDoubleDoveDraftDragonDramaDrasticDrawDreamDressDriftDrillDrinkDripDriveDropDrumDryDuckDumbDuneDuringDustDutchDutyDwarfDynamicEagerEagleEarlyEarnEarthEasilyEastEasyEchoEcologyEconomyEdgeEditEducateEffortEggEightEitherElbowElderElectricElegantElementElephantElevatorEliteElseEmbarkEmbodyEmbraceEmergeEmotionEmployEmpowerEmptyEnableEnactEndEndlessEndorseEnemyEnergyEnforceEngageEngineEnhanceEnjoyEnlistEnoughEnrichEnrollEnsureEnterEntireEntryEnvelopeEpisodeEqualEquipEraEraseErodeErosionErrorEruptEscapeEssayEssenceEstateEternalEthicsEvidenceEvilEvokeEvolveExactExampleExcessExchangeExciteExcludeExcuseExecuteExerciseExhaustExhibitExileExistExitExoticExpandExpectExpireExplainExposeExpressExtendExtraEyeEyebrowFabricFaceFacultyFadeFaintFaithFallFalseFameFamilyFamousFanFancyFantasyFarmFashionFatFatalFatherFatigueFaultFavoriteFeatureFebruaryFederalFeeFeedFeelFemaleFenceFestivalFetchFeverFewFiberFictionFieldFigureFileFilmFilterFinalFindFineFingerFinishFireFirmFirstFiscalFishFitFitnessFixFlagFlameFlashFlatFlavorFleeFlightFlipFloatFlockFloorFlowerFluidFlushFlyFoamFocusFogFoilFoldFollowFoodFootForceForestForgetForkFortuneForumForwardFossilFosterFoundFoxFragileFrameFrequentFreshFriendFringeFrogFrontFrostFrownFrozenFruitFuelFunFunnyFurnaceFuryFutureGadgetGainGalaxyGalleryGameGapGarageGarbageGardenGarlicGarmentGasGaspGateGatherGaugeGazeGeneralGeniusGenreGentleGenuineGestureGhostGiantGiftGiggleGingerGiraffeGirlGiveGladGlanceGlareGlassGlideGlimpseGlobeGloomGloryGloveGlowGlueGoatGoddessGoldGoodGooseGorillaGospelGossipGovernGownGrabGraceGrainGrantGrapeGrassGravityGreatGreenGridGriefGritGroceryGroupGrowGruntGuardGuessGuideGuiltGuitarGunGymHabitHairHalfHammerHamsterHandHappyHarborHardHarshHarvestHatHaveHawkHazardHeadHealthHeartHeavyHedgehogHeightHelloHelmetHelpHenHeroHiddenHighHillHintHipHireHistoryHobbyHockeyHoldHoleHolidayHollowHomeHoneyHoodHopeHornHorrorHorseHospitalHostHotelHourHoverHubHugeHumanHumbleHumorHundredHungryHuntHurdleHurryHurtHusbandHybridIceIconIdeaIdentifyIdleIgnoreIllIllegalIllnessImageImitateImmenseImmuneImpactImposeImproveImpulseInchIncludeIncomeIncreaseIndexIndicateIndoorIndustryInfantInflictInformInhaleInheritInitialInjectInjuryInmateInnerInnocentInputInquiryInsaneInsectInsideInspireInstallIntactInterestIntoInvestInviteInvolveIronIslandIsolateIssueItemIvoryJacketJaguarJarJazzJealousJeansJellyJewelJobJoinJokeJourneyJoyJudgeJuiceJumpJungleJuniorJunkJustKangarooKeenKeepKetchupKeyKickKidKidneyKindKingdomKissKitKitchenKiteKittenKiwiKneeKnifeKnockKnowLabLabelLaborLadderLadyLakeLampLanguageLaptopLargeLaterLatinLaughLaundryLavaLawLawnLawsuitLayerLazyLeaderLeafLearnLeaveLectureLeftLegLegalLegendLeisureLemonLendLengthLensLeopardLessonLetterLevelLiarLibertyLibraryLicenseLifeLiftLightLikeLimbLimitLinkLionLiquidListLittleLiveLizardLoadLoanLobsterLocalLockLogicLonelyLongLoopLotteryLoudLoungeLoveLoyalLuckyLuggageLumberLunarLunchLuxuryLyricsMachineMadMagicMagnetMaidMailMainMajorMakeMammalManManageMandateMangoMansionManualMapleMarbleMarchMarginMarineMarketMarriageMaskMassMasterMatchMaterialMathMatrixMatterMaximumMazeMeadowMeanMeasureMeatMechanicMedalMediaMelodyMeltMemberMemoryMentionMenuMercyMergeMeritMerryMeshMessageMetalMethodMiddleMidnightMilkMillionMimicMindMinimumMinorMinuteMiracleMirrorMiseryMissMistakeMixMixedMixtureMobileModelModifyMomMomentMonitorMonkeyMonsterMonthMoonMoralMoreMorningMosquitoMotherMotionMotorMountainMouseMoveMovieMuchMuffinMuleMultiplyMuscleMuseumMushroomMusicMustMutualMyselfMysteryMythNaiveNameNapkinNarrowNastyNationNatureNearNeckNeedNegativeNeglectNeitherNephewNerveNestNetNetworkNeutralNeverNewsNextNiceNightNobleNoiseNomineeNoodleNormalNorthNoseNotableNoteNothingNoticeNovelNowNuclearNumberNurseNutOakObeyObjectObligeObscureObserveObtainObviousOccurOceanOctoberOdorOffOfferOfficeOftenOilOkayOldOliveOlympicOmitOnceOneOnionOnlineOnlyOpenOperaOpinionOpposeOptionOrangeOrbitOrchardOrderOrdinaryOrganOrientOriginalOrphanOstrichOtherOutdoorOuterOutputOutsideOvalOvenOverOwnOwnerOxygenOysterOzonePactPaddlePagePairPalacePalmPandaPanelPanicPantherPaperParadeParentParkParrotPartyPassPatchPathPatientPatrolPatternPausePavePaymentPeacePeanutPearPeasantPelicanPenPenaltyPencilPeoplePepperPerfectPermitPersonPetPhonePhotoPhrasePhysicalPianoPicnicPicturePiecePigPigeonPillPilotPinkPioneerPipePistolPitchPizzaPlacePlanetPlasticPlatePlayPleasePledgePluckPlugPlungePoemPoetPointPolarPolePolicePondPonyPoolPopularPortionPositionPossiblePostPotatoPotteryPovertyPowderPowerPracticePraisePredictPreferPreparePresentPrettyPreventPricePridePrimaryPrintPriorityPrisonPrivatePrizeProblemProcessProduceProfitProgramProjectPromoteProofPropertyProsperProtectProudProvidePublicPuddingPullPulpPulsePumpkinPunchPupilPuppyPurchasePurityPurposePursePushPutPuzzlePyramidQualityQuantumQuarterQuestionQuickQuitQuizQuoteRabbitRaccoonRaceRackRadarRadioRailRainRaiseRallyRampRanchRandomRangeRapidRareRateRatherRavenRawRazorReadyRealReasonRebelRebuildRecallReceiveRecipeRecordRecycleReduceReflectReformRefuseRegionRegretRegularRejectRelaxReleaseReliefRelyRemainRememberRemindRemoveRenderRenewRentReopenRepairRepeatReplaceReportRequireRescueResembleResistResourceResponseResultRetireRetreatReturnReunionRevealReviewRewardRhythmRibRibbonRiceRichRideRidgeRifleRightRigidRingRiotRippleRiskRitualRivalRiverRoadRoastRobotRobustRocketRomanceRoofRookieRoomRoseRotateRoughRoundRouteRoyalRubberRudeRugRuleRunRunwayRuralSadSaddleSadnessSafeSailSaladSalmonSalonSaltSaluteSameSampleSandSatisfySatoshiSauceSausageSaveSayScaleScanScareScatterSceneSchemeSchoolScienceScissorsScorpionScoutScrapScreenScriptScrubSeaSearchSeasonSeatSecondSecretSectionSecuritySeedSeekSegmentSelectSellSeminarSeniorSenseSentenceSeriesServiceSessionSettleSetupSevenShadowShaftShallowShareShedShellSheriffShieldShiftShineShipShiverShockShoeShootShopShortShoulderShoveShrimpShrugShuffleShySiblingSickSideSiegeSightSignSilentSilkSillySilverSimilarSimpleSinceSingSirenSisterSituateSixSizeSkateSketchSkiSkillSkinSkirtSkullSlabSlamSleepSlenderSliceSlideSlightSlimSloganSlotSlowSlushSmallSmartSmileSmokeSmoothSnackSnakeSnapSniffSnowSoapSoccerSocialSockSodaSoftSolarSoldierSolidSolutionSolveSomeoneSongSoonSorrySortSoulSoundSoupSourceSouthSpaceSpareSpatialSpawnSpeakSpecialSpeedSpellSpendSphereSpiceSpiderSpikeSpinSpiritSplitSpoilSponsorSpoonSportSpotSpraySpreadSpringSpySquareSqueezeSquirrelStableStadiumStaffStageStairsStampStandStartStateStaySteakSteelStemStepStereoStickStillStingStockStomachStoneStoolStoryStoveStrategyStreetStrikeStrongStruggleStudentStuffStumbleStyleSubjectSubmitSubwaySuccessSuchSuddenSufferSugarSuggestSuitSummerSunSunnySunsetSuperSupplySupremeSureSurfaceSurgeSurpriseSurroundSurveySuspectSustainSwallowSwampSwapSwarmSwearSweetSwiftSwimSwingSwitchSwordSymbolSymptomSyrupSystemTableTackleTagTailTalentTalkTankTapeTargetTaskTasteTattooTaxiTeachTeamTellTenTenantTennisTentTermTestTextThankThatThemeThenTheoryThereTheyThingThisThoughtThreeThriveThrowThumbThunderTicketTideTigerTiltTimberTimeTinyTipTiredTissueTitleToastTobaccoTodayToddlerToeTogetherToiletTokenTomatoTomorrowToneTongueTonightToolToothTopTopicToppleTorchTornadoTortoiseTossTotalTouristTowardTowerTownToyTrackTradeTrafficTragicTrainTransferTrapTrashTravelTrayTreatTreeTrendTrialTribeTrickTriggerTrimTripTrophyTroubleTruckTrueTrulyTrumpetTrustTruthTryTubeTuitionTumbleTunaTunnelTurkeyTurnTurtleTwelveTwentyTwiceTwinTwistTwoTypeTypicalUglyUmbrellaUnableUnawareUncleUncoverUnderUndoUnfairUnfoldUnhappyUniformUniqueUnitUniverseUnknownUnlockUntilUnusualUnveilUpdateUpgradeUpholdUponUpperUpsetUrbanUrgeUsageUseUsedUsefulUselessUsualUtilityVacantVacuumVagueValidValleyValveVanVanishVaporVariousVastVaultVehicleVelvetVendorVentureVenueVerbVerifyVersionVeryVesselVeteranViableVibrantViciousVictoryVideoViewVillageVintageViolinVirtualVirusVisaVisitVisualVitalVividVocalVoiceVoidVolcanoVolumeVoteVoyageWageWagonWaitWalkWallWalnutWantWarfareWarmWarriorWashWaspWasteWaterWaveWayWealthWeaponWearWeaselWeatherWebWeddingWeekendWeirdWelcomeWestWetWhaleWhatWheatWheelWhenWhereWhipWhisperWideWidthWifeWildWillWinWindowWineWingWinkWinnerWinterWireWisdomWiseWishWitnessWolfWomanWonderWoodWoolWordWorkWorldWorryWorthWrapWreckWrestleWristWriteWrongYardYearYellowYouYoungYouthZebraZeroZoneZoo";let L_=null;function hL(t){if(L_==null&&(L_=BPe.replace(/([A-Z])/g," $1").toLowerCase().substring(1).split(" "),z1.check(t)!=="0x3c8acc1e7b08d8e76f9fda015ef48dc8c710a73cb7e0f77b2c18a9b5a7adde60"))throw L_=null,new Error("BIP39 Wordlist for en (English) FAILED")}class HPe extends z1{constructor(){super("en")}getWord(e){return hL(this),L_[e]}getWordIndex(e){return hL(this),L_.indexOf(e)}}const FK=new HPe;z1.register(FK);const pL={en:FK},jPe="hdnode/5.7.0",c1=new Ms(jPe),WPe=m2.from("0xfffffffffffffffffffffffffffffffebaaedce6af48a03bbfd25e8cd0364141"),qPe=ZA("Bitcoin seed"),Ag=2147483648;function BK(t){return(1<<t)-1<<8-t}function zPe(t){return(1<<t)-1}function Sv(t){return nh(ln(t),32)}function gL(t){return MK.encode(uR([t,XA(a1(a1(t)),0,4)]))}function K6(t){if(t==null)return pL.en;if(typeof t=="string"){const e=pL[t];return e==null&&c1.throwArgumentError("unknown locale","wordlist",t),e}return t}const sg={},GPe="m/44'/60'/0'/0/0";class Tf{constructor(e,r,n,i,s,o,a,c){if(e!==sg)throw new Error("HDNode constructor cannot be called directly");if(r){const l=new hR(r);hn(this,"privateKey",l.privateKey),hn(this,"publicKey",l.compressedPublicKey)}else hn(this,"privateKey",null),hn(this,"publicKey",ln(n));hn(this,"parentFingerprint",i),hn(this,"fingerprint",XA(_Pe(a1(this.publicKey)),0,4)),hn(this,"address",UPe(this.publicKey)),hn(this,"chainCode",s),hn(this,"index",o),hn(this,"depth",a),c==null?(hn(this,"mnemonic",null),hn(this,"path",null)):typeof c=="string"?(hn(this,"mnemonic",null),hn(this,"path",c)):(hn(this,"mnemonic",c),hn(this,"path",c.path))}get extendedKey(){if(this.depth>=256)throw new Error("Depth too large!");return gL(uR([this.privateKey!=null?"0x0488ADE4":"0x0488B21E",ln(this.depth),this.parentFingerprint,nh(ln(this.index),4),this.chainCode,this.privateKey!=null?uR(["0x00",this.privateKey]):this.publicKey]))}neuter(){return new Tf(sg,null,this.publicKey,this.parentFingerprint,this.chainCode,this.index,this.depth,this.path)}_derive(e){if(e>4294967295)throw new Error("invalid index - "+String(e));let r=this.path;r&&(r+="/"+(e&~Ag));const n=new Uint8Array(37);if(e&Ag){if(!this.privateKey)throw new Error("cannot derive child of neutered node");n.set(Zt(this.privateKey),1),r&&(r+="'")}else n.set(Zt(this.publicKey));for(let f=24;f>=0;f-=8)n[33+(f>>3)]=e>>24-f&255;const i=Zt(ex(o1.sha512,this.chainCode,n)),s=i.slice(0,32),o=i.slice(32);let a=null,c=null;this.privateKey?a=Sv(m2.from(s).add(this.privateKey).mod(WPe)):c=new hR(ln(s))._addPoint(this.publicKey);let l=r;const u=this.mnemonic;return u&&(l=Object.freeze({phrase:u.phrase,path:r,locale:u.locale||"en"})),new Tf(sg,a,c,this.fingerprint,Sv(o),e,this.depth+1,l)}derivePath(e){const r=e.split("/");if(r.length===0||r[0]==="m"&&this.depth!==0)throw new Error("invalid path - "+e);r[0]==="m"&&r.shift();let n=this;for(let i=0;i<r.length;i++){const s=r[i];if(s.match(/^[0-9]+'$/)){const o=parseInt(s.substring(0,s.length-1));if(o>=Ag)throw new Error("invalid path index - "+s);n=n._derive(Ag+o)}else if(s.match(/^[0-9]+$/)){const o=parseInt(s);if(o>=Ag)throw new Error("invalid path index - "+s);n=n._derive(o)}else throw new Error("invalid path component - "+s)}return n}static _fromSeed(e,r){const n=Zt(e);if(n.length<16||n.length>64)throw new Error("invalid seed");const i=Zt(ex(o1.sha512,qPe,n));return new Tf(sg,Sv(i.slice(0,32)),null,"0x00000000",Sv(i.slice(32)),0,0,r)}static fromMnemonic(e,r,n){return n=K6(n),e=jK(V6(e,n),n),Tf._fromSeed(HK(e,r),{phrase:e,path:"m",locale:n.locale})}static fromSeed(e){return Tf._fromSeed(e,null)}static fromExtendedKey(e){const r=MK.decode(e);(r.length!==82||gL(r.slice(0,78))!==e)&&c1.throwArgumentError("invalid extended key","extendedKey","[REDACTED]");const n=r[4],i=ln(r.slice(5,9)),s=parseInt(ln(r.slice(9,13)).substring(2),16),o=ln(r.slice(13,45)),a=r.slice(45,78);switch(ln(r.slice(0,4))){case"0x0488b21e":case"0x043587cf":return new Tf(sg,null,ln(a),i,o,s,n,null);case"0x0488ade4":case"0x04358394 ":if(a[0]!==0)break;return new Tf(sg,ln(a.slice(1)),null,i,o,s,n,null)}return c1.throwArgumentError("invalid extended key","extendedKey","[REDACTED]")}}function HK(t,e){e||(e="");const r=ZA("mnemonic"+e,mm.NFKD);return bPe(ZA(t,mm.NFKD),r,2048,64,"sha512")}function V6(t,e){e=K6(e),c1.checkNormalize();const r=e.split(t);if(r.length%3!==0)throw new Error("invalid mnemonic");const n=Zt(new Uint8Array(Math.ceil(11*r.length/8)));let i=0;for(let l=0;l<r.length;l++){let u=e.getWordIndex(r[l].normalize("NFKD"));if(u===-1)throw new Error("invalid mnemonic");for(let f=0;f<11;f++)u&1<<10-f&&(n[i>>3]|=1<<7-i%8),i++}const s=32*r.length/3,o=r.length/3,a=BK(o);if((Zt(a1(n.slice(0,s/8)))[0]&a)!==(n[n.length-1]&a))throw new Error("invalid checksum");return ln(n.slice(0,s/8))}function jK(t,e){if(e=K6(e),t=Zt(t),t.length%4!==0||t.length<16||t.length>32)throw new Error("invalid entropy");const r=[0];let n=11;for(let o=0;o<t.length;o++)n>8?(r[r.length-1]<<=8,r[r.length-1]|=t[o],n-=8):(r[r.length-1]<<=n,r[r.length-1]|=t[o]>>8-n,r.push(t[o]&zPe(8-n)),n+=3);const i=t.length/4,s=Zt(a1(t))[0]&BK(i);return r[r.length-1]<<=i,r[r.length-1]|=s>>8-i,e.join(r.map(o=>e.getWord(o)))}function KPe(t,e){try{return V6(t,e),!0}catch{}return!1}function VPe(t){return(typeof t!="number"||t<0||t>=Ag||t%1)&&c1.throwArgumentError("invalid account index","index",t),`m/44'/60'/${t}'/0/0`}const JPe=Object.freeze(Object.defineProperty({__proto__:null,HDNode:Tf,defaultPath:GPe,entropyToMnemonic:jK,getAccountPath:VPe,isValidMnemonic:KPe,mnemonicToEntropy:V6,mnemonicToSeed:HK},Symbol.toStringTag,{value:"Module"})),WK="json-wallets/5.7.0";function M0(t){return typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),Ce(t)}function Hy(t,e){for(t=String(t);t.length<e;)t="0"+t;return t}function J6(t){return typeof t=="string"?Gn(t,Qf.NFKC):Ce(t)}function ti(t,e){let r=t;const n=e.toLowerCase().split("/");for(let i=0;i<n.length;i++){let s=null;for(const o in r)if(o.toLowerCase()===n[i]){s=r[o];break}if(s===null)return null;r=s}return r}function YPe(t){const e=Ce(t);e[6]=e[6]&15|64,e[8]=e[8]&63|128;const r=Oe(e);return[r.substring(2,10),r.substring(10,14),r.substring(14,18),r.substring(18,22),r.substring(22,34)].join("-")}const XPe=new he(WK);class QPe extends ba{isCrowdsaleAccount(e){return!!(e&&e._isCrowdsaleAccount)}}function Y6(t,e){const r=JSON.parse(t);e=J6(e);const n=Pr(ti(r,"ethaddr")),i=M0(ti(r,"encseed"));(!i||i.length%16!==0)&&XPe.throwArgumentError("invalid encseed","json",t);const s=Ce(W1(e,e,2e3,32,"sha256")).slice(0,16),o=i.slice(0,16),a=i.slice(16),c=new ui.ModeOfOperation.cbc(s,o),l=ui.padding.pkcs7.strip(Ce(c.decrypt(a)));let u="";for(let g=0;g<l.length;g++)u+=String.fromCharCode(l[g]);const f=Gn(u),h=xr(f);return new QPe({_isCrowdsaleAccount:!0,address:n,privateKey:h})}function b2(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return e.encseed&&e.ethaddr}function w2(t){let e=null;try{e=JSON.parse(t)}catch{return!1}return!(!e.version||parseInt(e.version)!==e.version||parseInt(e.version)!==3)}function ZPe(t){if(b2(t))try{return Pr(JSON.parse(t).ethaddr)}catch{return null}if(w2(t))try{return Pr(JSON.parse(t).address)}catch{return null}return null}var e6e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const pR=new he(WK);function mL(t){return t!=null&&t.mnemonic&&t.mnemonic.phrase}class t6e extends ba{isKeystoreAccount(e){return!!(e&&e._isKeystoreAccount)}}function r6e(t,e,r){if(ti(t,"crypto/cipher")==="aes-128-ctr"){const i=M0(ti(t,"crypto/cipherparams/iv")),s=new ui.Counter(i),o=new ui.ModeOfOperation.ctr(e,s);return Ce(o.decrypt(r))}return null}function qK(t,e){const r=M0(ti(t,"crypto/ciphertext"));if(Oe(xr(Cr([e.slice(16,32),r]))).substring(2)!==ti(t,"crypto/mac").toLowerCase())throw new Error("invalid password");const i=r6e(t,e.slice(0,16),r);i||pR.throwError("unsupported cipher",he.errors.UNSUPPORTED_OPERATION,{operation:"decrypt"});const s=e.slice(32,64),o=Wf(i);if(t.address){let c=t.address.toLowerCase();if(c.substring(0,2)!=="0x"&&(c="0x"+c),Pr(c)!==o)throw new Error("address mismatch")}const a={_isKeystoreAccount:!0,address:o,privateKey:Oe(i)};if(ti(t,"x-ethers/version")==="0.1"){const c=M0(ti(t,"x-ethers/mnemonicCiphertext")),l=M0(ti(t,"x-ethers/mnemonicCounter")),u=new ui.Counter(l),f=new ui.ModeOfOperation.ctr(s,u),h=ti(t,"x-ethers/path")||gh,g=ti(t,"x-ethers/locale")||"en",_=Ce(f.decrypt(c));try{const m=c2(_,g),b=gm.fromMnemonic(m,null,g).derivePath(h);if(b.privateKey!=a.privateKey)throw new Error("mnemonic mismatch");a.mnemonic=b.mnemonic}catch(m){if(m.code!==he.errors.INVALID_ARGUMENT||m.argument!=="wordlist")throw m}}return new t6e(a)}function zK(t,e,r,n,i){return Ce(W1(t,e,r,n,i))}function n6e(t,e,r,n,i){return Promise.resolve(zK(t,e,r,n,i))}function GK(t,e,r,n,i){const s=J6(e),o=ti(t,"crypto/kdf");if(o&&typeof o=="string"){const a=function(c,l){return pR.throwArgumentError("invalid key-derivation function parameters",c,l)};if(o.toLowerCase()==="scrypt"){const c=M0(ti(t,"crypto/kdfparams/salt")),l=parseInt(ti(t,"crypto/kdfparams/n")),u=parseInt(ti(t,"crypto/kdfparams/r")),f=parseInt(ti(t,"crypto/kdfparams/p"));(!l||!u||!f)&&a("kdf",o),(l&l-1)!==0&&a("N",l);const h=parseInt(ti(t,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),n(s,c,l,u,f,64,i)}else if(o.toLowerCase()==="pbkdf2"){const c=M0(ti(t,"crypto/kdfparams/salt"));let l=null;const u=ti(t,"crypto/kdfparams/prf");u==="hmac-sha256"?l="sha256":u==="hmac-sha512"?l="sha512":a("prf",u);const f=parseInt(ti(t,"crypto/kdfparams/c")),h=parseInt(ti(t,"crypto/kdfparams/dklen"));return h!==32&&a("dklen",h),r(s,c,f,h,l)}}return pR.throwArgumentError("unsupported key-derivation function","kdf",o)}function KK(t,e){const r=JSON.parse(t),n=GK(r,e,zK,Fm.syncScrypt);return qK(r,n)}function VK(t,e,r){return e6e(this,void 0,void 0,function*(){const n=JSON.parse(t),i=yield GK(n,e,n6e,Fm.scrypt,r);return qK(n,i)})}function i6e(t,e,r,n){try{if(Pr(t.address)!==Wf(t.privateKey))throw new Error("address/privateKey mismatch");if(mL(t)){const b=t.mnemonic;if(gm.fromMnemonic(b.phrase,null,b.locale).derivePath(b.path||gh).privateKey!=t.privateKey)throw new Error("mnemonic mismatch")}}catch(b){return Promise.reject(b)}typeof r=="function"&&!n&&(n=r,r={}),r||(r={});const i=Ce(t.privateKey),s=J6(e);let o=null,a=null,c=null;if(mL(t)){const b=t.mnemonic;o=Ce(S6(b.phrase,b.locale||"en")),a=b.path||gh,c=b.locale||"en"}let l=r.client;l||(l="ethers.js");let u=null;r.salt?u=Ce(r.salt):u=Lf(32);let f=null;if(r.iv){if(f=Ce(r.iv),f.length!==16)throw new Error("invalid iv")}else f=Lf(16);let h=null;if(r.uuid){if(h=Ce(r.uuid),h.length!==16)throw new Error("invalid uuid")}else h=Lf(16);let g=1<<17,_=8,m=1;return r.scrypt&&(r.scrypt.N&&(g=r.scrypt.N),r.scrypt.r&&(_=r.scrypt.r),r.scrypt.p&&(m=r.scrypt.p)),Fm.scrypt(s,u,g,_,m,64,n).then(b=>{b=Ce(b);const A=b.slice(0,16),N=b.slice(16,32),R=b.slice(32,64),k=new ui.Counter(f),M=new ui.ModeOfOperation.ctr(A,k),D=Ce(M.encrypt(i)),H=xr(Cr([N,D])),S={address:t.address.substring(2).toLowerCase(),id:YPe(h),version:3,crypto:{cipher:"aes-128-ctr",cipherparams:{iv:Oe(f).substring(2)},ciphertext:Oe(D).substring(2),kdf:"scrypt",kdfparams:{salt:Oe(u).substring(2),n:g,dklen:32,p:m,r:_},mac:H.substring(2)}};if(o){const C=Lf(16),$=new ui.Counter(C),B=new ui.ModeOfOperation.ctr(R,$),O=Ce(B.encrypt(o)),T=new Date,y=T.getUTCFullYear()+"-"+Hy(T.getUTCMonth()+1,2)+"-"+Hy(T.getUTCDate(),2)+"T"+Hy(T.getUTCHours(),2)+"-"+Hy(T.getUTCMinutes(),2)+"-"+Hy(T.getUTCSeconds(),2)+".0Z";S["x-ethers"]={client:l,gethFilename:"UTC--"+y+"--"+S.address,mnemonicCounter:Oe(C).substring(2),mnemonicCiphertext:Oe(O).substring(2),path:a,locale:c,version:"0.1"}}return JSON.stringify(S)})}function s6e(t,e,r){if(b2(t)){r&&r(0);const n=Y6(t,e);return r&&r(1),Promise.resolve(n)}return w2(t)?VK(t,e,r):Promise.reject(new Error("invalid JSON wallet"))}function o6e(t,e){if(b2(t))return Y6(t,e);if(w2(t))return KK(t,e);throw new Error("invalid JSON wallet")}const a6e=Object.freeze(Object.defineProperty({__proto__:null,decryptCrowdsale:Y6,decryptJsonWallet:s6e,decryptJsonWalletSync:o6e,decryptKeystore:VK,decryptKeystoreSync:KK,encryptKeystore:i6e,getJsonWalletAddress:ZPe,isCrowdsaleWallet:b2,isKeystoreWallet:w2},Symbol.toStringTag,{value:"Module"})),c6e="logger/5.8.0";let yL=!1,_L=!1;const xE={debug:1,default:2,info:2,warning:3,error:4,off:5};let bL=xE.default,fT=null;function l6e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const wL=l6e();var gR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(gR||(gR={}));var il;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(il||(il={}));const vL="0123456789abcdef";let X6=class Ei{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();xE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(bL>xE[n])&&console.log.apply(console,r)}debug(...e){this._log(Ei.levels.DEBUG,e)}info(...e){this._log(Ei.levels.INFO,e)}warn(...e){this._log(Ei.levels.WARNING,e)}makeError(e,r,n){if(_L)return this.makeError("censored error",r,{});r||(r=Ei.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=vL[l[f]>>4],u+=vL[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case il.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case il.CALL_EXCEPTION:case il.INSUFFICIENT_FUNDS:case il.MISSING_NEW:case il.NONCE_EXPIRED:case il.REPLACEMENT_UNDERPRICED:case il.TRANSACTION_REPLACED:case il.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ei.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){wL&&this.throwError("platform missing String.prototype.normalize",Ei.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:wL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ei.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ei.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ei.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ei.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ei.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ei.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ei.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return fT||(fT=new Ei(c6e)),fT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ei.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),yL){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ei.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}_L=!!e,yL=!!r}static setLogLevel(e){const r=xE[e.toLowerCase()];if(r==null){Ei.globalLogger().warn("invalid log level - "+e);return}bL=r}static from(e){return new Ei(e)}};X6.errors=il;X6.levels=gR;const u6e="bytes/5.8.0",dT=new X6(u6e);function f6e(t){return!!t.toHexString}function CE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return CE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function EL(t){return typeof t=="number"&&t==t&&t%1===0}function d6e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!EL(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!EL(r)||r<0||r>=256)return!1}return!0}function h6e(t,e){if(e||(e={}),typeof t=="number"){dT.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),CE(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),f6e(t)&&(t=t.toHexString()),p6e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":dT.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return CE(new Uint8Array(n))}return d6e(t)?CE(new Uint8Array(t)):dT.throwArgumentError("invalid arrayify value","value",t)}function p6e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}function g6e(t){return"0x"+km.keccak_256(h6e(t))}const m6e=Object.freeze(Object.defineProperty({__proto__:null,keccak256:g6e},Symbol.toStringTag,{value:"Module"})),y6e="logger/5.7.0";let AL=!1,xL=!1;const NE={debug:1,default:2,info:2,warning:3,error:4,off:5};let CL=NE.default,hT=null;function _6e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const NL=_6e();var nx;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(nx||(nx={}));var Xa;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(Xa||(Xa={}));const SL="0123456789abcdef";let Q6=class Ai{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();NE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(CL>NE[n])&&console.log.apply(console,r)}debug(...e){this._log(Ai.levels.DEBUG,e)}info(...e){this._log(Ai.levels.INFO,e)}warn(...e){this._log(Ai.levels.WARNING,e)}makeError(e,r,n){if(xL)return this.makeError("censored error",r,{});r||(r=Ai.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=SL[l[f]>>4],u+=SL[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case Xa.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case Xa.CALL_EXCEPTION:case Xa.INSUFFICIENT_FUNDS:case Xa.MISSING_NEW:case Xa.NONCE_EXPIRED:case Xa.REPLACEMENT_UNDERPRICED:case Xa.TRANSACTION_REPLACED:case Xa.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ai.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){NL&&this.throwError("platform missing String.prototype.normalize",Ai.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:NL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ai.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ai.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ai.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ai.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ai.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ai.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ai.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return hT||(hT=new Ai(y6e)),hT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ai.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),AL){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ai.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}xL=!!e,AL=!!r}static setLogLevel(e){const r=NE[e.toLowerCase()];if(r==null){Ai.globalLogger().warn("invalid log level - "+e);return}CL=r}static from(e){return new Ai(e)}};Q6.errors=Xa;Q6.levels=nx;const b6e=Object.freeze(Object.defineProperty({__proto__:null,get ErrorCode(){return Xa},get LogLevel(){return nx},Logger:Q6},Symbol.toStringTag,{value:"Module"})),w6e="logger/5.8.0";let TL=!1,IL=!1;const SE={debug:1,default:2,info:2,warning:3,error:4,off:5};let RL=SE.default,pT=null;function v6e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const PL=v6e();var mR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(mR||(mR={}));var sl;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(sl||(sl={}));const OL="0123456789abcdef";let G1=class xi{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();SE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(RL>SE[n])&&console.log.apply(console,r)}debug(...e){this._log(xi.levels.DEBUG,e)}info(...e){this._log(xi.levels.INFO,e)}warn(...e){this._log(xi.levels.WARNING,e)}makeError(e,r,n){if(IL)return this.makeError("censored error",r,{});r||(r=xi.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=OL[l[f]>>4],u+=OL[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case sl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case sl.CALL_EXCEPTION:case sl.INSUFFICIENT_FUNDS:case sl.MISSING_NEW:case sl.NONCE_EXPIRED:case sl.REPLACEMENT_UNDERPRICED:case sl.TRANSACTION_REPLACED:case sl.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,xi.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){PL&&this.throwError("platform missing String.prototype.normalize",xi.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:PL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,xi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,xi.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,xi.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,xi.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",xi.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",xi.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",xi.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return pT||(pT=new xi(w6e)),pT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",xi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),TL){if(!e)return;this.globalLogger().throwError("error censorship permanent",xi.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}IL=!!e,TL=!!r}static setLogLevel(e){const r=SE[e.toLowerCase()];if(r==null){xi.globalLogger().warn("invalid log level - "+e);return}RL=r}static from(e){return new xi(e)}};G1.errors=sl;G1.levels=mR;const E6e="bytes/5.8.0",gT=new G1(E6e);function A6e(t){return!!t.toHexString}function TE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return TE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function DL(t){return typeof t=="number"&&t==t&&t%1===0}function x6e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!DL(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!DL(r)||r<0||r>=256)return!1}return!0}function l1(t,e){if(e||(e={}),typeof t=="number"){gT.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),TE(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),A6e(t)&&(t=t.toHexString()),C6e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":gT.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return TE(new Uint8Array(n))}return x6e(t)?TE(new Uint8Array(t)):gT.throwArgumentError("invalid arrayify value","value",t)}function C6e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}var ix;(function(t){t.sha256="sha256",t.sha512="sha512"})(ix||(ix={}));const N6e="sha2/5.7.0",S6e=new G1(N6e);function T6e(t){return"0x"+bt.ripemd160().update(l1(t)).digest("hex")}function I6e(t){return"0x"+bt.sha256().update(l1(t)).digest("hex")}function R6e(t){return"0x"+bt.sha512().update(l1(t)).digest("hex")}function P6e(t,e,r){return ix[t]||S6e.throwError("unsupported algorithm "+t,G1.errors.UNSUPPORTED_OPERATION,{operation:"hmac",algorithm:t}),"0x"+bt.hmac(bt[t],l1(e)).update(l1(r)).digest("hex")}const O6e=Object.freeze(Object.defineProperty({__proto__:null,get SupportedAlgorithm(){return ix},computeHmac:P6e,ripemd160:T6e,sha256:I6e,sha512:R6e},Symbol.toStringTag,{value:"Module"})),D6e="solidity/5.7.0",k6e=new RegExp("^bytes([0-9]+)$"),M6e=new RegExp("^(u?int)([0-9]*)$"),U6e=new RegExp("^(.*)\\[([0-9]*)\\]$"),L6e="0000000000000000000000000000000000000000000000000000000000000000",xg=new he(D6e);function JK(t,e,r){switch(t){case"address":return r?rE(e,32):Ce(e);case"string":return Gn(e);case"bytes":return Ce(e);case"bool":return e=e?"0x01":"0x00",r?rE(e,32):Ce(e)}let n=t.match(M6e);if(n){let i=parseInt(n[2]||"256");return(n[2]&&String(i)!==n[2]||i%8!==0||i===0||i>256)&&xg.throwArgumentError("invalid number type","type",t),r&&(i=256),e=Fe.from(e).toTwos(i),rE(e,i/8)}if(n=t.match(k6e),n){const i=parseInt(n[1]);return(String(i)!==n[1]||i===0||i>32)&&xg.throwArgumentError("invalid bytes type","type",t),Ce(e).byteLength!==i&&xg.throwArgumentError(`invalid value for ${t}`,"value",e),r?Ce((e+L6e).substring(0,66)):e}if(n=t.match(U6e),n&&Array.isArray(e)){const i=n[1];parseInt(n[2]||String(e.length))!=e.length&&xg.throwArgumentError(`invalid array length for ${t}`,"value",e);const o=[];return e.forEach(function(a){o.push(JK(i,a,!0))}),Cr(o)}return xg.throwArgumentError("invalid type","type",t)}function Z6(t,e){t.length!=e.length&&xg.throwArgumentError("wrong number of values; expected ${ types.length }","values",e);const r=[];return t.forEach(function(n,i){r.push(JK(n,e[i]))}),Oe(Cr(r))}function $6e(t,e){return xr(Z6(t,e))}function F6e(t,e){return ph(Z6(t,e))}const B6e=Object.freeze(Object.defineProperty({__proto__:null,keccak256:$6e,pack:Z6,sha256:F6e},Symbol.toStringTag,{value:"Module"})),H6e="logger/5.8.0";let kL=!1,ML=!1;const IE={debug:1,default:2,info:2,warning:3,error:4,off:5};let UL=IE.default,mT=null;function j6e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const LL=j6e();var yR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(yR||(yR={}));var ol;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ol||(ol={}));const $L="0123456789abcdef";let K1=class Ci{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();IE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(UL>IE[n])&&console.log.apply(console,r)}debug(...e){this._log(Ci.levels.DEBUG,e)}info(...e){this._log(Ci.levels.INFO,e)}warn(...e){this._log(Ci.levels.WARNING,e)}makeError(e,r,n){if(ML)return this.makeError("censored error",r,{});r||(r=Ci.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=$L[l[f]>>4],u+=$L[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ol.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ol.CALL_EXCEPTION:case ol.INSUFFICIENT_FUNDS:case ol.MISSING_NEW:case ol.NONCE_EXPIRED:case ol.REPLACEMENT_UNDERPRICED:case ol.TRANSACTION_REPLACED:case ol.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ci.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){LL&&this.throwError("platform missing String.prototype.normalize",Ci.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:LL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ci.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ci.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ci.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ci.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ci.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ci.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ci.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return mT||(mT=new Ci(H6e)),mT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ci.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),kL){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ci.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}ML=!!e,kL=!!r}static setLogLevel(e){const r=IE[e.toLowerCase()];if(r==null){Ci.globalLogger().warn("invalid log level - "+e);return}UL=r}static from(e){return new Ci(e)}};K1.errors=ol;K1.levels=yR;const W6e="bytes/5.8.0",yT=new K1(W6e);function q6e(t){return!!t.toHexString}function RE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return RE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function FL(t){return typeof t=="number"&&t==t&&t%1===0}function z6e(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!FL(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!FL(r)||r<0||r>=256)return!1}return!0}function G6e(t,e){if(e||(e={}),typeof t=="number"){yT.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),RE(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),q6e(t)&&(t=t.toHexString()),K6e(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":yT.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return RE(new Uint8Array(n))}return z6e(t)?RE(new Uint8Array(t)):yT.throwArgumentError("invalid arrayify value","value",t)}function K6e(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const V6e="random/5.7.0",_R=new K1(V6e);function J6e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")}const BL=J6e();let PE=BL.crypto||BL.msCrypto;(!PE||!PE.getRandomValues)&&(_R.warn("WARNING: Missing strong random number source"),PE={getRandomValues:function(t){return _R.throwError("no secure random source avaialble",K1.errors.UNSUPPORTED_OPERATION,{operation:"crypto.getRandomValues"})}});function Y6e(t){(t<=0||t>1024||t%1||t!=t)&&_R.throwArgumentError("invalid length","length",t);const e=new Uint8Array(t);return PE.getRandomValues(e),G6e(e)}function X6e(t){t=t.slice();for(let e=t.length-1;e>0;e--){const r=Math.floor(Math.random()*(e+1)),n=t[e];t[e]=t[r],t[r]=n}return t}const Q6e=Object.freeze(Object.defineProperty({__proto__:null,randomBytes:Y6e,shuffled:X6e},Symbol.toStringTag,{value:"Module"})),Z6e="logger/5.8.0";let HL=!1,jL=!1;const OE={debug:1,default:2,info:2,warning:3,error:4,off:5};let WL=OE.default,_T=null;function e5e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const qL=e5e();var bR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(bR||(bR={}));var al;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(al||(al={}));const zL="0123456789abcdef";let e5=class Ni{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();OE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(WL>OE[n])&&console.log.apply(console,r)}debug(...e){this._log(Ni.levels.DEBUG,e)}info(...e){this._log(Ni.levels.INFO,e)}warn(...e){this._log(Ni.levels.WARNING,e)}makeError(e,r,n){if(jL)return this.makeError("censored error",r,{});r||(r=Ni.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=zL[l[f]>>4],u+=zL[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case al.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case al.CALL_EXCEPTION:case al.INSUFFICIENT_FUNDS:case al.MISSING_NEW:case al.NONCE_EXPIRED:case al.REPLACEMENT_UNDERPRICED:case al.TRANSACTION_REPLACED:case al.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ni.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){qL&&this.throwError("platform missing String.prototype.normalize",Ni.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:qL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ni.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ni.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ni.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ni.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ni.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ni.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ni.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return _T||(_T=new Ni(Z6e)),_T}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ni.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),HL){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ni.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}jL=!!e,HL=!!r}static setLogLevel(e){const r=OE[e.toLowerCase()];if(r==null){Ni.globalLogger().warn("invalid log level - "+e);return}WL=r}static from(e){return new Ni(e)}};e5.errors=al;e5.levels=bR;const t5e="properties/5.7.0";var r5e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const sx=new e5(t5e);function YK(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function n5e(t,e){for(let r=0;r<32;r++){if(t[e])return t[e];if(!t.prototype||typeof t.prototype!="object")break;t=Object.getPrototypeOf(t.prototype).constructor}return null}function i5e(t){return r5e(this,void 0,void 0,function*(){const e=Object.keys(t).map(n=>{const i=t[n];return Promise.resolve(i).then(s=>({key:n,value:s}))});return(yield Promise.all(e)).reduce((n,i)=>(n[i.key]=i.value,n),{})})}function s5e(t,e){(!t||typeof t!="object")&&sx.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||sx.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function o5e(t){const e={};for(const r in t)e[r]=t[r];return e}const a5e={bigint:!0,boolean:!0,function:!0,number:!0,string:!0};function XK(t){if(t==null||a5e[typeof t])return!0;if(Array.isArray(t)||typeof t=="object"){if(!Object.isFrozen(t))return!1;const e=Object.keys(t);for(let r=0;r<e.length;r++){let n=null;try{n=t[e[r]]}catch{continue}if(!XK(n))return!1}return!0}return sx.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function c5e(t){if(XK(t))return t;if(Array.isArray(t))return Object.freeze(t.map(e=>ox(e)));if(typeof t=="object"){const e={};for(const r in t){const n=t[r];n!==void 0&&YK(e,r,ox(n))}return e}return sx.throwArgumentError(`Cannot deepCopy ${typeof t}`,"object",t)}function ox(t){return c5e(t)}class l5e{constructor(e){for(const r in e)this[r]=ox(e[r])}}const u5e=Object.freeze(Object.defineProperty({__proto__:null,Description:l5e,checkProperties:s5e,deepCopy:ox,defineReadOnly:YK,getStatic:n5e,resolveProperties:i5e,shallowCopy:o5e},Symbol.toStringTag,{value:"Module"})),f5e="logger/5.8.0";let GL=!1,KL=!1;const DE={debug:1,default:2,info:2,warning:3,error:4,off:5};let VL=DE.default,bT=null;function d5e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const JL=d5e();var wR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(wR||(wR={}));var cl;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(cl||(cl={}));const YL="0123456789abcdef";let Za=class Si{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();DE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(VL>DE[n])&&console.log.apply(console,r)}debug(...e){this._log(Si.levels.DEBUG,e)}info(...e){this._log(Si.levels.INFO,e)}warn(...e){this._log(Si.levels.WARNING,e)}makeError(e,r,n){if(KL)return this.makeError("censored error",r,{});r||(r=Si.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=YL[l[f]>>4],u+=YL[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case cl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case cl.CALL_EXCEPTION:case cl.INSUFFICIENT_FUNDS:case cl.MISSING_NEW:case cl.NONCE_EXPIRED:case cl.REPLACEMENT_UNDERPRICED:case cl.TRANSACTION_REPLACED:case cl.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Si.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){JL&&this.throwError("platform missing String.prototype.normalize",Si.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:JL})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Si.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Si.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Si.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Si.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Si.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Si.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Si.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return bT||(bT=new Si(f5e)),bT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Si.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),GL){if(!e)return;this.globalLogger().throwError("error censorship permanent",Si.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}KL=!!e,GL=!!r}static setLogLevel(e){const r=DE[e.toLowerCase()];if(r==null){Si.globalLogger().warn("invalid log level - "+e);return}VL=r}static from(e){return new Si(e)}};Za.errors=cl;Za.levels=wR;const h5e="bytes/5.8.0",Yg=new Za(h5e);function QK(t){return!!t.toHexString}function kE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return kE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function p5e(t){return r5(t)&&!(t.length%2)||t5(t)}function XL(t){return typeof t=="number"&&t==t&&t%1===0}function t5(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!XL(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!XL(r)||r<0||r>=256)return!1}return!0}function ZK(t,e){if(e||(e={}),typeof t=="number"){Yg.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),kE(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),QK(t)&&(t=t.toHexString()),r5(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Yg.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return kE(new Uint8Array(n))}return t5(t)?kE(new Uint8Array(t)):Yg.throwArgumentError("invalid arrayify value","value",t)}function r5(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const wT="0123456789abcdef";function ME(t,e){if(e||(e={}),typeof t=="number"){Yg.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=wT[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),QK(t))return t.toHexString();if(r5(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Yg.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(t5(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=wT[(i&240)>>4]+wT[i&15]}return r}return Yg.throwArgumentError("invalid hexlify value","value",t)}const g5e="rlp/5.7.0",lu=new Za(g5e);function QL(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function ZL(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function eV(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(eV(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=QL(n.length);return i.unshift(247+i.length),i.concat(n)}p5e(t)||lu.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(ZK(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=QL(e.length);return r.unshift(183+r.length),r.concat(e)}function m5e(t){return ME(eV(t))}function e$(t,e,r,n){const i=[];for(;r<e+1+n;){const s=tV(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&lu.throwError("child data too short",Za.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function tV(t,e){if(t.length===0&&lu.throwError("data too short",Za.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&lu.throwError("data short segment too short",Za.errors.BUFFER_OVERRUN,{});const n=ZL(t,e+1,r);return e+1+r+n>t.length&&lu.throwError("data long segment too short",Za.errors.BUFFER_OVERRUN,{}),e$(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&lu.throwError("data array too short",Za.errors.BUFFER_OVERRUN,{}),e$(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&lu.throwError("data array too short",Za.errors.BUFFER_OVERRUN,{});const n=ZL(t,e+1,r);e+1+r+n>t.length&&lu.throwError("data array too short",Za.errors.BUFFER_OVERRUN,{});const i=ME(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&lu.throwError("data too short",Za.errors.BUFFER_OVERRUN,{});const n=ME(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:ME(t[e])}}function y5e(t){const e=ZK(t),r=tV(e,0);return r.consumed!==e.length&&lu.throwArgumentError("invalid rlp data","data",t),r.result}const _5e=Object.freeze(Object.defineProperty({__proto__:null,decode:y5e,encode:m5e},Symbol.toStringTag,{value:"Module"}));function jm(t,e,r){return r={path:e,exports:{},require:function(n,i){return b5e(n,i??r.path)}},t(r,r.exports),r.exports}function b5e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var n5=rV;function rV(t,e){if(!t)throw new Error(e||"Assertion failed")}rV.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var xl=jm(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,h=u&255;f?c.push(f,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Ea=jm(function(t,e){var r=e;r.assert=n5,r.toArray=xl.toArray,r.zero2=xl.zero2,r.toHex=xl.toHex,r.encode=xl.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1);f.fill(0);for(var h=1<<l+1,g=c.clone(),_=0;_<f.length;_++){var m,b=g.andln(h-1);g.isOdd()?(b>(h>>1)-1?m=(h>>1)-b:m=b,g.isubn(m)):m=0,f[_]=m,g.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,h=0,g;c.cmpn(-f)>0||l.cmpn(-h)>0;){var _=c.andln(3)+f&3,m=l.andln(3)+h&3;_===3&&(_=-1),m===3&&(m=-1);var b;(_&1)===0?b=0:(g=c.andln(7)+f&7,(g===3||g===5)&&m===2?b=-_:b=_),u[0].push(b);var A;(m&1)===0?A=0:(g=l.andln(7)+h&7,(g===3||g===5)&&_===2?A=-m:A=m),u[1].push(A),2*f===b+1&&(f=1-f),2*h===A+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new fe(c,"hex","le")}r.intFromLE=a}),ax=Ea.getNAF,w5e=Ea.getJSF,cx=Ea.assert;function Ih(t,e){this.type=t,this.p=new fe(e.p,16),this.red=e.prime?fe.red(e.prime):fe.mont(this.p),this.zero=new fe(0).toRed(this.red),this.one=new fe(1).toRed(this.red),this.two=new fe(2).toRed(this.red),this.n=e.n&&new fe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var fp=Ih;Ih.prototype.point=function(){throw new Error("Not implemented")};Ih.prototype.validate=function(){throw new Error("Not implemented")};Ih.prototype._fixedNafMul=function(e,r){cx(e.precomputed);var n=e._getDoubles(),i=ax(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?f=f.mixedAdd(n.points[a]):c===-h&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};Ih.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=ax(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];cx(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Ih.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(e);o[u]=g.wnd,a[u]=g.points}for(u=i-1;u>=1;u-=2){var _=u-1,m=u;if(o[_]!==1||o[m]!==1){c[_]=ax(n[_],o[_],this._bitLength),c[m]=ax(n[m],o[m],this._bitLength),l=Math.max(c[_].length,l),l=Math.max(c[m].length,l);continue}var b=[r[_],null,null,r[m]];r[_].y.cmp(r[m].y)===0?(b[1]=r[_].add(r[m]),b[2]=r[_].toJ().mixedAdd(r[m].neg())):r[_].y.cmp(r[m].y.redNeg())===0?(b[1]=r[_].toJ().mixedAdd(r[m]),b[2]=r[_].add(r[m].neg())):(b[1]=r[_].toJ().mixedAdd(r[m]),b[2]=r[_].toJ().mixedAdd(r[m].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],N=w5e(n[_],n[m]);for(l=Math.max(N[0].length,l),c[_]=new Array(l),c[m]=new Array(l),f=0;f<l;f++){var R=N[0][f]|0,k=N[1][f]|0;c[_][f]=A[(R+1)*3+(k+1)],c[m][f]=0,a[_]=b}}var M=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var H=0;u>=0;){var S=!0;for(f=0;f<i;f++)D[f]=c[f][u]|0,D[f]!==0&&(S=!1);if(!S)break;H++,u--}if(u>=0&&H++,M=M.dblp(H),u<0)break;for(f=0;f<i;f++){var C=D[f];C!==0&&(C>0?h=a[f][C-1>>1]:C<0&&(h=a[f][-C-1>>1].neg()),h.type==="affine"?M=M.mixedAdd(h):M=M.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?M:M.toP()};function Ec(t,e){this.curve=t,this.type=e,this.precomputed=null}Ih.BasePoint=Ec;Ec.prototype.eq=function(){throw new Error("Not implemented")};Ec.prototype.validate=function(){return this.curve.validate(this)};Ih.prototype.decodePoint=function(e,r){e=Ea.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?cx(e[e.length-1]%2===0):e[0]===7&&cx(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};Ec.prototype.encodeCompressed=function(e){return this.encode(e,!0)};Ec.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};Ec.prototype.encode=function(e,r){return Ea.encode(this._encode(r),e)};Ec.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};Ec.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};Ec.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};Ec.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};Ec.prototype._getBeta=function(){return null};Ec.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var i5=jm(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),v5e=Ea.assert;function Ac(t){fp.call(this,"short",t),this.a=new fe(t.a,16).toRed(this.red),this.b=new fe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}i5(Ac,fp);var E5e=Ac;Ac.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new fe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new fe(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],v5e(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new fe(a.a,16),b:new fe(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Ac.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:fe.mont(e),n=new fe(2).toRed(r).redInvm(),i=n.redNeg(),s=new fe(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Ac.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new fe(1),o=new fe(0),a=new fe(0),c=new fe(1),l,u,f,h,g,_,m,b=0,A,N;n.cmpn(0)!==0;){var R=i.div(n);A=i.sub(R.mul(n)),N=a.sub(R.mul(s));var k=c.sub(R.mul(o));if(!f&&A.cmp(r)<0)l=m.neg(),u=s,f=A.neg(),h=N;else if(f&&++b===2)break;m=A,i=n,n=A,a=s,s=N,c=o,o=k}g=A.neg(),_=N;var M=f.sqr().add(h.sqr()),D=g.sqr().add(_.sqr());return D.cmp(M)>=0&&(g=l,_=u),f.negative&&(f=f.neg(),h=h.neg()),g.negative&&(g=g.neg(),_=_.neg()),[{a:f,b:h},{a:g,b:_}]};Ac.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};Ac.prototype.pointFromX=function(e,r){e=new fe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Ac.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Ac.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Xi(t,e,r,n){fp.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new fe(e,16),this.y=new fe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}i5(Xi,fp.BasePoint);Ac.prototype.point=function(e,r,n){return new Xi(this,e,r,n)};Ac.prototype.pointFromJSON=function(e,r){return Xi.fromJSON(this,e,r)};Xi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Xi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Xi.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Xi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Xi.prototype.isInfinity=function(){return this.inf};Xi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Xi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Xi.prototype.getX=function(){return this.x.fromRed()};Xi.prototype.getY=function(){return this.y.fromRed()};Xi.prototype.mul=function(e){return e=new fe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Xi.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Xi.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Xi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Xi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Xi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function _s(t,e,r,n){fp.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fe(0)):(this.x=new fe(e,16),this.y=new fe(r,16),this.z=new fe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}i5(_s,fp.BasePoint);Ac.prototype.jpoint=function(e,r,n){return new _s(this,e,r,n)};_s.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};_s.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};_s.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=i.redMul(u),g=l.redSqr().redIAdd(f).redISub(h).redISub(h),_=l.redMul(h.redISub(g)).redISub(o.redMul(f)),m=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,_,m)};_s.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),g=c.redMul(f.redISub(h)).redISub(s.redMul(u)),_=this.z.redMul(a);return this.curve.jpoint(h,g,_)};_s.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),h=u.redSqr(),g=h.redSqr(),_=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),m=o.redMul(h),b=_.redSqr().redISub(m.redAdd(m)),A=m.redISub(b),N=_.redMul(A);N=N.redIAdd(N).redISub(g);var R=u.redMul(c);r+1<e&&(l=l.redMul(g)),o=b,c=R,u=N}return this.curve.jpoint(o,u.redMul(s),c)};_s.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};_s.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),_=this.x.redAdd(h).redSqr().redISub(f).redISub(g);_=_.redIAdd(_);var m=f.redAdd(f).redIAdd(f),b=m.redSqr(),A=g.redIAdd(g);A=A.redIAdd(A),A=A.redIAdd(A),e=b.redISub(_).redISub(_),r=m.redMul(_.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};_s.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),_=this.x.redSub(f).redMul(this.x.redAdd(f));_=_.redAdd(_).redIAdd(_);var m=g.redIAdd(g);m=m.redIAdd(m);var b=m.redAdd(m);e=_.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var A=h.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),r=_.redMul(m.redISub(e)).redISub(A)}return this.curve.jpoint(e,r,n)};_s.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=c.redMul(h).redISub(g),m=n.redAdd(n).redMul(i);return this.curve.jpoint(f,_,m)};_s.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,_)};_s.prototype.mul=function(e,r){return e=new fe(e,r),this.curve._wnafMul(this,e)};_s.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};_s.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};_s.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};_s.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var UE=jm(function(t,e){var r=e;r.base=fp,r.short=E5e,r.mont=null,r.edwards=null}),LE=jm(function(t,e){var r=e,n=Ea.assert;function i(a){a.type==="short"?this.curve=new UE.short(a):a.type==="edwards"?this.curve=new UE.edwards(a):this.curve=new UE.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:bt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:bt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:bt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:bt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:bt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bt.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:bt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function wh(t){if(!(this instanceof wh))return new wh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=xl.toArray(t.entropy,t.entropyEnc||"hex"),r=xl.toArray(t.nonce,t.nonceEnc||"hex"),n=xl.toArray(t.pers,t.persEnc||"hex");n5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var nV=wh;wh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};wh.prototype._hmac=function(){return new bt.hmac(this.hash,this.K)};wh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};wh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=xl.toArray(e,r),n=xl.toArray(n,i),n5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};wh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=xl.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,xl.encode(o,r)};var vR=Ea.assert;function Fs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var s5=Fs;Fs.fromPublic=function(e,r,n){return r instanceof Fs?r:new Fs(e,{pub:r,pubEnc:n})};Fs.fromPrivate=function(e,r,n){return r instanceof Fs?r:new Fs(e,{priv:r,privEnc:n})};Fs.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Fs.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Fs.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Fs.prototype._importPrivate=function(e,r){this.priv=new fe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Fs.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?vR(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&vR(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Fs.prototype.derive=function(e){return e.validate()||vR(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Fs.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Fs.prototype.verify=function(e,r){return this.ec.verify(e,r,this)};Fs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var A5e=Ea.assert;function v2(t,e){if(t instanceof v2)return t;this._importDER(t,e)||(A5e(t.r&&t.s,"Signature without r or s"),this.r=new fe(t.r,16),this.s=new fe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var E2=v2;function x5e(){this.place=0}function vT(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function t$(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}v2.prototype._importDER=function(e,r){e=Ea.toArray(e,r);var n=new x5e;if(e[n.place++]!==48)return!1;var i=vT(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=vT(e,n);if(s===!1)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=vT(e,n);if(a===!1||e.length!==a+n.place)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new fe(o),this.s=new fe(c),this.recoveryParam=null,!0};function ET(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}v2.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=t$(r),n=t$(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];ET(i,r.length),i=i.concat(r),i.push(2),ET(i,n.length);var s=i.concat(n),o=[48];return ET(o,s.length),o=o.concat(s),Ea.encode(o,e)};var C5e=(function(){throw new Error("unsupported")}),iV=Ea.assert;function hc(t){if(!(this instanceof hc))return new hc(t);typeof t=="string"&&(iV(Object.prototype.hasOwnProperty.call(LE,t),"Unknown curve "+t),t=LE[t]),t instanceof LE.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var N5e=hc;hc.prototype.keyPair=function(e){return new s5(this,e)};hc.prototype.keyFromPrivate=function(e,r){return s5.fromPrivate(this,e,r)};hc.prototype.keyFromPublic=function(e,r){return s5.fromPublic(this,e,r)};hc.prototype.genKeyPair=function(e){e||(e={});for(var r=new nV({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||C5e(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new fe(2));;){var s=new fe(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};hc.prototype._truncateToN=function(e,r){var n=e.byteLength()*8-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};hc.prototype.sign=function(e,r,n,i){typeof n=="object"&&(i=n,n=null),i||(i={}),r=this.keyFromPrivate(r,n),e=this._truncateToN(new fe(e,16));for(var s=this.n.byteLength(),o=r.getPrivate().toArray("be",s),a=e.toArray("be",s),c=new nV({hash:this.hash,entropy:o,nonce:a,pers:i.pers,persEnc:i.persEnc||"utf8"}),l=this.n.sub(new fe(1)),u=0;;u++){var f=i.k?i.k(u):new fe(c.generate(this.n.byteLength()));if(f=this._truncateToN(f,!0),!(f.cmpn(1)<=0||f.cmp(l)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var g=h.getX(),_=g.umod(this.n);if(_.cmpn(0)!==0){var m=f.invm(this.n).mul(_.mul(r.getPrivate()).iadd(e));if(m=m.umod(this.n),m.cmpn(0)!==0){var b=(h.getY().isOdd()?1:0)|(g.cmp(_)!==0?2:0);return i.canonical&&m.cmp(this.nh)>0&&(m=this.n.sub(m),b^=1),new E2({r:_,s:m,recoveryParam:b})}}}}}};hc.prototype.verify=function(e,r,n,i){e=this._truncateToN(new fe(e,16)),n=this.keyFromPublic(n,i),r=new E2(r,"hex");var s=r.r,o=r.s;if(s.cmpn(1)<0||s.cmp(this.n)>=0||o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;var a=o.invm(this.n),c=a.mul(e).umod(this.n),l=a.mul(s).umod(this.n),u;return this.curve._maxwellTrick?(u=this.g.jmulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.eqXToP(s)):(u=this.g.mulAdd(c,n.getPublic(),l),u.isInfinity()?!1:u.getX().umod(this.n).cmp(s)===0)};hc.prototype.recoverPubKey=function(t,e,r,n){iV((3&r)===r,"The recovery param is more than two bits"),e=new E2(e,n);var i=this.n,s=new fe(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(f,o,h)};hc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new E2(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var S5e=jm(function(t,e){var r=e;r.version="6.5.4",r.utils=Ea,r.rand=(function(){throw new Error("unsupported")}),r.curve=UE,r.curves=LE,r.ec=N5e,r.eddsa=null}),T5e=S5e.ec;const I5e="logger/5.8.0";let r$=!1,n$=!1;const $E={debug:1,default:2,info:2,warning:3,error:4,off:5};let i$=$E.default,AT=null;function R5e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const s$=R5e();var ER;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(ER||(ER={}));var ll;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ll||(ll={}));const o$="0123456789abcdef";let A2=class Ti{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();$E[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(i$>$E[n])&&console.log.apply(console,r)}debug(...e){this._log(Ti.levels.DEBUG,e)}info(...e){this._log(Ti.levels.INFO,e)}warn(...e){this._log(Ti.levels.WARNING,e)}makeError(e,r,n){if(n$)return this.makeError("censored error",r,{});r||(r=Ti.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=o$[l[f]>>4],u+=o$[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ll.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ll.CALL_EXCEPTION:case ll.INSUFFICIENT_FUNDS:case ll.MISSING_NEW:case ll.NONCE_EXPIRED:case ll.REPLACEMENT_UNDERPRICED:case ll.TRANSACTION_REPLACED:case ll.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ti.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){s$&&this.throwError("platform missing String.prototype.normalize",Ti.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:s$})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ti.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ti.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ti.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ti.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ti.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ti.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ti.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return AT||(AT=new Ti(I5e)),AT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ti.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),r$){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ti.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}n$=!!e,r$=!!r}static setLogLevel(e){const r=$E[e.toLowerCase()];if(r==null){Ti.globalLogger().warn("invalid log level - "+e);return}i$=r}static from(e){return new Ti(e)}};A2.errors=ll;A2.levels=ER;const P5e="bytes/5.8.0",oi=new A2(P5e);function sV(t){return!!t.toHexString}function $_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return $_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function O5e(t){return ih(t)&&!(t.length%2)||o5(t)}function a$(t){return typeof t=="number"&&t==t&&t%1===0}function o5(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!a$(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!a$(r)||r<0||r>=256)return!1}return!0}function Zs(t,e){if(e||(e={}),typeof t=="number"){oi.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),$_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),sV(t)&&(t=t.toHexString()),ih(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":oi.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return $_(new Uint8Array(n))}return o5(t)?$_(new Uint8Array(t)):oi.throwArgumentError("invalid arrayify value","value",t)}function D5e(t,e){t=Zs(t),t.length>e&&oi.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),$_(r)}function ih(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const xT="0123456789abcdef";function ra(t,e){if(e||(e={}),typeof t=="number"){oi.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=xT[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),sV(t))return t.toHexString();if(ih(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":oi.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(o5(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=xT[(i&240)>>4]+xT[i&15]}return r}return oi.throwArgumentError("invalid hexlify value","value",t)}function k5e(t){if(typeof t!="string")t=ra(t);else if(!ih(t)||t.length%2)return null;return(t.length-2)/2}function Xg(t,e){for(typeof t!="string"?t=ra(t):ih(t)||oi.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&oi.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function oV(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(O5e(t)){let r=Zs(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=ra(r.slice(0,32)),e.s=ra(r.slice(32,64))):r.length===65?(e.r=ra(r.slice(0,32)),e.s=ra(r.slice(32,64)),e.v=r[64]):oi.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:oi.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=ra(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=D5e(Zs(e._vs),32);e._vs=ra(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&oi.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=ra(i);e.s==null?e.s=o:e.s!==o&&oi.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?oi.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&oi.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!ih(e.r)?oi.throwArgumentError("signature missing or invalid r","signature",t):e.r=Xg(e.r,32),e.s==null||!ih(e.s)?oi.throwArgumentError("signature missing or invalid s","signature",t):e.s=Xg(e.s,32);const r=Zs(e.s);r[0]>=128&&oi.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=ra(r);e._vs&&(ih(e._vs)||oi.throwArgumentError("signature invalid _vs","signature",t),e._vs=Xg(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&oi.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}function jy(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}const M5e="signing-key/5.7.0",AR=new A2(M5e);let CT=null;function hu(){return CT||(CT=new T5e("secp256k1")),CT}let aV=class{constructor(e){jy(this,"curve","secp256k1"),jy(this,"privateKey",ra(e)),k5e(this.privateKey)!==32&&AR.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=hu().keyFromPrivate(Zs(this.privateKey));jy(this,"publicKey","0x"+r.getPublic(!1,"hex")),jy(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),jy(this,"_isSigningKey",!0)}_addPoint(e){const r=hu().keyFromPublic(Zs(this.publicKey)),n=hu().keyFromPublic(Zs(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=hu().keyFromPrivate(Zs(this.privateKey)),n=Zs(e);n.length!==32&&AR.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return oV({recoveryParam:i.recoveryParam,r:Xg("0x"+i.r.toString(16),32),s:Xg("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=hu().keyFromPrivate(Zs(this.privateKey)),n=hu().keyFromPublic(Zs(cV(e)));return Xg("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}};function U5e(t,e){const r=oV(e),n={r:Zs(r.r),s:Zs(r.s)};return"0x"+hu().recoverPubKey(Zs(t),n,r.recoveryParam).encode("hex",!1)}function cV(t,e){const r=Zs(t);if(r.length===32){const n=new aV(r);return e?"0x"+hu().keyFromPrivate(r).getPublic(!0,"hex"):n.publicKey}else{if(r.length===33)return e?ra(r):"0x"+hu().keyFromPublic(r).getPublic(!1,"hex");if(r.length===65)return e?"0x"+hu().keyFromPublic(r).getPublic(!0,"hex"):ra(r)}return AR.throwArgumentError("invalid public or private key","key","[REDACTED]")}const L5e=Object.freeze(Object.defineProperty({__proto__:null,SigningKey:aV,computePublicKey:cV,recoverPublicKey:U5e},Symbol.toStringTag,{value:"Module"})),$5e="logger/5.8.0";let c$=!1,l$=!1;const FE={debug:1,default:2,info:2,warning:3,error:4,off:5};let u$=FE.default,NT=null;function F5e(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const f$=F5e();var xR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(xR||(xR={}));var ul;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(ul||(ul={}));const d$="0123456789abcdef";let x2=class Ii{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();FE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(u$>FE[n])&&console.log.apply(console,r)}debug(...e){this._log(Ii.levels.DEBUG,e)}info(...e){this._log(Ii.levels.INFO,e)}warn(...e){this._log(Ii.levels.WARNING,e)}makeError(e,r,n){if(l$)return this.makeError("censored error",r,{});r||(r=Ii.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=d$[l[f]>>4],u+=d$[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case ul.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case ul.CALL_EXCEPTION:case ul.INSUFFICIENT_FUNDS:case ul.MISSING_NEW:case ul.NONCE_EXPIRED:case ul.REPLACEMENT_UNDERPRICED:case ul.TRANSACTION_REPLACED:case ul.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ii.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){f$&&this.throwError("platform missing String.prototype.normalize",Ii.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:f$})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ii.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ii.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ii.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ii.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ii.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ii.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ii.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return NT||(NT=new Ii($5e)),NT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ii.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),c$){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ii.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}l$=!!e,c$=!!r}static setLogLevel(e){const r=FE[e.toLowerCase()];if(r==null){Ii.globalLogger().warn("invalid log level - "+e);return}u$=r}static from(e){return new Ii(e)}};x2.errors=ul;x2.levels=xR;const B5e="bytes/5.8.0",Qg=new x2(B5e);function lV(t){return!!t.toHexString}function F_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return F_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function h$(t){return typeof t=="number"&&t==t&&t%1===0}function uV(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!h$(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!h$(r)||r<0||r>=256)return!1}return!0}function C2(t,e){if(e||(e={}),typeof t=="number"){Qg.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),F_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),lV(t)&&(t=t.toHexString()),fV(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Qg.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return F_(new Uint8Array(n))}return uV(t)?F_(new Uint8Array(t)):Qg.throwArgumentError("invalid arrayify value","value",t)}function H5e(t){const e=t.map(i=>C2(i)),r=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(r);return e.reduce((i,s)=>(n.set(s,i),i+s.length),0),F_(n)}function fV(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const ST="0123456789abcdef";function j5e(t,e){if(e||(e={}),typeof t=="number"){Qg.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=ST[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),lV(t))return t.toHexString();if(fV(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Qg.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(uV(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=ST[(i&240)>>4]+ST[i&15]}return r}return Qg.throwArgumentError("invalid hexlify value","value",t)}const W5e="0x0000000000000000000000000000000000000000000000000000000000000000",q5e="strings/5.7.0",dV=new x2(q5e);var Q0;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(Q0||(Q0={}));var ko;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(ko||(ko={}));function z5e(t,e,r,n,i){return dV.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function hV(t,e,r,n,i){if(t===ko.BAD_PREFIX||t===ko.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===ko.OVERRUN?r.length-e-1:0}function G5e(t,e,r,n,i){return t===ko.OVERLONG?(n.push(i),0):(n.push(65533),hV(t,e,r))}const pV=Object.freeze({error:z5e,ignore:hV,replace:G5e});function a5(t,e){e==null&&(e=pV.error),t=C2(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(ko.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(ko.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(ko.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(ko.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(ko.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(ko.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(ko.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function N2(t,e=Q0.current){e!=Q0.current&&(dV.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return C2(r)}function TT(t){const e="0000"+t.toString(16);return"\\u"+e.substring(e.length-4)}function K5e(t,e){return'"'+a5(t,e).map(r=>{if(r<256){switch(r){case 8:return"\\b";case 9:return"\\t";case 10:return"\\n";case 13:return"\\r";case 34:return'\\"';case 92:return"\\\\"}if(r>=32&&r<127)return String.fromCharCode(r)}return r<=65535?TT(r):(r-=65536,TT((r>>10&1023)+55296)+TT((r&1023)+56320))}).join("")+'"'}function CR(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function gV(t,e){return CR(a5(t,e))}function NR(t,e=Q0.current){return a5(N2(t,e))}function V5e(t){const e=N2(t);if(e.length>31)throw new Error("bytes32 string must be less than 32 bytes");return j5e(H5e([e,W5e]).slice(0,32))}function J5e(t){const e=C2(t);if(e.length!==32)throw new Error("invalid bytes32 - not 32 bytes long");if(e[31]!==0)throw new Error("invalid bytes32 string - no null terminator");let r=31;for(;e[r-1]===0;)r--;return gV(e.slice(0,r))}function Y5e(t){if(t.length%4!==0)throw new Error("bad data");let e=[];for(let r=0;r<t.length;r+=4)e.push(parseInt(t.substring(r,r+4),16));return e}function c5(t,e){e||(e=function(i){return[parseInt(i,16)]});let r=0,n={};return t.split(",").forEach(i=>{let s=i.split(":");r+=parseInt(s[0],16),n[r]=e(s[1])}),n}function mV(t){let e=0;return t.split(",").map(r=>{let n=r.split("-");n.length===1?n[1]="0":n[1]===""&&(n[1]="1");let i=e+parseInt(n[0],16);return e=parseInt(n[1],16),{l:i,h:e}})}function l5(t,e){let r=0;for(let n=0;n<e.length;n++){let i=e[n];if(r+=i.l,t>=r&&t<=r+i.h&&(t-r)%(i.d||1)===0){if(i.e&&i.e.indexOf(t-r)!==-1)continue;return i}}return null}const X5e=mV("221,13-1b,5f-,40-10,51-f,11-3,3-3,2-2,2-4,8,2,15,2d,28-8,88,48,27-,3-5,11-20,27-,8,28,3-5,12,18,b-a,1c-4,6-16,2-d,2-2,2,1b-4,17-9,8f-,10,f,1f-2,1c-34,33-14e,4,36-,13-,6-2,1a-f,4,9-,3-,17,8,2-2,5-,2,8-,3-,4-8,2-3,3,6-,16-6,2-,7-3,3-,17,8,3,3,3-,2,6-3,3-,4-a,5,2-6,10-b,4,8,2,4,17,8,3,6-,b,4,4-,2-e,2-4,b-10,4,9-,3-,17,8,3-,5-,9-2,3-,4-7,3-3,3,4-3,c-10,3,7-2,4,5-2,3,2,3-2,3-2,4-2,9,4-3,6-2,4,5-8,2-e,d-d,4,9,4,18,b,6-3,8,4,5-6,3-8,3-3,b-11,3,9,4,18,b,6-3,8,4,5-6,3-6,2,3-3,b-11,3,9,4,18,11-3,7-,4,5-8,2-7,3-3,b-11,3,13-2,19,a,2-,8-2,2-3,7,2,9-11,4-b,3b-3,1e-24,3,2-,3,2-,2-5,5,8,4,2,2-,3,e,4-,6,2,7-,b-,3-21,49,23-5,1c-3,9,25,10-,2-2f,23,6,3,8-2,5-5,1b-45,27-9,2a-,2-3,5b-4,45-4,53-5,8,40,2,5-,8,2,5-,28,2,5-,20,2,5-,8,2,5-,8,8,18,20,2,5-,8,28,14-5,1d-22,56-b,277-8,1e-2,52-e,e,8-a,18-8,15-b,e,4,3-b,5e-2,b-15,10,b-5,59-7,2b-555,9d-3,5b-5,17-,7-,27-,7-,9,2,2,2,20-,36,10,f-,7,14-,4,a,54-3,2-6,6-5,9-,1c-10,13-1d,1c-14,3c-,10-6,32-b,240-30,28-18,c-14,a0,115-,3,66-,b-76,5,5-,1d,24,2,5-2,2,8-,35-2,19,f-10,1d-3,311-37f,1b,5a-b,d7-19,d-3,41,57-,68-4,29-3,5f,29-37,2e-2,25-c,2c-2,4e-3,30,78-3,64-,20,19b7-49,51a7-59,48e-2,38-738,2ba5-5b,222f-,3c-94,8-b,6-4,1b,6,2,3,3,6d-20,16e-f,41-,37-7,2e-2,11-f,5-b,18-,b,14,5-3,6,88-,2,bf-2,7-,7-,7-,4-2,8,8-9,8-2ff,20,5-b,1c-b4,27-,27-cbb1,f7-9,28-2,b5-221,56,48,3-,2-,3-,5,d,2,5,3,42,5-,9,8,1d,5,6,2-2,8,153-3,123-3,33-27fd,a6da-5128,21f-5df,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3-fffd,3,2-1d,61-ff7d"),Q5e="ad,34f,1806,180b,180c,180d,200b,200c,200d,2060,feff".split(",").map(t=>parseInt(t,16)),Z5e=[{h:25,s:32,l:65},{h:30,s:32,e:[23],l:127},{h:54,s:1,e:[48],l:64,d:2},{h:14,s:1,l:57,d:2},{h:44,s:1,l:17,d:2},{h:10,s:1,e:[2,6,8],l:61,d:2},{h:16,s:1,l:68,d:2},{h:84,s:1,e:[18,24,66],l:19,d:2},{h:26,s:32,e:[17],l:435},{h:22,s:1,l:71,d:2},{h:15,s:80,l:40},{h:31,s:32,l:16},{h:32,s:1,l:80,d:2},{h:52,s:1,l:42,d:2},{h:12,s:1,l:55,d:2},{h:40,s:1,e:[38],l:15,d:2},{h:14,s:1,l:48,d:2},{h:37,s:48,l:49},{h:148,s:1,l:6351,d:2},{h:88,s:1,l:160,d:2},{h:15,s:16,l:704},{h:25,s:26,l:854},{h:25,s:32,l:55915},{h:37,s:40,l:1247},{h:25,s:-119711,l:53248},{h:25,s:-119763,l:52},{h:25,s:-119815,l:52},{h:25,s:-119867,e:[1,4,5,7,8,11,12,17],l:52},{h:25,s:-119919,l:52},{h:24,s:-119971,e:[2,7,8,17],l:52},{h:24,s:-120023,e:[2,7,13,15,16,17],l:52},{h:25,s:-120075,l:52},{h:25,s:-120127,l:52},{h:25,s:-120179,l:52},{h:25,s:-120231,l:52},{h:25,s:-120283,l:52},{h:25,s:-120335,l:52},{h:24,s:-119543,e:[17],l:56},{h:24,s:-119601,e:[17],l:58},{h:24,s:-119659,e:[17],l:58},{h:24,s:-119717,e:[17],l:58},{h:24,s:-119775,e:[17],l:58}],eOe=c5("b5:3bc,c3:ff,7:73,2:253,5:254,3:256,1:257,5:259,1:25b,3:260,1:263,2:269,1:268,5:26f,1:272,2:275,7:280,3:283,5:288,3:28a,1:28b,5:292,3f:195,1:1bf,29:19e,125:3b9,8b:3b2,1:3b8,1:3c5,3:3c6,1:3c0,1a:3ba,1:3c1,1:3c3,2:3b8,1:3b5,1bc9:3b9,1c:1f76,1:1f77,f:1f7a,1:1f7b,d:1f78,1:1f79,1:1f7c,1:1f7d,107:63,5:25b,4:68,1:68,1:68,3:69,1:69,1:6c,3:6e,4:70,1:71,1:72,1:72,1:72,7:7a,2:3c9,2:7a,2:6b,1:e5,1:62,1:63,3:65,1:66,2:6d,b:3b3,1:3c0,6:64,1b574:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3,20:3b8,1a:3c3"),tOe=c5("179:1,2:1,2:1,5:1,2:1,a:4f,a:1,8:1,2:1,2:1,3:1,5:1,3:1,4:1,2:1,3:1,4:1,8:2,1:1,2:2,1:1,2:2,27:2,195:26,2:25,1:25,1:25,2:40,2:3f,1:3f,33:1,11:-6,1:-9,1ac7:-3a,6d:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,b:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,c:-8,2:-8,2:-8,2:-8,9:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,1:-8,49:-8,1:-8,1:-4a,1:-4a,d:-56,1:-56,1:-56,1:-56,d:-8,1:-8,f:-8,1:-8,3:-7"),rOe=c5("df:00730073,51:00690307,19:02BC006E,a7:006A030C,18a:002003B9,16:03B903080301,20:03C503080301,1d7:05650582,190f:00680331,1:00740308,1:0077030A,1:0079030A,1:006102BE,b6:03C50313,2:03C503130300,2:03C503130301,2:03C503130342,2a:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F0003B9,1:1F0103B9,1:1F0203B9,1:1F0303B9,1:1F0403B9,1:1F0503B9,1:1F0603B9,1:1F0703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F2003B9,1:1F2103B9,1:1F2203B9,1:1F2303B9,1:1F2403B9,1:1F2503B9,1:1F2603B9,1:1F2703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,1:1F6003B9,1:1F6103B9,1:1F6203B9,1:1F6303B9,1:1F6403B9,1:1F6503B9,1:1F6603B9,1:1F6703B9,3:1F7003B9,1:03B103B9,1:03AC03B9,2:03B10342,1:03B1034203B9,5:03B103B9,6:1F7403B9,1:03B703B9,1:03AE03B9,2:03B70342,1:03B7034203B9,5:03B703B9,6:03B903080300,1:03B903080301,3:03B90342,1:03B903080342,b:03C503080300,1:03C503080301,1:03C10313,2:03C50342,1:03C503080342,b:1F7C03B9,1:03C903B9,1:03CE03B9,2:03C90342,1:03C9034203B9,5:03C903B9,ac:00720073,5b:00B00063,6:00B00066,d:006E006F,a:0073006D,1:00740065006C,1:0074006D,124f:006800700061,2:00610075,2:006F0076,b:00700061,1:006E0061,1:03BC0061,1:006D0061,1:006B0061,1:006B0062,1:006D0062,1:00670062,3:00700066,1:006E0066,1:03BC0066,4:0068007A,1:006B0068007A,1:006D0068007A,1:00670068007A,1:00740068007A,15:00700061,1:006B00700061,1:006D00700061,1:006700700061,8:00700076,1:006E0076,1:03BC0076,1:006D0076,1:006B0076,1:006D0076,1:00700077,1:006E0077,1:03BC0077,1:006D0077,1:006B0077,1:006D0077,1:006B03C9,1:006D03C9,2:00620071,3:00632215006B0067,1:0063006F002E,1:00640062,1:00670079,2:00680070,2:006B006B,1:006B006D,9:00700068,2:00700070006D,1:00700072,2:00730076,1:00770062,c723:00660066,1:00660069,1:0066006C,1:006600660069,1:00660066006C,1:00730074,1:00730074,d:05740576,1:05740565,1:0574056B,1:057E0576,1:0574056D",Y5e),nOe=mV("80-20,2a0-,39c,32,f71,18e,7f2-f,19-7,30-4,7-5,f81-b,5,a800-20ff,4d1-1f,110,fa-6,d174-7,2e84-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,ffff-,2,1f-5f,ff7f-20001");function iOe(t){return t.reduce((e,r)=>(r.forEach(n=>{e.push(n)}),e),[])}function sOe(t){return!!l5(t,X5e)}function oOe(t){let e=l5(t,Z5e);if(e)return[t+e.s];let r=eOe[t];if(r)return r;let n=tOe[t];if(n)return[t+n[0]];let i=rOe[t];return i||null}function aOe(t){return!!l5(t,nOe)}function cOe(t){if(t.match(/^[a-z0-9-]*$/i)&&t.length<=59)return t.toLowerCase();let e=NR(t);e=iOe(e.map(n=>{if(Q5e.indexOf(n)>=0)return[];if(n>=65024&&n<=65039)return[];let i=oOe(n);return i||[n]})),e=NR(CR(e),Q0.NFKC),e.forEach(n=>{if(aOe(n))throw new Error("STRINGPREP_CONTAINS_PROHIBITED")}),e.forEach(n=>{if(sOe(n))throw new Error("STRINGPREP_CONTAINS_UNASSIGNED")});let r=CR(e);if(r.substring(0,1)==="-"||r.substring(2,4)==="--"||r.substring(r.length-1)==="-")throw new Error("invalid hyphen");return r}const lOe=Object.freeze(Object.defineProperty({__proto__:null,get UnicodeNormalizationForm(){return Q0},Utf8ErrorFuncs:pV,get Utf8ErrorReason(){return ko},_toEscapedUtf8String:K5e,formatBytes32String:V5e,nameprep:cOe,parseBytes32String:J5e,toUtf8Bytes:N2,toUtf8CodePoints:NR,toUtf8String:gV},Symbol.toStringTag,{value:"Module"})),uOe="logger/5.8.0";let p$=!1,g$=!1;const BE={debug:1,default:2,info:2,warning:3,error:4,off:5};let m$=BE.default,IT=null;function fOe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const y$=fOe();var SR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(SR||(SR={}));var fl;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(fl||(fl={}));const _$="0123456789abcdef";let Sn=class Ri{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();BE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(m$>BE[n])&&console.log.apply(console,r)}debug(...e){this._log(Ri.levels.DEBUG,e)}info(...e){this._log(Ri.levels.INFO,e)}warn(...e){this._log(Ri.levels.WARNING,e)}makeError(e,r,n){if(g$)return this.makeError("censored error",r,{});r||(r=Ri.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=_$[l[f]>>4],u+=_$[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case fl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case fl.CALL_EXCEPTION:case fl.INSUFFICIENT_FUNDS:case fl.MISSING_NEW:case fl.NONCE_EXPIRED:case fl.REPLACEMENT_UNDERPRICED:case fl.TRANSACTION_REPLACED:case fl.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,Ri.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){y$&&this.throwError("platform missing String.prototype.normalize",Ri.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:y$})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,Ri.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,Ri.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,Ri.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,Ri.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",Ri.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",Ri.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",Ri.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return IT||(IT=new Ri(uOe)),IT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",Ri.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),p$){if(!e)return;this.globalLogger().throwError("error censorship permanent",Ri.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}g$=!!e,p$=!!r}static setLogLevel(e){const r=BE[e.toLowerCase()];if(r==null){Ri.globalLogger().warn("invalid log level - "+e);return}m$=r}static from(e){return new Ri(e)}};Sn.errors=fl;Sn.levels=SR;const dOe="bytes/5.8.0",Xn=new Sn(dOe);function yV(t){return!!t.toHexString}function B_(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return B_(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function u5(t){return oc(t)&&!(t.length%2)||S2(t)}function b$(t){return typeof t=="number"&&t==t&&t%1===0}function S2(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!b$(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!b$(r)||r<0||r>=256)return!1}return!0}function En(t,e){if(e||(e={}),typeof t=="number"){Xn.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),B_(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),yV(t)&&(t=t.toHexString()),oc(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Xn.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return B_(new Uint8Array(n))}return S2(t)?B_(new Uint8Array(t)):Xn.throwArgumentError("invalid arrayify value","value",t)}function sh(t){let e=En(t);if(e.length===0)return e;let r=0;for(;r<e.length&&e[r]===0;)r++;return r&&(e=e.slice(r)),e}function hOe(t,e){t=En(t),t.length>e&&Xn.throwArgumentError("value out of range","value",arguments[0]);const r=new Uint8Array(e);return r.set(t,e-t.length),B_(r)}function oc(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/)||e&&t.length!==2+2*e)}const RT="0123456789abcdef";function qr(t,e){if(e||(e={}),typeof t=="number"){Xn.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=RT[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),yV(t))return t.toHexString();if(oc(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Xn.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(S2(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=RT[(i&240)>>4]+RT[i&15]}return r}return Xn.throwArgumentError("invalid hexlify value","value",t)}function _V(t){if(typeof t!="string")t=qr(t);else if(!oc(t)||t.length%2)return null;return(t.length-2)/2}function w$(t,e,r){return typeof t!="string"?t=qr(t):(!oc(t)||t.length%2)&&Xn.throwArgumentError("invalid hexData","value",t),e=2+2*e,"0x"+t.substring(e)}function bV(t){let e="0x";return t.forEach(r=>{e+=qr(r).substring(2)}),e}function Nu(t,e){for(typeof t!="string"?t=qr(t):oc(t)||Xn.throwArgumentError("invalid hex string","value",t),t.length>2*e+2&&Xn.throwArgumentError("value out of range","value",arguments[1]);t.length<2*e+2;)t="0x0"+t.substring(2);return t}function V1(t){const e={r:"0x",s:"0x",_vs:"0x",recoveryParam:0,v:0,yParityAndS:"0x",compact:"0x"};if(u5(t)){let r=En(t);r.length===64?(e.v=27+(r[32]>>7),r[32]&=127,e.r=qr(r.slice(0,32)),e.s=qr(r.slice(32,64))):r.length===65?(e.r=qr(r.slice(0,32)),e.s=qr(r.slice(32,64)),e.v=r[64]):Xn.throwArgumentError("invalid signature string","signature",t),e.v<27&&(e.v===0||e.v===1?e.v+=27:Xn.throwArgumentError("signature invalid v byte","signature",t)),e.recoveryParam=1-e.v%2,e.recoveryParam&&(r[32]|=128),e._vs=qr(r.slice(32,64))}else{if(e.r=t.r,e.s=t.s,e.v=t.v,e.recoveryParam=t.recoveryParam,e._vs=t._vs,e._vs!=null){const i=hOe(En(e._vs),32);e._vs=qr(i);const s=i[0]>=128?1:0;e.recoveryParam==null?e.recoveryParam=s:e.recoveryParam!==s&&Xn.throwArgumentError("signature recoveryParam mismatch _vs","signature",t),i[0]&=127;const o=qr(i);e.s==null?e.s=o:e.s!==o&&Xn.throwArgumentError("signature v mismatch _vs","signature",t)}if(e.recoveryParam==null)e.v==null?Xn.throwArgumentError("signature missing v and recoveryParam","signature",t):e.v===0||e.v===1?e.recoveryParam=e.v:e.recoveryParam=1-e.v%2;else if(e.v==null)e.v=27+e.recoveryParam;else{const i=e.v===0||e.v===1?e.v:1-e.v%2;e.recoveryParam!==i&&Xn.throwArgumentError("signature recoveryParam mismatch v","signature",t)}e.r==null||!oc(e.r)?Xn.throwArgumentError("signature missing or invalid r","signature",t):e.r=Nu(e.r,32),e.s==null||!oc(e.s)?Xn.throwArgumentError("signature missing or invalid s","signature",t):e.s=Nu(e.s,32);const r=En(e.s);r[0]>=128&&Xn.throwArgumentError("signature s out of range","signature",t),e.recoveryParam&&(r[0]|=128);const n=qr(r);e._vs&&(oc(e._vs)||Xn.throwArgumentError("signature invalid _vs","signature",t),e._vs=Nu(e._vs,32)),e._vs==null?e._vs=n:e._vs!==n&&Xn.throwArgumentError("signature _vs mismatch v and s","signature",t)}return e.yParityAndS=e._vs,e.compact=e.r+e.yParityAndS.substring(2),e}const pOe="bignumber/5.8.0";var lx=fe.BN;const If=new Sn(pOe),PT={},v$=9007199254740991;let E$=!1,Su=class Gc{constructor(e,r){e!==PT&&If.throwError("cannot call constructor directly; use BigNumber.from",Sn.errors.UNSUPPORTED_OPERATION,{operation:"new (BigNumber)"}),this._hex=r,this._isBigNumber=!0,Object.freeze(this)}fromTwos(e){return xo(Qt(this).fromTwos(e))}toTwos(e){return xo(Qt(this).toTwos(e))}abs(){return this._hex[0]==="-"?Gc.from(this._hex.substring(1)):this}add(e){return xo(Qt(this).add(Qt(e)))}sub(e){return xo(Qt(this).sub(Qt(e)))}div(e){return Gc.from(e).isZero()&&Ha("division-by-zero","div"),xo(Qt(this).div(Qt(e)))}mul(e){return xo(Qt(this).mul(Qt(e)))}mod(e){const r=Qt(e);return r.isNeg()&&Ha("division-by-zero","mod"),xo(Qt(this).umod(r))}pow(e){const r=Qt(e);return r.isNeg()&&Ha("negative-power","pow"),xo(Qt(this).pow(r))}and(e){const r=Qt(e);return(this.isNegative()||r.isNeg())&&Ha("unbound-bitwise-result","and"),xo(Qt(this).and(r))}or(e){const r=Qt(e);return(this.isNegative()||r.isNeg())&&Ha("unbound-bitwise-result","or"),xo(Qt(this).or(r))}xor(e){const r=Qt(e);return(this.isNegative()||r.isNeg())&&Ha("unbound-bitwise-result","xor"),xo(Qt(this).xor(r))}mask(e){return(this.isNegative()||e<0)&&Ha("negative-width","mask"),xo(Qt(this).maskn(e))}shl(e){return(this.isNegative()||e<0)&&Ha("negative-width","shl"),xo(Qt(this).shln(e))}shr(e){return(this.isNegative()||e<0)&&Ha("negative-width","shr"),xo(Qt(this).shrn(e))}eq(e){return Qt(this).eq(Qt(e))}lt(e){return Qt(this).lt(Qt(e))}lte(e){return Qt(this).lte(Qt(e))}gt(e){return Qt(this).gt(Qt(e))}gte(e){return Qt(this).gte(Qt(e))}isNegative(){return this._hex[0]==="-"}isZero(){return Qt(this).isZero()}toNumber(){try{return Qt(this).toNumber()}catch{Ha("overflow","toNumber",this.toString())}return null}toBigInt(){try{return BigInt(this.toString())}catch{}return If.throwError("this platform does not support BigInt",Sn.errors.UNSUPPORTED_OPERATION,{value:this.toString()})}toString(){return arguments.length>0&&(arguments[0]===10?E$||(E$=!0,If.warn("BigNumber.toString does not accept any parameters; base-10 is assumed")):arguments[0]===16?If.throwError("BigNumber.toString does not accept any parameters; use bigNumber.toHexString()",Sn.errors.UNEXPECTED_ARGUMENT,{}):If.throwError("BigNumber.toString does not accept parameters",Sn.errors.UNEXPECTED_ARGUMENT,{})),Qt(this).toString(10)}toHexString(){return this._hex}toJSON(e){return{type:"BigNumber",hex:this.toHexString()}}static from(e){if(e instanceof Gc)return e;if(typeof e=="string")return e.match(/^-?0x[0-9a-f]+$/i)?new Gc(PT,u1(e)):e.match(/^-?[0-9]+$/)?new Gc(PT,u1(new lx(e))):If.throwArgumentError("invalid BigNumber string","value",e);if(typeof e=="number")return e%1&&Ha("underflow","BigNumber.from",e),(e>=v$||e<=-v$)&&Ha("overflow","BigNumber.from",e),Gc.from(String(e));const r=e;if(typeof r=="bigint")return Gc.from(r.toString());if(S2(r))return Gc.from(qr(r));if(r)if(r.toHexString){const n=r.toHexString();if(typeof n=="string")return Gc.from(n)}else{let n=r._hex;if(n==null&&r.type==="BigNumber"&&(n=r.hex),typeof n=="string"&&(oc(n)||n[0]==="-"&&oc(n.substring(1))))return Gc.from(n)}return If.throwArgumentError("invalid BigNumber value","value",e)}static isBigNumber(e){return!!(e&&e._isBigNumber)}};function u1(t){if(typeof t!="string")return u1(t.toString(16));if(t[0]==="-")return t=t.substring(1),t[0]==="-"&&If.throwArgumentError("invalid hex","value",t),t=u1(t),t==="0x00"?t:"-"+t;if(t.substring(0,2)!=="0x"&&(t="0x"+t),t==="0x")return"0x00";for(t.length%2&&(t="0x0"+t.substring(2));t.length>4&&t.substring(0,4)==="0x00";)t="0x"+t.substring(4);return t}function xo(t){return Su.from(u1(t))}function Qt(t){const e=Su.from(t).toHexString();return e[0]==="-"?new lx("-"+e.substring(3),16):new lx(e.substring(2),16)}function Ha(t,e,r){const n={fault:t,operation:e};return r!=null&&(n.value=r),If.throwError(t,Sn.errors.NUMERIC_FAULT,n)}function gOe(t){return new lx(t,36).toString(16)}function Z0(t){return"0x"+km.keccak_256(En(t))}const mOe="rlp/5.8.0",uu=new Sn(mOe);function A$(t){const e=[];for(;t;)e.unshift(t&255),t>>=8;return e}function x$(t,e,r){let n=0;for(let i=0;i<r;i++)n=n*256+t[e+i];return n}function wV(t){if(Array.isArray(t)){let n=[];if(t.forEach(function(s){n=n.concat(wV(s))}),n.length<=55)return n.unshift(192+n.length),n;const i=A$(n.length);return i.unshift(247+i.length),i.concat(n)}u5(t)||uu.throwArgumentError("RLP object must be BytesLike","object",t);const e=Array.prototype.slice.call(En(t));if(e.length===1&&e[0]<=127)return e;if(e.length<=55)return e.unshift(128+e.length),e;const r=A$(e.length);return r.unshift(183+r.length),r.concat(e)}function f1(t){return qr(wV(t))}function C$(t,e,r,n){const i=[];for(;r<e+1+n;){const s=vV(t,r);i.push(s.result),r+=s.consumed,r>e+1+n&&uu.throwError("child data too short",Sn.errors.BUFFER_OVERRUN,{})}return{consumed:1+n,result:i}}function vV(t,e){if(t.length===0&&uu.throwError("data too short",Sn.errors.BUFFER_OVERRUN,{}),t[e]>=248){const r=t[e]-247;e+1+r>t.length&&uu.throwError("data short segment too short",Sn.errors.BUFFER_OVERRUN,{});const n=x$(t,e+1,r);return e+1+r+n>t.length&&uu.throwError("data long segment too short",Sn.errors.BUFFER_OVERRUN,{}),C$(t,e,e+1+r,r+n)}else if(t[e]>=192){const r=t[e]-192;return e+1+r>t.length&&uu.throwError("data array too short",Sn.errors.BUFFER_OVERRUN,{}),C$(t,e,e+1,r)}else if(t[e]>=184){const r=t[e]-183;e+1+r>t.length&&uu.throwError("data array too short",Sn.errors.BUFFER_OVERRUN,{});const n=x$(t,e+1,r);e+1+r+n>t.length&&uu.throwError("data array too short",Sn.errors.BUFFER_OVERRUN,{});const i=qr(t.slice(e+1+r,e+1+r+n));return{consumed:1+r+n,result:i}}else if(t[e]>=128){const r=t[e]-128;e+1+r>t.length&&uu.throwError("data too short",Sn.errors.BUFFER_OVERRUN,{});const n=qr(t.slice(e+1,e+1+r));return{consumed:1+r,result:n}}return{consumed:1,result:qr(t[e])}}function f5(t){const e=En(t),r=vV(e,0);return r.consumed!==e.length&&uu.throwArgumentError("invalid rlp data","data",t),r.result}const yOe="address/5.8.0",a_=new Sn(yOe);function N$(t){oc(t,20)||a_.throwArgumentError("invalid address","address",t),t=t.toLowerCase();const e=t.substring(2).split(""),r=new Uint8Array(40);for(let i=0;i<40;i++)r[i]=e[i].charCodeAt(0);const n=En(Z0(r));for(let i=0;i<40;i+=2)n[i>>1]>>4>=8&&(e[i]=e[i].toUpperCase()),(n[i>>1]&15)>=8&&(e[i+1]=e[i+1].toUpperCase());return"0x"+e.join("")}const _Oe=9007199254740991;function bOe(t){return Math.log10?Math.log10(t):Math.log(t)/Math.LN10}const d5={};for(let t=0;t<10;t++)d5[String(t)]=String(t);for(let t=0;t<26;t++)d5[String.fromCharCode(65+t)]=String(10+t);const S$=Math.floor(bOe(_Oe));function wOe(t){t=t.toUpperCase(),t=t.substring(4)+t.substring(0,2)+"00";let e=t.split("").map(n=>d5[n]).join("");for(;e.length>=S$;){let n=e.substring(0,S$);e=parseInt(n,10)%97+e.substring(n.length)}let r=String(98-parseInt(e,10)%97);for(;r.length<2;)r="0"+r;return r}function J1(t){let e=null;if(typeof t!="string"&&a_.throwArgumentError("invalid address","address",t),t.match(/^(0x)?[0-9a-fA-F]{40}$/))t.substring(0,2)!=="0x"&&(t="0x"+t),e=N$(t),t.match(/([A-F].*[a-f])|([a-f].*[A-F])/)&&e!==t&&a_.throwArgumentError("bad address checksum","address",t);else if(t.match(/^XE[0-9]{2}[0-9A-Za-z]{30,31}$/)){for(t.substring(2,4)!==wOe(t)&&a_.throwArgumentError("bad icap checksum","address",t),e=gOe(t.substring(4));e.length<40;)e="0"+e;e=N$("0x"+e)}else a_.throwArgumentError("invalid address","address",t);return e}const vOe=Su.from(0),EOe="properties/5.8.0",T$=new Sn(EOe);function Wy(t,e,r){Object.defineProperty(t,e,{enumerable:!0,value:r,writable:!1})}function AOe(t,e){(!t||typeof t!="object")&&T$.throwArgumentError("invalid object","object",t),Object.keys(t).forEach(r=>{e[r]||T$.throwArgumentError("invalid object key - "+r,"transaction:"+r,t)})}function Wm(t,e,r){return r={path:e,exports:{},require:function(n,i){return xOe(n,i??r.path)}},t(r,r.exports),r.exports}function xOe(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var h5=EV;function EV(t,e){if(!t)throw new Error(e||"Assertion failed")}EV.equal=function(e,r,n){if(e!=r)throw new Error(n||"Assertion failed: "+e+" != "+r)};var Cl=Wm(function(t,e){var r=e;function n(o,a){if(Array.isArray(o))return o.slice();if(!o)return[];var c=[];if(typeof o!="string"){for(var l=0;l<o.length;l++)c[l]=o[l]|0;return c}if(a==="hex"){o=o.replace(/[^a-z0-9]+/ig,""),o.length%2!==0&&(o="0"+o);for(var l=0;l<o.length;l+=2)c.push(parseInt(o[l]+o[l+1],16))}else for(var l=0;l<o.length;l++){var u=o.charCodeAt(l),f=u>>8,h=u&255;f?c.push(f,h):c.push(h)}return c}r.toArray=n;function i(o){return o.length===1?"0"+o:o}r.zero2=i;function s(o){for(var a="",c=0;c<o.length;c++)a+=i(o[c].toString(16));return a}r.toHex=s,r.encode=function(a,c){return c==="hex"?s(a):a}}),Aa=Wm(function(t,e){var r=e;r.assert=h5,r.toArray=Cl.toArray,r.zero2=Cl.zero2,r.toHex=Cl.toHex,r.encode=Cl.encode;function n(c,l,u){var f=new Array(Math.max(c.bitLength(),u)+1),h;for(h=0;h<f.length;h+=1)f[h]=0;var g=1<<l+1,_=c.clone();for(h=0;h<f.length;h++){var m,b=_.andln(g-1);_.isOdd()?(b>(g>>1)-1?m=(g>>1)-b:m=b,_.isubn(m)):m=0,f[h]=m,_.iushrn(1)}return f}r.getNAF=n;function i(c,l){var u=[[],[]];c=c.clone(),l=l.clone();for(var f=0,h=0,g;c.cmpn(-f)>0||l.cmpn(-h)>0;){var _=c.andln(3)+f&3,m=l.andln(3)+h&3;_===3&&(_=-1),m===3&&(m=-1);var b;(_&1)===0?b=0:(g=c.andln(7)+f&7,(g===3||g===5)&&m===2?b=-_:b=_),u[0].push(b);var A;(m&1)===0?A=0:(g=l.andln(7)+h&7,(g===3||g===5)&&_===2?A=-m:A=m),u[1].push(A),2*f===b+1&&(f=1-f),2*h===A+1&&(h=1-h),c.iushrn(1),l.iushrn(1)}return u}r.getJSF=i;function s(c,l,u){var f="_"+l;c.prototype[l]=function(){return this[f]!==void 0?this[f]:this[f]=u.call(this)}}r.cachedProperty=s;function o(c){return typeof c=="string"?r.toArray(c,"hex"):c}r.parseBytes=o;function a(c){return new fe(c,"hex","le")}r.intFromLE=a}),ux=Aa.getNAF,COe=Aa.getJSF,fx=Aa.assert;function Rh(t,e){this.type=t,this.p=new fe(e.p,16),this.red=e.prime?fe.red(e.prime):fe.mont(this.p),this.zero=new fe(0).toRed(this.red),this.one=new fe(1).toRed(this.red),this.two=new fe(2).toRed(this.red),this.n=e.n&&new fe(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4),this._bitLength=this.n?this.n.bitLength():0;var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var dp=Rh;Rh.prototype.point=function(){throw new Error("Not implemented")};Rh.prototype.validate=function(){throw new Error("Not implemented")};Rh.prototype._fixedNafMul=function(e,r){fx(e.precomputed);var n=e._getDoubles(),i=ux(r,1,this._bitLength),s=(1<<n.step+1)-(n.step%2===0?2:1);s/=3;var o=[],a,c;for(a=0;a<i.length;a+=n.step){c=0;for(var l=a+n.step-1;l>=a;l--)c=(c<<1)+i[l];o.push(c)}for(var u=this.jpoint(null,null,null),f=this.jpoint(null,null,null),h=s;h>0;h--){for(a=0;a<o.length;a++)c=o[a],c===h?f=f.mixedAdd(n.points[a]):c===-h&&(f=f.mixedAdd(n.points[a].neg()));u=u.add(f)}return u.toP()};Rh.prototype._wnafMul=function(e,r){var n=4,i=e._getNAFPoints(n);n=i.wnd;for(var s=i.points,o=ux(r,n,this._bitLength),a=this.jpoint(null,null,null),c=o.length-1;c>=0;c--){for(var l=0;c>=0&&o[c]===0;c--)l++;if(c>=0&&l++,a=a.dblp(l),c<0)break;var u=o[c];fx(u!==0),e.type==="affine"?u>0?a=a.mixedAdd(s[u-1>>1]):a=a.mixedAdd(s[-u-1>>1].neg()):u>0?a=a.add(s[u-1>>1]):a=a.add(s[-u-1>>1].neg())}return e.type==="affine"?a.toP():a};Rh.prototype._wnafMulAdd=function(e,r,n,i,s){var o=this._wnafT1,a=this._wnafT2,c=this._wnafT3,l=0,u,f,h;for(u=0;u<i;u++){h=r[u];var g=h._getNAFPoints(e);o[u]=g.wnd,a[u]=g.points}for(u=i-1;u>=1;u-=2){var _=u-1,m=u;if(o[_]!==1||o[m]!==1){c[_]=ux(n[_],o[_],this._bitLength),c[m]=ux(n[m],o[m],this._bitLength),l=Math.max(c[_].length,l),l=Math.max(c[m].length,l);continue}var b=[r[_],null,null,r[m]];r[_].y.cmp(r[m].y)===0?(b[1]=r[_].add(r[m]),b[2]=r[_].toJ().mixedAdd(r[m].neg())):r[_].y.cmp(r[m].y.redNeg())===0?(b[1]=r[_].toJ().mixedAdd(r[m]),b[2]=r[_].add(r[m].neg())):(b[1]=r[_].toJ().mixedAdd(r[m]),b[2]=r[_].toJ().mixedAdd(r[m].neg()));var A=[-3,-1,-5,-7,0,7,5,1,3],N=COe(n[_],n[m]);for(l=Math.max(N[0].length,l),c[_]=new Array(l),c[m]=new Array(l),f=0;f<l;f++){var R=N[0][f]|0,k=N[1][f]|0;c[_][f]=A[(R+1)*3+(k+1)],c[m][f]=0,a[_]=b}}var M=this.jpoint(null,null,null),D=this._wnafT4;for(u=l;u>=0;u--){for(var H=0;u>=0;){var S=!0;for(f=0;f<i;f++)D[f]=c[f][u]|0,D[f]!==0&&(S=!1);if(!S)break;H++,u--}if(u>=0&&H++,M=M.dblp(H),u<0)break;for(f=0;f<i;f++){var C=D[f];C!==0&&(C>0?h=a[f][C-1>>1]:C<0&&(h=a[f][-C-1>>1].neg()),h.type==="affine"?M=M.mixedAdd(h):M=M.add(h))}}for(u=0;u<i;u++)a[u]=null;return s?M:M.toP()};function xc(t,e){this.curve=t,this.type=e,this.precomputed=null}Rh.BasePoint=xc;xc.prototype.eq=function(){throw new Error("Not implemented")};xc.prototype.validate=function(){return this.curve.validate(this)};Rh.prototype.decodePoint=function(e,r){e=Aa.toArray(e,r);var n=this.p.byteLength();if((e[0]===4||e[0]===6||e[0]===7)&&e.length-1===2*n){e[0]===6?fx(e[e.length-1]%2===0):e[0]===7&&fx(e[e.length-1]%2===1);var i=this.point(e.slice(1,1+n),e.slice(1+n,1+2*n));return i}else if((e[0]===2||e[0]===3)&&e.length-1===n)return this.pointFromX(e.slice(1,1+n),e[0]===3);throw new Error("Unknown point format")};xc.prototype.encodeCompressed=function(e){return this.encode(e,!0)};xc.prototype._encode=function(e){var r=this.curve.p.byteLength(),n=this.getX().toArray("be",r);return e?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",r))};xc.prototype.encode=function(e,r){return Aa.encode(this._encode(r),e)};xc.prototype.precompute=function(e){if(this.precomputed)return this;var r={doubles:null,naf:null,beta:null};return r.naf=this._getNAFPoints(8),r.doubles=this._getDoubles(4,e),r.beta=this._getBeta(),this.precomputed=r,this};xc.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var r=this.precomputed.doubles;return r?r.points.length>=Math.ceil((e.bitLength()+1)/r.step):!1};xc.prototype._getDoubles=function(e,r){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],i=this,s=0;s<r;s+=e){for(var o=0;o<e;o++)i=i.dbl();n.push(i)}return{step:e,points:n}};xc.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var r=[this],n=(1<<e)-1,i=n===1?null:this.dbl(),s=1;s<n;s++)r[s]=r[s-1].add(i);return{wnd:e,points:r}};xc.prototype._getBeta=function(){return null};xc.prototype.dblp=function(e){for(var r=this,n=0;n<e;n++)r=r.dbl();return r};var p5=Wm(function(t){typeof Object.create=="function"?t.exports=function(r,n){n&&(r.super_=n,r.prototype=Object.create(n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}))}:t.exports=function(r,n){if(n){r.super_=n;var i=function(){};i.prototype=n.prototype,r.prototype=new i,r.prototype.constructor=r}}}),NOe=Aa.assert;function Cc(t){dp.call(this,"short",t),this.a=new fe(t.a,16).toRed(this.red),this.b=new fe(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=this.a.fromRed().cmpn(0)===0,this.threeA=this.a.fromRed().sub(this.p).cmpn(-3)===0,this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}p5(Cc,dp);var SOe=Cc;Cc.prototype._getEndomorphism=function(e){if(!(!this.zeroA||!this.g||!this.n||this.p.modn(3)!==1)){var r,n;if(e.beta)r=new fe(e.beta,16).toRed(this.red);else{var i=this._getEndoRoots(this.p);r=i[0].cmp(i[1])<0?i[0]:i[1],r=r.toRed(this.red)}if(e.lambda)n=new fe(e.lambda,16);else{var s=this._getEndoRoots(this.n);this.g.mul(s[0]).x.cmp(this.g.x.redMul(r))===0?n=s[0]:(n=s[1],NOe(this.g.mul(n).x.cmp(this.g.x.redMul(r))===0))}var o;return e.basis?o=e.basis.map(function(a){return{a:new fe(a.a,16),b:new fe(a.b,16)}}):o=this._getEndoBasis(n),{beta:r,lambda:n,basis:o}}};Cc.prototype._getEndoRoots=function(e){var r=e===this.p?this.red:fe.mont(e),n=new fe(2).toRed(r).redInvm(),i=n.redNeg(),s=new fe(3).toRed(r).redNeg().redSqrt().redMul(n),o=i.redAdd(s).fromRed(),a=i.redSub(s).fromRed();return[o,a]};Cc.prototype._getEndoBasis=function(e){for(var r=this.n.ushrn(Math.floor(this.n.bitLength()/2)),n=e,i=this.n.clone(),s=new fe(1),o=new fe(0),a=new fe(0),c=new fe(1),l,u,f,h,g,_,m,b=0,A,N;n.cmpn(0)!==0;){var R=i.div(n);A=i.sub(R.mul(n)),N=a.sub(R.mul(s));var k=c.sub(R.mul(o));if(!f&&A.cmp(r)<0)l=m.neg(),u=s,f=A.neg(),h=N;else if(f&&++b===2)break;m=A,i=n,n=A,a=s,s=N,c=o,o=k}g=A.neg(),_=N;var M=f.sqr().add(h.sqr()),D=g.sqr().add(_.sqr());return D.cmp(M)>=0&&(g=l,_=u),f.negative&&(f=f.neg(),h=h.neg()),g.negative&&(g=g.neg(),_=_.neg()),[{a:f,b:h},{a:g,b:_}]};Cc.prototype._endoSplit=function(e){var r=this.endo.basis,n=r[0],i=r[1],s=i.b.mul(e).divRound(this.n),o=n.b.neg().mul(e).divRound(this.n),a=s.mul(n.a),c=o.mul(i.a),l=s.mul(n.b),u=o.mul(i.b),f=e.sub(a).sub(c),h=l.add(u).neg();return{k1:f,k2:h}};Cc.prototype.pointFromX=function(e,r){e=new fe(e,16),e.red||(e=e.toRed(this.red));var n=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),i=n.redSqrt();if(i.redSqr().redSub(n).cmp(this.zero)!==0)throw new Error("invalid point");var s=i.fromRed().isOdd();return(r&&!s||!r&&s)&&(i=i.redNeg()),this.point(e,i)};Cc.prototype.validate=function(e){if(e.inf)return!0;var r=e.x,n=e.y,i=this.a.redMul(r),s=r.redSqr().redMul(r).redIAdd(i).redIAdd(this.b);return n.redSqr().redISub(s).cmpn(0)===0};Cc.prototype._endoWnafMulAdd=function(e,r,n){for(var i=this._endoWnafT1,s=this._endoWnafT2,o=0;o<e.length;o++){var a=this._endoSplit(r[o]),c=e[o],l=c._getBeta();a.k1.negative&&(a.k1.ineg(),c=c.neg(!0)),a.k2.negative&&(a.k2.ineg(),l=l.neg(!0)),i[o*2]=c,i[o*2+1]=l,s[o*2]=a.k1,s[o*2+1]=a.k2}for(var u=this._wnafMulAdd(1,i,s,o*2,n),f=0;f<o*2;f++)i[f]=null,s[f]=null;return u};function Qi(t,e,r,n){dp.BasePoint.call(this,t,"affine"),e===null&&r===null?(this.x=null,this.y=null,this.inf=!0):(this.x=new fe(e,16),this.y=new fe(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}p5(Qi,dp.BasePoint);Cc.prototype.point=function(e,r,n){return new Qi(this,e,r,n)};Cc.prototype.pointFromJSON=function(e,r){return Qi.fromJSON(this,e,r)};Qi.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var r=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var n=this.curve,i=function(s){return n.point(s.x.redMul(n.endo.beta),s.y)};e.beta=r,r.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(i)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(i)}}}return r}};Qi.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]};Qi.fromJSON=function(e,r,n){typeof r=="string"&&(r=JSON.parse(r));var i=e.point(r[0],r[1],n);if(!r[2])return i;function s(a){return e.point(a[0],a[1],n)}var o=r[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(s))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(s))}},i};Qi.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"};Qi.prototype.isInfinity=function(){return this.inf};Qi.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(this.x.cmp(e.x)===0)return this.curve.point(null,null);var r=this.y.redSub(e.y);r.cmpn(0)!==0&&(r=r.redMul(this.x.redSub(e.x).redInvm()));var n=r.redSqr().redISub(this.x).redISub(e.x),i=r.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,i)};Qi.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(e.cmpn(0)===0)return this.curve.point(null,null);var r=this.curve.a,n=this.x.redSqr(),i=e.redInvm(),s=n.redAdd(n).redIAdd(n).redIAdd(r).redMul(i),o=s.redSqr().redISub(this.x.redAdd(this.x)),a=s.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)};Qi.prototype.getX=function(){return this.x.fromRed()};Qi.prototype.getY=function(){return this.y.fromRed()};Qi.prototype.mul=function(e){return e=new fe(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)};Qi.prototype.mulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s):this.curve._wnafMulAdd(1,i,s,2)};Qi.prototype.jmulAdd=function(e,r,n){var i=[this,r],s=[e,n];return this.curve.endo?this.curve._endoWnafMulAdd(i,s,!0):this.curve._wnafMulAdd(1,i,s,2,!0)};Qi.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||this.x.cmp(e.x)===0&&this.y.cmp(e.y)===0)};Qi.prototype.neg=function(e){if(this.inf)return this;var r=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var n=this.precomputed,i=function(s){return s.neg()};r.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(i)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(i)}}}return r};Qi.prototype.toJ=function(){if(this.inf)return this.curve.jpoint(null,null,null);var e=this.curve.jpoint(this.x,this.y,this.curve.one);return e};function bs(t,e,r,n){dp.BasePoint.call(this,t,"jacobian"),e===null&&r===null&&n===null?(this.x=this.curve.one,this.y=this.curve.one,this.z=new fe(0)):(this.x=new fe(e,16),this.y=new fe(r,16),this.z=new fe(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}p5(bs,dp.BasePoint);Cc.prototype.jpoint=function(e,r,n){return new bs(this,e,r,n)};bs.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),r=e.redSqr(),n=this.x.redMul(r),i=this.y.redMul(r).redMul(e);return this.curve.point(n,i)};bs.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)};bs.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var r=e.z.redSqr(),n=this.z.redSqr(),i=this.x.redMul(r),s=e.x.redMul(n),o=this.y.redMul(r.redMul(e.z)),a=e.y.redMul(n.redMul(this.z)),c=i.redSub(s),l=o.redSub(a);if(c.cmpn(0)===0)return l.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var u=c.redSqr(),f=u.redMul(c),h=i.redMul(u),g=l.redSqr().redIAdd(f).redISub(h).redISub(h),_=l.redMul(h.redISub(g)).redISub(o.redMul(f)),m=this.z.redMul(e.z).redMul(c);return this.curve.jpoint(g,_,m)};bs.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var r=this.z.redSqr(),n=this.x,i=e.x.redMul(r),s=this.y,o=e.y.redMul(r).redMul(this.z),a=n.redSub(i),c=s.redSub(o);if(a.cmpn(0)===0)return c.cmpn(0)!==0?this.curve.jpoint(null,null,null):this.dbl();var l=a.redSqr(),u=l.redMul(a),f=n.redMul(l),h=c.redSqr().redIAdd(u).redISub(f).redISub(f),g=c.redMul(f.redISub(h)).redISub(s.redMul(u)),_=this.z.redMul(a);return this.curve.jpoint(h,g,_)};bs.prototype.dblp=function(e){if(e===0)return this;if(this.isInfinity())return this;if(!e)return this.dbl();var r;if(this.curve.zeroA||this.curve.threeA){var n=this;for(r=0;r<e;r++)n=n.dbl();return n}var i=this.curve.a,s=this.curve.tinv,o=this.x,a=this.y,c=this.z,l=c.redSqr().redSqr(),u=a.redAdd(a);for(r=0;r<e;r++){var f=o.redSqr(),h=u.redSqr(),g=h.redSqr(),_=f.redAdd(f).redIAdd(f).redIAdd(i.redMul(l)),m=o.redMul(h),b=_.redSqr().redISub(m.redAdd(m)),A=m.redISub(b),N=_.redMul(A);N=N.redIAdd(N).redISub(g);var R=u.redMul(c);r+1<e&&(l=l.redMul(g)),o=b,c=R,u=N}return this.curve.jpoint(o,u.redMul(s),c)};bs.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()};bs.prototype._zeroDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i),l=c.redSqr().redISub(a).redISub(a),u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),e=l,r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),g=h.redSqr(),_=this.x.redAdd(h).redSqr().redISub(f).redISub(g);_=_.redIAdd(_);var m=f.redAdd(f).redIAdd(f),b=m.redSqr(),A=g.redIAdd(g);A=A.redIAdd(A),A=A.redIAdd(A),e=b.redISub(_).redISub(_),r=m.redMul(_.redISub(e)).redISub(A),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(e,r,n)};bs.prototype._threeDbl=function(){var e,r,n;if(this.zOne){var i=this.x.redSqr(),s=this.y.redSqr(),o=s.redSqr(),a=this.x.redAdd(s).redSqr().redISub(i).redISub(o);a=a.redIAdd(a);var c=i.redAdd(i).redIAdd(i).redIAdd(this.curve.a),l=c.redSqr().redISub(a).redISub(a);e=l;var u=o.redIAdd(o);u=u.redIAdd(u),u=u.redIAdd(u),r=c.redMul(a.redISub(l)).redISub(u),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),g=this.x.redMul(h),_=this.x.redSub(f).redMul(this.x.redAdd(f));_=_.redAdd(_).redIAdd(_);var m=g.redIAdd(g);m=m.redIAdd(m);var b=m.redAdd(m);e=_.redSqr().redISub(b),n=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var A=h.redSqr();A=A.redIAdd(A),A=A.redIAdd(A),A=A.redIAdd(A),r=_.redMul(m.redISub(e)).redISub(A)}return this.curve.jpoint(e,r,n)};bs.prototype._dbl=function(){var e=this.curve.a,r=this.x,n=this.y,i=this.z,s=i.redSqr().redSqr(),o=r.redSqr(),a=n.redSqr(),c=o.redAdd(o).redIAdd(o).redIAdd(e.redMul(s)),l=r.redAdd(r);l=l.redIAdd(l);var u=l.redMul(a),f=c.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),g=a.redSqr();g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=c.redMul(h).redISub(g),m=n.redAdd(n).redMul(i);return this.curve.jpoint(f,_,m)};bs.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),r=this.y.redSqr(),n=this.z.redSqr(),i=r.redSqr(),s=e.redAdd(e).redIAdd(e),o=s.redSqr(),a=this.x.redAdd(r).redSqr().redISub(e).redISub(i);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var c=a.redSqr(),l=i.redIAdd(i);l=l.redIAdd(l),l=l.redIAdd(l),l=l.redIAdd(l);var u=s.redIAdd(a).redSqr().redISub(o).redISub(c).redISub(l),f=r.redMul(u);f=f.redIAdd(f),f=f.redIAdd(f);var h=this.x.redMul(c).redISub(f);h=h.redIAdd(h),h=h.redIAdd(h);var g=this.y.redMul(u.redMul(l.redISub(u)).redISub(a.redMul(c)));g=g.redIAdd(g),g=g.redIAdd(g),g=g.redIAdd(g);var _=this.z.redAdd(a).redSqr().redISub(n).redISub(c);return this.curve.jpoint(h,g,_)};bs.prototype.mul=function(e,r){return e=new fe(e,r),this.curve._wnafMul(this,e)};bs.prototype.eq=function(e){if(e.type==="affine")return this.eq(e.toJ());if(this===e)return!0;var r=this.z.redSqr(),n=e.z.redSqr();if(this.x.redMul(n).redISub(e.x.redMul(r)).cmpn(0)!==0)return!1;var i=r.redMul(this.z),s=n.redMul(e.z);return this.y.redMul(s).redISub(e.y.redMul(i)).cmpn(0)===0};bs.prototype.eqXToP=function(e){var r=this.z.redSqr(),n=e.toRed(this.curve.red).redMul(r);if(this.x.cmp(n)===0)return!0;for(var i=e.clone(),s=this.curve.redN.redMul(r);;){if(i.iadd(this.curve.n),i.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(s),this.x.cmp(n)===0)return!0}};bs.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"};bs.prototype.isInfinity=function(){return this.z.cmpn(0)===0};var HE=Wm(function(t,e){var r=e;r.base=dp,r.short=SOe,r.mont=null,r.edwards=null}),jE=Wm(function(t,e){var r=e,n=Aa.assert;function i(a){a.type==="short"?this.curve=new HE.short(a):a.type==="edwards"?this.curve=new HE.edwards(a):this.curve=new HE.mont(a),this.g=this.curve.g,this.n=this.curve.n,this.hash=a.hash,n(this.g.validate(),"Invalid curve"),n(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}r.PresetCurve=i;function s(a,c){Object.defineProperty(r,a,{configurable:!0,enumerable:!0,get:function(){var l=new i(c);return Object.defineProperty(r,a,{configurable:!0,enumerable:!0,value:l}),l}})}s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:bt.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:bt.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:bt.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:bt.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:bt.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bt.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:bt.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var o;try{o=null.crash()}catch{o=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:bt.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",o]})});function vh(t){if(!(this instanceof vh))return new vh(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=Cl.toArray(t.entropy,t.entropyEnc||"hex"),r=Cl.toArray(t.nonce,t.nonceEnc||"hex"),n=Cl.toArray(t.pers,t.persEnc||"hex");h5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,r,n)}var AV=vh;vh.prototype._init=function(e,r,n){var i=e.concat(r).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var s=0;s<this.V.length;s++)this.K[s]=0,this.V[s]=1;this._update(i),this._reseed=1,this.reseedInterval=281474976710656};vh.prototype._hmac=function(){return new bt.hmac(this.hash,this.K)};vh.prototype._update=function(e){var r=this._hmac().update(this.V).update([0]);e&&(r=r.update(e)),this.K=r.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())};vh.prototype.reseed=function(e,r,n,i){typeof r!="string"&&(i=n,n=r,r=null),e=Cl.toArray(e,r),n=Cl.toArray(n,i),h5(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(n||[])),this._reseed=1};vh.prototype.generate=function(e,r,n,i){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");typeof r!="string"&&(i=n,n=r,r=null),n&&(n=Cl.toArray(n,i||"hex"),this._update(n));for(var s=[];s.length<e;)this.V=this._hmac().update(this.V).digest(),s=s.concat(this.V);var o=s.slice(0,e);return this._update(n),this._reseed++,Cl.encode(o,r)};var TR=Aa.assert;function Bs(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var g5=Bs;Bs.fromPublic=function(e,r,n){return r instanceof Bs?r:new Bs(e,{pub:r,pubEnc:n})};Bs.fromPrivate=function(e,r,n){return r instanceof Bs?r:new Bs(e,{priv:r,privEnc:n})};Bs.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}};Bs.prototype.getPublic=function(e,r){return typeof e=="string"&&(r=e,e=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),r?this.pub.encode(r,e):this.pub};Bs.prototype.getPrivate=function(e){return e==="hex"?this.priv.toString(16,2):this.priv};Bs.prototype._importPrivate=function(e,r){this.priv=new fe(e,r||16),this.priv=this.priv.umod(this.ec.curve.n)};Bs.prototype._importPublic=function(e,r){if(e.x||e.y){this.ec.curve.type==="mont"?TR(e.x,"Need x coordinate"):(this.ec.curve.type==="short"||this.ec.curve.type==="edwards")&&TR(e.x&&e.y,"Need both x and y coordinate"),this.pub=this.ec.curve.point(e.x,e.y);return}this.pub=this.ec.curve.decodePoint(e,r)};Bs.prototype.derive=function(e){return e.validate()||TR(e.validate(),"public point not validated"),e.mul(this.priv).getX()};Bs.prototype.sign=function(e,r,n){return this.ec.sign(e,this,r,n)};Bs.prototype.verify=function(e,r,n){return this.ec.verify(e,r,this,void 0,n)};Bs.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var TOe=Aa.assert;function T2(t,e){if(t instanceof T2)return t;this._importDER(t,e)||(TOe(t.r&&t.s,"Signature without r or s"),this.r=new fe(t.r,16),this.s=new fe(t.s,16),t.recoveryParam===void 0?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}var I2=T2;function IOe(){this.place=0}function OT(t,e){var r=t[e.place++];if(!(r&128))return r;var n=r&15;if(n===0||n>4||t[e.place]===0)return!1;for(var i=0,s=0,o=e.place;s<n;s++,o++)i<<=8,i|=t[o],i>>>=0;return i<=127?!1:(e.place=o,i)}function I$(t){for(var e=0,r=t.length-1;!t[e]&&!(t[e+1]&128)&&e<r;)e++;return e===0?t:t.slice(e)}T2.prototype._importDER=function(e,r){e=Aa.toArray(e,r);var n=new IOe;if(e[n.place++]!==48)return!1;var i=OT(e,n);if(i===!1||i+n.place!==e.length||e[n.place++]!==2)return!1;var s=OT(e,n);if(s===!1||(e[n.place]&128)!==0)return!1;var o=e.slice(n.place,s+n.place);if(n.place+=s,e[n.place++]!==2)return!1;var a=OT(e,n);if(a===!1||e.length!==a+n.place||(e[n.place]&128)!==0)return!1;var c=e.slice(n.place,a+n.place);if(o[0]===0)if(o[1]&128)o=o.slice(1);else return!1;if(c[0]===0)if(c[1]&128)c=c.slice(1);else return!1;return this.r=new fe(o),this.s=new fe(c),this.recoveryParam=null,!0};function DT(t,e){if(e<128){t.push(e);return}var r=1+(Math.log(e)/Math.LN2>>>3);for(t.push(r|128);--r;)t.push(e>>>(r<<3)&255);t.push(e)}T2.prototype.toDER=function(e){var r=this.r.toArray(),n=this.s.toArray();for(r[0]&128&&(r=[0].concat(r)),n[0]&128&&(n=[0].concat(n)),r=I$(r),n=I$(n);!n[0]&&!(n[1]&128);)n=n.slice(1);var i=[2];DT(i,r.length),i=i.concat(r),i.push(2),DT(i,n.length);var s=i.concat(n),o=[48];return DT(o,s.length),o=o.concat(s),Aa.encode(o,e)};var ROe=(function(){throw new Error("unsupported")}),y0=Aa.assert;function pc(t){if(!(this instanceof pc))return new pc(t);typeof t=="string"&&(y0(Object.prototype.hasOwnProperty.call(jE,t),"Unknown curve "+t),t=jE[t]),t instanceof jE.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var POe=pc;pc.prototype.keyPair=function(e){return new g5(this,e)};pc.prototype.keyFromPrivate=function(e,r){return g5.fromPrivate(this,e,r)};pc.prototype.keyFromPublic=function(e,r){return g5.fromPublic(this,e,r)};pc.prototype.genKeyPair=function(e){e||(e={});for(var r=new AV({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||ROe(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),i=this.n.sub(new fe(2));;){var s=new fe(r.generate(n));if(!(s.cmp(i)>0))return s.iaddn(1),this.keyFromPrivate(s)}};pc.prototype._truncateToN=function(e,r,n){var i;if(fe.isBN(e)||typeof e=="number")e=new fe(e,16),i=e.byteLength();else if(typeof e=="object")i=e.length,e=new fe(e,16);else{var s=e.toString();i=s.length+1>>>1,e=new fe(s,16)}typeof n!="number"&&(n=i*8);var o=n-this.n.bitLength();return o>0&&(e=e.ushrn(o)),!r&&e.cmp(this.n)>=0?e.sub(this.n):e};pc.prototype.sign=function(e,r,n,i){if(typeof n=="object"&&(i=n,n=null),i||(i={}),typeof e!="string"&&typeof e!="number"&&!fe.isBN(e)){y0(typeof e=="object"&&e&&typeof e.length=="number","Expected message to be an array-like, a hex string, or a BN instance"),y0(e.length>>>0===e.length);for(var s=0;s<e.length;s++)y0((e[s]&255)===e[s])}r=this.keyFromPrivate(r,n),e=this._truncateToN(e,!1,i.msgBitLength),y0(!e.isNeg(),"Can not sign a negative message");var o=this.n.byteLength(),a=r.getPrivate().toArray("be",o),c=e.toArray("be",o);y0(new fe(c).eq(e),"Can not sign message");for(var l=new AV({hash:this.hash,entropy:a,nonce:c,pers:i.pers,persEnc:i.persEnc||"utf8"}),u=this.n.sub(new fe(1)),f=0;;f++){var h=i.k?i.k(f):new fe(l.generate(this.n.byteLength()));if(h=this._truncateToN(h,!0),!(h.cmpn(1)<=0||h.cmp(u)>=0)){var g=this.g.mul(h);if(!g.isInfinity()){var _=g.getX(),m=_.umod(this.n);if(m.cmpn(0)!==0){var b=h.invm(this.n).mul(m.mul(r.getPrivate()).iadd(e));if(b=b.umod(this.n),b.cmpn(0)!==0){var A=(g.getY().isOdd()?1:0)|(_.cmp(m)!==0?2:0);return i.canonical&&b.cmp(this.nh)>0&&(b=this.n.sub(b),A^=1),new I2({r:m,s:b,recoveryParam:A})}}}}}};pc.prototype.verify=function(e,r,n,i,s){s||(s={}),e=this._truncateToN(e,!1,s.msgBitLength),n=this.keyFromPublic(n,i),r=new I2(r,"hex");var o=r.r,a=r.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0||a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var c=a.invm(this.n),l=c.mul(e).umod(this.n),u=c.mul(o).umod(this.n),f;return this.curve._maxwellTrick?(f=this.g.jmulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.eqXToP(o)):(f=this.g.mulAdd(l,n.getPublic(),u),f.isInfinity()?!1:f.getX().umod(this.n).cmp(o)===0)};pc.prototype.recoverPubKey=function(t,e,r,n){y0((3&r)===r,"The recovery param is more than two bits"),e=new I2(e,n);var i=this.n,s=new fe(t),o=e.r,a=e.s,c=r&1,l=r>>1;if(o.cmp(this.curve.p.umod(this.curve.n))>=0&&l)throw new Error("Unable to find sencond key candinate");l?o=this.curve.pointFromX(o.add(this.curve.n),c):o=this.curve.pointFromX(o,c);var u=e.r.invm(i),f=i.sub(s).mul(u).umod(i),h=a.mul(u).umod(i);return this.g.mulAdd(f,o,h)};pc.prototype.getKeyRecoveryParam=function(t,e,r,n){if(e=new I2(e,n),e.recoveryParam!==null)return e.recoveryParam;for(var i=0;i<4;i++){var s;try{s=this.recoverPubKey(t,e,i)}catch{continue}if(s.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var OOe=Wm(function(t,e){var r=e;r.version="6.6.1",r.utils=Aa,r.rand=(function(){throw new Error("unsupported")}),r.curve=HE,r.curves=jE,r.ec=POe,r.eddsa=null}),DOe=OOe.ec;const kOe="signing-key/5.8.0",IR=new Sn(kOe);let kT=null;function zd(){return kT||(kT=new DOe("secp256k1")),kT}class MOe{constructor(e){Wy(this,"curve","secp256k1"),Wy(this,"privateKey",qr(e)),_V(this.privateKey)!==32&&IR.throwArgumentError("invalid private key","privateKey","[[ REDACTED ]]");const r=zd().keyFromPrivate(En(this.privateKey));Wy(this,"publicKey","0x"+r.getPublic(!1,"hex")),Wy(this,"compressedPublicKey","0x"+r.getPublic(!0,"hex")),Wy(this,"_isSigningKey",!0)}_addPoint(e){const r=zd().keyFromPublic(En(this.publicKey)),n=zd().keyFromPublic(En(e));return"0x"+r.pub.add(n.pub).encodeCompressed("hex")}signDigest(e){const r=zd().keyFromPrivate(En(this.privateKey)),n=En(e);n.length!==32&&IR.throwArgumentError("bad digest length","digest",e);const i=r.sign(n,{canonical:!0});return V1({recoveryParam:i.recoveryParam,r:Nu("0x"+i.r.toString(16),32),s:Nu("0x"+i.s.toString(16),32)})}computeSharedSecret(e){const r=zd().keyFromPrivate(En(this.privateKey)),n=zd().keyFromPublic(En(xV(e)));return Nu("0x"+r.derive(n.getPublic()).toString(16),32)}static isSigningKey(e){return!!(e&&e._isSigningKey)}}function UOe(t,e){const r=V1(e),n={r:En(r.r),s:En(r.s)};return"0x"+zd().recoverPubKey(En(t),n,r.recoveryParam).encode("hex",!1)}function xV(t,e){const r=En(t);return r.length===32?new MOe(r).publicKey:r.length===33?"0x"+zd().keyFromPublic(r).getPublic(!1,"hex"):r.length===65?qr(r):IR.throwArgumentError("invalid public or private key","key","[REDACTED]")}const LOe="transactions/5.7.0",ks=new Sn(LOe);var RR;(function(t){t[t.legacy=0]="legacy",t[t.eip2930=1]="eip2930",t[t.eip1559=2]="eip1559"})(RR||(RR={}));function m5(t){return t==="0x"?null:J1(t)}function Ps(t){return t==="0x"?vOe:Su.from(t)}const $Oe=[{name:"nonce",maxLength:32,numeric:!0},{name:"gasPrice",maxLength:32,numeric:!0},{name:"gasLimit",maxLength:32,numeric:!0},{name:"to",length:20},{name:"value",maxLength:32,numeric:!0},{name:"data"}],FOe={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,type:!0,value:!0};function CV(t){const e=xV(t);return J1(w$(Z0(w$(e,1)),12))}function y5(t,e){return CV(UOe(En(t),e))}function oa(t,e){const r=sh(Su.from(t).toHexString());return r.length>32&&ks.throwArgumentError("invalid length for "+e,"transaction:"+e,t),r}function MT(t,e){return{address:J1(t),storageKeys:(e||[]).map((r,n)=>(_V(r)!==32&&ks.throwArgumentError("invalid access list storageKey",`accessList[${t}:${n}]`,r),r.toLowerCase()))}}function R2(t){if(Array.isArray(t))return t.map((r,n)=>Array.isArray(r)?(r.length>2&&ks.throwArgumentError("access list expected to be [ address, storageKeys[] ]",`value[${n}]`,r),MT(r[0],r[1])):MT(r.address,r.storageKeys));const e=Object.keys(t).map(r=>{const n=t[r].reduce((i,s)=>(i[s]=!0,i),{});return MT(r,Object.keys(n).sort())});return e.sort((r,n)=>r.address.localeCompare(n.address)),e}function NV(t){return R2(t).map(e=>[e.address,e.storageKeys])}function SV(t,e){if(t.gasPrice!=null){const n=Su.from(t.gasPrice),i=Su.from(t.maxFeePerGas||0);n.eq(i)||ks.throwArgumentError("mismatch EIP-1559 gasPrice != maxFeePerGas","tx",{gasPrice:n,maxFeePerGas:i})}const r=[oa(t.chainId||0,"chainId"),oa(t.nonce||0,"nonce"),oa(t.maxPriorityFeePerGas||0,"maxPriorityFeePerGas"),oa(t.maxFeePerGas||0,"maxFeePerGas"),oa(t.gasLimit||0,"gasLimit"),t.to!=null?J1(t.to):"0x",oa(t.value||0,"value"),t.data||"0x",NV(t.accessList||[])];if(e){const n=V1(e);r.push(oa(n.recoveryParam,"recoveryParam")),r.push(sh(n.r)),r.push(sh(n.s))}return bV(["0x02",f1(r)])}function TV(t,e){const r=[oa(t.chainId||0,"chainId"),oa(t.nonce||0,"nonce"),oa(t.gasPrice||0,"gasPrice"),oa(t.gasLimit||0,"gasLimit"),t.to!=null?J1(t.to):"0x",oa(t.value||0,"value"),t.data||"0x",NV(t.accessList||[])];if(e){const n=V1(e);r.push(oa(n.recoveryParam,"recoveryParam")),r.push(sh(n.r)),r.push(sh(n.s))}return bV(["0x01",f1(r)])}function BOe(t,e){AOe(t,FOe);const r=[];$Oe.forEach(function(o){let a=t[o.name]||[];const c={};o.numeric&&(c.hexPad="left"),a=En(qr(a,c)),o.length&&a.length!==o.length&&a.length>0&&ks.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a),o.maxLength&&(a=sh(a),a.length>o.maxLength&&ks.throwArgumentError("invalid length for "+o.name,"transaction:"+o.name,a)),r.push(qr(a))});let n=0;if(t.chainId!=null?(n=t.chainId,typeof n!="number"&&ks.throwArgumentError("invalid transaction.chainId","transaction",t)):e&&!u5(e)&&e.v>28&&(n=Math.floor((e.v-35)/2)),n!==0&&(r.push(qr(n)),r.push("0x"),r.push("0x")),!e)return f1(r);const i=V1(e);let s=27+i.recoveryParam;return n!==0?(r.pop(),r.pop(),r.pop(),s+=n*2+8,i.v>28&&i.v!==s&&ks.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e)):i.v!==s&&ks.throwArgumentError("transaction.chainId/signature.v mismatch","signature",e),r.push(qr(s)),r.push(sh(En(i.r))),r.push(sh(En(i.s))),f1(r)}function HOe(t,e){if(t.type==null||t.type===0)return t.accessList!=null&&ks.throwArgumentError("untyped transactions do not support accessList; include type: 1","transaction",t),BOe(t,e);switch(t.type){case 1:return TV(t,e);case 2:return SV(t,e)}return ks.throwError(`unsupported transaction type: ${t.type}`,Sn.errors.UNSUPPORTED_OPERATION,{operation:"serializeTransaction",transactionType:t.type})}function IV(t,e,r){try{const n=Ps(e[0]).toNumber();if(n!==0&&n!==1)throw new Error("bad recid");t.v=n}catch{ks.throwArgumentError("invalid v for transaction type: 1","v",e[0])}t.r=Nu(e[1],32),t.s=Nu(e[2],32);try{const n=Z0(r(t));t.from=y5(n,{r:t.r,s:t.s,recoveryParam:t.v})}catch{}}function jOe(t){const e=f5(t.slice(1));e.length!==9&&e.length!==12&&ks.throwArgumentError("invalid component count for transaction type: 2","payload",qr(t));const r=Ps(e[2]),n=Ps(e[3]),i={type:2,chainId:Ps(e[0]).toNumber(),nonce:Ps(e[1]).toNumber(),maxPriorityFeePerGas:r,maxFeePerGas:n,gasPrice:null,gasLimit:Ps(e[4]),to:m5(e[5]),value:Ps(e[6]),data:e[7],accessList:R2(e[8])};return e.length===9||(i.hash=Z0(t),IV(i,e.slice(9),SV)),i}function WOe(t){const e=f5(t.slice(1));e.length!==8&&e.length!==11&&ks.throwArgumentError("invalid component count for transaction type: 1","payload",qr(t));const r={type:1,chainId:Ps(e[0]).toNumber(),nonce:Ps(e[1]).toNumber(),gasPrice:Ps(e[2]),gasLimit:Ps(e[3]),to:m5(e[4]),value:Ps(e[5]),data:e[6],accessList:R2(e[7])};return e.length===8||(r.hash=Z0(t),IV(r,e.slice(8),TV)),r}function qOe(t){const e=f5(t);e.length!==9&&e.length!==6&&ks.throwArgumentError("invalid raw transaction","rawTransaction",t);const r={nonce:Ps(e[0]).toNumber(),gasPrice:Ps(e[1]),gasLimit:Ps(e[2]),to:m5(e[3]),value:Ps(e[4]),data:e[5],chainId:0};if(e.length===6)return r;try{r.v=Su.from(e[6]).toNumber()}catch{return r}if(r.r=Nu(e[7],32),r.s=Nu(e[8],32),Su.from(r.r).isZero()&&Su.from(r.s).isZero())r.chainId=r.v,r.v=0;else{r.chainId=Math.floor((r.v-35)/2),r.chainId<0&&(r.chainId=0);let n=r.v-27;const i=e.slice(0,6);r.chainId!==0&&(i.push(qr(r.chainId)),i.push("0x"),i.push("0x"),n-=r.chainId*2+8);const s=Z0(f1(i));try{r.from=y5(s,{r:qr(r.r),s:qr(r.s),recoveryParam:n})}catch{}r.hash=Z0(t)}return r.type=null,r}function zOe(t){const e=En(t);if(e[0]>127)return qOe(e);switch(e[0]){case 1:return WOe(e);case 2:return jOe(e)}return ks.throwError(`unsupported transaction type: ${e[0]}`,Sn.errors.UNSUPPORTED_OPERATION,{operation:"parseTransaction",transactionType:e[0]})}const GOe=Object.freeze(Object.defineProperty({__proto__:null,get TransactionTypes(){return RR},accessListify:R2,computeAddress:CV,parse:zOe,recoverAddress:y5,serialize:HOe},Symbol.toStringTag,{value:"Module"})),KOe="units/5.7.0",RV=new he(KOe),PV=["wei","kwei","mwei","gwei","szabo","finney","ether"];function VOe(t){const e=String(t).split(".");(e.length>2||!e[0].match(/^-?[0-9]*$/)||e[1]&&!e[1].match(/^[0-9]*$/)||t==="."||t==="-.")&&RV.throwArgumentError("invalid value","value",t);let r=e[0],n="";for(r.substring(0,1)==="-"&&(n="-",r=r.substring(1));r.substring(0,1)==="0";)r=r.substring(1);r===""&&(r="0");let i="";for(e.length===2&&(i="."+(e[1]||"0"));i.length>2&&i[i.length-1]==="0";)i=i.substring(0,i.length-1);const s=[];for(;r.length;)if(r.length<=3){s.unshift(r);break}else{const o=r.length-3;s.unshift(r.substring(o)),r=r.substring(0,o)}return n+s.join(",")+i}function _5(t,e){if(typeof e=="string"){const r=PV.indexOf(e);r!==-1&&(e=3*r)}return nE(t,e??18)}function b5(t,e){if(typeof t!="string"&&RV.throwArgumentError("value must be a string","value",t),typeof e=="string"){const r=PV.indexOf(e);r!==-1&&(e=3*r)}return nu(t,e??18)}function JOe(t){return _5(t,18)}function YOe(t){return b5(t,18)}const XOe=Object.freeze(Object.defineProperty({__proto__:null,commify:VOe,formatEther:JOe,formatUnits:_5,parseEther:YOe,parseUnits:b5},Symbol.toStringTag,{value:"Module"})),QOe="logger/5.8.0";let R$=!1,P$=!1;const WE={debug:1,default:2,info:2,warning:3,error:4,off:5};let O$=WE.default,UT=null;function ZOe(){try{const t=[];if(["NFD","NFC","NFKD","NFKC"].forEach(e=>{try{if("test".normalize(e)!=="test")throw new Error("bad normalize")}catch{t.push(e)}}),t.length)throw new Error("missing "+t.join(", "));if("".normalize("NFD")!=="e")throw new Error("broken implementation")}catch(t){return t.message}return null}const D$=ZOe();var PR;(function(t){t.DEBUG="DEBUG",t.INFO="INFO",t.WARNING="WARNING",t.ERROR="ERROR",t.OFF="OFF"})(PR||(PR={}));var dl;(function(t){t.UNKNOWN_ERROR="UNKNOWN_ERROR",t.NOT_IMPLEMENTED="NOT_IMPLEMENTED",t.UNSUPPORTED_OPERATION="UNSUPPORTED_OPERATION",t.NETWORK_ERROR="NETWORK_ERROR",t.SERVER_ERROR="SERVER_ERROR",t.TIMEOUT="TIMEOUT",t.BUFFER_OVERRUN="BUFFER_OVERRUN",t.NUMERIC_FAULT="NUMERIC_FAULT",t.MISSING_NEW="MISSING_NEW",t.INVALID_ARGUMENT="INVALID_ARGUMENT",t.MISSING_ARGUMENT="MISSING_ARGUMENT",t.UNEXPECTED_ARGUMENT="UNEXPECTED_ARGUMENT",t.CALL_EXCEPTION="CALL_EXCEPTION",t.INSUFFICIENT_FUNDS="INSUFFICIENT_FUNDS",t.NONCE_EXPIRED="NONCE_EXPIRED",t.REPLACEMENT_UNDERPRICED="REPLACEMENT_UNDERPRICED",t.UNPREDICTABLE_GAS_LIMIT="UNPREDICTABLE_GAS_LIMIT",t.TRANSACTION_REPLACED="TRANSACTION_REPLACED",t.ACTION_REJECTED="ACTION_REJECTED"})(dl||(dl={}));const k$="0123456789abcdef";class _r{constructor(e){Object.defineProperty(this,"version",{enumerable:!0,value:e,writable:!1})}_log(e,r){const n=e.toLowerCase();WE[n]==null&&this.throwArgumentError("invalid log level name","logLevel",e),!(O$>WE[n])&&console.log.apply(console,r)}debug(...e){this._log(_r.levels.DEBUG,e)}info(...e){this._log(_r.levels.INFO,e)}warn(...e){this._log(_r.levels.WARNING,e)}makeError(e,r,n){if(P$)return this.makeError("censored error",r,{});r||(r=_r.errors.UNKNOWN_ERROR),n||(n={});const i=[];Object.keys(n).forEach(c=>{const l=n[c];try{if(l instanceof Uint8Array){let u="";for(let f=0;f<l.length;f++)u+=k$[l[f]>>4],u+=k$[l[f]&15];i.push(c+"=Uint8Array(0x"+u+")")}else i.push(c+"="+JSON.stringify(l))}catch{i.push(c+"="+JSON.stringify(n[c].toString()))}}),i.push(`code=${r}`),i.push(`version=${this.version}`);const s=e;let o="";switch(r){case dl.NUMERIC_FAULT:{o="NUMERIC_FAULT";const c=e;switch(c){case"overflow":case"underflow":case"division-by-zero":o+="-"+c;break;case"negative-power":case"negative-width":o+="-unsupported";break;case"unbound-bitwise-result":o+="-unbound-result";break}break}case dl.CALL_EXCEPTION:case dl.INSUFFICIENT_FUNDS:case dl.MISSING_NEW:case dl.NONCE_EXPIRED:case dl.REPLACEMENT_UNDERPRICED:case dl.TRANSACTION_REPLACED:case dl.UNPREDICTABLE_GAS_LIMIT:o=r;break}o&&(e+=" [ See: https://links.ethers.org/v5-errors-"+o+" ]"),i.length&&(e+=" ("+i.join(", ")+")");const a=new Error(e);return a.reason=s,a.code=r,Object.keys(n).forEach(function(c){a[c]=n[c]}),a}throwError(e,r,n){throw this.makeError(e,r,n)}throwArgumentError(e,r,n){return this.throwError(e,_r.errors.INVALID_ARGUMENT,{argument:r,value:n})}assert(e,r,n,i){e||this.throwError(r,n,i)}assertArgument(e,r,n,i){e||this.throwArgumentError(r,n,i)}checkNormalize(e){D$&&this.throwError("platform missing String.prototype.normalize",_r.errors.UNSUPPORTED_OPERATION,{operation:"String.prototype.normalize",form:D$})}checkSafeUint53(e,r){typeof e=="number"&&(r==null&&(r="value not safe"),(e<0||e>=9007199254740991)&&this.throwError(r,_r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"out-of-safe-range",value:e}),e%1&&this.throwError(r,_r.errors.NUMERIC_FAULT,{operation:"checkSafeInteger",fault:"non-integer",value:e}))}checkArgumentCount(e,r,n){n?n=": "+n:n="",e<r&&this.throwError("missing argument"+n,_r.errors.MISSING_ARGUMENT,{count:e,expectedCount:r}),e>r&&this.throwError("too many arguments"+n,_r.errors.UNEXPECTED_ARGUMENT,{count:e,expectedCount:r})}checkNew(e,r){(e===Object||e==null)&&this.throwError("missing new",_r.errors.MISSING_NEW,{name:r.name})}checkAbstract(e,r){e===r?this.throwError("cannot instantiate abstract class "+JSON.stringify(r.name)+" directly; use a sub-class",_r.errors.UNSUPPORTED_OPERATION,{name:e.name,operation:"new"}):(e===Object||e==null)&&this.throwError("missing new",_r.errors.MISSING_NEW,{name:r.name})}static globalLogger(){return UT||(UT=new _r(QOe)),UT}static setCensorship(e,r){if(!e&&r&&this.globalLogger().throwError("cannot permanently disable censorship",_r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"}),R$){if(!e)return;this.globalLogger().throwError("error censorship permanent",_r.errors.UNSUPPORTED_OPERATION,{operation:"setCensorship"})}P$=!!e,R$=!!r}static setLogLevel(e){const r=WE[e.toLowerCase()];if(r==null){_r.globalLogger().warn("invalid log level - "+e);return}O$=r}static from(e){return new _r(e)}}_r.errors=dl;_r.levels=PR;const e8e="bytes/5.8.0",Zg=new _r(e8e);function OV(t){return!!t.toHexString}function qE(t){return t.slice||(t.slice=function(){const e=Array.prototype.slice.call(arguments);return qE(new Uint8Array(Array.prototype.slice.apply(t,e)))}),t}function t8e(t){return v5(t)&&!(t.length%2)||w5(t)}function M$(t){return typeof t=="number"&&t==t&&t%1===0}function w5(t){if(t==null)return!1;if(t.constructor===Uint8Array)return!0;if(typeof t=="string"||!M$(t.length)||t.length<0)return!1;for(let e=0;e<t.length;e++){const r=t[e];if(!M$(r)||r<0||r>=256)return!1}return!0}function Y1(t,e){if(e||(e={}),typeof t=="number"){Zg.checkSafeUint53(t,"invalid arrayify value");const r=[];for(;t;)r.unshift(t&255),t=parseInt(String(t/256));return r.length===0&&r.push(0),qE(new Uint8Array(r))}if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),OV(t)&&(t=t.toHexString()),v5(t)){let r=t.substring(2);r.length%2&&(e.hexPad==="left"?r="0"+r:e.hexPad==="right"?r+="0":Zg.throwArgumentError("hex data is odd-length","value",t));const n=[];for(let i=0;i<r.length;i+=2)n.push(parseInt(r.substring(i,i+2),16));return qE(new Uint8Array(n))}return w5(t)?qE(new Uint8Array(t)):Zg.throwArgumentError("invalid arrayify value","value",t)}function v5(t,e){return!(typeof t!="string"||!t.match(/^0x[0-9A-Fa-f]*$/))}const LT="0123456789abcdef";function r8e(t,e){if(e||(e={}),typeof t=="number"){Zg.checkSafeUint53(t,"invalid hexlify value");let r="";for(;t;)r=LT[t&15]+r,t=Math.floor(t/16);return r.length?(r.length%2&&(r="0"+r),"0x"+r):"0x00"}if(typeof t=="bigint")return t=t.toString(16),t.length%2?"0x0"+t:"0x"+t;if(e.allowMissingPrefix&&typeof t=="string"&&t.substring(0,2)!=="0x"&&(t="0x"+t),OV(t))return t.toHexString();if(v5(t))return t.length%2&&(e.hexPad==="left"?t="0x0"+t.substring(2):e.hexPad==="right"?t+="0":Zg.throwArgumentError("hex data is odd-length","value",t)),t.toLowerCase();if(w5(t)){let r="0x";for(let n=0;n<t.length;n++){let i=t[n];r+=LT[(i&240)>>4]+LT[i&15]}return r}return Zg.throwArgumentError("invalid hexlify value","value",t)}function n8e(t){t=atob(t);const e=[];for(let r=0;r<t.length;r++)e.push(t.charCodeAt(r));return Y1(e)}function i8e(t){t=Y1(t);let e="";for(let r=0;r<t.length;r++)e+=String.fromCharCode(t[r]);return btoa(e)}function dx(t){const e={};for(const r in t)e[r]=t[r];return e}const s8e="strings/5.8.0",DV=new _r(s8e);var hx;(function(t){t.current="",t.NFC="NFC",t.NFD="NFD",t.NFKC="NFKC",t.NFKD="NFKD"})(hx||(hx={}));var aa;(function(t){t.UNEXPECTED_CONTINUE="unexpected continuation byte",t.BAD_PREFIX="bad codepoint prefix",t.OVERRUN="string overrun",t.MISSING_CONTINUE="missing continuation byte",t.OUT_OF_RANGE="out of UTF-8 range",t.UTF16_SURROGATE="UTF-16 surrogate",t.OVERLONG="overlong representation"})(aa||(aa={}));function o8e(t,e,r,n,i){return DV.throwArgumentError(`invalid codepoint at offset ${e}; ${t}`,"bytes",r)}function kV(t,e,r,n,i){if(t===aa.BAD_PREFIX||t===aa.UNEXPECTED_CONTINUE){let s=0;for(let o=e+1;o<r.length&&r[o]>>6===2;o++)s++;return s}return t===aa.OVERRUN?r.length-e-1:0}function a8e(t,e,r,n,i){return t===aa.OVERLONG?(n.push(i),0):(n.push(65533),kV(t,e,r))}const c8e=Object.freeze({error:o8e,ignore:kV,replace:a8e});function l8e(t,e){e==null&&(e=c8e.error),t=Y1(t);const r=[];let n=0;for(;n<t.length;){const i=t[n++];if(i>>7===0){r.push(i);continue}let s=null,o=null;if((i&224)===192)s=1,o=127;else if((i&240)===224)s=2,o=2047;else if((i&248)===240)s=3,o=65535;else{(i&192)===128?n+=e(aa.UNEXPECTED_CONTINUE,n-1,t,r):n+=e(aa.BAD_PREFIX,n-1,t,r);continue}if(n-1+s>=t.length){n+=e(aa.OVERRUN,n-1,t,r);continue}let a=i&(1<<8-s-1)-1;for(let c=0;c<s;c++){let l=t[n];if((l&192)!=128){n+=e(aa.MISSING_CONTINUE,n,t,r),a=null;break}a=a<<6|l&63,n++}if(a!==null){if(a>1114111){n+=e(aa.OUT_OF_RANGE,n-1-s,t,r,a);continue}if(a>=55296&&a<=57343){n+=e(aa.UTF16_SURROGATE,n-1-s,t,r,a);continue}if(a<=o){n+=e(aa.OVERLONG,n-1-s,t,r,a);continue}r.push(a)}}return r}function E5(t,e=hx.current){e!=hx.current&&(DV.checkNormalize(),t=t.normalize(e));let r=[];for(let n=0;n<t.length;n++){const i=t.charCodeAt(n);if(i<128)r.push(i);else if(i<2048)r.push(i>>6|192),r.push(i&63|128);else if((i&64512)==55296){n++;const s=t.charCodeAt(n);if(n>=t.length||(s&64512)!==56320)throw new Error("invalid utf-8 string");const o=65536+((i&1023)<<10)+(s&1023);r.push(o>>18|240),r.push(o>>12&63|128),r.push(o>>6&63|128),r.push(o&63|128)}else r.push(i>>12|224),r.push(i>>6&63|128),r.push(i&63|128)}return Y1(r)}function u8e(t){return t.map(e=>e<=65535?String.fromCharCode(e):(e-=65536,String.fromCharCode((e>>10&1023)+55296,(e&1023)+56320))).join("")}function MV(t,e){return u8e(l8e(t,e))}const f8e="web/5.7.1";var d8e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};function h8e(t,e){return d8e(this,void 0,void 0,function*(){e==null&&(e={});const r={method:e.method||"GET",headers:e.headers||{},body:e.body||void 0};if(e.skipFetchSetup!==!0&&(r.mode="cors",r.cache="no-cache",r.credentials="same-origin",r.redirect="follow",r.referrer="client"),e.fetchOptions!=null){const o=e.fetchOptions;o.mode&&(r.mode=o.mode),o.cache&&(r.cache=o.cache),o.credentials&&(r.credentials=o.credentials),o.redirect&&(r.redirect=o.redirect),o.referrer&&(r.referrer=o.referrer)}const n=yield fetch(t,r),i=yield n.arrayBuffer(),s={};return n.headers.forEach?n.headers.forEach((o,a)=>{s[a.toLowerCase()]=o}):n.headers.keys().forEach(o=>{s[o.toLowerCase()]=n.headers.get(o)}),{headers:s,statusCode:n.status,statusMessage:n.statusText,body:Y1(new Uint8Array(i))}})}var p8e=function(t,e,r,n){function i(s){return s instanceof r?s:new r(function(o){o(s)})}return new(r||(r=Promise))(function(s,o){function a(u){try{l(n.next(u))}catch(f){o(f)}}function c(u){try{l(n.throw(u))}catch(f){o(f)}}function l(u){u.done?s(u.value):i(u.value).then(a,c)}l((n=n.apply(t,e||[])).next())})};const Kc=new _r(f8e);function U$(t){return new Promise(e=>{setTimeout(e,t)})}function Id(t,e){if(t==null)return null;if(typeof t=="string")return t;if(t8e(t)){if(e&&(e.split("/")[0]==="text"||e.split(";")[0].trim()==="application/json"))try{return MV(t)}catch{}return r8e(t)}return t}function g8e(t){return E5(t.replace(/%([0-9a-f][0-9a-f])/gi,(e,r)=>String.fromCharCode(parseInt(r,16))))}function UV(t,e,r){const n=typeof t=="object"&&t.throttleLimit!=null?t.throttleLimit:12;Kc.assertArgument(n>0&&n%1===0,"invalid connection throttle limit","connection.throttleLimit",n);const i=typeof t=="object"?t.throttleCallback:null,s=typeof t=="object"&&typeof t.throttleSlotInterval=="number"?t.throttleSlotInterval:100;Kc.assertArgument(s>0&&s%1===0,"invalid connection throttle slot interval","connection.throttleSlotInterval",s);const o=typeof t=="object"?!!t.errorPassThrough:!1,a={};let c=null;const l={method:"GET"};let u=!1,f=120*1e3;if(typeof t=="string")c=t;else if(typeof t=="object"){if((t==null||t.url==null)&&Kc.throwArgumentError("missing URL","connection.url",t),c=t.url,typeof t.timeout=="number"&&t.timeout>0&&(f=t.timeout),t.headers)for(const A in t.headers)a[A.toLowerCase()]={key:A,value:String(t.headers[A])},["if-none-match","if-modified-since"].indexOf(A.toLowerCase())>=0&&(u=!0);if(l.allowGzip=!!t.allowGzip,t.user!=null&&t.password!=null){c.substring(0,6)!=="https:"&&t.allowInsecureAuthentication!==!0&&Kc.throwError("basic authentication requires a secure https url",_r.errors.INVALID_ARGUMENT,{argument:"url",url:c,user:t.user,password:"[REDACTED]"});const A=t.user+":"+t.password;a.authorization={key:"Authorization",value:"Basic "+i8e(E5(A))}}t.skipFetchSetup!=null&&(l.skipFetchSetup=!!t.skipFetchSetup),t.fetchOptions!=null&&(l.fetchOptions=dx(t.fetchOptions))}const h=new RegExp("^data:([^;:]*)?(;base64)?,(.*)$","i"),g=c?c.match(h):null;if(g)try{const A={statusCode:200,statusMessage:"OK",headers:{"content-type":g[1]||"text/plain"},body:g[2]?n8e(g[3]):g8e(g[3])};let N=A.body;return r&&(N=r(A.body,A)),Promise.resolve(N)}catch(A){Kc.throwError("processing response error",_r.errors.SERVER_ERROR,{body:Id(g[1],g[2]),error:A,requestBody:null,requestMethod:"GET",url:c})}e&&(l.method="POST",l.body=e,a["content-type"]==null&&(a["content-type"]={key:"Content-Type",value:"application/octet-stream"}),a["content-length"]==null&&(a["content-length"]={key:"Content-Length",value:String(e.length)}));const _={};Object.keys(a).forEach(A=>{const N=a[A];_[N.key]=N.value}),l.headers=_;const m=(function(){let A=null;return{promise:new Promise(function(k,M){f&&(A=setTimeout(()=>{A!=null&&(A=null,M(Kc.makeError("timeout",_r.errors.TIMEOUT,{requestBody:Id(l.body,_["content-type"]),requestMethod:l.method,timeout:f,url:c})))},f))}),cancel:function(){A!=null&&(clearTimeout(A),A=null)}}})(),b=(function(){return p8e(this,void 0,void 0,function*(){for(let A=0;A<n;A++){let N=null;try{if(N=yield h8e(c,l),A<n){if(N.statusCode===301||N.statusCode===302){const k=N.headers.location||"";if(l.method==="GET"&&k.match(/^https:/)){c=N.headers.location;continue}}else if(N.statusCode===429){let k=!0;if(i&&(k=yield i(A,c)),k){let M=0;const D=N.headers["retry-after"];typeof D=="string"&&D.match(/^[1-9][0-9]*$/)?M=parseInt(D)*1e3:M=s*parseInt(String(Math.random()*Math.pow(2,A))),yield U$(M);continue}}}}catch(k){N=k.response,N==null&&(m.cancel(),Kc.throwError("missing response",_r.errors.SERVER_ERROR,{requestBody:Id(l.body,_["content-type"]),requestMethod:l.method,serverError:k,url:c}))}let R=N.body;if(u&&N.statusCode===304?R=null:!o&&(N.statusCode<200||N.statusCode>=300)&&(m.cancel(),Kc.throwError("bad response",_r.errors.SERVER_ERROR,{status:N.statusCode,headers:N.headers,body:Id(R,N.headers?N.headers["content-type"]:null),requestBody:Id(l.body,_["content-type"]),requestMethod:l.method,url:c})),r)try{const k=yield r(R,N);return m.cancel(),k}catch(k){if(k.throttleRetry&&A<n){let M=!0;if(i&&(M=yield i(A,c)),M){const D=s*parseInt(String(Math.random()*Math.pow(2,A)));yield U$(D);continue}}m.cancel(),Kc.throwError("processing response error",_r.errors.SERVER_ERROR,{body:Id(R,N.headers?N.headers["content-type"]:null),error:k,requestBody:Id(l.body,_["content-type"]),requestMethod:l.method,url:c})}return m.cancel(),R}return Kc.throwError("failed response",_r.errors.SERVER_ERROR,{requestBody:Id(l.body,_["content-type"]),requestMethod:l.method,url:c})})})();return Promise.race([m.promise,b])}function m8e(t,e,r){let n=(s,o)=>{let a=null;if(s!=null)try{a=JSON.parse(MV(s))}catch(c){Kc.throwError("invalid JSON",_r.errors.SERVER_ERROR,{body:s,error:c})}return r&&(a=r(a,o)),a},i=null;if(e!=null){i=E5(e);const s=typeof t=="string"?{url:t}:dx(t);s.headers?Object.keys(s.headers).filter(a=>a.toLowerCase()==="content-type").length!==0||(s.headers=dx(s.headers),s.headers["content-type"]="application/json"):s.headers={"content-type":"application/json"},t=s}return UV(t,i,n)}function y8e(t,e){return e||(e={}),e=dx(e),e.floor==null&&(e.floor=0),e.ceiling==null&&(e.ceiling=1e4),e.interval==null&&(e.interval=250),new Promise(function(r,n){let i=null,s=!1;const o=()=>s?!1:(s=!0,i&&clearTimeout(i),!0);e.timeout&&(i=setTimeout(()=>{o()&&n(new Error("timeout"))},e.timeout));const a=e.retryLimit;let c=0;function l(){return t().then(function(u){if(u!==void 0)o()&&r(u);else if(e.oncePoll)e.oncePoll.once("poll",l);else if(e.onceBlock)e.onceBlock.once("block",l);else if(!s){if(c++,c>a){o()&&n(new Error("retry limit reached"));return}let f=e.interval*parseInt(String(Math.random()*Math.pow(2,c)));f<e.floor&&(f=e.floor),f>e.ceiling&&(f=e.ceiling),setTimeout(l,f)}return null},function(u){o()&&n(u)})}l()})}const _8e=Object.freeze(Object.defineProperty({__proto__:null,_fetchData:UV,fetchJson:m8e,poll:y8e},Symbol.toStringTag,{value:"Module"}));var ff={};const b8e=Hn(c3e),w8e=Hn(T3e),v8e=Hn(L3e),E8e=Hn(G3e),A8e=Hn(rRe),x8e=Hn(iPe),C8e=Hn(JPe),N8e=Hn(a6e),S8e=Hn(m6e),T8e=Hn(b6e),L$=Hn(O6e),I8e=Hn(B6e),R8e=Hn(Q6e),P8e=Hn(u5e),O8e=Hn(_5e),D8e=Hn(L5e),$$=Hn(lOe),k8e=Hn(GOe),M8e=Hn(XOe),U8e=Hn(mIe),L8e=Hn(_8e);var F$;function $8e(){return F$||(F$=1,(function(t){var e=ff&&ff.__createBinding||(Object.create?(function(B,O,T,y){y===void 0&&(y=T),Object.defineProperty(B,y,{enumerable:!0,get:function(){return O[T]}})}):(function(B,O,T,y){y===void 0&&(y=T),B[y]=O[T]})),r=ff&&ff.__setModuleDefault||(Object.create?(function(B,O){Object.defineProperty(B,"default",{enumerable:!0,value:O})}):function(B,O){B.default=O}),n=ff&&ff.__importStar||function(B){if(B&&B.__esModule)return B;var O={};if(B!=null)for(var T in B)T!=="default"&&Object.prototype.hasOwnProperty.call(B,T)&&e(O,B,T);return r(O,B),O};Object.defineProperty(t,"__esModule",{value:!0}),t.formatBytes32String=t.Utf8ErrorFuncs=t.toUtf8String=t.toUtf8CodePoints=t.toUtf8Bytes=t._toEscapedUtf8String=t.nameprep=t.hexDataSlice=t.hexDataLength=t.hexZeroPad=t.hexValue=t.hexStripZeros=t.hexConcat=t.isHexString=t.hexlify=t.base64=t.base58=t.TransactionDescription=t.LogDescription=t.Interface=t.SigningKey=t.HDNode=t.defaultPath=t.isBytesLike=t.isBytes=t.zeroPad=t.stripZeros=t.concat=t.arrayify=t.shallowCopy=t.resolveProperties=t.getStatic=t.defineReadOnly=t.deepCopy=t.checkProperties=t.poll=t.fetchJson=t._fetchData=t.RLP=t.Logger=t.checkResultErrors=t.FormatTypes=t.ParamType=t.FunctionFragment=t.EventFragment=t.ErrorFragment=t.ConstructorFragment=t.Fragment=t.defaultAbiCoder=t.AbiCoder=void 0,t.Indexed=t.Utf8ErrorReason=t.UnicodeNormalizationForm=t.SupportedAlgorithm=t.mnemonicToSeed=t.isValidMnemonic=t.entropyToMnemonic=t.mnemonicToEntropy=t.getAccountPath=t.verifyTypedData=t.verifyMessage=t.recoverPublicKey=t.computePublicKey=t.recoverAddress=t.computeAddress=t.getJsonWalletAddress=t.TransactionTypes=t.serializeTransaction=t.parseTransaction=t.accessListify=t.joinSignature=t.splitSignature=t.soliditySha256=t.solidityKeccak256=t.solidityPack=t.shuffled=t.randomBytes=t.sha512=t.sha256=t.ripemd160=t.keccak256=t.computeHmac=t.commify=t.parseUnits=t.formatUnits=t.parseEther=t.formatEther=t.isAddress=t.getCreate2Address=t.getContractAddress=t.getIcapAddress=t.getAddress=t._TypedDataEncoder=t.id=t.isValidName=t.namehash=t.hashMessage=t.dnsEncode=t.parseBytes32String=void 0;var i=b8e;Object.defineProperty(t,"AbiCoder",{enumerable:!0,get:function(){return i.AbiCoder}}),Object.defineProperty(t,"checkResultErrors",{enumerable:!0,get:function(){return i.checkResultErrors}}),Object.defineProperty(t,"ConstructorFragment",{enumerable:!0,get:function(){return i.ConstructorFragment}}),Object.defineProperty(t,"defaultAbiCoder",{enumerable:!0,get:function(){return i.defaultAbiCoder}}),Object.defineProperty(t,"ErrorFragment",{enumerable:!0,get:function(){return i.ErrorFragment}}),Object.defineProperty(t,"EventFragment",{enumerable:!0,get:function(){return i.EventFragment}}),Object.defineProperty(t,"FormatTypes",{enumerable:!0,get:function(){return i.FormatTypes}}),Object.defineProperty(t,"Fragment",{enumerable:!0,get:function(){return i.Fragment}}),Object.defineProperty(t,"FunctionFragment",{enumerable:!0,get:function(){return i.FunctionFragment}}),Object.defineProperty(t,"Indexed",{enumerable:!0,get:function(){return i.Indexed}}),Object.defineProperty(t,"Interface",{enumerable:!0,get:function(){return i.Interface}}),Object.defineProperty(t,"LogDescription",{enumerable:!0,get:function(){return i.LogDescription}}),Object.defineProperty(t,"ParamType",{enumerable:!0,get:function(){return i.ParamType}}),Object.defineProperty(t,"TransactionDescription",{enumerable:!0,get:function(){return i.TransactionDescription}});var s=w8e;Object.defineProperty(t,"getAddress",{enumerable:!0,get:function(){return s.getAddress}}),Object.defineProperty(t,"getCreate2Address",{enumerable:!0,get:function(){return s.getCreate2Address}}),Object.defineProperty(t,"getContractAddress",{enumerable:!0,get:function(){return s.getContractAddress}}),Object.defineProperty(t,"getIcapAddress",{enumerable:!0,get:function(){return s.getIcapAddress}}),Object.defineProperty(t,"isAddress",{enumerable:!0,get:function(){return s.isAddress}});var o=n(v8e);t.base64=o;var a=E8e;Object.defineProperty(t,"base58",{enumerable:!0,get:function(){return a.Base58}});var c=A8e;Object.defineProperty(t,"arrayify",{enumerable:!0,get:function(){return c.arrayify}}),Object.defineProperty(t,"concat",{enumerable:!0,get:function(){return c.concat}}),Object.defineProperty(t,"hexConcat",{enumerable:!0,get:function(){return c.hexConcat}}),Object.defineProperty(t,"hexDataSlice",{enumerable:!0,get:function(){return c.hexDataSlice}}),Object.defineProperty(t,"hexDataLength",{enumerable:!0,get:function(){return c.hexDataLength}}),Object.defineProperty(t,"hexlify",{enumerable:!0,get:function(){return c.hexlify}}),Object.defineProperty(t,"hexStripZeros",{enumerable:!0,get:function(){return c.hexStripZeros}}),Object.defineProperty(t,"hexValue",{enumerable:!0,get:function(){return c.hexValue}}),Object.defineProperty(t,"hexZeroPad",{enumerable:!0,get:function(){return c.hexZeroPad}}),Object.defineProperty(t,"isBytes",{enumerable:!0,get:function(){return c.isBytes}}),Object.defineProperty(t,"isBytesLike",{enumerable:!0,get:function(){return c.isBytesLike}}),Object.defineProperty(t,"isHexString",{enumerable:!0,get:function(){return c.isHexString}}),Object.defineProperty(t,"joinSignature",{enumerable:!0,get:function(){return c.joinSignature}}),Object.defineProperty(t,"zeroPad",{enumerable:!0,get:function(){return c.zeroPad}}),Object.defineProperty(t,"splitSignature",{enumerable:!0,get:function(){return c.splitSignature}}),Object.defineProperty(t,"stripZeros",{enumerable:!0,get:function(){return c.stripZeros}});var l=x8e;Object.defineProperty(t,"_TypedDataEncoder",{enumerable:!0,get:function(){return l._TypedDataEncoder}}),Object.defineProperty(t,"dnsEncode",{enumerable:!0,get:function(){return l.dnsEncode}}),Object.defineProperty(t,"hashMessage",{enumerable:!0,get:function(){return l.hashMessage}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return l.id}}),Object.defineProperty(t,"isValidName",{enumerable:!0,get:function(){return l.isValidName}}),Object.defineProperty(t,"namehash",{enumerable:!0,get:function(){return l.namehash}});var u=C8e;Object.defineProperty(t,"defaultPath",{enumerable:!0,get:function(){return u.defaultPath}}),Object.defineProperty(t,"entropyToMnemonic",{enumerable:!0,get:function(){return u.entropyToMnemonic}}),Object.defineProperty(t,"getAccountPath",{enumerable:!0,get:function(){return u.getAccountPath}}),Object.defineProperty(t,"HDNode",{enumerable:!0,get:function(){return u.HDNode}}),Object.defineProperty(t,"isValidMnemonic",{enumerable:!0,get:function(){return u.isValidMnemonic}}),Object.defineProperty(t,"mnemonicToEntropy",{enumerable:!0,get:function(){return u.mnemonicToEntropy}}),Object.defineProperty(t,"mnemonicToSeed",{enumerable:!0,get:function(){return u.mnemonicToSeed}});var f=N8e;Object.defineProperty(t,"getJsonWalletAddress",{enumerable:!0,get:function(){return f.getJsonWalletAddress}});var h=S8e;Object.defineProperty(t,"keccak256",{enumerable:!0,get:function(){return h.keccak256}});var g=T8e;Object.defineProperty(t,"Logger",{enumerable:!0,get:function(){return g.Logger}});var _=L$;Object.defineProperty(t,"computeHmac",{enumerable:!0,get:function(){return _.computeHmac}}),Object.defineProperty(t,"ripemd160",{enumerable:!0,get:function(){return _.ripemd160}}),Object.defineProperty(t,"sha256",{enumerable:!0,get:function(){return _.sha256}}),Object.defineProperty(t,"sha512",{enumerable:!0,get:function(){return _.sha512}});var m=I8e;Object.defineProperty(t,"solidityKeccak256",{enumerable:!0,get:function(){return m.keccak256}}),Object.defineProperty(t,"solidityPack",{enumerable:!0,get:function(){return m.pack}}),Object.defineProperty(t,"soliditySha256",{enumerable:!0,get:function(){return m.sha256}});var b=R8e;Object.defineProperty(t,"randomBytes",{enumerable:!0,get:function(){return b.randomBytes}}),Object.defineProperty(t,"shuffled",{enumerable:!0,get:function(){return b.shuffled}});var A=P8e;Object.defineProperty(t,"checkProperties",{enumerable:!0,get:function(){return A.checkProperties}}),Object.defineProperty(t,"deepCopy",{enumerable:!0,get:function(){return A.deepCopy}}),Object.defineProperty(t,"defineReadOnly",{enumerable:!0,get:function(){return A.defineReadOnly}}),Object.defineProperty(t,"getStatic",{enumerable:!0,get:function(){return A.getStatic}}),Object.defineProperty(t,"resolveProperties",{enumerable:!0,get:function(){return A.resolveProperties}}),Object.defineProperty(t,"shallowCopy",{enumerable:!0,get:function(){return A.shallowCopy}});var N=n(O8e);t.RLP=N;var R=D8e;Object.defineProperty(t,"computePublicKey",{enumerable:!0,get:function(){return R.computePublicKey}}),Object.defineProperty(t,"recoverPublicKey",{enumerable:!0,get:function(){return R.recoverPublicKey}}),Object.defineProperty(t,"SigningKey",{enumerable:!0,get:function(){return R.SigningKey}});var k=$$;Object.defineProperty(t,"formatBytes32String",{enumerable:!0,get:function(){return k.formatBytes32String}}),Object.defineProperty(t,"nameprep",{enumerable:!0,get:function(){return k.nameprep}}),Object.defineProperty(t,"parseBytes32String",{enumerable:!0,get:function(){return k.parseBytes32String}}),Object.defineProperty(t,"_toEscapedUtf8String",{enumerable:!0,get:function(){return k._toEscapedUtf8String}}),Object.defineProperty(t,"toUtf8Bytes",{enumerable:!0,get:function(){return k.toUtf8Bytes}}),Object.defineProperty(t,"toUtf8CodePoints",{enumerable:!0,get:function(){return k.toUtf8CodePoints}}),Object.defineProperty(t,"toUtf8String",{enumerable:!0,get:function(){return k.toUtf8String}}),Object.defineProperty(t,"Utf8ErrorFuncs",{enumerable:!0,get:function(){return k.Utf8ErrorFuncs}});var M=k8e;Object.defineProperty(t,"accessListify",{enumerable:!0,get:function(){return M.accessListify}}),Object.defineProperty(t,"computeAddress",{enumerable:!0,get:function(){return M.computeAddress}}),Object.defineProperty(t,"parseTransaction",{enumerable:!0,get:function(){return M.parse}}),Object.defineProperty(t,"recoverAddress",{enumerable:!0,get:function(){return M.recoverAddress}}),Object.defineProperty(t,"serializeTransaction",{enumerable:!0,get:function(){return M.serialize}}),Object.defineProperty(t,"TransactionTypes",{enumerable:!0,get:function(){return M.TransactionTypes}});var D=M8e;Object.defineProperty(t,"commify",{enumerable:!0,get:function(){return D.commify}}),Object.defineProperty(t,"formatEther",{enumerable:!0,get:function(){return D.formatEther}}),Object.defineProperty(t,"parseEther",{enumerable:!0,get:function(){return D.parseEther}}),Object.defineProperty(t,"formatUnits",{enumerable:!0,get:function(){return D.formatUnits}}),Object.defineProperty(t,"parseUnits",{enumerable:!0,get:function(){return D.parseUnits}});var H=U8e;Object.defineProperty(t,"verifyMessage",{enumerable:!0,get:function(){return H.verifyMessage}}),Object.defineProperty(t,"verifyTypedData",{enumerable:!0,get:function(){return H.verifyTypedData}});var S=L8e;Object.defineProperty(t,"_fetchData",{enumerable:!0,get:function(){return S._fetchData}}),Object.defineProperty(t,"fetchJson",{enumerable:!0,get:function(){return S.fetchJson}}),Object.defineProperty(t,"poll",{enumerable:!0,get:function(){return S.poll}});var C=L$;Object.defineProperty(t,"SupportedAlgorithm",{enumerable:!0,get:function(){return C.SupportedAlgorithm}});var $=$$;Object.defineProperty(t,"UnicodeNormalizationForm",{enumerable:!0,get:function(){return $.UnicodeNormalizationForm}}),Object.defineProperty(t,"Utf8ErrorReason",{enumerable:!0,get:function(){return $.Utf8ErrorReason}})})(ff)),ff}var F8e=$8e();const og={signMessage:async(t,e,r)=>{if(!e)throw new Error("signMessage - provider is undefined");const n=ic(t)?t:cs(N2(t));return await e.request({method:"personal_sign",params:[n,r]})},estimateGas:async(t,e,r,n)=>{if(!e)throw new Error("estimateGas - provider is undefined");if(!r)throw new Error("estimateGas - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("estimateGas - chainNamespace is not eip155");const i={from:t.address,to:t.to,data:t.data,type:0};return(await new Gg(e,n).getSigner(r).estimateGas(i)).toBigInt()},sendTransaction:async(t,e,r,n)=>{if(!e)throw new Error("sendTransaction - provider is undefined");if(!r)throw new Error("sendTransaction - address is undefined");if(t.chainNamespace&&t.chainNamespace!=="eip155")throw new Error("sendTransaction - chainNamespace is not eip155");const i={to:t.to,value:t.value,gasLimit:t.gas,gasPrice:t.gasPrice,data:t.data,type:0};return(await(await new Gg(e,n).getSigner(r).sendTransaction(i)).wait())?.blockHash||null},writeContract:async(t,e,r,n)=>{if(!e)throw new Error("writeContract - provider is undefined");if(!r)throw new Error("writeContract - address is undefined");const s=new Gg(e,n).getSigner(r),o=new cu(t.tokenAddress,t.abi,s);if(!o||!t.method)throw new Error("Contract method is undefined");const a=o[t.method];if(a)return await a(...t.args);throw new Error("Contract method is undefined")},parseWalletCapabilities:t=>{try{return JSON.parse(t)}catch{throw new Error("Error parsing wallet capabilities")}},parseUnits:(t,e)=>b5(t,e).toBigInt(),formatUnits:_5};class B8e extends Hz{constructor(){super({adapterType:we.ADAPTER_TYPES.ETHERS5,namespace:we.CHAIN.EVM}),this.balancePromises={}}async createEthersConfig(e){if(!e.metadata)return;let r;function n(){if(r)return r;if(!(typeof window>"u")&&window.ethereum)return r=window.ethereum,r}async function i(){const{SafeProvider:a}=await Wi(async()=>{const{SafeProvider:h}=await import("./SafeProvider-BPcQfhGb.js");return{SafeProvider:h}},__vite__mapDeps([50,51,52]),import.meta.url),{default:c}=await Wi(async()=>{const{default:h}=await import("./index-CXbGvcf0.js");return{default:h}},__vite__mapDeps([53,51]),import.meta.url),l=new c,u=await l.safe.getInfo(),f=new a(u,l);return await f.connect().catch(h=>{console.info("Failed to auto-connect to Safe:",h)}),f}async function s(){try{const{createCoinbaseWalletSDK:a}=await Wi(async()=>{const{createCoinbaseWalletSDK:l}=await import("./index-BaULtcfG.js");return{createCoinbaseWalletSDK:l}},__vite__mapDeps([54,52,1]),import.meta.url);return typeof window>"u"?void 0:a({appName:e?.metadata?.name,appLogoUrl:e?.metadata?.icons[0],appChainIds:e.networks?.map(l=>l.id)||[1,84532],preference:{options:e.coinbasePreference??"all"}}).getProvider()}catch(a){console.error("Failed to import Coinbase Wallet SDK:",a);return}}const o={metadata:e.metadata};if(e.enableInjected!==!1&&(o.injected=n()),e.enableCoinbase!==!1){const a=await s();a&&(o.coinbase=a)}if(Ye.isSafeApp()){const a=await i();a&&(o.safe=a)}return o.EIP6963=e.enableEIP6963!==!1,o}async signMessage(e){const{message:r,address:n,provider:i}=e;if(!i)throw new Error("Provider is undefined");try{return{signature:await og.signMessage(r,i,n)}}catch{throw new Error("EthersAdapter:signMessage - Sign message failed")}}async sendTransaction(e){if(!e.provider)throw new Error("Provider is undefined");return{hash:await og.sendTransaction({value:Number.isNaN(Number(e.value))?BigInt(0):BigInt(e.value),to:e.to,data:e.data?e.data:"0x",gas:e.gas?BigInt(e.gas):void 0,gasPrice:e.gasPrice?BigInt(e.gasPrice):void 0,address:tt.state.address},e.provider,tt.state.address,Number(e.caipNetwork?.id))}}async writeContract(e){if(!e.provider)throw new Error("Provider is undefined");const{address:r}=ro.parseCaipAddress(e.caipAddress);return{hash:await og.writeContract(e,e.provider,r,Number(e.caipNetwork?.id))}}async estimateGas(e){const{provider:r,caipNetwork:n,address:i}=e;if(!r)throw new Error("Provider is undefined");try{return{gas:await og.estimateGas({data:e.data,to:e.to,address:i},r,i,Number(n?.id))}}catch{throw new Error("EthersAdapter:estimateGas - Estimate gas failed")}}parseUnits(e){return og.parseUnits(e.value,e.decimals)}formatUnits(e){return og.formatUnits(e.value,e.decimals)}async syncConnection(e){const{id:r,chainId:n}=e,i=this.connectors.find(c=>c.id===r),s=i?.provider;if(!s)throw new Error("Provider not found");const o=await s.request({method:"eth_requestAccounts"}),a=await s.request({method:"eth_chainId"});if(this.listenProviderEvents(r,s),!o[0])throw new Error("No accounts found");if(!i?.type)throw new Error("Connector type not found");return{address:this.toChecksummedAddress(o[0]),chainId:Number(a)||Number(n),provider:s,type:i.type,id:r}}async syncConnectors(e){this.ethersConfig=await this.createEthersConfig(e),this.ethersConfig?.EIP6963&&this.listenInjectedConnector(!0),Object.keys(this.ethersConfig||{}).filter(n=>n!=="metadata"&&n!=="EIP6963").forEach(n=>{const i=n==="coinbase"?"coinbaseWalletSDK":n,s=n===we.CONNECTOR_ID.INJECTED;this.namespace&&this.addConnector({id:i,explorerId:pu.ConnectorExplorerIds[i],imageUrl:e?.connectorImages?.[i],name:pu.ConnectorNamesMap[i]||"Unknown",imageId:pu.ConnectorImageIds[i],type:pu.ConnectorTypesMap[i]??"EXTERNAL",info:s?void 0:{rdns:i},chain:this.namespace,chains:[],provider:this.ethersConfig?.[n]})})}async disconnectAll(){return{connections:await Promise.all(this.connections.map(async r=>{const n=this.connectors.find(i=>Mi.isLowerCaseMatch(i.id,r.connectorId));if(!n)throw new Error("Connector not found");return await this.disconnect({id:n.id}),r}))}}async syncConnections({connectToFirstConnector:e,getConnectorStorageInfo:r}){await this.connectionManager?.syncConnections({connectors:this.connectors,caipNetworks:this.getCaipNetworks(),universalProvider:this.universalProvider,onConnection:this.addConnection.bind(this),onListenProvider:this.listenProviderEvents.bind(this),getConnectionStatusInfo(n){return r(n)}}),e&&this.emitFirstAvailableConnection()}async setUniversalProvider(e){this.universalProvider=e;const r=we.CONNECTOR_ID.WALLET_CONNECT;return Hf.listenWcProvider({universalProvider:e,namespace:we.CHAIN.EVM,onConnect:n=>this.onConnect(n,r),onDisconnect:()=>this.onDisconnect(r),onAccountsChanged:n=>this.onAccountsChanged(n,r,!1),onChainChanged:n=>this.onChainChanged(n,r)}),this.addConnector(new f6({provider:e,caipNetworks:this.getCaipNetworks(),namespace:we.CHAIN.EVM})),Promise.resolve()}eip6963EventHandler(e){if(e.detail){const{info:r,provider:n}=e.detail;if(!this.connectors?.find(s=>s.name===r?.name)){const s=pu.ConnectorTypesMap[we.CONNECTOR_ID.EIP6963],o=r?.rdns||r?.name||r?.uuid;this.namespace&&o&&this.addConnector({id:o,type:s,imageUrl:r?.icon,name:r?.name||"Unknown",provider:n,info:r,chain:this.namespace,chains:[]})}}}listenInjectedConnector(e){if(typeof window<"u"&&e){const r=this.eip6963EventHandler.bind(this);window.addEventListener(cr.EIP6963_ANNOUNCE_EVENT,r),window.dispatchEvent(new Event(cr.EIP6963_REQUEST_EVENT))}}async connect({id:e,address:r,type:n,chainId:i,socialUri:s}){const o=this.connectors.find(f=>Mi.isLowerCaseMatch(f.id,e));if(!o)throw new Error("Connector not found");const a=this.connectionManager?.getConnection({address:r,connectorId:e,connections:this.connections,connectors:this.connectors});if(a){const f=a.caipNetwork;if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to connect");if(a.account)return this.emit("accountChanged",{address:this.toChecksummedAddress(a.account.address),chainId:f.id,connector:o}),{address:this.toChecksummedAddress(a.account.address),chainId:f.id,provider:o.provider,type:o.type,id:e}}const c=o?.provider;if(!c)throw new Error("Provider not found");let l=[],u;if(n==="AUTH"){const{address:f,accounts:h}=await ca.authConnectorAuthenticate({authConnector:c,chainNamespace:we.CHAIN.EVM,chainId:i,socialUri:s,preferredAccountType:jo("eip155")}),g=this.getCaipNetworks().find(_=>_.id.toString()===i?.toString());l=[f],this.addConnection({connectorId:e,accounts:h?h.map(_=>({address:_.address})):l.map(_=>({address:_})),caipNetwork:g,auth:{name:De.getConnectedSocialProvider(),username:De.getConnectedSocialUsername()}}),this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o})}else{l=await c.request({method:"eth_requestAccounts"}),u=await c.request({method:"eth_chainId"});const f=this.getCaipNetworks().find(h=>h.id.toString()===i?.toString());if(u!==i){if(!f)throw new Error("Ethers5Adapter:connect - could not find the caipNetwork to switch");try{await this.switchNetwork({caipNetwork:f,provider:c,providerType:n})}catch{throw new Error("Ethers5Adapter:connect - Switch network failed")}}this.emit("accountChanged",{address:this.toChecksummedAddress(l[0]),chainId:Number(i),connector:o}),this.addConnection({connectorId:e,accounts:l.map(h=>({address:h})),caipNetwork:f}),o.id!==we.CONNECTOR_ID.WALLET_CONNECT&&this.listenProviderEvents(e,c)}return{address:this.toChecksummedAddress(l[0]),chainId:Number(i),provider:c,type:n,id:e}}async getAccounts(e){const r=this.connectors.find(o=>o.id===e.id),n=r?.provider;if(!n||!r)throw new Error("Provider not found");const i=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});if(i)return{accounts:i.accounts.map(({address:o})=>Ye.createAccount(we.CHAIN.EVM,o,"eoa"))};if(e.id===we.CONNECTOR_ID.AUTH){const o=r.provider;if(!o.user)return{accounts:[]};const{accounts:a,address:c}=o.user;return Promise.resolve({accounts:(a||[{address:c,type:"eoa"}]).map(l=>Ye.createAccount(we.CHAIN.EVM,l.address,l.type))})}return{accounts:(await n.request({method:"eth_requestAccounts"})).map(o=>Ye.createAccount(we.CHAIN.EVM,o,"eoa"))}}async reconnect(e){const{id:r,chainId:n}=e,i=this.connectors.find(s=>s.id===r);i&&i.type==="AUTH"&&n&&await ca.authConnectorAuthenticate({authConnector:i.provider,chainNamespace:we.CHAIN.EVM,chainId:n,preferredAccountType:jo("eip155")})}async disconnect(e){if(e.id){const r=this.connectors.find(i=>Mi.isLowerCaseMatch(i.id,e.id));if(!r)throw new Error("Connector not found");const n=this.connectionManager?.getConnection({connectorId:e.id,connections:this.connections,connectors:this.connectors});switch(r.type){case cr.CONNECTOR_TYPE_WALLET_CONNECT:r.provider.session&&r.provider.disconnect();break;case cr.CONNECTOR_TYPE_AUTH:await r.provider?.disconnect();break;case cr.CONNECTOR_TYPE_ANNOUNCED:case cr.CONNECTOR_TYPE_EXTERNAL:await this.revokeProviderPermissions(r.provider);break;default:throw new Error("Unsupported provider type")}return r.id&&(this.removeProviderListeners(r.id),this.deleteConnection(r.id)),this.connections.length===0?this.emit("disconnect"):this.emitFirstAvailableConnection(),{connections:n?[n]:[]}}return this.disconnectAll()}async getBalance(e){const r=e.address,n=this.getCaipNetworks().find(i=>i.id.toString()===e.chainId?.toString());if(!r)return Promise.resolve({balance:"0.00",symbol:"ETH"});if(n){const i=`${n.caipNetworkId}:${r}`,s=this.balancePromises[i];if(s)return s;const o=De.getNativeBalanceCacheForCaipAddress(i);if(o)return{balance:o.balance,symbol:o.symbol};const a=new Xb(n.rpcUrls.default.http[0],{chainId:n.id,name:n.name});if(a)try{return this.balancePromises[i]=new Promise(async c=>{try{const l=await a.getBalance(r),u=F8e.formatEther(l);De.updateNativeBalanceCache({caipAddress:i,balance:u,symbol:n.nativeCurrency.symbol,timestamp:Date.now()}),c({balance:u,symbol:n.nativeCurrency.symbol})}catch{c({balance:"0.00",symbol:"ETH"})}}).finally(()=>{delete this.balancePromises[i]}),this.balancePromises[i]||{balance:"0.00",symbol:"ETH"}}catch{return{balance:"0.00",symbol:"ETH"}}}return{balance:"0.00",symbol:"ETH"}}async switchNetwork(e){const{caipNetwork:r,provider:n,providerType:i}=e;if(i==="AUTH"){await super.switchNetwork(e);return}try{await n.request({method:"wallet_switchEthereumChain",params:[{chainId:jg.numberToHexString(r.id)}]})}catch(s){if(s.code===Uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID||s.code===Uf.ERROR_INVALID_CHAIN_ID||s.code===Uf.ERROR_CODE_DEFAULT||s?.data?.originalError?.code===Uf.ERROR_CODE_UNRECOGNIZED_CHAIN_ID)await jg.addEthereumChain(n,r);else if(i==="ANNOUNCED"||i==="EXTERNAL"||i==="INJECTED")throw new Error("Chain is not supported")}}getWalletConnectProvider(){return this.connectors.find(e=>e.type==="WALLET_CONNECT")?.provider}async revokeProviderPermissions(e){try{(await e.request({method:"wallet_getPermissions"})).find(i=>i.parentCapability==="eth_accounts")&&await e.request({method:"wallet_revokePermissions",params:[{eth_accounts:{}}]})}catch(r){console.info("Could not revoke permissions from wallet. Disconnecting...",r)}}async getCapabilities(e){const r=qt.getProvider(we.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getCapabilities",params:[e]})}async grantPermissions(e){const r=qt.getProvider(we.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_grantPermissions",params:e})}async revokePermissions(e){const r=qt.getProvider(we.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_revokePermissions",params:[e]})}async walletGetAssets(e){const r=qt.getProvider(we.CHAIN.EVM);if(!r)throw new Error("Provider is undefined");return await r.request({method:"wallet_getAssets",params:[e]})}toChecksummedAddress(e){try{return yh(e.toLowerCase())}catch{return e}}}const H8e=Bn({__name:"App",setup(t){const e="7331f707a054660b650a9a92221ba680",r={name:"BCL",description:"BCL",url:"http://www.bcl.capital/#/ ",icons:[""]};return fNe({adapters:[new B8e],networks:[OU],defaultNetwork:OU,metadata:r,projectId:e,features:{analytics:!0,email:!1,swaps:!1,socials:!1,onramp:!1,send:!1,history:!1},themeMode:"light"}),(n,i)=>{const s=wie("router-view");return yr(),S0(s)}}});/*!
  * vue-router v4.5.1
  * (c) 2025 Eduardo San Martin Morote
  * @license MIT
  */const Cg=typeof document<"u";function LV(t){return typeof t=="object"||"displayName"in t||"props"in t||"__vccOpts"in t}function j8e(t){return t.__esModule||t[Symbol.toStringTag]==="Module"||t.default&&LV(t.default)}const Ir=Object.assign;function $T(t,e){const r={};for(const n in e){const i=e[n];r[n]=Ml(i)?i.map(t):t(i)}return r}const H_=()=>{},Ml=Array.isArray,$V=/#/g,W8e=/&/g,q8e=/\//g,z8e=/=/g,G8e=/\?/g,FV=/\+/g,K8e=/%5B/g,V8e=/%5D/g,BV=/%5E/g,J8e=/%60/g,HV=/%7B/g,Y8e=/%7C/g,jV=/%7D/g,X8e=/%20/g;function A5(t){return encodeURI(""+t).replace(Y8e,"|").replace(K8e,"[").replace(V8e,"]")}function Q8e(t){return A5(t).replace(HV,"{").replace(jV,"}").replace(BV,"^")}function OR(t){return A5(t).replace(FV,"%2B").replace(X8e,"+").replace($V,"%23").replace(W8e,"%26").replace(J8e,"`").replace(HV,"{").replace(jV,"}").replace(BV,"^")}function Z8e(t){return OR(t).replace(z8e,"%3D")}function e4e(t){return A5(t).replace($V,"%23").replace(G8e,"%3F")}function t4e(t){return t==null?"":e4e(t).replace(q8e,"%2F")}function d1(t){try{return decodeURIComponent(""+t)}catch{}return""+t}const r4e=/\/$/,n4e=t=>t.replace(r4e,"");function FT(t,e,r="/"){let n,i={},s="",o="";const a=e.indexOf("#");let c=e.indexOf("?");return a<c&&a>=0&&(c=-1),c>-1&&(n=e.slice(0,c),s=e.slice(c+1,a>-1?a:e.length),i=t(s)),a>-1&&(n=n||e.slice(0,a),o=e.slice(a,e.length)),n=a4e(n??e,r),{fullPath:n+(s&&"?")+s+o,path:n,query:i,hash:d1(o)}}function i4e(t,e){const r=e.query?t(e.query):"";return e.path+(r&&"?")+r+(e.hash||"")}function B$(t,e){return!e||!t.toLowerCase().startsWith(e.toLowerCase())?t:t.slice(e.length)||"/"}function s4e(t,e,r){const n=e.matched.length-1,i=r.matched.length-1;return n>-1&&n===i&&ym(e.matched[n],r.matched[i])&&WV(e.params,r.params)&&t(e.query)===t(r.query)&&e.hash===r.hash}function ym(t,e){return(t.aliasOf||t)===(e.aliasOf||e)}function WV(t,e){if(Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(!o4e(t[r],e[r]))return!1;return!0}function o4e(t,e){return Ml(t)?H$(t,e):Ml(e)?H$(e,t):t===e}function H$(t,e){return Ml(e)?t.length===e.length&&t.every((r,n)=>r===e[n]):t.length===1&&t[0]===e}function a4e(t,e){if(t.startsWith("/"))return t;if(!t)return e;const r=e.split("/"),n=t.split("/"),i=n[n.length-1];(i===".."||i===".")&&n.push("");let s=r.length-1,o,a;for(o=0;o<n.length;o++)if(a=n[o],a!==".")if(a==="..")s>1&&s--;else break;return r.slice(0,s).join("/")+"/"+n.slice(o).join("/")}const Rd={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0};var h1;(function(t){t.pop="pop",t.push="push"})(h1||(h1={}));var j_;(function(t){t.back="back",t.forward="forward",t.unknown=""})(j_||(j_={}));function c4e(t){if(!t)if(Cg){const e=document.querySelector("base");t=e&&e.getAttribute("href")||"/",t=t.replace(/^\w+:\/\/[^\/]+/,"")}else t="/";return t[0]!=="/"&&t[0]!=="#"&&(t="/"+t),n4e(t)}const l4e=/^[^#]+#/;function u4e(t,e){return t.replace(l4e,"#")+e}function f4e(t,e){const r=document.documentElement.getBoundingClientRect(),n=t.getBoundingClientRect();return{behavior:e.behavior,left:n.left-r.left-(e.left||0),top:n.top-r.top-(e.top||0)}}const P2=()=>({left:window.scrollX,top:window.scrollY});function d4e(t){let e;if("el"in t){const r=t.el,n=typeof r=="string"&&r.startsWith("#"),i=typeof r=="string"?n?document.getElementById(r.slice(1)):document.querySelector(r):r;if(!i)return;e=f4e(i,t)}else e=t;"scrollBehavior"in document.documentElement.style?window.scrollTo(e):window.scrollTo(e.left!=null?e.left:window.scrollX,e.top!=null?e.top:window.scrollY)}function j$(t,e){return(history.state?history.state.position-e:-1)+t}const DR=new Map;function h4e(t,e){DR.set(t,e)}function p4e(t){const e=DR.get(t);return DR.delete(t),e}let g4e=()=>location.protocol+"//"+location.host;function qV(t,e){const{pathname:r,search:n,hash:i}=e,s=t.indexOf("#");if(s>-1){let a=i.includes(t.slice(s))?t.slice(s).length:1,c=i.slice(a);return c[0]!=="/"&&(c="/"+c),B$(c,"")}return B$(r,t)+n+i}function m4e(t,e,r,n){let i=[],s=[],o=null;const a=({state:h})=>{const g=qV(t,location),_=r.value,m=e.value;let b=0;if(h){if(r.value=g,e.value=h,o&&o===_){o=null;return}b=m?h.position-m.position:0}else n(g);i.forEach(A=>{A(r.value,_,{delta:b,type:h1.pop,direction:b?b>0?j_.forward:j_.back:j_.unknown})})};function c(){o=r.value}function l(h){i.push(h);const g=()=>{const _=i.indexOf(h);_>-1&&i.splice(_,1)};return s.push(g),g}function u(){const{history:h}=window;h.state&&h.replaceState(Ir({},h.state,{scroll:P2()}),"")}function f(){for(const h of s)h();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",u)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:c,listen:l,destroy:f}}function W$(t,e,r,n=!1,i=!1){return{back:t,current:e,forward:r,replaced:n,position:window.history.length,scroll:i?P2():null}}function y4e(t){const{history:e,location:r}=window,n={value:qV(t,r)},i={value:e.state};i.value||s(n.value,{back:null,current:n.value,forward:null,position:e.length-1,replaced:!0,scroll:null},!0);function s(c,l,u){const f=t.indexOf("#"),h=f>-1?(r.host&&document.querySelector("base")?t:t.slice(f))+c:g4e()+t+c;try{e[u?"replaceState":"pushState"](l,"",h),i.value=l}catch(g){console.error(g),r[u?"replace":"assign"](h)}}function o(c,l){const u=Ir({},e.state,W$(i.value.back,c,i.value.forward,!0),l,{position:i.value.position});s(c,u,!0),n.value=c}function a(c,l){const u=Ir({},i.value,e.state,{forward:c,scroll:P2()});s(u.current,u,!0);const f=Ir({},W$(n.value,c,null),{position:u.position+1},l);s(c,f,!1),n.value=c}return{location:n,state:i,push:a,replace:o}}function _4e(t){t=c4e(t);const e=y4e(t),r=m4e(t,e.state,e.location,e.replace);function n(s,o=!0){o||r.pauseListeners(),history.go(s)}const i=Ir({location:"",base:t,go:n,createHref:u4e.bind(null,t)},e,r);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>e.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>e.state.value}),i}function b4e(t){return t=location.host?t||location.pathname+location.search:"",t.includes("#")||(t+="#"),_4e(t)}function w4e(t){return typeof t=="string"||t&&typeof t=="object"}function zV(t){return typeof t=="string"||typeof t=="symbol"}const GV=Symbol("");var q$;(function(t){t[t.aborted=4]="aborted",t[t.cancelled=8]="cancelled",t[t.duplicated=16]="duplicated"})(q$||(q$={}));function _m(t,e){return Ir(new Error,{type:t,[GV]:!0},e)}function df(t,e){return t instanceof Error&&GV in t&&(e==null||!!(t.type&e))}const z$="[^/]+?",v4e={sensitive:!1,strict:!1,start:!0,end:!0},E4e=/[.+*?^${}()[\]/\\]/g;function A4e(t,e){const r=Ir({},v4e,e),n=[];let i=r.start?"^":"";const s=[];for(const l of t){const u=l.length?[]:[90];r.strict&&!l.length&&(i+="/");for(let f=0;f<l.length;f++){const h=l[f];let g=40+(r.sensitive?.25:0);if(h.type===0)f||(i+="/"),i+=h.value.replace(E4e,"\\$&"),g+=40;else if(h.type===1){const{value:_,repeatable:m,optional:b,regexp:A}=h;s.push({name:_,repeatable:m,optional:b});const N=A||z$;if(N!==z$){g+=10;try{new RegExp(`(${N})`)}catch(k){throw new Error(`Invalid custom RegExp for param "${_}" (${N}): `+k.message)}}let R=m?`((?:${N})(?:/(?:${N}))*)`:`(${N})`;f||(R=b&&l.length<2?`(?:/${R})`:"/"+R),b&&(R+="?"),i+=R,g+=20,b&&(g+=-8),m&&(g+=-20),N===".*"&&(g+=-50)}u.push(g)}n.push(u)}if(r.strict&&r.end){const l=n.length-1;n[l][n[l].length-1]+=.7000000000000001}r.strict||(i+="/?"),r.end?i+="$":r.strict&&!i.endsWith("/")&&(i+="(?:/|$)");const o=new RegExp(i,r.sensitive?"":"i");function a(l){const u=l.match(o),f={};if(!u)return null;for(let h=1;h<u.length;h++){const g=u[h]||"",_=s[h-1];f[_.name]=g&&_.repeatable?g.split("/"):g}return f}function c(l){let u="",f=!1;for(const h of t){(!f||!u.endsWith("/"))&&(u+="/"),f=!1;for(const g of h)if(g.type===0)u+=g.value;else if(g.type===1){const{value:_,repeatable:m,optional:b}=g,A=_ in l?l[_]:"";if(Ml(A)&&!m)throw new Error(`Provided param "${_}" is an array but it is not repeatable (* or + modifiers)`);const N=Ml(A)?A.join("/"):A;if(!N)if(b)h.length<2&&(u.endsWith("/")?u=u.slice(0,-1):f=!0);else throw new Error(`Missing required param "${_}"`);u+=N}}return u||"/"}return{re:o,score:n,keys:s,parse:a,stringify:c}}function x4e(t,e){let r=0;for(;r<t.length&&r<e.length;){const n=e[r]-t[r];if(n)return n;r++}return t.length<e.length?t.length===1&&t[0]===80?-1:1:t.length>e.length?e.length===1&&e[0]===80?1:-1:0}function KV(t,e){let r=0;const n=t.score,i=e.score;for(;r<n.length&&r<i.length;){const s=x4e(n[r],i[r]);if(s)return s;r++}if(Math.abs(i.length-n.length)===1){if(G$(n))return 1;if(G$(i))return-1}return i.length-n.length}function G$(t){const e=t[t.length-1];return t.length>0&&e[e.length-1]<0}const C4e={type:0,value:""},N4e=/[a-zA-Z0-9_]/;function S4e(t){if(!t)return[[]];if(t==="/")return[[C4e]];if(!t.startsWith("/"))throw new Error(`Invalid path "${t}"`);function e(g){throw new Error(`ERR (${r})/"${l}": ${g}`)}let r=0,n=r;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,c,l="",u="";function f(){l&&(r===0?s.push({type:0,value:l}):r===1||r===2||r===3?(s.length>1&&(c==="*"||c==="+")&&e(`A repeatable param (${l}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:l,regexp:u,repeatable:c==="*"||c==="+",optional:c==="*"||c==="?"})):e("Invalid state to consume buffer"),l="")}function h(){l+=c}for(;a<t.length;){if(c=t[a++],c==="\\"&&r!==2){n=r,r=4;continue}switch(r){case 0:c==="/"?(l&&f(),o()):c===":"?(f(),r=1):h();break;case 4:h(),r=n;break;case 1:c==="("?r=2:N4e.test(c)?h():(f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--);break;case 2:c===")"?u[u.length-1]=="\\"?u=u.slice(0,-1)+c:r=3:u+=c;break;case 3:f(),r=0,c!=="*"&&c!=="?"&&c!=="+"&&a--,u="";break;default:e("Unknown state");break}}return r===2&&e(`Unfinished custom RegExp for param "${l}"`),f(),o(),i}function T4e(t,e,r){const n=A4e(S4e(t.path),r),i=Ir(n,{record:t,parent:e,children:[],alias:[]});return e&&!i.record.aliasOf==!e.record.aliasOf&&e.children.push(i),i}function I4e(t,e){const r=[],n=new Map;e=Y$({strict:!1,end:!0,sensitive:!1},e);function i(f){return n.get(f)}function s(f,h,g){const _=!g,m=V$(f);m.aliasOf=g&&g.record;const b=Y$(e,f),A=[m];if("alias"in f){const k=typeof f.alias=="string"?[f.alias]:f.alias;for(const M of k)A.push(V$(Ir({},m,{components:g?g.record.components:m.components,path:M,aliasOf:g?g.record:m})))}let N,R;for(const k of A){const{path:M}=k;if(h&&M[0]!=="/"){const D=h.record.path,H=D[D.length-1]==="/"?"":"/";k.path=h.record.path+(M&&H+M)}if(N=T4e(k,h,b),g?g.alias.push(N):(R=R||N,R!==N&&R.alias.push(N),_&&f.name&&!J$(N)&&o(f.name)),VV(N)&&c(N),m.children){const D=m.children;for(let H=0;H<D.length;H++)s(D[H],N,g&&g.children[H])}g=g||N}return R?()=>{o(R)}:H_}function o(f){if(zV(f)){const h=n.get(f);h&&(n.delete(f),r.splice(r.indexOf(h),1),h.children.forEach(o),h.alias.forEach(o))}else{const h=r.indexOf(f);h>-1&&(r.splice(h,1),f.record.name&&n.delete(f.record.name),f.children.forEach(o),f.alias.forEach(o))}}function a(){return r}function c(f){const h=O4e(f,r);r.splice(h,0,f),f.record.name&&!J$(f)&&n.set(f.record.name,f)}function l(f,h){let g,_={},m,b;if("name"in f&&f.name){if(g=n.get(f.name),!g)throw _m(1,{location:f});b=g.record.name,_=Ir(K$(h.params,g.keys.filter(R=>!R.optional).concat(g.parent?g.parent.keys.filter(R=>R.optional):[]).map(R=>R.name)),f.params&&K$(f.params,g.keys.map(R=>R.name))),m=g.stringify(_)}else if(f.path!=null)m=f.path,g=r.find(R=>R.re.test(m)),g&&(_=g.parse(m),b=g.record.name);else{if(g=h.name?n.get(h.name):r.find(R=>R.re.test(h.path)),!g)throw _m(1,{location:f,currentLocation:h});b=g.record.name,_=Ir({},h.params,f.params),m=g.stringify(_)}const A=[];let N=g;for(;N;)A.unshift(N.record),N=N.parent;return{name:b,path:m,params:_,matched:A,meta:P4e(A)}}t.forEach(f=>s(f));function u(){r.length=0,n.clear()}return{addRoute:s,resolve:l,removeRoute:o,clearRoutes:u,getRoutes:a,getRecordMatcher:i}}function K$(t,e){const r={};for(const n of e)n in t&&(r[n]=t[n]);return r}function V$(t){const e={path:t.path,redirect:t.redirect,name:t.name,meta:t.meta||{},aliasOf:t.aliasOf,beforeEnter:t.beforeEnter,props:R4e(t),children:t.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in t?t.components||null:t.component&&{default:t.component}};return Object.defineProperty(e,"mods",{value:{}}),e}function R4e(t){const e={},r=t.props||!1;if("component"in t)e.default=r;else for(const n in t.components)e[n]=typeof r=="object"?r[n]:r;return e}function J$(t){for(;t;){if(t.record.aliasOf)return!0;t=t.parent}return!1}function P4e(t){return t.reduce((e,r)=>Ir(e,r.meta),{})}function Y$(t,e){const r={};for(const n in t)r[n]=n in e?e[n]:t[n];return r}function O4e(t,e){let r=0,n=e.length;for(;r!==n;){const s=r+n>>1;KV(t,e[s])<0?n=s:r=s+1}const i=D4e(t);return i&&(n=e.lastIndexOf(i,n-1)),n}function D4e(t){let e=t;for(;e=e.parent;)if(VV(e)&&KV(t,e)===0)return e}function VV({record:t}){return!!(t.name||t.components&&Object.keys(t.components).length||t.redirect)}function k4e(t){const e={};if(t===""||t==="?")return e;const n=(t[0]==="?"?t.slice(1):t).split("&");for(let i=0;i<n.length;++i){const s=n[i].replace(FV," "),o=s.indexOf("="),a=d1(o<0?s:s.slice(0,o)),c=o<0?null:d1(s.slice(o+1));if(a in e){let l=e[a];Ml(l)||(l=e[a]=[l]),l.push(c)}else e[a]=c}return e}function X$(t){let e="";for(let r in t){const n=t[r];if(r=Z8e(r),n==null){n!==void 0&&(e+=(e.length?"&":"")+r);continue}(Ml(n)?n.map(s=>s&&OR(s)):[n&&OR(n)]).forEach(s=>{s!==void 0&&(e+=(e.length?"&":"")+r,s!=null&&(e+="="+s))})}return e}function M4e(t){const e={};for(const r in t){const n=t[r];n!==void 0&&(e[r]=Ml(n)?n.map(i=>i==null?null:""+i):n==null?n:""+n)}return e}const U4e=Symbol(""),Q$=Symbol(""),O2=Symbol(""),x5=Symbol(""),kR=Symbol("");function qy(){let t=[];function e(n){return t.push(n),()=>{const i=t.indexOf(n);i>-1&&t.splice(i,1)}}function r(){t=[]}return{add:e,list:()=>t.slice(),reset:r}}function Gd(t,e,r,n,i,s=o=>o()){const o=n&&(n.enterCallbacks[i]=n.enterCallbacks[i]||[]);return()=>new Promise((a,c)=>{const l=h=>{h===!1?c(_m(4,{from:r,to:e})):h instanceof Error?c(h):w4e(h)?c(_m(2,{from:e,to:h})):(o&&n.enterCallbacks[i]===o&&typeof h=="function"&&o.push(h),a())},u=s(()=>t.call(n&&n.instances[i],e,r,l));let f=Promise.resolve(u);t.length<3&&(f=f.then(l)),f.catch(h=>c(h))})}function BT(t,e,r,n,i=s=>s()){const s=[];for(const o of t)for(const a in o.components){let c=o.components[a];if(!(e!=="beforeRouteEnter"&&!o.instances[a]))if(LV(c)){const u=(c.__vccOpts||c)[e];u&&s.push(Gd(u,r,n,o,a,i))}else{let l=c();s.push(()=>l.then(u=>{if(!u)throw new Error(`Couldn't resolve component "${a}" at "${o.path}"`);const f=j8e(u)?u.default:u;o.mods[a]=u,o.components[a]=f;const g=(f.__vccOpts||f)[e];return g&&Gd(g,r,n,o,a,i)()}))}}return s}function Z$(t){const e=Us(O2),r=Us(x5),n=zt(()=>{const c=gn(t.to);return e.resolve(c)}),i=zt(()=>{const{matched:c}=n.value,{length:l}=c,u=c[l-1],f=r.matched;if(!u||!f.length)return-1;const h=f.findIndex(ym.bind(null,u));if(h>-1)return h;const g=eF(c[l-2]);return l>1&&eF(u)===g&&f[f.length-1].path!==g?f.findIndex(ym.bind(null,c[l-2])):h}),s=zt(()=>i.value>-1&&H4e(r.params,n.value.params)),o=zt(()=>i.value>-1&&i.value===r.matched.length-1&&WV(r.params,n.value.params));function a(c={}){if(B4e(c)){const l=e[gn(t.replace)?"replace":"push"](gn(t.to)).catch(H_);return t.viewTransition&&typeof document<"u"&&"startViewTransition"in document&&document.startViewTransition(()=>l),l}return Promise.resolve()}return{route:n,href:zt(()=>n.value.href),isActive:s,isExactActive:o,navigate:a}}function L4e(t){return t.length===1?t[0]:t}const $4e=Bn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"},viewTransition:Boolean},useLink:Z$,setup(t,{slots:e}){const r=Du(Z$(t)),{options:n}=Us(O2),i=zt(()=>({[tF(t.activeClass,n.linkActiveClass,"router-link-active")]:r.isActive,[tF(t.exactActiveClass,n.linkExactActiveClass,"router-link-exact-active")]:r.isExactActive}));return()=>{const s=e.default&&L4e(e.default(r));return t.custom?s:E1("a",{"aria-current":r.isExactActive?t.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:i.value},s)}}}),F4e=$4e;function B4e(t){if(!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)&&!t.defaultPrevented&&!(t.button!==void 0&&t.button!==0)){if(t.currentTarget&&t.currentTarget.getAttribute){const e=t.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(e))return}return t.preventDefault&&t.preventDefault(),!0}}function H4e(t,e){for(const r in e){const n=e[r],i=t[r];if(typeof n=="string"){if(n!==i)return!1}else if(!Ml(i)||i.length!==n.length||n.some((s,o)=>s!==i[o]))return!1}return!0}function eF(t){return t?t.aliasOf?t.aliasOf.path:t.path:""}const tF=(t,e,r)=>t??e??r,j4e=Bn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(t,{attrs:e,slots:r}){const n=Us(kR),i=zt(()=>t.route||n.value),s=Us(Q$,0),o=zt(()=>{let l=gn(s);const{matched:u}=i.value;let f;for(;(f=u[l])&&!f.components;)l++;return l}),a=zt(()=>i.value.matched[o.value]);Fg(Q$,zt(()=>o.value+1)),Fg(U4e,a),Fg(kR,i);const c=ot();return In(()=>[c.value,a.value,t.name],([l,u,f],[h,g,_])=>{u&&(u.instances[f]=l,g&&g!==u&&l&&l===h&&(u.leaveGuards.size||(u.leaveGuards=g.leaveGuards),u.updateGuards.size||(u.updateGuards=g.updateGuards))),l&&u&&(!g||!ym(u,g)||!h)&&(u.enterCallbacks[f]||[]).forEach(m=>m(l))},{flush:"post"}),()=>{const l=i.value,u=t.name,f=a.value,h=f&&f.components[u];if(!h)return rF(r.default,{Component:h,route:l});const g=f.props[u],_=g?g===!0?l.params:typeof g=="function"?g(l):g:null,b=E1(h,Ir({},_,e,{onVnodeUnmounted:A=>{A.component.isUnmounted&&(f.instances[u]=null)},ref:c}));return rF(r.default,{Component:b,route:l})||b}}});function rF(t,e){if(!t)return null;const r=t(e);return r.length===1?r[0]:r}const W4e=j4e;function q4e(t){const e=I4e(t.routes,t),r=t.parseQuery||k4e,n=t.stringifyQuery||X$,i=t.history,s=qy(),o=qy(),a=qy(),c=pP(Rd);let l=Rd;Cg&&t.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const u=$T.bind(null,q=>""+q),f=$T.bind(null,t4e),h=$T.bind(null,d1);function g(q,te){let ne,le;return zV(q)?(ne=e.getRecordMatcher(q),le=te):le=q,e.addRoute(le,ne)}function _(q){const te=e.getRecordMatcher(q);te&&e.removeRoute(te)}function m(){return e.getRoutes().map(q=>q.record)}function b(q){return!!e.getRecordMatcher(q)}function A(q,te){if(te=Ir({},te||c.value),typeof q=="string"){const J=FT(r,q,te.path),ae=e.resolve({path:J.path},te),Ee=i.createHref(J.fullPath);return Ir(J,ae,{params:h(ae.params),hash:d1(J.hash),redirectedFrom:void 0,href:Ee})}let ne;if(q.path!=null)ne=Ir({},q,{path:FT(r,q.path,te.path).path});else{const J=Ir({},q.params);for(const ae in J)J[ae]==null&&delete J[ae];ne=Ir({},q,{params:f(J)}),te.params=f(te.params)}const le=e.resolve(ne,te),me=q.hash||"";le.params=u(h(le.params));const Y=i4e(n,Ir({},q,{hash:Q8e(me),path:le.path})),ie=i.createHref(Y);return Ir({fullPath:Y,hash:me,query:n===X$?M4e(q.query):q.query||{}},le,{redirectedFrom:void 0,href:ie})}function N(q){return typeof q=="string"?FT(r,q,c.value.path):Ir({},q)}function R(q,te){if(l!==q)return _m(8,{from:te,to:q})}function k(q){return H(q)}function M(q){return k(Ir(N(q),{replace:!0}))}function D(q){const te=q.matched[q.matched.length-1];if(te&&te.redirect){const{redirect:ne}=te;let le=typeof ne=="function"?ne(q):ne;return typeof le=="string"&&(le=le.includes("?")||le.includes("#")?le=N(le):{path:le},le.params={}),Ir({query:q.query,hash:q.hash,params:le.path!=null?{}:q.params},le)}}function H(q,te){const ne=l=A(q),le=c.value,me=q.state,Y=q.force,ie=q.replace===!0,J=D(ne);if(J)return H(Ir(N(J),{state:typeof J=="object"?Ir({},me,J.state):me,force:Y,replace:ie}),te||ne);const ae=ne;ae.redirectedFrom=te;let Ee;return!Y&&s4e(n,le,ne)&&(Ee=_m(16,{to:ae,from:le}),L(le,le,!0,!1)),(Ee?Promise.resolve(Ee):$(ae,le)).catch(ye=>df(ye)?df(ye,2)?ye:z(ye):U(ye,ae,le)).then(ye=>{if(ye){if(df(ye,2))return H(Ir({replace:ie},N(ye.to),{state:typeof ye.to=="object"?Ir({},me,ye.to.state):me,force:Y}),te||ae)}else ye=O(ae,le,!0,ie,me);return B(ae,le,ye),ye})}function S(q,te){const ne=R(q,te);return ne?Promise.reject(ne):Promise.resolve()}function C(q){const te=K.values().next().value;return te&&typeof te.runWithContext=="function"?te.runWithContext(q):q()}function $(q,te){let ne;const[le,me,Y]=z4e(q,te);ne=BT(le.reverse(),"beforeRouteLeave",q,te);for(const J of le)J.leaveGuards.forEach(ae=>{ne.push(Gd(ae,q,te))});const ie=S.bind(null,q,te);return ne.push(ie),X(ne).then(()=>{ne=[];for(const J of s.list())ne.push(Gd(J,q,te));return ne.push(ie),X(ne)}).then(()=>{ne=BT(me,"beforeRouteUpdate",q,te);for(const J of me)J.updateGuards.forEach(ae=>{ne.push(Gd(ae,q,te))});return ne.push(ie),X(ne)}).then(()=>{ne=[];for(const J of Y)if(J.beforeEnter)if(Ml(J.beforeEnter))for(const ae of J.beforeEnter)ne.push(Gd(ae,q,te));else ne.push(Gd(J.beforeEnter,q,te));return ne.push(ie),X(ne)}).then(()=>(q.matched.forEach(J=>J.enterCallbacks={}),ne=BT(Y,"beforeRouteEnter",q,te,C),ne.push(ie),X(ne))).then(()=>{ne=[];for(const J of o.list())ne.push(Gd(J,q,te));return ne.push(ie),X(ne)}).catch(J=>df(J,8)?J:Promise.reject(J))}function B(q,te,ne){a.list().forEach(le=>C(()=>le(q,te,ne)))}function O(q,te,ne,le,me){const Y=R(q,te);if(Y)return Y;const ie=te===Rd,J=Cg?history.state:{};ne&&(le||ie?i.replace(q.fullPath,Ir({scroll:ie&&J&&J.scroll},me)):i.push(q.fullPath,me)),c.value=q,L(q,te,ne,ie),z()}let T;function y(){T||(T=i.listen((q,te,ne)=>{if(!P.listening)return;const le=A(q),me=D(le);if(me){H(Ir(me,{replace:!0,force:!0}),le).catch(H_);return}l=le;const Y=c.value;Cg&&h4e(j$(Y.fullPath,ne.delta),P2()),$(le,Y).catch(ie=>df(ie,12)?ie:df(ie,2)?(H(Ir(N(ie.to),{force:!0}),le).then(J=>{df(J,20)&&!ne.delta&&ne.type===h1.pop&&i.go(-1,!1)}).catch(H_),Promise.reject()):(ne.delta&&i.go(-ne.delta,!1),U(ie,le,Y))).then(ie=>{ie=ie||O(le,Y,!1),ie&&(ne.delta&&!df(ie,8)?i.go(-ne.delta,!1):ne.type===h1.pop&&df(ie,20)&&i.go(-1,!1)),B(le,Y,ie)}).catch(H_)}))}let w=qy(),E=qy(),I;function U(q,te,ne){z(q);const le=E.list();return le.length?le.forEach(me=>me(q,te,ne)):console.error(q),Promise.reject(q)}function j(){return I&&c.value!==Rd?Promise.resolve():new Promise((q,te)=>{w.add([q,te])})}function z(q){return I||(I=!q,y(),w.list().forEach(([te,ne])=>q?ne(q):te()),w.reset()),q}function L(q,te,ne,le){const{scrollBehavior:me}=t;if(!Cg||!me)return Promise.resolve();const Y=!ne&&p4e(j$(q.fullPath,0))||(le||!ne)&&history.state&&history.state.scroll||null;return tc().then(()=>me(q,te,Y)).then(ie=>ie&&d4e(ie)).catch(ie=>U(ie,q,te))}const x=q=>i.go(q);let W;const K=new Set,P={currentRoute:c,listening:!0,addRoute:g,removeRoute:_,clearRoutes:e.clearRoutes,hasRoute:b,getRoutes:m,resolve:A,options:t,push:k,replace:M,go:x,back:()=>x(-1),forward:()=>x(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:E.add,isReady:j,install(q){const te=this;q.component("RouterLink",F4e),q.component("RouterView",W4e),q.config.globalProperties.$router=te,Object.defineProperty(q.config.globalProperties,"$route",{enumerable:!0,get:()=>gn(c)}),Cg&&!W&&c.value===Rd&&(W=!0,k(i.location).catch(me=>{}));const ne={};for(const me in Rd)Object.defineProperty(ne,me,{get:()=>c.value[me],enumerable:!0});q.provide(O2,te),q.provide(x5,EH(ne)),q.provide(kR,c);const le=q.unmount;K.add(q),q.unmount=function(){K.delete(q),K.size<1&&(l=Rd,T&&T(),T=null,c.value=Rd,W=!1,I=!1),le()}}};function X(q){return q.reduce((te,ne)=>te.then(()=>C(ne)),Promise.resolve())}return P}function z4e(t,e){const r=[],n=[],i=[],s=Math.max(e.matched.length,t.matched.length);for(let o=0;o<s;o++){const a=e.matched[o];a&&(t.matched.find(l=>ym(l,a))?n.push(a):r.push(a));const c=t.matched[o];c&&(e.matched.find(l=>ym(l,c))||i.push(c))}return[r,n,i]}function JV(){return Us(O2)}function G4e(t){return Us(x5)}function K4e(){}const Nc=Object.assign,px=typeof window<"u",X1=t=>t!==null&&typeof t=="object",us=t=>t!=null,gx=t=>typeof t=="function",YV=t=>X1(t)&&gx(t.then)&&gx(t.catch),XV=t=>typeof t=="number"||/^\d+(\.\d+)?$/.test(t),V4e=()=>px?/ios|iphone|ipad|ipod/.test(navigator.userAgent.toLowerCase()):!1;function nF(t,e){const r=e.split(".");let n=t;return r.forEach(i=>{var s;n=X1(n)&&(s=n[i])!=null?s:""}),n}function QV(t,e,r){return e.reduce((n,i)=>(n[i]=t[i],n),{})}const iF=t=>Array.isArray(t)?t:[t],qf=null,Fn=[Number,String],Fo={type:Boolean,default:!0},J4e=()=>({type:Array,default:()=>[]}),Y4e=t=>({type:Number,default:t}),X4e=t=>({type:Fn,default:t}),Tn=t=>({type:String,default:t});var D2=typeof window<"u",Q4e=t=>t===window,sF=(t,e)=>({top:0,left:0,right:t,bottom:e,width:t,height:e}),Z4e=t=>{const e=gn(t);if(Q4e(e)){const r=e.innerWidth,n=e.innerHeight;return sF(r,n)}return e?.getBoundingClientRect?e.getBoundingClientRect():sF(0,0)};function eDe(t){const e=Us(t,null);if(e){const r=Ho(),{link:n,unlink:i,internalChildren:s}=e;n(r),xh(()=>i(r));const o=zt(()=>s.indexOf(r));return{parent:e,index:o}}return{parent:null,index:ot(-1)}}function ZV(t){let e;Ul(()=>{t(),tc(()=>{e=!0})}),mP(()=>{e&&t()})}function k2(t,e,r={}){if(!D2)return;const{target:n=window,passive:i=!1,capture:s=!1}=r;let o=!1,a;const c=f=>{if(o)return;const h=gn(f);h&&!a&&(h.addEventListener(t,e,{capture:s,passive:i}),a=!0)},l=f=>{if(o)return;const h=gn(f);h&&a&&(h.removeEventListener(t,e,s),a=!1)};xh(()=>l(n)),Ix(()=>l(n)),ZV(()=>c(n));let u;return $n(n)&&(u=In(n,(f,h)=>{l(h),c(f)})),()=>{u?.(),l(n),o=!0}}function tDe(t,e,r={}){if(!D2)return;const{eventName:n="click"}=r;k2(n,s=>{(Array.isArray(t)?t:[t]).every(c=>{const l=gn(c);return l&&!l.contains(s.target)})&&e(s)},{target:document})}var Tv,HT;function rDe(){if(!Tv&&(Tv=ot(0),HT=ot(0),D2)){const t=()=>{Tv.value=window.innerWidth,HT.value=window.innerHeight};t(),window.addEventListener("resize",t,{passive:!0}),window.addEventListener("orientationchange",t,{passive:!0})}return{width:Tv,height:HT}}var nDe=/scroll|auto|overlay/i,iDe=D2?window:void 0;function sDe(t){return t.tagName!=="HTML"&&t.tagName!=="BODY"&&t.nodeType===1}function oDe(t,e=iDe){let r=t;for(;r&&r!==e&&sDe(r);){const{overflowY:n}=window.getComputedStyle(r);if(nDe.test(n))return r;r=r.parentNode}return e}var aDe=Symbol("van-field");function oF(t,e){"scrollTop"in t?t.scrollTop=e:t.scrollTo(t.scrollX,e)}function eJ(){return window.pageYOffset||document.documentElement.scrollTop||document.body.scrollTop||0}function tJ(t){oF(window,t),oF(document.body,t)}const cDe=V4e();function lDe(){cDe&&tJ(eJ())}const uDe=t=>t.stopPropagation();function em(t,e){(typeof t.cancelable!="boolean"||t.cancelable)&&t.preventDefault(),e&&uDe(t)}const{width:fDe,height:dDe}=rDe();function ua(t){if(us(t))return XV(t)?`${t}px`:String(t)}function hDe(t){if(us(t)){if(Array.isArray(t))return{width:ua(t[0]),height:ua(t[1])};const e=ua(t);return{width:e,height:e}}}function rJ(t){const e={};return t!==void 0&&(e.zIndex=+t),e}const pDe=/-(\w)/g,nJ=t=>t.replace(pDe,(e,r)=>r.toUpperCase()),gDe=(t,e,r)=>Math.min(Math.max(t,e),r);function aF(t,e,r){const n=t.indexOf(e);return n===-1?t:e==="-"&&n!==0?t.slice(0,n):t.slice(0,n+1)+t.slice(n).replace(r,"")}function mDe(t,e=!0,r=!0){e?t=aF(t,".",/\./g):t=t.split(".")[0],r?t=aF(t,"-",/-/g):t=t.replace(/-/,"");const n=e?/[^-0-9.]/g:/[^-0-9]/g;return t.replace(n,"")}const{hasOwnProperty:yDe}=Object.prototype;function _De(t,e,r){const n=e[r];us(n)&&(!yDe.call(t,r)||!X1(n)?t[r]=n:t[r]=iJ(Object(t[r]),n))}function iJ(t,e){return Object.keys(e).forEach(r=>{_De(t,e,r)}),t}var bDe={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(t,e)=>`${t}${e}`,rangePrompt:t=>` ${t} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:t=>`${t}`,condition:t=>`${t}`},vanCouponCell:{title:"",count:t=>`${t}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};const cF=ot("zh-CN"),lF=Du({"zh-CN":bDe}),Ng={messages(){return lF[cF.value]},use(t,e){cF.value=t,this.add({[t]:e})},add(t={}){iJ(lF,t)}};var wDe=Ng;function vDe(t){const e=nJ(t)+".";return(r,...n)=>{const i=wDe.messages(),s=nF(i,e+r)||nF(i,r);return gx(s)?s(...n):s}}function MR(t,e){return e?typeof e=="string"?` ${t}--${e}`:Array.isArray(e)?e.reduce((r,n)=>r+MR(t,n),""):Object.keys(e).reduce((r,n)=>r+(e[n]?MR(t,n):""),""):""}function EDe(t){return(e,r)=>(e&&typeof e!="string"&&(r=e,e=""),e=e?`${t}__${e}`:t,`${e}${MR(e,r)}`)}function Sc(t){const e=`van-${t}`;return[e,EDe(e),vDe(e)]}const C5="van-hairline",ADe=`${C5}--right`,sJ=`${C5}--bottom`,xDe=`${C5}--surround`,UR="van-haptics-feedback",CDe=Symbol("van-form"),uF=5;function NDe(t,{args:e=[],done:r,canceled:n,error:i}){if(t){const s=t.apply(null,e);YV(s)?s.then(o=>{o?r():n&&n()}).catch(i||K4e):s?r():n&&n()}else r()}function Uu(t){return t.install=e=>{const{name:r}=t;r&&(e.component(r,t),e.component(nJ(`-${r}`),t))},t}const oJ=Symbol();function SDe(t){const e=Us(oJ,null);e&&In(e,r=>{r&&t()})}const TDe=(t,e)=>{const r=ot(),n=()=>{r.value=Z4e(t).height};return Ul(()=>{tc(n);for(let i=1;i<=3;i++)setTimeout(n,100*i)}),SDe(()=>tc(n)),In([fDe,dDe],n),r};function IDe(t,e){const r=TDe(t);return n=>Le("div",{class:e("placeholder"),style:{height:r.value?`${r.value}px`:void 0}},[n()])}function N5(t){const e=Ho();e&&Nc(e.proxy,t)}const aJ={to:[String,Object],url:String,replace:Boolean};function RDe({to:t,url:e,replace:r,$router:n}){t&&n?n[r?"replace":"push"](t):e&&(r?location.replace(e):location.href=e)}function cJ(){const t=Ho().proxy;return()=>RDe(t)}const[PDe,fF]=Sc("badge"),ODe={dot:Boolean,max:Fn,tag:Tn("div"),color:String,offset:Array,content:Fn,showZero:Fo,position:Tn("top-right")};var DDe=Bn({name:PDe,props:ODe,setup(t,{slots:e}){const r=()=>{if(e.content)return!0;const{content:a,showZero:c}=t;return us(a)&&a!==""&&(c||a!==0&&a!=="0")},n=()=>{const{dot:a,max:c,content:l}=t;if(!a&&r())return e.content?e.content():us(c)&&XV(l)&&+l>+c?`${c}+`:l},i=a=>a.startsWith("-")?a.replace("-",""):`-${a}`,s=zt(()=>{const a={background:t.color};if(t.offset){const[c,l]=t.offset,{position:u}=t,[f,h]=u.split("-");e.default?(typeof l=="number"?a[f]=ua(f==="top"?l:-l):a[f]=f==="top"?ua(l):i(l),typeof c=="number"?a[h]=ua(h==="left"?c:-c):a[h]=h==="left"?ua(c):i(c)):(a.marginTop=ua(l),a.marginLeft=ua(c))}return a}),o=()=>{if(r()||t.dot)return Le("div",{class:fF([t.position,{dot:t.dot,fixed:!!e.default}]),style:s.value},[n()])};return()=>{if(e.default){const{tag:a}=t;return Le(a,{class:fF("wrapper")},{default:()=>[e.default(),o()]})}return o()}}});const kDe=Uu(DDe);let MDe=2e3;const UDe=()=>++MDe,[LDe]=Sc("config-provider"),$De=Symbol(LDe),[FDe,dF]=Sc("icon"),BDe=t=>t?.includes("/"),HDe={dot:Boolean,tag:Tn("i"),name:String,size:Fn,badge:Fn,color:String,badgeProps:Object,classPrefix:String};var jDe=Bn({name:FDe,props:HDe,setup(t,{slots:e}){const r=Us($De,null),n=zt(()=>t.classPrefix||r?.iconPrefix||dF());return()=>{const{tag:i,dot:s,name:o,size:a,badge:c,color:l}=t,u=BDe(o);return Le(kDe,Iu({dot:s,tag:i,class:[n.value,u?"":`${n.value}-${o}`],style:{color:l,fontSize:ua(a)},content:c},t.badgeProps),{default:()=>{var f;return[(f=e.default)==null?void 0:f.call(e),u&&Le("img",{class:dF("image"),src:o},null)]}})}}});const ac=Uu(jDe),[WDe,W_]=Sc("loading"),qDe=Array(12).fill(null).map((t,e)=>Le("i",{class:W_("line",String(e+1))},null)),zDe=Le("svg",{class:W_("circular"),viewBox:"25 25 50 50"},[Le("circle",{cx:"50",cy:"50",r:"20",fill:"none"},null)]),GDe={size:Fn,type:Tn("circular"),color:String,vertical:Boolean,textSize:Fn,textColor:String};var KDe=Bn({name:WDe,props:GDe,setup(t,{slots:e}){const r=zt(()=>Nc({color:t.color},hDe(t.size))),n=()=>{const s=t.type==="spinner"?qDe:zDe;return Le("span",{class:W_("spinner",t.type),style:r.value},[e.icon?e.icon():s])},i=()=>{var s;if(e.default)return Le("span",{class:W_("text"),style:{fontSize:ua(t.textSize),color:(s=t.textColor)!=null?s:t.color}},[e.default()])};return()=>{const{type:s,vertical:o}=t;return Le("div",{class:W_([s,{vertical:o}]),"aria-live":"polite","aria-busy":!0},[n(),i()])}}});const lJ=Uu(KDe),[VDe,ag]=Sc("button"),JDe=Nc({},aJ,{tag:Tn("button"),text:String,icon:String,type:Tn("default"),size:Tn("normal"),color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,iconPrefix:String,nativeType:Tn("button"),loadingSize:Fn,loadingText:String,loadingType:String,iconPosition:Tn("left")});var YDe=Bn({name:VDe,props:JDe,emits:["click"],setup(t,{emit:e,slots:r}){const n=cJ(),i=()=>r.loading?r.loading():Le(lJ,{size:t.loadingSize,type:t.loadingType,class:ag("loading")},null),s=()=>{if(t.loading)return i();if(r.icon)return Le("div",{class:ag("icon")},[r.icon()]);if(t.icon)return Le(ac,{name:t.icon,class:ag("icon"),classPrefix:t.iconPrefix},null)},o=()=>{let l;if(t.loading?l=t.loadingText:l=r.default?r.default():t.text,l)return Le("span",{class:ag("text")},[l])},a=()=>{const{color:l,plain:u}=t;if(l){const f={color:u?l:"white"};return u||(f.background=l),l.includes("gradient")?f.border=0:f.borderColor=l,f}},c=l=>{t.loading?em(l):t.disabled||(e("click",l),n())};return()=>{const{tag:l,type:u,size:f,block:h,round:g,plain:_,square:m,loading:b,disabled:A,hairline:N,nativeType:R,iconPosition:k}=t,M=[ag([u,f,{plain:_,block:h,round:g,square:m,loading:b,disabled:A,hairline:N}]),{[xDe]:N}];return Le(l,{type:R,class:M,style:a(),disabled:A,onClick:c},{default:()=>[Le("div",{class:ag("content")},[k==="left"&&s(),o(),k==="right"&&s()])]})}}});const M2=Uu(YDe),XDe={show:Boolean,zIndex:Fn,overlay:Fo,duration:Fn,teleport:[String,Object],lockScroll:Fo,lazyRender:Fo,beforeClose:Function,overlayProps:Object,overlayStyle:Object,overlayClass:qf,transitionAppear:Boolean,closeOnClickOverlay:Fo};function QDe(t,e){return t>e?"horizontal":e>t?"vertical":""}function ZDe(){const t=ot(0),e=ot(0),r=ot(0),n=ot(0),i=ot(0),s=ot(0),o=ot(""),a=ot(!0),c=()=>o.value==="vertical",l=()=>o.value==="horizontal",u=()=>{r.value=0,n.value=0,i.value=0,s.value=0,o.value="",a.value=!0};return{move:g=>{const _=g.touches[0];r.value=(_.clientX<0?0:_.clientX)-t.value,n.value=_.clientY-e.value,i.value=Math.abs(r.value),s.value=Math.abs(n.value);const m=10;(!o.value||i.value<m&&s.value<m)&&(o.value=QDe(i.value,s.value)),a.value&&(i.value>uF||s.value>uF)&&(a.value=!1)},start:g=>{u(),t.value=g.touches[0].clientX,e.value=g.touches[0].clientY},reset:u,startX:t,startY:e,deltaX:r,deltaY:n,offsetX:i,offsetY:s,direction:o,isVertical:c,isHorizontal:l,isTap:a}}let zy=0;const hF="van-overflow-hidden";function eke(t,e){const r=ZDe(),n="01",i="10",s=u=>{r.move(u);const f=r.deltaY.value>0?i:n,h=oDe(u.target,t.value),{scrollHeight:g,offsetHeight:_,scrollTop:m}=h;let b="11";m===0?b=_>=g?"00":"01":m+_>=g&&(b="10"),b!=="11"&&r.isVertical()&&!(parseInt(b,2)&parseInt(f,2))&&em(u,!0)},o=()=>{document.addEventListener("touchstart",r.start),document.addEventListener("touchmove",s,{passive:!1}),zy||document.body.classList.add(hF),zy++},a=()=>{zy&&(document.removeEventListener("touchstart",r.start),document.removeEventListener("touchmove",s),zy--,zy||document.body.classList.remove(hF))},c=()=>e()&&o(),l=()=>e()&&a();ZV(c),Ix(l),Px(l),In(e,u=>{u?o():a()})}function uJ(t){const e=ot(!1);return In(t,r=>{r&&(e.value=r)},{immediate:!0}),r=>()=>e.value?r():null}const LR=()=>{var t;const{scopeId:e}=((t=Ho())==null?void 0:t.vnode)||{};return e?{[e]:""}:null},[tke,rke]=Sc("overlay"),nke={show:Boolean,zIndex:Fn,duration:Fn,className:qf,lockScroll:Fo,lazyRender:Fo,customStyle:Object,teleport:[String,Object]};var ike=Bn({name:tke,inheritAttrs:!1,props:nke,setup(t,{attrs:e,slots:r}){const n=ot(),i=uJ(()=>t.show||!t.lazyRender),s=a=>{t.lockScroll&&em(a,!0)},o=i(()=>{var a;const c=Nc(rJ(t.zIndex),t.customStyle);return us(t.duration)&&(c.animationDuration=`${t.duration}s`),PH(Le("div",Iu({ref:n,style:c,class:[rke(),t.className]},e),[(a=r.default)==null?void 0:a.call(r)]),[[gj,t.show]])});return k2("touchmove",s,{target:n}),()=>{const a=Le(hj,{name:"van-fade",appear:!0},{default:o});return t.teleport?Le(MH,{to:t.teleport},{default:()=>[a]}):a}}});const ske=Uu(ike),oke=Nc({},XDe,{round:Boolean,position:Tn("center"),closeIcon:Tn("cross"),closeable:Boolean,transition:String,iconPrefix:String,closeOnPopstate:Boolean,closeIconPosition:Tn("top-right"),destroyOnClose:Boolean,safeAreaInsetTop:Boolean,safeAreaInsetBottom:Boolean}),[ake,pF]=Sc("popup");var cke=Bn({name:ake,inheritAttrs:!1,props:oke,emits:["open","close","opened","closed","keydown","update:show","clickOverlay","clickCloseIcon"],setup(t,{emit:e,attrs:r,slots:n}){let i,s;const o=ot(),a=ot(),c=uJ(()=>t.show||!t.lazyRender),l=zt(()=>{const D={zIndex:o.value};if(us(t.duration)){const H=t.position==="center"?"animationDuration":"transitionDuration";D[H]=`${t.duration}s`}return D}),u=()=>{i||(i=!0,o.value=t.zIndex!==void 0?+t.zIndex:UDe(),e("open"))},f=()=>{i&&NDe(t.beforeClose,{done(){i=!1,e("close"),e("update:show",!1)}})},h=D=>{e("clickOverlay",D),t.closeOnClickOverlay&&f()},g=()=>{if(t.overlay){const D=Nc({show:t.show,class:t.overlayClass,zIndex:o.value,duration:t.duration,customStyle:t.overlayStyle,role:t.closeOnClickOverlay?"button":void 0,tabindex:t.closeOnClickOverlay?0:void 0},t.overlayProps);return Le(ske,Iu(D,LR(),{onClick:h}),{default:n["overlay-content"]})}},_=D=>{e("clickCloseIcon",D),f()},m=()=>{if(t.closeable)return Le(ac,{role:"button",tabindex:0,name:t.closeIcon,class:[pF("close-icon",t.closeIconPosition),UR],classPrefix:t.iconPrefix,onClick:_},null)};let b;const A=()=>{b&&clearTimeout(b),b=setTimeout(()=>{e("opened")})},N=()=>e("closed"),R=D=>e("keydown",D),k=c(()=>{var D;const{destroyOnClose:H,round:S,position:C,safeAreaInsetTop:$,safeAreaInsetBottom:B,show:O}=t;if(!(!O&&H))return PH(Le("div",Iu({ref:a,style:l.value,role:"dialog",tabindex:0,class:[pF({round:S,[C]:C}),{"van-safe-area-top":$,"van-safe-area-bottom":B}],onKeydown:R},r,LR()),[(D=n.default)==null?void 0:D.call(n),m()]),[[gj,O]])}),M=()=>{const{position:D,transition:H,transitionAppear:S}=t,C=D==="center"?"van-fade":`van-popup-slide-${D}`;return Le(hj,{name:H||C,appear:S,onAfterEnter:A,onAfterLeave:N},{default:k})};return In(()=>t.show,D=>{D&&!i&&(u(),r.tabindex===0&&tc(()=>{var H;(H=a.value)==null||H.focus()})),!D&&i&&(i=!1,e("close"))}),N5({popupRef:a}),eke(a,()=>t.show&&t.lockScroll),k2("popstate",()=>{t.closeOnPopstate&&(f(),s=!1)}),Ul(()=>{t.show&&u()}),mP(()=>{s&&(e("update:show",!0),s=!1)}),Ix(()=>{t.show&&t.teleport&&(f(),s=!0)}),Fg(oJ,()=>t.show),()=>t.teleport?Le(MH,{to:t.teleport},{default:()=>[g(),M()]}):Le(qi,null,[g(),M()])}});const U2=Uu(cke),lke=(t,e)=>{const r=ot(t());return In(t,n=>{n!==r.value&&(r.value=n)}),In(r,n=>{n!==t()&&e(n)}),r};let uke=0;function fke(){const t=Ho(),{name:e="unknown"}=t?.type||{};return`${e}-${++uke}`}const[dke,cg]=Sc("cell"),fJ={tag:Tn("div"),icon:String,size:String,title:Fn,value:Fn,label:Fn,center:Boolean,isLink:Boolean,border:Fo,iconPrefix:String,valueClass:qf,labelClass:qf,titleClass:qf,titleStyle:null,arrowDirection:String,required:{type:[Boolean,String],default:null},clickable:{type:Boolean,default:null}},hke=Nc({},fJ,aJ);var pke=Bn({name:dke,props:hke,setup(t,{slots:e}){const r=cJ(),n=()=>{if(e.label||us(t.label))return Le("div",{class:[cg("label"),t.labelClass]},[e.label?e.label():t.label])},i=()=>{var c;if(e.title||us(t.title)){const l=(c=e.title)==null?void 0:c.call(e);return Array.isArray(l)&&l.length===0?void 0:Le("div",{class:[cg("title"),t.titleClass],style:t.titleStyle},[l||Le("span",null,[t.title]),n()])}},s=()=>{const c=e.value||e.default;if(c||us(t.value))return Le("div",{class:[cg("value"),t.valueClass]},[c?c():Le("span",null,[t.value])])},o=()=>{if(e.icon)return e.icon();if(t.icon)return Le(ac,{name:t.icon,class:cg("left-icon"),classPrefix:t.iconPrefix},null)},a=()=>{if(e["right-icon"])return e["right-icon"]();if(t.isLink){const c=t.arrowDirection&&t.arrowDirection!=="right"?`arrow-${t.arrowDirection}`:"arrow";return Le(ac,{name:c,class:cg("right-icon")},null)}};return()=>{var c;const{tag:l,size:u,center:f,border:h,isLink:g,required:_}=t,m=(c=t.clickable)!=null?c:g,b={center:f,required:!!_,clickable:m,borderless:!h};return u&&(b[u]=!!u),Le(l,{class:cg(b),role:m?"button":void 0,tabindex:m?0:void 0,onClick:r},{default:()=>{var A;return[o(),i(),s(),a(),(A=e.extra)==null?void 0:A.call(e)]}})}}});const gke=Uu(pke);function dJ(t){return Array.isArray(t)?!t.length:t===0?!1:!t}function mke(t,e){if(dJ(t)){if(e.required)return!1;if(e.validateEmpty===!1)return!0}return!(e.pattern&&!e.pattern.test(String(t)))}function yke(t,e){return new Promise(r=>{const n=e.validator(t,e);if(YV(n)){n.then(r);return}r(n)})}function gF(t,e){const{message:r}=e;return gx(r)?r(t,e):r||""}function _ke({target:t}){t.composing=!0}function mF({target:t}){t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}function bke(t,e){const r=eJ();t.style.height="auto";let n=t.scrollHeight;if(X1(e)){const{maxHeight:i,minHeight:s}=e;i!==void 0&&(n=Math.min(n,i)),s!==void 0&&(n=Math.max(n,s))}n&&(t.style.height=`${n}px`,tJ(r))}function wke(t,e){return t==="number"&&(t="text",e??(e="decimal")),t==="digit"&&(t="tel",e??(e="numeric")),{type:t,inputmode:e}}function hf(t){return[...t].length}function jT(t,e){return[...t].slice(0,e).join("")}const[vke,ja]=Sc("field"),Eke={id:String,name:String,leftIcon:String,rightIcon:String,autofocus:Boolean,clearable:Boolean,maxlength:Fn,max:Number,min:Number,formatter:Function,clearIcon:Tn("clear"),modelValue:X4e(""),inputAlign:String,placeholder:String,autocomplete:String,autocapitalize:String,autocorrect:String,errorMessage:String,enterkeyhint:String,clearTrigger:Tn("focus"),formatTrigger:Tn("onChange"),spellcheck:{type:Boolean,default:null},error:{type:Boolean,default:null},disabled:{type:Boolean,default:null},readonly:{type:Boolean,default:null},inputmode:String},Ake=Nc({},fJ,Eke,{rows:Fn,type:Tn("text"),rules:Array,autosize:[Boolean,Object],labelWidth:Fn,labelClass:qf,labelAlign:String,showWordLimit:Boolean,errorMessageAlign:String,colon:{type:Boolean,default:null}});var xke=Bn({name:vke,props:Ake,emits:["blur","focus","clear","keypress","clickInput","endValidate","startValidate","clickLeftIcon","clickRightIcon","update:modelValue"],setup(t,{emit:e,slots:r}){const n=fke(),i=Du({status:"unvalidated",focused:!1,validateMessage:""}),s=ot(),o=ot(),a=ot(),{parent:c}=eDe(CDe),l=()=>{var q;return String((q=t.modelValue)!=null?q:"")},u=q=>{if(us(t[q]))return t[q];if(c&&us(c.props[q]))return c.props[q]},f=zt(()=>{const q=u("readonly");if(t.clearable&&!q){const te=l()!=="",ne=t.clearTrigger==="always"||t.clearTrigger==="focus"&&i.focused;return te&&ne}return!1}),h=zt(()=>a.value&&r.input?a.value():t.modelValue),g=zt(()=>{var q;const te=u("required");return te==="auto"?(q=t.rules)==null?void 0:q.some(ne=>ne.required):te}),_=q=>q.reduce((te,ne)=>te.then(()=>{if(i.status==="failed")return;let{value:le}=h;if(ne.formatter&&(le=ne.formatter(le,ne)),!mke(le,ne)){i.status="failed",i.validateMessage=gF(le,ne);return}if(ne.validator)return dJ(le)&&ne.validateEmpty===!1?void 0:yke(le,ne).then(me=>{me&&typeof me=="string"?(i.status="failed",i.validateMessage=me):me===!1&&(i.status="failed",i.validateMessage=gF(le,ne))})}),Promise.resolve()),m=()=>{i.status="unvalidated",i.validateMessage=""},b=()=>e("endValidate",{status:i.status,message:i.validateMessage}),A=(q=t.rules)=>new Promise(te=>{m(),q?(e("startValidate"),_(q).then(()=>{i.status==="failed"?(te({name:t.name,message:i.validateMessage}),b()):(i.status="passed",te(),b())})):te()}),N=q=>{if(c&&t.rules){const{validateTrigger:te}=c.props,ne=iF(te).includes(q),le=t.rules.filter(me=>me.trigger?iF(me.trigger).includes(q):ne);le.length&&A(le)}},R=q=>{var te;const{maxlength:ne}=t;if(us(ne)&&hf(q)>+ne){const le=l();if(le&&hf(le)===+ne)return le;const me=(te=s.value)==null?void 0:te.selectionEnd;if(i.focused&&me){const Y=[...q],ie=Y.length-+ne;return Y.splice(me-ie,ie),Y.join("")}return jT(q,+ne)}return q},k=(q,te="onChange")=>{var ne,le;const me=q;q=R(q);const Y=hf(me)-hf(q);if(t.type==="number"||t.type==="digit"){const J=t.type==="number";if(q=mDe(q,J,J),te==="onBlur"&&q!==""&&(t.min!==void 0||t.max!==void 0)){const ae=gDe(+q,(ne=t.min)!=null?ne:-1/0,(le=t.max)!=null?le:1/0);+q!==ae&&(q=ae.toString())}}let ie=0;if(t.formatter&&te===t.formatTrigger){const{formatter:J,maxlength:ae}=t;if(q=J(q),us(ae)&&hf(q)>+ae&&(q=jT(q,+ae)),s.value&&i.focused){const{selectionEnd:Ee}=s.value,ye=jT(me,Ee);ie=hf(J(ye))-hf(ye)}}if(s.value&&s.value.value!==q)if(i.focused){let{selectionStart:J,selectionEnd:ae}=s.value;if(s.value.value=q,us(J)&&us(ae)){const Ee=hf(q);Y?(J-=Y,ae-=Y):ie&&(J+=ie,ae+=ie),s.value.setSelectionRange(Math.min(J,Ee),Math.min(ae,Ee))}}else s.value.value=q;q!==t.modelValue&&e("update:modelValue",q)},M=q=>{q.target.composing||k(q.target.value)},D=()=>{var q;return(q=s.value)==null?void 0:q.blur()},H=()=>{var q;return(q=s.value)==null?void 0:q.focus()},S=()=>{const q=s.value;t.type==="textarea"&&t.autosize&&q&&bke(q,t.autosize)},C=q=>{i.focused=!0,e("focus",q),tc(S),u("readonly")&&D()},$=q=>{i.focused=!1,k(l(),"onBlur"),e("blur",q),!u("readonly")&&(N("onBlur"),tc(S),lDe())},B=q=>e("clickInput",q),O=q=>e("clickLeftIcon",q),T=q=>e("clickRightIcon",q),y=q=>{em(q),e("update:modelValue",""),e("clear",q)},w=zt(()=>{if(typeof t.error=="boolean")return t.error;if(c&&c.props.showError&&i.status==="failed")return!0}),E=zt(()=>{const q=u("labelWidth"),te=u("labelAlign");if(q&&te!=="top")return{width:ua(q)}}),I=q=>{q.keyCode===13&&(!(c&&c.props.submitOnEnter)&&t.type!=="textarea"&&em(q),t.type==="search"&&D()),e("keypress",q)},U=()=>t.id||`${n}-input`,j=()=>i.status,z=()=>{const q=ja("control",[u("inputAlign"),{error:w.value,custom:!!r.input,"min-height":t.type==="textarea"&&!t.autosize}]);if(r.input)return Le("div",{class:q,onClick:B},[r.input()]);const te={id:U(),ref:s,name:t.name,rows:t.rows!==void 0?+t.rows:void 0,class:q,disabled:u("disabled"),readonly:u("readonly"),autofocus:t.autofocus,placeholder:t.placeholder,autocomplete:t.autocomplete,autocapitalize:t.autocapitalize,autocorrect:t.autocorrect,enterkeyhint:t.enterkeyhint,spellcheck:t.spellcheck,"aria-labelledby":t.label?`${n}-label`:void 0,"data-allow-mismatch":"attribute",onBlur:$,onFocus:C,onInput:M,onClick:B,onChange:mF,onKeypress:I,onCompositionend:mF,onCompositionstart:_ke};return t.type==="textarea"?Le("textarea",Iu(te,{inputmode:t.inputmode}),null):Le("input",Iu(wke(t.type,t.inputmode),te),null)},L=()=>{const q=r["left-icon"];if(t.leftIcon||q)return Le("div",{class:ja("left-icon"),onClick:O},[q?q():Le(ac,{name:t.leftIcon,classPrefix:t.iconPrefix},null)])},x=()=>{const q=r["right-icon"];if(t.rightIcon||q)return Le("div",{class:ja("right-icon"),onClick:T},[q?q():Le(ac,{name:t.rightIcon,classPrefix:t.iconPrefix},null)])},W=()=>{if(t.showWordLimit&&t.maxlength){const q=hf(l());return Le("div",{class:ja("word-limit")},[Le("span",{class:ja("word-num")},[q]),L0("/"),t.maxlength])}},K=()=>{if(c&&c.props.showErrorMessage===!1)return;const q=t.errorMessage||i.validateMessage;if(q){const te=r["error-message"],ne=u("errorMessageAlign");return Le("div",{class:ja("error-message",ne)},[te?te({message:q}):q])}},P=()=>{const q=u("labelWidth"),te=u("labelAlign"),ne=u("colon")?":":"";if(r.label)return[r.label(),ne];if(t.label)return Le("label",{id:`${n}-label`,for:r.input?void 0:U(),"data-allow-mismatch":"attribute",onClick:le=>{em(le),H()},style:te==="top"&&q?{width:ua(q)}:void 0},[t.label+ne])},X=()=>[Le("div",{class:ja("body")},[z(),f.value&&Le(ac,{ref:o,name:t.clearIcon,class:ja("clear")},null),x(),r.button&&Le("div",{class:ja("button")},[r.button()])]),W(),K()];return N5({blur:D,focus:H,validate:A,formValue:h,resetValidation:m,getValidationStatus:j}),Fg(aDe,{customValue:a,resetValidation:m,validateWithTrigger:N}),In(()=>t.modelValue,()=>{k(l()),m(),N("onChange"),tc(S)}),Ul(()=>{k(l(),t.formatTrigger),tc(S)}),k2("touchstart",y,{target:zt(()=>{var q;return(q=o.value)==null?void 0:q.$el})}),()=>{const q=u("disabled"),te=u("labelAlign"),ne=L(),le=()=>{const me=P();return te==="top"?[ne,me].filter(Boolean):me||[]};return Le(gke,{size:t.size,class:ja({error:w.value,disabled:q,[`label-${te}`]:te}),center:t.center,border:t.border,isLink:t.isLink,clickable:t.clickable,titleStyle:E.value,valueClass:ja("value"),titleClass:[ja("label",[te,{required:g.value}]),t.labelClass],arrowDirection:t.arrowDirection},{icon:ne&&te!=="top"?()=>ne:null,title:le,value:X,extra:r.extra})}}});const hJ=Uu(xke);let Gy=0;function Cke(t){t?(Gy||document.body.classList.add("van-toast--unclickable"),Gy++):Gy&&(Gy--,Gy||document.body.classList.remove("van-toast--unclickable"))}const[Nke,lg]=Sc("toast"),Ske=["show","overlay","teleport","transition","overlayClass","overlayStyle","closeOnClickOverlay","zIndex"],Tke={icon:String,show:Boolean,type:Tn("text"),overlay:Boolean,message:Fn,iconSize:Fn,duration:Y4e(2e3),position:Tn("middle"),teleport:[String,Object],wordBreak:String,className:qf,iconPrefix:String,transition:Tn("van-fade"),loadingType:String,forbidClick:Boolean,overlayClass:qf,overlayStyle:Object,closeOnClick:Boolean,closeOnClickOverlay:Boolean,zIndex:Fn};var Ike=Bn({name:Nke,props:Tke,emits:["update:show"],setup(t,{emit:e,slots:r}){let n,i=!1;const s=()=>{const f=t.show&&t.forbidClick;i!==f&&(i=f,Cke(i))},o=f=>e("update:show",f),a=()=>{t.closeOnClick&&o(!1)},c=()=>clearTimeout(n),l=()=>{const{icon:f,type:h,iconSize:g,iconPrefix:_,loadingType:m}=t;if(f||h==="success"||h==="fail")return Le(ac,{name:f||h,size:g,class:lg("icon"),classPrefix:_},null);if(h==="loading")return Le(lJ,{class:lg("loading"),size:g,type:m},null)},u=()=>{const{type:f,message:h}=t;if(r.message)return Le("div",{class:lg("text")},[r.message()]);if(us(h)&&h!=="")return f==="html"?Le("div",{key:0,class:lg("text"),innerHTML:String(h)},null):Le("div",{class:lg("text")},[h])};return In(()=>[t.show,t.forbidClick],s),In(()=>[t.show,t.type,t.message,t.duration],()=>{c(),t.show&&t.duration>0&&(n=setTimeout(()=>{o(!1)},t.duration))}),Ul(s),xh(s),()=>Le(U2,Iu({class:[lg([t.position,t.wordBreak==="normal"?"break-normal":t.wordBreak,{[t.type]:!t.icon}]),t.className],lockScroll:!1,onClick:a,onClosed:c,"onUpdate:show":o},QV(t,Ske)),{default:()=>[l(),u()]})}});function Rke(){const t=Du({show:!1}),e=i=>{t.show=i},r=i=>{Nc(t,i,{transitionAppear:!0}),e(!0)},n=()=>e(!1);return N5({open:r,close:n,toggle:e}),{open:r,close:n,state:t,toggle:e}}function Pke(t){const e=mj(t),r=document.createElement("div");return document.body.appendChild(r),{instance:e.mount(r),unmount(){e.unmount(),document.body.removeChild(r)}}}const Oke={icon:"",type:"text",message:"",className:"",overlay:!1,onClose:void 0,onOpened:void 0,duration:2e3,teleport:"body",iconSize:void 0,iconPrefix:void 0,position:"middle",transition:"van-fade",forbidClick:!1,loadingType:void 0,overlayClass:"",overlayStyle:void 0,closeOnClick:!1,closeOnClickOverlay:!1};let Iv=[],Dke=!1,yF=Nc({},Oke);const kke=new Map;function Mke(t){return X1(t)?t:{message:t}}function Uke(){const{instance:t}=Pke({setup(){const e=ot(""),{open:r,state:n,close:i,toggle:s}=Rke(),o=()=>{},a=()=>Le(Ike,Iu(n,{onClosed:o,"onUpdate:show":s}),null);return In(e,c=>{n.message=c}),Ho().render=a,{open:r,close:i,message:e}}});return t}function Lke(){if(!Iv.length||Dke){const t=Uke();Iv.push(t)}return Iv[Iv.length-1]}function Mo(t={}){if(!px)return{};const e=Lke(),r=Mke(t);return e.open(Nc({},yF,kke.get(r.type||yF.type),r)),e}const[$ke,pf]=Sc("nav-bar"),Fke={title:String,fixed:Boolean,zIndex:Fn,border:Fo,leftText:String,rightText:String,leftDisabled:Boolean,rightDisabled:Boolean,leftArrow:Boolean,placeholder:Boolean,safeAreaInsetTop:Boolean,clickable:Fo};var Bke=Bn({name:$ke,props:Fke,emits:["clickLeft","clickRight"],setup(t,{emit:e,slots:r}){const n=ot(),i=IDe(n,pf),s=u=>{t.leftDisabled||e("clickLeft",u)},o=u=>{t.rightDisabled||e("clickRight",u)},a=()=>r.left?r.left():[t.leftArrow&&Le(ac,{class:pf("arrow"),name:"arrow-left"},null),t.leftText&&Le("span",{class:pf("text")},[t.leftText])],c=()=>r.right?r.right():Le("span",{class:pf("text")},[t.rightText]),l=()=>{const{title:u,fixed:f,border:h,zIndex:g}=t,_=rJ(g),m=t.leftArrow||t.leftText||r.left,b=t.rightText||r.right;return Le("div",{ref:n,style:_,class:[pf({fixed:f}),{[sJ]:h,"van-safe-area-top":t.safeAreaInsetTop}]},[Le("div",{class:pf("content")},[m&&Le("div",{class:[pf("left",{disabled:t.leftDisabled}),t.clickable&&!t.leftDisabled?UR:""],onClick:s},[a()]),Le("div",{class:[pf("title"),"van-ellipsis"]},[r.title?r.title():u]),b&&Le("div",{class:[pf("right",{disabled:t.rightDisabled}),t.clickable&&!t.rightDisabled?UR:""],onClick:o},[c()])])])};return()=>t.fixed&&t.placeholder?i(l):l()}});const Hke=Uu(Bke);function Fl(t){if(t==null)return window;if(t.toString()!=="[object Window]"){var e=t.ownerDocument;return e&&e.defaultView||window}return t}function S5(t){var e=Fl(t).Element;return t instanceof e||t instanceof Element}function Ol(t){var e=Fl(t).HTMLElement;return t instanceof e||t instanceof HTMLElement}function pJ(t){if(typeof ShadowRoot>"u")return!1;var e=Fl(t).ShadowRoot;return t instanceof e||t instanceof ShadowRoot}var bm=Math.round;function $R(){var t=navigator.userAgentData;return t!=null&&t.brands?t.brands.map(function(e){return e.brand+"/"+e.version}).join(" "):navigator.userAgent}function jke(){return!/^((?!chrome|android).)*safari/i.test($R())}function mx(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!1);var n=t.getBoundingClientRect(),i=1,s=1;e&&Ol(t)&&(i=t.offsetWidth>0&&bm(n.width)/t.offsetWidth||1,s=t.offsetHeight>0&&bm(n.height)/t.offsetHeight||1);var o=S5(t)?Fl(t):window,a=o.visualViewport,c=!jke()&&r,l=(n.left+(c&&a?a.offsetLeft:0))/i,u=(n.top+(c&&a?a.offsetTop:0))/s,f=n.width/i,h=n.height/s;return{width:f,height:h,top:u,right:l+f,bottom:u+h,left:l,x:l,y:u}}function gJ(t){var e=Fl(t),r=e.pageXOffset,n=e.pageYOffset;return{scrollLeft:r,scrollTop:n}}function Wke(t){return{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}}function qke(t){return t===Fl(t)||!Ol(t)?gJ(t):Wke(t)}function Zf(t){return t?(t.nodeName||"").toLowerCase():null}function L2(t){return((S5(t)?t.ownerDocument:t.document)||window.document).documentElement}function zke(t){return mx(L2(t)).left+gJ(t).scrollLeft}function ed(t){return Fl(t).getComputedStyle(t)}function T5(t){var e=ed(t),r=e.overflow,n=e.overflowX,i=e.overflowY;return/auto|scroll|overlay|hidden/.test(r+i+n)}function Gke(t){var e=t.getBoundingClientRect(),r=bm(e.width)/t.offsetWidth||1,n=bm(e.height)/t.offsetHeight||1;return r!==1||n!==1}function Kke(t,e,r){r===void 0&&(r=!1);var n=Ol(e),i=Ol(e)&&Gke(e),s=L2(e),o=mx(t,i,r),a={scrollLeft:0,scrollTop:0},c={x:0,y:0};return(n||!n&&!r)&&((Zf(e)!=="body"||T5(s))&&(a=qke(e)),Ol(e)?(c=mx(e,!0),c.x+=e.clientLeft,c.y+=e.clientTop):s&&(c.x=zke(s))),{x:o.left+a.scrollLeft-c.x,y:o.top+a.scrollTop-c.y,width:o.width,height:o.height}}function Vke(t){var e=mx(t),r=t.offsetWidth,n=t.offsetHeight;return Math.abs(e.width-r)<=1&&(r=e.width),Math.abs(e.height-n)<=1&&(n=e.height),{x:t.offsetLeft,y:t.offsetTop,width:r,height:n}}function I5(t){return Zf(t)==="html"?t:t.assignedSlot||t.parentNode||(pJ(t)?t.host:null)||L2(t)}function mJ(t){return["html","body","#document"].indexOf(Zf(t))>=0?t.ownerDocument.body:Ol(t)&&T5(t)?t:mJ(I5(t))}function zE(t,e){var r;e===void 0&&(e=[]);var n=mJ(t),i=n===((r=t.ownerDocument)==null?void 0:r.body),s=Fl(n),o=i?[s].concat(s.visualViewport||[],T5(n)?n:[]):n,a=e.concat(o);return i?a:a.concat(zE(I5(o)))}function Jke(t){return["table","td","th"].indexOf(Zf(t))>=0}function _F(t){return!Ol(t)||ed(t).position==="fixed"?null:t.offsetParent}function Yke(t){var e=/firefox/i.test($R()),r=/Trident/i.test($R());if(r&&Ol(t)){var n=ed(t);if(n.position==="fixed")return null}var i=I5(t);for(pJ(i)&&(i=i.host);Ol(i)&&["html","body"].indexOf(Zf(i))<0;){var s=ed(i);if(s.transform!=="none"||s.perspective!=="none"||s.contain==="paint"||["transform","perspective"].indexOf(s.willChange)!==-1||e&&s.willChange==="filter"||e&&s.filter&&s.filter!=="none")return i;i=i.parentNode}return null}function yJ(t){for(var e=Fl(t),r=_F(t);r&&Jke(r)&&ed(r).position==="static";)r=_F(r);return r&&(Zf(r)==="html"||Zf(r)==="body"&&ed(r).position==="static")?e:r||Yke(t)||e}var tm="top",yx="bottom",p1="right",U0="left",_J="auto",Xke=[tm,yx,p1,U0],bJ="start",_x="end",Qke=[].concat(Xke,[_J]).reduce(function(t,e){return t.concat([e,e+"-"+bJ,e+"-"+_x])},[]),Zke="beforeRead",eMe="read",tMe="afterRead",rMe="beforeMain",nMe="main",iMe="afterMain",sMe="beforeWrite",oMe="write",aMe="afterWrite",FR=[Zke,eMe,tMe,rMe,nMe,iMe,sMe,oMe,aMe];function cMe(t){var e=new Map,r=new Set,n=[];t.forEach(function(s){e.set(s.name,s)});function i(s){r.add(s.name);var o=[].concat(s.requires||[],s.requiresIfExists||[]);o.forEach(function(a){if(!r.has(a)){var c=e.get(a);c&&i(c)}}),n.push(s)}return t.forEach(function(s){r.has(s.name)||i(s)}),n}function lMe(t){var e=cMe(t);return FR.reduce(function(r,n){return r.concat(e.filter(function(i){return i.phase===n}))},[])}function uMe(t){var e;return function(){return e||(e=new Promise(function(r){Promise.resolve().then(function(){e=void 0,r(t())})})),e}}function Pd(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return[].concat(r).reduce(function(i,s){return i.replace(/%s/,s)},t)}var e0='Popper: modifier "%s" provided an invalid %s property, expected %s but got %s',fMe='Popper: modifier "%s" requires "%s", but "%s" modifier is not available',bF=["name","enabled","phase","fn","effect","requires","options"];function dMe(t){t.forEach(function(e){[].concat(Object.keys(e),bF).filter(function(r,n,i){return i.indexOf(r)===n}).forEach(function(r){switch(r){case"name":typeof e.name!="string"&&console.error(Pd(e0,String(e.name),'"name"','"string"','"'+String(e.name)+'"'));break;case"enabled":typeof e.enabled!="boolean"&&console.error(Pd(e0,e.name,'"enabled"','"boolean"','"'+String(e.enabled)+'"'));break;case"phase":FR.indexOf(e.phase)<0&&console.error(Pd(e0,e.name,'"phase"',"either "+FR.join(", "),'"'+String(e.phase)+'"'));break;case"fn":typeof e.fn!="function"&&console.error(Pd(e0,e.name,'"fn"','"function"','"'+String(e.fn)+'"'));break;case"effect":e.effect!=null&&typeof e.effect!="function"&&console.error(Pd(e0,e.name,'"effect"','"function"','"'+String(e.fn)+'"'));break;case"requires":e.requires!=null&&!Array.isArray(e.requires)&&console.error(Pd(e0,e.name,'"requires"','"array"','"'+String(e.requires)+'"'));break;case"requiresIfExists":Array.isArray(e.requiresIfExists)||console.error(Pd(e0,e.name,'"requiresIfExists"','"array"','"'+String(e.requiresIfExists)+'"'));break;case"options":case"data":break;default:console.error('PopperJS: an invalid property has been provided to the "'+e.name+'" modifier, valid properties are '+bF.map(function(n){return'"'+n+'"'}).join(", ")+'; but "'+r+'" was provided.')}e.requires&&e.requires.forEach(function(n){t.find(function(i){return i.name===n})==null&&console.error(Pd(fMe,String(e.name),n,n))})})})}function hMe(t,e){var r=new Set;return t.filter(function(n){var i=e(n);if(!r.has(i))return r.add(i),!0})}function $2(t){return t.split("-")[0]}function pMe(t){var e=t.reduce(function(r,n){var i=r[n.name];return r[n.name]=i?Object.assign({},i,n,{options:Object.assign({},i.options,n.options),data:Object.assign({},i.data,n.data)}):n,r},{});return Object.keys(e).map(function(r){return e[r]})}function wJ(t){return t.split("-")[1]}function gMe(t){return["top","bottom"].indexOf(t)>=0?"x":"y"}function mMe(t){var e=t.reference,r=t.element,n=t.placement,i=n?$2(n):null,s=n?wJ(n):null,o=e.x+e.width/2-r.width/2,a=e.y+e.height/2-r.height/2,c;switch(i){case tm:c={x:o,y:e.y-r.height};break;case yx:c={x:o,y:e.y+e.height};break;case p1:c={x:e.x+e.width,y:a};break;case U0:c={x:e.x-r.width,y:a};break;default:c={x:e.x,y:e.y}}var l=i?gMe(i):null;if(l!=null){var u=l==="y"?"height":"width";switch(s){case bJ:c[l]=c[l]-(e[u]/2-r[u]/2);break;case _x:c[l]=c[l]+(e[u]/2-r[u]/2);break}}return c}var wF="Popper: Invalid reference or popper argument provided. They must be either a DOM element or virtual element.",yMe="Popper: An infinite loop in the modifiers cycle has been detected! The cycle has been interrupted to prevent a browser crash.",vF={placement:"bottom",modifiers:[],strategy:"absolute"};function EF(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return!e.some(function(n){return!(n&&typeof n.getBoundingClientRect=="function")})}function _Me(t){t===void 0&&(t={});var e=t,r=e.defaultModifiers,n=r===void 0?[]:r,i=e.defaultOptions,s=i===void 0?vF:i;return function(a,c,l){l===void 0&&(l=s);var u={placement:"bottom",orderedModifiers:[],options:Object.assign({},vF,s),modifiersData:{},elements:{reference:a,popper:c},attributes:{},styles:{}},f=[],h=!1,g={state:u,setOptions:function(A){var N=typeof A=="function"?A(u.options):A;m(),u.options=Object.assign({},s,u.options,N),u.scrollParents={reference:S5(a)?zE(a):a.contextElement?zE(a.contextElement):[],popper:zE(c)};var R=lMe(pMe([].concat(n,u.options.modifiers)));u.orderedModifiers=R.filter(function(B){return B.enabled});{var k=hMe([].concat(R,u.options.modifiers),function(B){var O=B.name;return O});if(dMe(k),$2(u.options.placement)===_J){var M=u.orderedModifiers.find(function(B){var O=B.name;return O==="flip"});M||console.error(['Popper: "auto" placements require the "flip" modifier be',"present and enabled to work."].join(" "))}var D=ed(c),H=D.marginTop,S=D.marginRight,C=D.marginBottom,$=D.marginLeft;[H,S,C,$].some(function(B){return parseFloat(B)})&&console.warn(['Popper: CSS "margin" styles cannot be used to apply padding',"between the popper and its reference element or boundary.","To replicate margin, use the `offset` modifier, as well as","the `padding` option in the `preventOverflow` and `flip`","modifiers."].join(" "))}return _(),g.update()},forceUpdate:function(){if(!h){var A=u.elements,N=A.reference,R=A.popper;if(!EF(N,R)){console.error(wF);return}u.rects={reference:Kke(N,yJ(R),u.options.strategy==="fixed"),popper:Vke(R)},u.reset=!1,u.placement=u.options.placement,u.orderedModifiers.forEach(function(B){return u.modifiersData[B.name]=Object.assign({},B.data)});for(var k=0,M=0;M<u.orderedModifiers.length;M++){if(k+=1,k>100){console.error(yMe);break}if(u.reset===!0){u.reset=!1,M=-1;continue}var D=u.orderedModifiers[M],H=D.fn,S=D.options,C=S===void 0?{}:S,$=D.name;typeof H=="function"&&(u=H({state:u,options:C,name:$,instance:g})||u)}}},update:uMe(function(){return new Promise(function(b){g.forceUpdate(),b(u)})}),destroy:function(){m(),h=!0}};if(!EF(a,c))return console.error(wF),g;g.setOptions(l).then(function(b){!h&&l.onFirstUpdate&&l.onFirstUpdate(b)});function _(){u.orderedModifiers.forEach(function(b){var A=b.name,N=b.options,R=N===void 0?{}:N,k=b.effect;if(typeof k=="function"){var M=k({state:u,name:A,instance:g,options:R}),D=function(){};f.push(M||D)}})}function m(){f.forEach(function(b){return b()}),f=[]}return g}}var Rv={passive:!0};function bMe(t){var e=t.state,r=t.instance,n=t.options,i=n.scroll,s=i===void 0?!0:i,o=n.resize,a=o===void 0?!0:o,c=Fl(e.elements.popper),l=[].concat(e.scrollParents.reference,e.scrollParents.popper);return s&&l.forEach(function(u){u.addEventListener("scroll",r.update,Rv)}),a&&c.addEventListener("resize",r.update,Rv),function(){s&&l.forEach(function(u){u.removeEventListener("scroll",r.update,Rv)}),a&&c.removeEventListener("resize",r.update,Rv)}}var wMe={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:bMe,data:{}};function vMe(t){var e=t.state,r=t.name;e.modifiersData[r]=mMe({reference:e.rects.reference,element:e.rects.popper,placement:e.placement})}var EMe={name:"popperOffsets",enabled:!0,phase:"read",fn:vMe,data:{}},AMe={top:"auto",right:"auto",bottom:"auto",left:"auto"};function xMe(t){var e=t.x,r=t.y,n=window,i=n.devicePixelRatio||1;return{x:bm(e*i)/i||0,y:bm(r*i)/i||0}}function AF(t){var e,r=t.popper,n=t.popperRect,i=t.placement,s=t.variation,o=t.offsets,a=t.position,c=t.gpuAcceleration,l=t.adaptive,u=t.roundOffsets,f=t.isFixed,h=o.x,g=h===void 0?0:h,_=o.y,m=_===void 0?0:_,b=typeof u=="function"?u({x:g,y:m}):{x:g,y:m};g=b.x,m=b.y;var A=o.hasOwnProperty("x"),N=o.hasOwnProperty("y"),R=U0,k=tm,M=window;if(l){var D=yJ(r),H="clientHeight",S="clientWidth";if(D===Fl(r)&&(D=L2(r),ed(D).position!=="static"&&a==="absolute"&&(H="scrollHeight",S="scrollWidth")),D=D,i===tm||(i===U0||i===p1)&&s===_x){k=yx;var C=f&&D===M&&M.visualViewport?M.visualViewport.height:D[H];m-=C-n.height,m*=c?1:-1}if(i===U0||(i===tm||i===yx)&&s===_x){R=p1;var $=f&&D===M&&M.visualViewport?M.visualViewport.width:D[S];g-=$-n.width,g*=c?1:-1}}var B=Object.assign({position:a},l&&AMe),O=u===!0?xMe({x:g,y:m}):{x:g,y:m};if(g=O.x,m=O.y,c){var T;return Object.assign({},B,(T={},T[k]=N?"0":"",T[R]=A?"0":"",T.transform=(M.devicePixelRatio||1)<=1?"translate("+g+"px, "+m+"px)":"translate3d("+g+"px, "+m+"px, 0)",T))}return Object.assign({},B,(e={},e[k]=N?m+"px":"",e[R]=A?g+"px":"",e.transform="",e))}function CMe(t){var e=t.state,r=t.options,n=r.gpuAcceleration,i=n===void 0?!0:n,s=r.adaptive,o=s===void 0?!0:s,a=r.roundOffsets,c=a===void 0?!0:a;{var l=ed(e.elements.popper).transitionProperty||"";o&&["transform","top","right","bottom","left"].some(function(f){return l.indexOf(f)>=0})&&console.warn(["Popper: Detected CSS transitions on at least one of the following",'CSS properties: "transform", "top", "right", "bottom", "left".',`

`,'Disable the "computeStyles" modifier\'s `adaptive` option to allow',"for smooth transitions, or remove these properties from the CSS","transition declaration on the popper element if only transitioning","opacity or background-color for example.",`

`,"We recommend using the popper element as a wrapper around an inner","element that can have any CSS property transitioned for animations."].join(" "))}var u={placement:$2(e.placement),variation:wJ(e.placement),popper:e.elements.popper,popperRect:e.rects.popper,gpuAcceleration:i,isFixed:e.options.strategy==="fixed"};e.modifiersData.popperOffsets!=null&&(e.styles.popper=Object.assign({},e.styles.popper,AF(Object.assign({},u,{offsets:e.modifiersData.popperOffsets,position:e.options.strategy,adaptive:o,roundOffsets:c})))),e.modifiersData.arrow!=null&&(e.styles.arrow=Object.assign({},e.styles.arrow,AF(Object.assign({},u,{offsets:e.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:c})))),e.attributes.popper=Object.assign({},e.attributes.popper,{"data-popper-placement":e.placement})}var NMe={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:CMe,data:{}};function SMe(t){var e=t.state;Object.keys(e.elements).forEach(function(r){var n=e.styles[r]||{},i=e.attributes[r]||{},s=e.elements[r];!Ol(s)||!Zf(s)||(Object.assign(s.style,n),Object.keys(i).forEach(function(o){var a=i[o];a===!1?s.removeAttribute(o):s.setAttribute(o,a===!0?"":a)}))})}function TMe(t){var e=t.state,r={popper:{position:e.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(e.elements.popper.style,r.popper),e.styles=r,e.elements.arrow&&Object.assign(e.elements.arrow.style,r.arrow),function(){Object.keys(e.elements).forEach(function(n){var i=e.elements[n],s=e.attributes[n]||{},o=Object.keys(e.styles.hasOwnProperty(n)?e.styles[n]:r[n]),a=o.reduce(function(c,l){return c[l]="",c},{});!Ol(i)||!Zf(i)||(Object.assign(i.style,a),Object.keys(s).forEach(function(c){i.removeAttribute(c)}))})}}var IMe={name:"applyStyles",enabled:!0,phase:"write",fn:SMe,effect:TMe,requires:["computeStyles"]},RMe=[wMe,EMe,NMe,IMe],PMe=_Me({defaultModifiers:RMe});function OMe(t,e,r){var n=$2(t),i=[U0,tm].indexOf(n)>=0?-1:1,s=typeof r=="function"?r(Object.assign({},e,{placement:t})):r,o=s[0],a=s[1];return o=o||0,a=(a||0)*i,[U0,p1].indexOf(n)>=0?{x:a,y:o}:{x:o,y:a}}function DMe(t){var e=t.state,r=t.options,n=t.name,i=r.offset,s=i===void 0?[0,0]:i,o=Qke.reduce(function(u,f){return u[f]=OMe(f,e.rects,s),u},{}),a=o[e.placement],c=a.x,l=a.y;e.modifiersData.popperOffsets!=null&&(e.modifiersData.popperOffsets.x+=c,e.modifiersData.popperOffsets.y+=l),e.modifiersData[n]=o}var kMe={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:DMe};const[MMe,t0]=Sc("popover"),UMe=["overlay","duration","teleport","overlayStyle","overlayClass","closeOnClickOverlay"],LMe={show:Boolean,theme:Tn("light"),overlay:Boolean,actions:J4e(),actionsDirection:Tn("vertical"),trigger:Tn("click"),duration:Fn,showArrow:Fo,placement:Tn("bottom"),iconPrefix:String,overlayClass:qf,overlayStyle:Object,closeOnClickAction:Fo,closeOnClickOverlay:Fo,closeOnClickOutside:Fo,offset:{type:Array,default:()=>[0,8]},teleport:{type:[String,Object],default:"body"}};var $Me=Bn({name:MMe,props:LMe,emits:["select","touchstart","update:show"],setup(t,{emit:e,slots:r,attrs:n}){let i;const s=ot(),o=ot(),a=ot(),c=lke(()=>t.show,N=>e("update:show",N)),l=()=>({placement:t.placement,modifiers:[{name:"computeStyles",options:{adaptive:!1,gpuAcceleration:!1}},Nc({},kMe,{options:{offset:t.offset}})]}),u=()=>o.value&&a.value?PMe(o.value,a.value.popupRef.value,l()):null,f=()=>{tc(()=>{c.value&&(i?i.setOptions(l()):(i=u(),px&&(window.addEventListener("animationend",f),window.addEventListener("transitionend",f))))})},h=N=>{c.value=N},g=()=>{t.trigger==="click"&&(c.value=!c.value)},_=(N,R)=>{N.disabled||(e("select",N,R),t.closeOnClickAction&&(c.value=!1))},m=()=>{c.value&&t.closeOnClickOutside&&(!t.overlay||t.closeOnClickOverlay)&&(c.value=!1)},b=(N,R)=>r.action?r.action({action:N,index:R}):[N.icon&&Le(ac,{name:N.icon,classPrefix:t.iconPrefix,class:t0("action-icon")},null),Le("div",{class:[t0("action-text"),{[sJ]:t.actionsDirection==="vertical"}]},[N.text])],A=(N,R)=>{const{icon:k,color:M,disabled:D,className:H}=N;return Le("div",{role:"menuitem",class:[t0("action",{disabled:D,"with-icon":k}),{[ADe]:t.actionsDirection==="horizontal"},H],style:{color:M},tabindex:D?void 0:0,"aria-disabled":D||void 0,onClick:()=>_(N,R)},[b(N,R)])};return Ul(()=>{f(),qie(()=>{var N;s.value=(N=a.value)==null?void 0:N.popupRef.value})}),Px(()=>{i&&(px&&(window.removeEventListener("animationend",f),window.removeEventListener("transitionend",f)),i.destroy(),i=null)}),In(()=>[c.value,t.offset,t.placement],f),tDe([o,s],m,{eventName:"touchstart"}),()=>{var N;return Le(qi,null,[Le("span",{ref:o,class:t0("wrapper"),onClick:g},[(N=r.reference)==null?void 0:N.call(r)]),Le(U2,Iu({ref:a,show:c.value,class:t0([t.theme]),position:"",transition:"van-popover-zoom",lockScroll:!1,"onUpdate:show":h},n,LR(),QV(t,UMe)),{default:()=>[t.showArrow&&Le("div",{class:t0("arrow")},null),Le("div",{role:"menu",class:t0("content",t.actionsDirection)},[r.default?r.default():t.actions.map(A)])]})])}}});const FMe=Uu($Me),BMe=""+new URL("logo-BIuw6-vh.png",import.meta.url).href,HMe="data:image/svg+xml,%3csvg%20width='24'%20height='24'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20clip-path='url(%23clip0_263_2590)'%3e%3cpath%20d='M8.83594%2014.1328C9.40547%2014.1328%209.86719%2014.5945%209.86719%2015.1641V22.4766C9.86719%2023.0461%209.40547%2023.5078%208.83594%2023.5078H1.52344C0.953906%2023.5078%200.492188%2023.0461%200.492188%2022.4766V15.1641C0.492188%2014.5945%200.953906%2014.1328%201.52344%2014.1328H8.83594ZM20.5547%2014.1328C21.1242%2014.1328%2021.5859%2014.5945%2021.5859%2015.1641V22.4766C21.5859%2023.0461%2021.1242%2023.5078%2020.5547%2023.5078H13.2422C12.6727%2023.5078%2012.2109%2023.0461%2012.2109%2022.4766V15.1641C12.2109%2014.5945%2012.6727%2014.1328%2013.2422%2014.1328H20.5547ZM17.6276%201.20164L22.7984%206.37235C23.2011%206.77508%2023.2011%207.42805%2022.7984%207.83078L17.6276%2013.0015C17.2249%2013.4042%2016.572%2013.4042%2016.1692%2013.0015L10.9985%207.83078C10.5958%207.42805%2010.5958%206.77508%2010.9985%206.37235L16.1692%201.20164C16.572%200.798916%2017.2249%200.798916%2017.6276%201.20164ZM8.83594%202.41406C9.40547%202.41406%209.86719%202.87578%209.86719%203.44531V10.7578C9.86719%2011.3273%209.40547%2011.7891%208.83594%2011.7891H1.52344C0.953906%2011.7891%200.492188%2011.3273%200.492188%2010.7578V3.44531C0.492188%202.87578%200.953906%202.41406%201.52344%202.41406H8.83594Z'%20fill='%2300A899'/%3e%3c/g%3e%3cdefs%3e%3cclipPath%20id='clip0_263_2590'%3e%3crect%20width='24'%20height='24'%20fill='white'/%3e%3c/clipPath%3e%3c/defs%3e%3c/svg%3e";/*!
  * shared v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function jMe(t,e){typeof console<"u"&&(console.warn("[intlify] "+t),e&&console.warn(e.stack))}const bx=typeof window<"u",Ph=(t,e=!1)=>e?Symbol.for(t):Symbol(t),WMe=(t,e,r)=>qMe({l:t,k:e,s:r}),qMe=t=>JSON.stringify(t).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027"),ii=t=>typeof t=="number"&&isFinite(t),zMe=t=>EJ(t)==="[object Date]",Eh=t=>EJ(t)==="[object RegExp]",F2=t=>xt(t)&&Object.keys(t).length===0,fs=Object.assign,GMe=Object.create,zr=(t=null)=>GMe(t);let xF;const Mf=()=>xF||(xF=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:zr());function CF(t){return t.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/\//g,"&#x2F;").replace(/=/g,"&#x3D;")}function NF(t){return t.replace(/&(?![a-zA-Z0-9#]{2,6};)/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function KMe(t){return t=t.replace(/(\w+)\s*=\s*"([^"]*)"/g,(n,i,s)=>`${i}="${NF(s)}"`),t=t.replace(/(\w+)\s*=\s*'([^']*)'/g,(n,i,s)=>`${i}='${NF(s)}'`),/\s*on\w+\s*=\s*["']?[^"'>]+["']?/gi.test(t)&&(t=t.replace(/(\s+)(on)(\w+\s*=)/gi,"$1&#111;n$3")),[/(\s+(?:href|src|action|formaction)\s*=\s*["']?)\s*javascript:/gi,/(style\s*=\s*["'][^"']*url\s*\(\s*)javascript:/gi].forEach(n=>{t=t.replace(n,"$1javascript&#58;")}),t}const VMe=Object.prototype.hasOwnProperty;function Nl(t,e){return VMe.call(t,e)}const An=Array.isArray,mn=t=>typeof t=="function",Ge=t=>typeof t=="string",Ht=t=>typeof t=="boolean",vr=t=>t!==null&&typeof t=="object",JMe=t=>vr(t)&&mn(t.then)&&mn(t.catch),vJ=Object.prototype.toString,EJ=t=>vJ.call(t),xt=t=>{if(!vr(t))return!1;const e=Object.getPrototypeOf(t);return e===null||e.constructor===Object},YMe=t=>t==null?"":An(t)||xt(t)&&t.toString===vJ?JSON.stringify(t,null,2):String(t);function XMe(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}function B2(t){let e=t;return()=>++e}const Pv=t=>!vr(t)||An(t);function GE(t,e){if(Pv(t)||Pv(e))throw new Error("Invalid value");const r=[{src:t,des:e}];for(;r.length;){const{src:n,des:i}=r.pop();Object.keys(n).forEach(s=>{s!=="__proto__"&&(vr(n[s])&&!vr(i[s])&&(i[s]=Array.isArray(n[s])?[]:zr()),Pv(i[s])||Pv(n[s])?i[s]=n[s]:r.push({src:n[s],des:i[s]}))})}}/*!
  * message-compiler v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function QMe(t,e,r){return{line:t,column:e,offset:r}}function wx(t,e,r){return{start:t,end:e}}const ZMe=/\{([0-9a-zA-Z]+)\}/g;function AJ(t,...e){return e.length===1&&eUe(e[0])&&(e=e[0]),(!e||!e.hasOwnProperty)&&(e={}),t.replace(ZMe,(r,n)=>e.hasOwnProperty(n)?e[n]:"")}const xJ=Object.assign,SF=t=>typeof t=="string",eUe=t=>t!==null&&typeof t=="object";function CJ(t,e=""){return t.reduce((r,n,i)=>i===0?r+n:r+e+n,"")}const R5={USE_MODULO_SYNTAX:1,__EXTEND_POINT__:2},tUe={[R5.USE_MODULO_SYNTAX]:"Use modulo before '{{0}}'."};function rUe(t,e,...r){const n=AJ(tUe[t],...r||[]),i={message:String(n),code:t};return e&&(i.location=e),i}const _t={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},nUe={[_t.EXPECTED_TOKEN]:"Expected token: '{0}'",[_t.INVALID_TOKEN_IN_PLACEHOLDER]:"Invalid token in placeholder: '{0}'",[_t.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER]:"Unterminated single quote in placeholder",[_t.UNKNOWN_ESCAPE_SEQUENCE]:"Unknown escape sequence: \\{0}",[_t.INVALID_UNICODE_ESCAPE_SEQUENCE]:"Invalid unicode escape sequence: {0}",[_t.UNBALANCED_CLOSING_BRACE]:"Unbalanced closing brace",[_t.UNTERMINATED_CLOSING_BRACE]:"Unterminated closing brace",[_t.EMPTY_PLACEHOLDER]:"Empty placeholder",[_t.NOT_ALLOW_NEST_PLACEHOLDER]:"Not allowed nest placeholder",[_t.INVALID_LINKED_FORMAT]:"Invalid linked format",[_t.MUST_HAVE_MESSAGES_IN_PLURAL]:"Plural must have messages",[_t.UNEXPECTED_EMPTY_LINKED_MODIFIER]:"Unexpected empty linked modifier",[_t.UNEXPECTED_EMPTY_LINKED_KEY]:"Unexpected empty linked key",[_t.UNEXPECTED_LEXICAL_ANALYSIS]:"Unexpected lexical analysis in token: '{0}'",[_t.UNHANDLED_CODEGEN_NODE_TYPE]:"unhandled codegen node type: '{0}'",[_t.UNHANDLED_MINIFIER_NODE_TYPE]:"unhandled mimifier node type: '{0}'"};function qm(t,e,r={}){const{domain:n,messages:i,args:s}=r,o=AJ((i||nUe)[t]||"",...s||[]),a=new SyntaxError(String(o));return a.code=t,e&&(a.location=e),a.domain=n,a}function iUe(t){throw t}const gf=" ",sUe="\r",Ys=`
`,oUe="\u2028",aUe="\u2029";function cUe(t){const e=t;let r=0,n=1,i=1,s=0;const o=H=>e[H]===sUe&&e[H+1]===Ys,a=H=>e[H]===Ys,c=H=>e[H]===aUe,l=H=>e[H]===oUe,u=H=>o(H)||a(H)||c(H)||l(H),f=()=>r,h=()=>n,g=()=>i,_=()=>s,m=H=>o(H)||c(H)||l(H)?Ys:e[H],b=()=>m(r),A=()=>m(r+s);function N(){return s=0,u(r)&&(n++,i=0),o(r)&&r++,r++,i++,e[r]}function R(){return o(r+s)&&s++,s++,e[r+s]}function k(){r=0,n=1,i=1,s=0}function M(H=0){s=H}function D(){const H=r+s;for(;H!==r;)N();s=0}return{index:f,line:h,column:g,peekOffset:_,charAt:m,currentChar:b,currentPeek:A,next:N,peek:R,reset:k,resetPeek:M,skipToPeek:D}}const Od=void 0,lUe=".",TF="'",uUe="tokenizer";function fUe(t,e={}){const r=e.location!==!1,n=cUe(t),i=()=>n.index(),s=()=>QMe(n.line(),n.column(),n.index()),o=s(),a=i(),c={currentType:14,offset:a,startLoc:o,endLoc:o,lastType:14,lastOffset:a,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=()=>c,{onError:u}=e;function f(Z,ee,ge,..._e){const Re=l();if(ee.column+=ge,ee.offset+=ge,u){const Pe=r?wx(Re.startLoc,ee):null,ue=qm(Z,Pe,{domain:uUe,args:_e});u(ue)}}function h(Z,ee,ge){Z.endLoc=s(),Z.currentType=ee;const _e={type:ee};return r&&(_e.loc=wx(Z.startLoc,Z.endLoc)),ge!=null&&(_e.value=ge),_e}const g=Z=>h(Z,14);function _(Z,ee){return Z.currentChar()===ee?(Z.next(),ee):(f(_t.EXPECTED_TOKEN,s(),0,ee),"")}function m(Z){let ee="";for(;Z.currentPeek()===gf||Z.currentPeek()===Ys;)ee+=Z.currentPeek(),Z.peek();return ee}function b(Z){const ee=m(Z);return Z.skipToPeek(),ee}function A(Z){if(Z===Od)return!1;const ee=Z.charCodeAt(0);return ee>=97&&ee<=122||ee>=65&&ee<=90||ee===95}function N(Z){if(Z===Od)return!1;const ee=Z.charCodeAt(0);return ee>=48&&ee<=57}function R(Z,ee){const{currentType:ge}=ee;if(ge!==2)return!1;m(Z);const _e=A(Z.currentPeek());return Z.resetPeek(),_e}function k(Z,ee){const{currentType:ge}=ee;if(ge!==2)return!1;m(Z);const _e=Z.currentPeek()==="-"?Z.peek():Z.currentPeek(),Re=N(_e);return Z.resetPeek(),Re}function M(Z,ee){const{currentType:ge}=ee;if(ge!==2)return!1;m(Z);const _e=Z.currentPeek()===TF;return Z.resetPeek(),_e}function D(Z,ee){const{currentType:ge}=ee;if(ge!==8)return!1;m(Z);const _e=Z.currentPeek()===".";return Z.resetPeek(),_e}function H(Z,ee){const{currentType:ge}=ee;if(ge!==9)return!1;m(Z);const _e=A(Z.currentPeek());return Z.resetPeek(),_e}function S(Z,ee){const{currentType:ge}=ee;if(!(ge===8||ge===12))return!1;m(Z);const _e=Z.currentPeek()===":";return Z.resetPeek(),_e}function C(Z,ee){const{currentType:ge}=ee;if(ge!==10)return!1;const _e=()=>{const Pe=Z.currentPeek();return Pe==="{"?A(Z.peek()):Pe==="@"||Pe==="%"||Pe==="|"||Pe===":"||Pe==="."||Pe===gf||!Pe?!1:Pe===Ys?(Z.peek(),_e()):O(Z,!1)},Re=_e();return Z.resetPeek(),Re}function $(Z){m(Z);const ee=Z.currentPeek()==="|";return Z.resetPeek(),ee}function B(Z){const ee=m(Z),ge=Z.currentPeek()==="%"&&Z.peek()==="{";return Z.resetPeek(),{isModulo:ge,hasSpace:ee.length>0}}function O(Z,ee=!0){const ge=(Re=!1,Pe="",ue=!1)=>{const be=Z.currentPeek();return be==="{"?Pe==="%"?!1:Re:be==="@"||!be?Pe==="%"?!0:Re:be==="%"?(Z.peek(),ge(Re,"%",!0)):be==="|"?Pe==="%"||ue?!0:!(Pe===gf||Pe===Ys):be===gf?(Z.peek(),ge(!0,gf,ue)):be===Ys?(Z.peek(),ge(!0,Ys,ue)):!0},_e=ge();return ee&&Z.resetPeek(),_e}function T(Z,ee){const ge=Z.currentChar();return ge===Od?Od:ee(ge)?(Z.next(),ge):null}function y(Z){const ee=Z.charCodeAt(0);return ee>=97&&ee<=122||ee>=65&&ee<=90||ee>=48&&ee<=57||ee===95||ee===36}function w(Z){return T(Z,y)}function E(Z){const ee=Z.charCodeAt(0);return ee>=97&&ee<=122||ee>=65&&ee<=90||ee>=48&&ee<=57||ee===95||ee===36||ee===45}function I(Z){return T(Z,E)}function U(Z){const ee=Z.charCodeAt(0);return ee>=48&&ee<=57}function j(Z){return T(Z,U)}function z(Z){const ee=Z.charCodeAt(0);return ee>=48&&ee<=57||ee>=65&&ee<=70||ee>=97&&ee<=102}function L(Z){return T(Z,z)}function x(Z){let ee="",ge="";for(;ee=j(Z);)ge+=ee;return ge}function W(Z){b(Z);const ee=Z.currentChar();return ee!=="%"&&f(_t.EXPECTED_TOKEN,s(),0,ee),Z.next(),"%"}function K(Z){let ee="";for(;;){const ge=Z.currentChar();if(ge==="{"||ge==="}"||ge==="@"||ge==="|"||!ge)break;if(ge==="%")if(O(Z))ee+=ge,Z.next();else break;else if(ge===gf||ge===Ys)if(O(Z))ee+=ge,Z.next();else{if($(Z))break;ee+=ge,Z.next()}else ee+=ge,Z.next()}return ee}function P(Z){b(Z);let ee="",ge="";for(;ee=I(Z);)ge+=ee;return Z.currentChar()===Od&&f(_t.UNTERMINATED_CLOSING_BRACE,s(),0),ge}function X(Z){b(Z);let ee="";return Z.currentChar()==="-"?(Z.next(),ee+=`-${x(Z)}`):ee+=x(Z),Z.currentChar()===Od&&f(_t.UNTERMINATED_CLOSING_BRACE,s(),0),ee}function q(Z){return Z!==TF&&Z!==Ys}function te(Z){b(Z),_(Z,"'");let ee="",ge="";for(;ee=T(Z,q);)ee==="\\"?ge+=ne(Z):ge+=ee;const _e=Z.currentChar();return _e===Ys||_e===Od?(f(_t.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,s(),0),_e===Ys&&(Z.next(),_(Z,"'")),ge):(_(Z,"'"),ge)}function ne(Z){const ee=Z.currentChar();switch(ee){case"\\":case"'":return Z.next(),`\\${ee}`;case"u":return le(Z,ee,4);case"U":return le(Z,ee,6);default:return f(_t.UNKNOWN_ESCAPE_SEQUENCE,s(),0,ee),""}}function le(Z,ee,ge){_(Z,ee);let _e="";for(let Re=0;Re<ge;Re++){const Pe=L(Z);if(!Pe){f(_t.INVALID_UNICODE_ESCAPE_SEQUENCE,s(),0,`\\${ee}${_e}${Z.currentChar()}`);break}_e+=Pe}return`\\${ee}${_e}`}function me(Z){return Z!=="{"&&Z!=="}"&&Z!==gf&&Z!==Ys}function Y(Z){b(Z);let ee="",ge="";for(;ee=T(Z,me);)ge+=ee;return ge}function ie(Z){let ee="",ge="";for(;ee=w(Z);)ge+=ee;return ge}function J(Z){const ee=ge=>{const _e=Z.currentChar();return _e==="{"||_e==="%"||_e==="@"||_e==="|"||_e==="("||_e===")"||!_e||_e===gf?ge:(ge+=_e,Z.next(),ee(ge))};return ee("")}function ae(Z){b(Z);const ee=_(Z,"|");return b(Z),ee}function Ee(Z,ee){let ge=null;switch(Z.currentChar()){case"{":return ee.braceNest>=1&&f(_t.NOT_ALLOW_NEST_PLACEHOLDER,s(),0),Z.next(),ge=h(ee,2,"{"),b(Z),ee.braceNest++,ge;case"}":return ee.braceNest>0&&ee.currentType===2&&f(_t.EMPTY_PLACEHOLDER,s(),0),Z.next(),ge=h(ee,3,"}"),ee.braceNest--,ee.braceNest>0&&b(Z),ee.inLinked&&ee.braceNest===0&&(ee.inLinked=!1),ge;case"@":return ee.braceNest>0&&f(_t.UNTERMINATED_CLOSING_BRACE,s(),0),ge=ye(Z,ee)||g(ee),ee.braceNest=0,ge;default:{let Re=!0,Pe=!0,ue=!0;if($(Z))return ee.braceNest>0&&f(_t.UNTERMINATED_CLOSING_BRACE,s(),0),ge=h(ee,1,ae(Z)),ee.braceNest=0,ee.inLinked=!1,ge;if(ee.braceNest>0&&(ee.currentType===5||ee.currentType===6||ee.currentType===7))return f(_t.UNTERMINATED_CLOSING_BRACE,s(),0),ee.braceNest=0,Ie(Z,ee);if(Re=R(Z,ee))return ge=h(ee,5,P(Z)),b(Z),ge;if(Pe=k(Z,ee))return ge=h(ee,6,X(Z)),b(Z),ge;if(ue=M(Z,ee))return ge=h(ee,7,te(Z)),b(Z),ge;if(!Re&&!Pe&&!ue)return ge=h(ee,13,Y(Z)),f(_t.INVALID_TOKEN_IN_PLACEHOLDER,s(),0,ge.value),b(Z),ge;break}}return ge}function ye(Z,ee){const{currentType:ge}=ee;let _e=null;const Re=Z.currentChar();switch((ge===8||ge===9||ge===12||ge===10)&&(Re===Ys||Re===gf)&&f(_t.INVALID_LINKED_FORMAT,s(),0),Re){case"@":return Z.next(),_e=h(ee,8,"@"),ee.inLinked=!0,_e;case".":return b(Z),Z.next(),h(ee,9,".");case":":return b(Z),Z.next(),h(ee,10,":");default:return $(Z)?(_e=h(ee,1,ae(Z)),ee.braceNest=0,ee.inLinked=!1,_e):D(Z,ee)||S(Z,ee)?(b(Z),ye(Z,ee)):H(Z,ee)?(b(Z),h(ee,12,ie(Z))):C(Z,ee)?(b(Z),Re==="{"?Ee(Z,ee)||_e:h(ee,11,J(Z))):(ge===8&&f(_t.INVALID_LINKED_FORMAT,s(),0),ee.braceNest=0,ee.inLinked=!1,Ie(Z,ee))}}function Ie(Z,ee){let ge={type:14};if(ee.braceNest>0)return Ee(Z,ee)||g(ee);if(ee.inLinked)return ye(Z,ee)||g(ee);switch(Z.currentChar()){case"{":return Ee(Z,ee)||g(ee);case"}":return f(_t.UNBALANCED_CLOSING_BRACE,s(),0),Z.next(),h(ee,3,"}");case"@":return ye(Z,ee)||g(ee);default:{if($(Z))return ge=h(ee,1,ae(Z)),ee.braceNest=0,ee.inLinked=!1,ge;const{isModulo:Re,hasSpace:Pe}=B(Z);if(Re)return Pe?h(ee,0,K(Z)):h(ee,4,W(Z));if(O(Z))return h(ee,0,K(Z));break}}return ge}function Ue(){const{currentType:Z,offset:ee,startLoc:ge,endLoc:_e}=c;return c.lastType=Z,c.lastOffset=ee,c.lastStartLoc=ge,c.lastEndLoc=_e,c.offset=i(),c.startLoc=s(),n.currentChar()===Od?h(c,14):Ie(n,c)}return{nextToken:Ue,currentOffset:i,currentPosition:s,context:l}}const dUe="parser",hUe=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function pUe(t,e,r){switch(t){case"\\\\":return"\\";case"\\'":return"'";default:{const n=parseInt(e||r,16);return n<=55295||n>=57344?String.fromCodePoint(n):""}}}function gUe(t={}){const e=t.location!==!1,{onError:r,onWarn:n}=t;function i(R,k,M,D,...H){const S=R.currentPosition();if(S.offset+=D,S.column+=D,r){const C=e?wx(M,S):null,$=qm(k,C,{domain:dUe,args:H});r($)}}function s(R,k,M,D,...H){const S=R.currentPosition();if(S.offset+=D,S.column+=D,n){const C=e?wx(M,S):null;n(rUe(k,C,H))}}function o(R,k,M){const D={type:R};return e&&(D.start=k,D.end=k,D.loc={start:M,end:M}),D}function a(R,k,M,D){e&&(R.end=k,R.loc&&(R.loc.end=M))}function c(R,k){const M=R.context(),D=o(3,M.offset,M.startLoc);return D.value=k,a(D,R.currentOffset(),R.currentPosition()),D}function l(R,k){const M=R.context(),{lastOffset:D,lastStartLoc:H}=M,S=o(5,D,H);return S.index=parseInt(k,10),R.nextToken(),a(S,R.currentOffset(),R.currentPosition()),S}function u(R,k,M){const D=R.context(),{lastOffset:H,lastStartLoc:S}=D,C=o(4,H,S);return C.key=k,M===!0&&(C.modulo=!0),R.nextToken(),a(C,R.currentOffset(),R.currentPosition()),C}function f(R,k){const M=R.context(),{lastOffset:D,lastStartLoc:H}=M,S=o(9,D,H);return S.value=k.replace(hUe,pUe),R.nextToken(),a(S,R.currentOffset(),R.currentPosition()),S}function h(R){const k=R.nextToken(),M=R.context(),{lastOffset:D,lastStartLoc:H}=M,S=o(8,D,H);return k.type!==12?(i(R,_t.UNEXPECTED_EMPTY_LINKED_MODIFIER,M.lastStartLoc,0),S.value="",a(S,D,H),{nextConsumeToken:k,node:S}):(k.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,Uc(k)),S.value=k.value||"",a(S,R.currentOffset(),R.currentPosition()),{node:S})}function g(R,k){const M=R.context(),D=o(7,M.offset,M.startLoc);return D.value=k,a(D,R.currentOffset(),R.currentPosition()),D}function _(R){const k=R.context(),M=o(6,k.offset,k.startLoc);let D=R.nextToken();if(D.type===9){const H=h(R);M.modifier=H.node,D=H.nextConsumeToken||R.nextToken()}switch(D.type!==10&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(D)),D=R.nextToken(),D.type===2&&(D=R.nextToken()),D.type){case 11:D.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(D)),M.key=g(R,D.value||"");break;case 5:D.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(D)),M.key=u(R,D.value||"");break;case 6:D.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(D)),M.key=l(R,D.value||"");break;case 7:D.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(D)),M.key=f(R,D.value||"");break;default:{i(R,_t.UNEXPECTED_EMPTY_LINKED_KEY,k.lastStartLoc,0);const H=R.context(),S=o(7,H.offset,H.startLoc);return S.value="",a(S,H.offset,H.startLoc),M.key=S,a(M,H.offset,H.startLoc),{nextConsumeToken:D,node:M}}}return a(M,R.currentOffset(),R.currentPosition()),{node:M}}function m(R){const k=R.context(),M=k.currentType===1?R.currentOffset():k.offset,D=k.currentType===1?k.endLoc:k.startLoc,H=o(2,M,D);H.items=[];let S=null,C=null;do{const O=S||R.nextToken();switch(S=null,O.type){case 0:O.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(O)),H.items.push(c(R,O.value||""));break;case 6:O.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(O)),H.items.push(l(R,O.value||""));break;case 4:C=!0;break;case 5:O.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(O)),H.items.push(u(R,O.value||"",!!C)),C&&(s(R,R5.USE_MODULO_SYNTAX,k.lastStartLoc,0,Uc(O)),C=null);break;case 7:O.value==null&&i(R,_t.UNEXPECTED_LEXICAL_ANALYSIS,k.lastStartLoc,0,Uc(O)),H.items.push(f(R,O.value||""));break;case 8:{const T=_(R);H.items.push(T.node),S=T.nextConsumeToken||null;break}}}while(k.currentType!==14&&k.currentType!==1);const $=k.currentType===1?k.lastOffset:R.currentOffset(),B=k.currentType===1?k.lastEndLoc:R.currentPosition();return a(H,$,B),H}function b(R,k,M,D){const H=R.context();let S=D.items.length===0;const C=o(1,k,M);C.cases=[],C.cases.push(D);do{const $=m(R);S||(S=$.items.length===0),C.cases.push($)}while(H.currentType!==14);return S&&i(R,_t.MUST_HAVE_MESSAGES_IN_PLURAL,M,0),a(C,R.currentOffset(),R.currentPosition()),C}function A(R){const k=R.context(),{offset:M,startLoc:D}=k,H=m(R);return k.currentType===14?H:b(R,M,D,H)}function N(R){const k=fUe(R,xJ({},t)),M=k.context(),D=o(0,M.offset,M.startLoc);return e&&D.loc&&(D.loc.source=R),D.body=A(k),t.onCacheKey&&(D.cacheKey=t.onCacheKey(R)),M.currentType!==14&&i(k,_t.UNEXPECTED_LEXICAL_ANALYSIS,M.lastStartLoc,0,R[M.offset]||""),a(D,k.currentOffset(),k.currentPosition()),D}return{parse:N}}function Uc(t){if(t.type===14)return"EOF";const e=(t.value||"").replace(/\r?\n/gu,"\\n");return e.length>10?e.slice(0,9)+"":e}function mUe(t,e={}){const r={ast:t,helpers:new Set};return{context:()=>r,helper:s=>(r.helpers.add(s),s)}}function IF(t,e){for(let r=0;r<t.length;r++)P5(t[r],e)}function P5(t,e){switch(t.type){case 1:IF(t.cases,e),e.helper("plural");break;case 2:IF(t.items,e);break;case 6:{P5(t.key,e),e.helper("linked"),e.helper("type");break}case 5:e.helper("interpolate"),e.helper("list");break;case 4:e.helper("interpolate"),e.helper("named");break}}function yUe(t,e={}){const r=mUe(t);r.helper("normalize"),t.body&&P5(t.body,r);const n=r.context();t.helpers=Array.from(n.helpers)}function _Ue(t){const e=t.body;return e.type===2?RF(e):e.cases.forEach(r=>RF(r)),t}function RF(t){if(t.items.length===1){const e=t.items[0];(e.type===3||e.type===9)&&(t.static=e.value,delete e.value)}else{const e=[];for(let r=0;r<t.items.length;r++){const n=t.items[r];if(!(n.type===3||n.type===9)||n.value==null)break;e.push(n.value)}if(e.length===t.items.length){t.static=CJ(e);for(let r=0;r<t.items.length;r++){const n=t.items[r];(n.type===3||n.type===9)&&delete n.value}}}}const bUe="minifier";function Sg(t){switch(t.t=t.type,t.type){case 0:{const e=t;Sg(e.body),e.b=e.body,delete e.body;break}case 1:{const e=t,r=e.cases;for(let n=0;n<r.length;n++)Sg(r[n]);e.c=r,delete e.cases;break}case 2:{const e=t,r=e.items;for(let n=0;n<r.length;n++)Sg(r[n]);e.i=r,delete e.items,e.static&&(e.s=e.static,delete e.static);break}case 3:case 9:case 8:case 7:{const e=t;e.value&&(e.v=e.value,delete e.value);break}case 6:{const e=t;Sg(e.key),e.k=e.key,delete e.key,e.modifier&&(Sg(e.modifier),e.m=e.modifier,delete e.modifier);break}case 5:{const e=t;e.i=e.index,delete e.index;break}case 4:{const e=t;e.k=e.key,delete e.key;break}default:throw qm(_t.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:bUe,args:[t.type]})}delete t.type}const wUe="parser";function vUe(t,e){const{filename:r,breakLineCode:n,needIndent:i}=e,s=e.location!==!1,o={filename:r,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:n,needIndent:i,indentLevel:0};s&&t.loc&&(o.source=t.loc.source);const a=()=>o;function c(m,b){o.code+=m}function l(m,b=!0){const A=b?n:"";c(i?A+"  ".repeat(m):A)}function u(m=!0){const b=++o.indentLevel;m&&l(b)}function f(m=!0){const b=--o.indentLevel;m&&l(b)}function h(){l(o.indentLevel)}return{context:a,push:c,indent:u,deindent:f,newline:h,helper:m=>`_${m}`,needIndent:()=>o.needIndent}}function EUe(t,e){const{helper:r}=t;t.push(`${r("linked")}(`),wm(t,e.key),e.modifier?(t.push(", "),wm(t,e.modifier),t.push(", _type")):t.push(", undefined, _type"),t.push(")")}function AUe(t,e){const{helper:r,needIndent:n}=t;t.push(`${r("normalize")}([`),t.indent(n());const i=e.items.length;for(let s=0;s<i&&(wm(t,e.items[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}function xUe(t,e){const{helper:r,needIndent:n}=t;if(e.cases.length>1){t.push(`${r("plural")}([`),t.indent(n());const i=e.cases.length;for(let s=0;s<i&&(wm(t,e.cases[s]),s!==i-1);s++)t.push(", ");t.deindent(n()),t.push("])")}}function CUe(t,e){e.body?wm(t,e.body):t.push("null")}function wm(t,e){const{helper:r}=t;switch(e.type){case 0:CUe(t,e);break;case 1:xUe(t,e);break;case 2:AUe(t,e);break;case 6:EUe(t,e);break;case 8:t.push(JSON.stringify(e.value),e);break;case 7:t.push(JSON.stringify(e.value),e);break;case 5:t.push(`${r("interpolate")}(${r("list")}(${e.index}))`,e);break;case 4:t.push(`${r("interpolate")}(${r("named")}(${JSON.stringify(e.key)}))`,e);break;case 9:t.push(JSON.stringify(e.value),e);break;case 3:t.push(JSON.stringify(e.value),e);break;default:throw qm(_t.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:wUe,args:[e.type]})}}const NUe=(t,e={})=>{const r=SF(e.mode)?e.mode:"normal",n=SF(e.filename)?e.filename:"message.intl";e.sourceMap;const i=e.breakLineCode!=null?e.breakLineCode:r==="arrow"?";":`
`,s=e.needIndent?e.needIndent:r!=="arrow",o=t.helpers||[],a=vUe(t,{filename:n,breakLineCode:i,needIndent:s});a.push(r==="normal"?"function __msg__ (ctx) {":"(ctx) => {"),a.indent(s),o.length>0&&(a.push(`const { ${CJ(o.map(u=>`${u}: _${u}`),", ")} } = ctx`),a.newline()),a.push("return "),wm(a,t),a.deindent(s),a.push("}"),delete t.helpers;const{code:c,map:l}=a.context();return{ast:t,code:c,map:l?l.toJSON():void 0}};function SUe(t,e={}){const r=xJ({},e),n=!!r.jit,i=!!r.minify,s=r.optimize==null?!0:r.optimize,a=gUe(r).parse(t);return n?(s&&_Ue(a),i&&Sg(a),{ast:a,code:""}):(yUe(a,r),NUe(a,r))}/*!
  * core-base v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */function TUe(){typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Mf().__INTLIFY_PROD_DEVTOOLS__=!1),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Mf().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Mf().__INTLIFY_DROP_MESSAGE_COMPILER__=!1)}function Tu(t){return vr(t)&&O5(t)===0&&(Nl(t,"b")||Nl(t,"body"))}const NJ=["b","body"];function IUe(t){return Oh(t,NJ)}const SJ=["c","cases"];function RUe(t){return Oh(t,SJ,[])}const TJ=["s","static"];function PUe(t){return Oh(t,TJ)}const IJ=["i","items"];function OUe(t){return Oh(t,IJ,[])}const RJ=["t","type"];function O5(t){return Oh(t,RJ)}const PJ=["v","value"];function Ov(t,e){const r=Oh(t,PJ);if(r!=null)return r;throw g1(e)}const OJ=["m","modifier"];function DUe(t){return Oh(t,OJ)}const DJ=["k","key"];function kUe(t){const e=Oh(t,DJ);if(e)return e;throw g1(6)}function Oh(t,e,r){for(let n=0;n<e.length;n++){const i=e[n];if(Nl(t,i)&&t[i]!=null)return t[i]}return r}const kJ=[...NJ,...SJ,...TJ,...IJ,...DJ,...OJ,...PJ,...RJ];function g1(t){return new Error(`unhandled node type: ${t}`)}const Dh=[];Dh[0]={w:[0],i:[3,0],"[":[4],o:[7]};Dh[1]={w:[1],".":[2],"[":[4],o:[7]};Dh[2]={w:[2],i:[3,0],0:[3,0]};Dh[3]={i:[3,0],0:[3,0],w:[1,1],".":[2,1],"[":[4,1],o:[7,1]};Dh[4]={"'":[5,0],'"':[6,0],"[":[4,2],"]":[1,3],o:8,l:[4,0]};Dh[5]={"'":[4,0],o:8,l:[5,0]};Dh[6]={'"':[4,0],o:8,l:[6,0]};const MUe=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function UUe(t){return MUe.test(t)}function LUe(t){const e=t.charCodeAt(0),r=t.charCodeAt(t.length-1);return e===r&&(e===34||e===39)?t.slice(1,-1):t}function $Ue(t){if(t==null)return"o";switch(t.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function FUe(t){const e=t.trim();return t.charAt(0)==="0"&&isNaN(parseInt(t))?!1:UUe(e)?LUe(e):"*"+e}function BUe(t){const e=[];let r=-1,n=0,i=0,s,o,a,c,l,u,f;const h=[];h[0]=()=>{o===void 0?o=a:o+=a},h[1]=()=>{o!==void 0&&(e.push(o),o=void 0)},h[2]=()=>{h[0](),i++},h[3]=()=>{if(i>0)i--,n=4,h[0]();else{if(i=0,o===void 0||(o=FUe(o),o===!1))return!1;h[1]()}};function g(){const _=t[r+1];if(n===5&&_==="'"||n===6&&_==='"')return r++,a="\\"+_,h[0](),!0}for(;n!==null;)if(r++,s=t[r],!(s==="\\"&&g())){if(c=$Ue(s),f=Dh[n],l=f[c]||f.l||8,l===8||(n=l[0],l[1]!==void 0&&(u=h[l[1]],u&&(a=s,u()===!1))))return;if(n===7)return e}}const PF=new Map;function HUe(t,e){return vr(t)?t[e]:null}function jUe(t,e){if(!vr(t))return null;let r=PF.get(e);if(r||(r=BUe(e),r&&PF.set(e,r)),!r)return null;const n=r.length;let i=t,s=0;for(;s<n;){const o=r[s];if(kJ.includes(o)&&Tu(i))return null;const a=i[o];if(a===void 0||mn(i))return null;i=a,s++}return i}const WUe=t=>t,qUe=t=>"",zUe="text",GUe=t=>t.length===0?"":XMe(t),KUe=YMe;function OF(t,e){return t=Math.abs(t),e===2?t?t>1?1:0:1:t?Math.min(t,2):0}function VUe(t){const e=ii(t.pluralIndex)?t.pluralIndex:-1;return t.named&&(ii(t.named.count)||ii(t.named.n))?ii(t.named.count)?t.named.count:ii(t.named.n)?t.named.n:e:e}function JUe(t,e){e.count||(e.count=t),e.n||(e.n=t)}function YUe(t={}){const e=t.locale,r=VUe(t),n=vr(t.pluralRules)&&Ge(e)&&mn(t.pluralRules[e])?t.pluralRules[e]:OF,i=vr(t.pluralRules)&&Ge(e)&&mn(t.pluralRules[e])?OF:void 0,s=A=>A[n(r,A.length,i)],o=t.list||[],a=A=>o[A],c=t.named||zr();ii(t.pluralIndex)&&JUe(r,c);const l=A=>c[A];function u(A){const N=mn(t.messages)?t.messages(A):vr(t.messages)?t.messages[A]:!1;return N||(t.parent?t.parent.message(A):qUe)}const f=A=>t.modifiers?t.modifiers[A]:WUe,h=xt(t.processor)&&mn(t.processor.normalize)?t.processor.normalize:GUe,g=xt(t.processor)&&mn(t.processor.interpolate)?t.processor.interpolate:KUe,_=xt(t.processor)&&Ge(t.processor.type)?t.processor.type:zUe,b={list:a,named:l,plural:s,linked:(A,...N)=>{const[R,k]=N;let M="text",D="";N.length===1?vr(R)?(D=R.modifier||D,M=R.type||M):Ge(R)&&(D=R||D):N.length===2&&(Ge(R)&&(D=R||D),Ge(k)&&(M=k||M));const H=u(A)(b),S=M==="vnode"&&An(H)&&D?H[0]:H;return D?f(D)(S,M):S},message:u,type:_,interpolate:g,normalize:h,values:fs(zr(),o,c)};return b}let m1=null;function XUe(t){m1=t}function QUe(t,e,r){m1&&m1.emit("i18n:init",{timestamp:Date.now(),i18n:t,version:e,meta:r})}const ZUe=e9e("function:translate");function e9e(t){return e=>m1&&m1.emit(t,e)}const t9e=R5.__EXTEND_POINT__,r0=B2(t9e),r9e={FALLBACK_TO_TRANSLATE:r0(),CANNOT_FORMAT_NUMBER:r0(),FALLBACK_TO_NUMBER_FORMAT:r0(),CANNOT_FORMAT_DATE:r0(),FALLBACK_TO_DATE_FORMAT:r0(),EXPERIMENTAL_CUSTOM_MESSAGE_COMPILER:r0(),__EXTEND_POINT__:r0()},MJ=_t.__EXTEND_POINT__,n0=B2(MJ),Sl={INVALID_ARGUMENT:MJ,INVALID_DATE_ARGUMENT:n0(),INVALID_ISO_DATE_ARGUMENT:n0(),NOT_SUPPORT_NON_STRING_MESSAGE:n0(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:n0(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:n0(),NOT_SUPPORT_LOCALE_TYPE:n0(),__EXTEND_POINT__:n0()};function wu(t){return qm(t,null,void 0)}function D5(t,e){return e.locale!=null?DF(e.locale):DF(t.locale)}let WT;function DF(t){if(Ge(t))return t;if(mn(t)){if(t.resolvedOnce&&WT!=null)return WT;if(t.constructor.name==="Function"){const e=t();if(JMe(e))throw wu(Sl.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return WT=e}else throw wu(Sl.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}else throw wu(Sl.NOT_SUPPORT_LOCALE_TYPE)}function n9e(t,e,r){return[...new Set([r,...An(e)?e:vr(e)?Object.keys(e):Ge(e)?[e]:[r]])]}function UJ(t,e,r){const n=Ge(r)?r:vm,i=t;i.__localeChainCache||(i.__localeChainCache=new Map);let s=i.__localeChainCache.get(n);if(!s){s=[];let o=[r];for(;An(o);)o=kF(s,o,e);const a=An(e)||!xt(e)?e:e.default?e.default:null;o=Ge(a)?[a]:a,An(o)&&kF(s,o,!1),i.__localeChainCache.set(n,s)}return s}function kF(t,e,r){let n=!0;for(let i=0;i<e.length&&Ht(n);i++){const s=e[i];Ge(s)&&(n=i9e(t,e[i],r))}return n}function i9e(t,e,r){let n;const i=e.split("-");do{const s=i.join("-");n=s9e(t,s,r),i.splice(-1,1)}while(i.length&&n===!0);return n}function s9e(t,e,r){let n=!1;if(!t.includes(e)&&(n=!0,e)){n=e[e.length-1]!=="!";const i=e.replace(/!/g,"");t.push(i),(An(r)||xt(r))&&r[i]&&(n=r[i])}return n}const o9e="9.14.5",H2=-1,vm="en-US",MF="",UF=t=>`${t.charAt(0).toLocaleUpperCase()}${t.substr(1)}`;function a9e(){return{upper:(t,e)=>e==="text"&&Ge(t)?t.toUpperCase():e==="vnode"&&vr(t)&&"__v_isVNode"in t?t.children.toUpperCase():t,lower:(t,e)=>e==="text"&&Ge(t)?t.toLowerCase():e==="vnode"&&vr(t)&&"__v_isVNode"in t?t.children.toLowerCase():t,capitalize:(t,e)=>e==="text"&&Ge(t)?UF(t):e==="vnode"&&vr(t)&&"__v_isVNode"in t?UF(t.children):t}}let LJ;function LF(t){LJ=t}let $J;function c9e(t){$J=t}let FJ;function l9e(t){FJ=t}let BJ=null;const u9e=t=>{BJ=t},f9e=()=>BJ;let HJ=null;const $F=t=>{HJ=t},d9e=()=>HJ;let FF=0;function h9e(t={}){const e=mn(t.onWarn)?t.onWarn:jMe,r=Ge(t.version)?t.version:o9e,n=Ge(t.locale)||mn(t.locale)?t.locale:vm,i=mn(n)?vm:n,s=An(t.fallbackLocale)||xt(t.fallbackLocale)||Ge(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:i,o=xt(t.messages)?t.messages:qT(i),a=xt(t.datetimeFormats)?t.datetimeFormats:qT(i),c=xt(t.numberFormats)?t.numberFormats:qT(i),l=fs(zr(),t.modifiers,a9e()),u=t.pluralRules||zr(),f=mn(t.missing)?t.missing:null,h=Ht(t.missingWarn)||Eh(t.missingWarn)?t.missingWarn:!0,g=Ht(t.fallbackWarn)||Eh(t.fallbackWarn)?t.fallbackWarn:!0,_=!!t.fallbackFormat,m=!!t.unresolving,b=mn(t.postTranslation)?t.postTranslation:null,A=xt(t.processor)?t.processor:null,N=Ht(t.warnHtmlMessage)?t.warnHtmlMessage:!0,R=!!t.escapeParameter,k=mn(t.messageCompiler)?t.messageCompiler:LJ,M=mn(t.messageResolver)?t.messageResolver:$J||HUe,D=mn(t.localeFallbacker)?t.localeFallbacker:FJ||n9e,H=vr(t.fallbackContext)?t.fallbackContext:void 0,S=t,C=vr(S.__datetimeFormatters)?S.__datetimeFormatters:new Map,$=vr(S.__numberFormatters)?S.__numberFormatters:new Map,B=vr(S.__meta)?S.__meta:{};FF++;const O={version:r,cid:FF,locale:n,fallbackLocale:s,messages:o,modifiers:l,pluralRules:u,missing:f,missingWarn:h,fallbackWarn:g,fallbackFormat:_,unresolving:m,postTranslation:b,processor:A,warnHtmlMessage:N,escapeParameter:R,messageCompiler:k,messageResolver:M,localeFallbacker:D,fallbackContext:H,onWarn:e,__meta:B};return O.datetimeFormats=a,O.numberFormats=c,O.__datetimeFormatters=C,O.__numberFormatters=$,__INTLIFY_PROD_DEVTOOLS__&&QUe(O,r,B),O}const qT=t=>({[t]:zr()});function k5(t,e,r,n,i){const{missing:s,onWarn:o}=t;if(s!==null){const a=s(t,r,e,i);return Ge(a)?a:e}else return e}function Ky(t,e,r){const n=t;n.__localeChainCache=new Map,t.localeFallbacker(t,r,e)}function p9e(t,e){return t===e?!1:t.split("-")[0]===e.split("-")[0]}function g9e(t,e){const r=e.indexOf(t);if(r===-1)return!1;for(let n=r+1;n<e.length;n++)if(p9e(t,e[n]))return!0;return!1}function zT(t){return r=>m9e(r,t)}function m9e(t,e){const r=IUe(e);if(r==null)throw g1(0);if(O5(r)===1){const s=RUe(r);return t.plural(s.reduce((o,a)=>[...o,BF(t,a)],[]))}else return BF(t,r)}function BF(t,e){const r=PUe(e);if(r!=null)return t.type==="text"?r:t.normalize([r]);{const n=OUe(e).reduce((i,s)=>[...i,BR(t,s)],[]);return t.normalize(n)}}function BR(t,e){const r=O5(e);switch(r){case 3:return Ov(e,r);case 9:return Ov(e,r);case 4:{const n=e;if(Nl(n,"k")&&n.k)return t.interpolate(t.named(n.k));if(Nl(n,"key")&&n.key)return t.interpolate(t.named(n.key));throw g1(r)}case 5:{const n=e;if(Nl(n,"i")&&ii(n.i))return t.interpolate(t.list(n.i));if(Nl(n,"index")&&ii(n.index))return t.interpolate(t.list(n.index));throw g1(r)}case 6:{const n=e,i=DUe(n),s=kUe(n);return t.linked(BR(t,s),i?BR(t,i):void 0,t.type)}case 7:return Ov(e,r);case 8:return Ov(e,r);default:throw new Error(`unhandled node on format message part: ${r}`)}}const jJ=t=>t;let Mg=zr();function WJ(t,e={}){let r=!1;const n=e.onError||iUe;return e.onError=i=>{r=!0,n(i)},{...SUe(t,e),detectError:r}}const y9e=(t,e)=>{if(!Ge(t))throw wu(Sl.NOT_SUPPORT_NON_STRING_MESSAGE);{Ht(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||jJ)(t),i=Mg[n];if(i)return i;const{code:s,detectError:o}=WJ(t,e),a=new Function(`return ${s}`)();return o?a:Mg[n]=a}};function _9e(t,e){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&Ge(t)){Ht(e.warnHtmlMessage)&&e.warnHtmlMessage;const n=(e.onCacheKey||jJ)(t),i=Mg[n];if(i)return i;const{ast:s,detectError:o}=WJ(t,{...e,location:!1,jit:!0}),a=zT(s);return o?a:Mg[n]=a}else{const r=t.cacheKey;if(r){const n=Mg[r];return n||(Mg[r]=zT(t))}else return zT(t)}}const HF=()=>"",ec=t=>mn(t);function jF(t,...e){const{fallbackFormat:r,postTranslation:n,unresolving:i,messageCompiler:s,fallbackLocale:o,messages:a}=t,[c,l]=HR(...e),u=Ht(l.missingWarn)?l.missingWarn:t.missingWarn,f=Ht(l.fallbackWarn)?l.fallbackWarn:t.fallbackWarn,h=Ht(l.escapeParameter)?l.escapeParameter:t.escapeParameter,g=!!l.resolvedMessage,_=Ge(l.default)||Ht(l.default)?Ht(l.default)?s?c:()=>c:l.default:r?s?c:()=>c:"",m=r||_!=="",b=D5(t,l);h&&b9e(l);let[A,N,R]=g?[c,b,a[b]||zr()]:qJ(t,c,b,o,f,u),k=A,M=c;if(!g&&!(Ge(k)||Tu(k)||ec(k))&&m&&(k=_,M=k),!g&&(!(Ge(k)||Tu(k)||ec(k))||!Ge(N)))return i?H2:c;let D=!1;const H=()=>{D=!0},S=ec(k)?k:zJ(t,c,N,k,M,H);if(D)return k;const C=E9e(t,N,R,l),$=YUe(C),B=w9e(t,S,$);let O=n?n(B,c):B;if(h&&Ge(O)&&(O=KMe(O)),__INTLIFY_PROD_DEVTOOLS__){const T={timestamp:Date.now(),key:Ge(c)?c:ec(k)?k.key:"",locale:N||(ec(k)?k.locale:""),format:Ge(k)?k:ec(k)?k.source:"",message:O};T.meta=fs({},t.__meta,f9e()||{}),ZUe(T)}return O}function b9e(t){An(t.list)?t.list=t.list.map(e=>Ge(e)?CF(e):e):vr(t.named)&&Object.keys(t.named).forEach(e=>{Ge(t.named[e])&&(t.named[e]=CF(t.named[e]))})}function qJ(t,e,r,n,i,s){const{messages:o,onWarn:a,messageResolver:c,localeFallbacker:l}=t,u=l(t,n,r);let f=zr(),h,g=null;const _="translate";for(let m=0;m<u.length&&(h=u[m],f=o[h]||zr(),(g=c(f,e))===null&&(g=f[e]),!(Ge(g)||Tu(g)||ec(g)));m++)if(!g9e(h,u)){const b=k5(t,e,h,s,_);b!==e&&(g=b)}return[g,h,f]}function zJ(t,e,r,n,i,s){const{messageCompiler:o,warnHtmlMessage:a}=t;if(ec(n)){const l=n;return l.locale=l.locale||r,l.key=l.key||e,l}if(o==null){const l=(()=>n);return l.locale=r,l.key=e,l}const c=o(n,v9e(t,r,i,n,a,s));return c.locale=r,c.key=e,c.source=n,c}function w9e(t,e,r){return e(r)}function HR(...t){const[e,r,n]=t,i=zr();if(!Ge(e)&&!ii(e)&&!ec(e)&&!Tu(e))throw wu(Sl.INVALID_ARGUMENT);const s=ii(e)?String(e):(ec(e),e);return ii(r)?i.plural=r:Ge(r)?i.default=r:xt(r)&&!F2(r)?i.named=r:An(r)&&(i.list=r),ii(n)?i.plural=n:Ge(n)?i.default=n:xt(n)&&fs(i,n),[s,i]}function v9e(t,e,r,n,i,s){return{locale:e,key:r,warnHtmlMessage:i,onError:o=>{throw s&&s(o),o},onCacheKey:o=>WMe(e,r,o)}}function E9e(t,e,r,n){const{modifiers:i,pluralRules:s,messageResolver:o,fallbackLocale:a,fallbackWarn:c,missingWarn:l,fallbackContext:u}=t,h={locale:e,modifiers:i,pluralRules:s,messages:g=>{let _=o(r,g);if(_==null&&u){const[,,m]=qJ(u,g,e,a,c,l);_=o(m,g)}if(Ge(_)||Tu(_)){let m=!1;const A=zJ(t,g,e,_,g,()=>{m=!0});return m?HF:A}else return ec(_)?_:HF}};return t.processor&&(h.processor=t.processor),n.list&&(h.list=n.list),n.named&&(h.named=n.named),ii(n.plural)&&(h.pluralIndex=n.plural),h}function WF(t,...e){const{datetimeFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__datetimeFormatters:a}=t,[c,l,u,f]=jR(...e),h=Ht(u.missingWarn)?u.missingWarn:t.missingWarn;Ht(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const g=!!u.part,_=D5(t,u),m=o(t,i,_);if(!Ge(c)||c==="")return new Intl.DateTimeFormat(_,f).format(l);let b={},A,N=null;const R="datetime format";for(let D=0;D<m.length&&(A=m[D],b=r[A]||{},N=b[c],!xt(N));D++)k5(t,c,A,h,R);if(!xt(N)||!Ge(A))return n?H2:c;let k=`${A}__${c}`;F2(f)||(k=`${k}__${JSON.stringify(f)}`);let M=a.get(k);return M||(M=new Intl.DateTimeFormat(A,fs({},N,f)),a.set(k,M)),g?M.formatToParts(l):M.format(l)}const GJ=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function jR(...t){const[e,r,n,i]=t,s=zr();let o=zr(),a;if(Ge(e)){const c=e.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw wu(Sl.INVALID_ISO_DATE_ARGUMENT);const l=c[3]?c[3].trim().startsWith("T")?`${c[1].trim()}${c[3].trim()}`:`${c[1].trim()}T${c[3].trim()}`:c[1].trim();a=new Date(l);try{a.toISOString()}catch{throw wu(Sl.INVALID_ISO_DATE_ARGUMENT)}}else if(zMe(e)){if(isNaN(e.getTime()))throw wu(Sl.INVALID_DATE_ARGUMENT);a=e}else if(ii(e))a=e;else throw wu(Sl.INVALID_ARGUMENT);return Ge(r)?s.key=r:xt(r)&&Object.keys(r).forEach(c=>{GJ.includes(c)?o[c]=r[c]:s[c]=r[c]}),Ge(n)?s.locale=n:xt(n)&&(o=n),xt(i)&&(o=i),[s.key||"",a,s,o]}function qF(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__datetimeFormatters.has(s)&&n.__datetimeFormatters.delete(s)}}function zF(t,...e){const{numberFormats:r,unresolving:n,fallbackLocale:i,onWarn:s,localeFallbacker:o}=t,{__numberFormatters:a}=t,[c,l,u,f]=WR(...e),h=Ht(u.missingWarn)?u.missingWarn:t.missingWarn;Ht(u.fallbackWarn)?u.fallbackWarn:t.fallbackWarn;const g=!!u.part,_=D5(t,u),m=o(t,i,_);if(!Ge(c)||c==="")return new Intl.NumberFormat(_,f).format(l);let b={},A,N=null;const R="number format";for(let D=0;D<m.length&&(A=m[D],b=r[A]||{},N=b[c],!xt(N));D++)k5(t,c,A,h,R);if(!xt(N)||!Ge(A))return n?H2:c;let k=`${A}__${c}`;F2(f)||(k=`${k}__${JSON.stringify(f)}`);let M=a.get(k);return M||(M=new Intl.NumberFormat(A,fs({},N,f)),a.set(k,M)),g?M.formatToParts(l):M.format(l)}const KJ=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function WR(...t){const[e,r,n,i]=t,s=zr();let o=zr();if(!ii(e))throw wu(Sl.INVALID_ARGUMENT);const a=e;return Ge(r)?s.key=r:xt(r)&&Object.keys(r).forEach(c=>{KJ.includes(c)?o[c]=r[c]:s[c]=r[c]}),Ge(n)?s.locale=n:xt(n)&&(o=n),xt(i)&&(o=i),[s.key||"",a,s,o]}function GF(t,e,r){const n=t;for(const i in r){const s=`${e}__${i}`;n.__numberFormatters.has(s)&&n.__numberFormatters.delete(s)}}TUe();/*!
  * vue-i18n v9.14.5
  * (c) 2025 kazuya kawaguchi
  * Released under the MIT License.
  */const A9e="9.14.5";function x9e(){typeof __VUE_I18N_FULL_INSTALL__!="boolean"&&(Mf().__VUE_I18N_FULL_INSTALL__=!0),typeof __VUE_I18N_LEGACY_API__!="boolean"&&(Mf().__VUE_I18N_LEGACY_API__=!0),typeof __INTLIFY_JIT_COMPILATION__!="boolean"&&(Mf().__INTLIFY_JIT_COMPILATION__=!1),typeof __INTLIFY_DROP_MESSAGE_COMPILER__!="boolean"&&(Mf().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),typeof __INTLIFY_PROD_DEVTOOLS__!="boolean"&&(Mf().__INTLIFY_PROD_DEVTOOLS__=!1)}const C9e=r9e.__EXTEND_POINT__,mf=B2(C9e);mf(),mf(),mf(),mf(),mf(),mf(),mf(),mf(),mf();const VJ=Sl.__EXTEND_POINT__,Co=B2(VJ),$i={UNEXPECTED_RETURN_TYPE:VJ,INVALID_ARGUMENT:Co(),MUST_BE_CALL_SETUP_TOP:Co(),NOT_INSTALLED:Co(),NOT_AVAILABLE_IN_LEGACY_MODE:Co(),REQUIRED_VALUE:Co(),INVALID_VALUE:Co(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Co(),NOT_INSTALLED_WITH_PROVIDE:Co(),UNEXPECTED_ERROR:Co(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Co(),BRIDGE_SUPPORT_VUE_2_ONLY:Co(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Co(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Co(),__EXTEND_POINT__:Co()};function Ki(t,...e){return qm(t,null,void 0)}const qR=Ph("__translateVNode"),zR=Ph("__datetimeParts"),GR=Ph("__numberParts"),JJ=Ph("__setPluralRules"),YJ=Ph("__injectWithOption"),KR=Ph("__dispose");function y1(t){if(!vr(t)||Tu(t))return t;for(const e in t)if(Nl(t,e))if(!e.includes("."))vr(t[e])&&y1(t[e]);else{const r=e.split("."),n=r.length-1;let i=t,s=!1;for(let o=0;o<n;o++){if(r[o]==="__proto__")throw new Error(`unsafe key: ${r[o]}`);if(r[o]in i||(i[r[o]]=zr()),!vr(i[r[o]])){s=!0;break}i=i[r[o]]}if(s||(Tu(i)?kJ.includes(r[n])||delete t[e]:(i[r[n]]=t[e],delete t[e])),!Tu(i)){const o=i[r[n]];vr(o)&&y1(o)}}return t}function j2(t,e){const{messages:r,__i18n:n,messageResolver:i,flatJson:s}=e,o=xt(r)?r:An(n)?zr():{[t]:zr()};if(An(n)&&n.forEach(a=>{if("locale"in a&&"resource"in a){const{locale:c,resource:l}=a;c?(o[c]=o[c]||zr(),GE(l,o[c])):GE(l,o)}else Ge(a)&&GE(JSON.parse(a),o)}),i==null&&s)for(const a in o)Nl(o,a)&&y1(o[a]);return o}function XJ(t){return t.type}function QJ(t,e,r){let n=vr(e.messages)?e.messages:zr();"__i18nGlobal"in r&&(n=j2(t.locale.value,{messages:n,__i18n:r.__i18nGlobal}));const i=Object.keys(n);i.length&&i.forEach(s=>{t.mergeLocaleMessage(s,n[s])});{if(vr(e.datetimeFormats)){const s=Object.keys(e.datetimeFormats);s.length&&s.forEach(o=>{t.mergeDateTimeFormat(o,e.datetimeFormats[o])})}if(vr(e.numberFormats)){const s=Object.keys(e.numberFormats);s.length&&s.forEach(o=>{t.mergeNumberFormat(o,e.numberFormats[o])})}}}function KF(t){return Le(w1,null,t,0)}const VF="__INTLIFY_META__",JF=()=>[],N9e=()=>!1;let YF=0;function XF(t){return((e,r,n,i)=>t(r,n,Ho()||void 0,i))}const S9e=()=>{const t=Ho();let e=null;return t&&(e=XJ(t)[VF])?{[VF]:e}:null};function M5(t={},e){const{__root:r,__injectWithOption:n}=t,i=r===void 0,s=t.flatJson,o=bx?ot:pP,a=!!t.translateExistCompatible;let c=Ht(t.inheritLocale)?t.inheritLocale:!0;const l=o(r&&c?r.locale.value:Ge(t.locale)?t.locale:vm),u=o(r&&c?r.fallbackLocale.value:Ge(t.fallbackLocale)||An(t.fallbackLocale)||xt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:l.value),f=o(j2(l.value,t)),h=o(xt(t.datetimeFormats)?t.datetimeFormats:{[l.value]:{}}),g=o(xt(t.numberFormats)?t.numberFormats:{[l.value]:{}});let _=r?r.missingWarn:Ht(t.missingWarn)||Eh(t.missingWarn)?t.missingWarn:!0,m=r?r.fallbackWarn:Ht(t.fallbackWarn)||Eh(t.fallbackWarn)?t.fallbackWarn:!0,b=r?r.fallbackRoot:Ht(t.fallbackRoot)?t.fallbackRoot:!0,A=!!t.fallbackFormat,N=mn(t.missing)?t.missing:null,R=mn(t.missing)?XF(t.missing):null,k=mn(t.postTranslation)?t.postTranslation:null,M=r?r.warnHtmlMessage:Ht(t.warnHtmlMessage)?t.warnHtmlMessage:!0,D=!!t.escapeParameter;const H=r?r.modifiers:xt(t.modifiers)?t.modifiers:{};let S=t.pluralRules||r&&r.pluralRules,C;C=(()=>{i&&$F(null);const ue={version:A9e,locale:l.value,fallbackLocale:u.value,messages:f.value,modifiers:H,pluralRules:S,missing:R===null?void 0:R,missingWarn:_,fallbackWarn:m,fallbackFormat:A,unresolving:!0,postTranslation:k===null?void 0:k,warnHtmlMessage:M,escapeParameter:D,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};ue.datetimeFormats=h.value,ue.numberFormats=g.value,ue.__datetimeFormatters=xt(C)?C.__datetimeFormatters:void 0,ue.__numberFormatters=xt(C)?C.__numberFormatters:void 0;const be=h9e(ue);return i&&$F(be),be})(),Ky(C,l.value,u.value);function B(){return[l.value,u.value,f.value,h.value,g.value]}const O=zt({get:()=>l.value,set:ue=>{l.value=ue,C.locale=l.value}}),T=zt({get:()=>u.value,set:ue=>{u.value=ue,C.fallbackLocale=u.value,Ky(C,l.value,ue)}}),y=zt(()=>f.value),w=zt(()=>h.value),E=zt(()=>g.value);function I(){return mn(k)?k:null}function U(ue){k=ue,C.postTranslation=ue}function j(){return N}function z(ue){ue!==null&&(R=XF(ue)),N=ue,C.missing=R}const L=(ue,be,ze,Xe,lt,Kr)=>{B();let At;try{__INTLIFY_PROD_DEVTOOLS__,i||(C.fallbackContext=r?d9e():void 0),At=ue(C)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(C.fallbackContext=void 0)}if(ze!=="translate exists"&&ii(At)&&At===H2||ze==="translate exists"&&!At){const[jt,zs]=be();return r&&b?Xe(r):lt(jt)}else{if(Kr(At))return At;throw Ki($i.UNEXPECTED_RETURN_TYPE)}};function x(...ue){return L(be=>Reflect.apply(jF,null,[be,...ue]),()=>HR(...ue),"translate",be=>Reflect.apply(be.t,be,[...ue]),be=>be,be=>Ge(be))}function W(...ue){const[be,ze,Xe]=ue;if(Xe&&!vr(Xe))throw Ki($i.INVALID_ARGUMENT);return x(be,ze,fs({resolvedMessage:!0},Xe||{}))}function K(...ue){return L(be=>Reflect.apply(WF,null,[be,...ue]),()=>jR(...ue),"datetime format",be=>Reflect.apply(be.d,be,[...ue]),()=>MF,be=>Ge(be))}function P(...ue){return L(be=>Reflect.apply(zF,null,[be,...ue]),()=>WR(...ue),"number format",be=>Reflect.apply(be.n,be,[...ue]),()=>MF,be=>Ge(be))}function X(ue){return ue.map(be=>Ge(be)||ii(be)||Ht(be)?KF(String(be)):be)}const te={normalize:X,interpolate:ue=>ue,type:"vnode"};function ne(...ue){return L(be=>{let ze;const Xe=be;try{Xe.processor=te,ze=Reflect.apply(jF,null,[Xe,...ue])}finally{Xe.processor=null}return ze},()=>HR(...ue),"translate",be=>be[qR](...ue),be=>[KF(be)],be=>An(be))}function le(...ue){return L(be=>Reflect.apply(zF,null,[be,...ue]),()=>WR(...ue),"number format",be=>be[GR](...ue),JF,be=>Ge(be)||An(be))}function me(...ue){return L(be=>Reflect.apply(WF,null,[be,...ue]),()=>jR(...ue),"datetime format",be=>be[zR](...ue),JF,be=>Ge(be)||An(be))}function Y(ue){S=ue,C.pluralRules=S}function ie(ue,be){return L(()=>{if(!ue)return!1;const ze=Ge(be)?be:l.value,Xe=Ee(ze),lt=C.messageResolver(Xe,ue);return a?lt!=null:Tu(lt)||ec(lt)||Ge(lt)},()=>[ue],"translate exists",ze=>Reflect.apply(ze.te,ze,[ue,be]),N9e,ze=>Ht(ze))}function J(ue){let be=null;const ze=UJ(C,u.value,l.value);for(let Xe=0;Xe<ze.length;Xe++){const lt=f.value[ze[Xe]]||{},Kr=C.messageResolver(lt,ue);if(Kr!=null){be=Kr;break}}return be}function ae(ue){const be=J(ue);return be??(r?r.tm(ue)||{}:{})}function Ee(ue){return f.value[ue]||{}}function ye(ue,be){if(s){const ze={[ue]:be};for(const Xe in ze)Nl(ze,Xe)&&y1(ze[Xe]);be=ze[ue]}f.value[ue]=be,C.messages=f.value}function Ie(ue,be){f.value[ue]=f.value[ue]||{};const ze={[ue]:be};if(s)for(const Xe in ze)Nl(ze,Xe)&&y1(ze[Xe]);be=ze[ue],GE(be,f.value[ue]),C.messages=f.value}function Ue(ue){return h.value[ue]||{}}function Z(ue,be){h.value[ue]=be,C.datetimeFormats=h.value,qF(C,ue,be)}function ee(ue,be){h.value[ue]=fs(h.value[ue]||{},be),C.datetimeFormats=h.value,qF(C,ue,be)}function ge(ue){return g.value[ue]||{}}function _e(ue,be){g.value[ue]=be,C.numberFormats=g.value,GF(C,ue,be)}function Re(ue,be){g.value[ue]=fs(g.value[ue]||{},be),C.numberFormats=g.value,GF(C,ue,be)}YF++,r&&bx&&(In(r.locale,ue=>{c&&(l.value=ue,C.locale=ue,Ky(C,l.value,u.value))}),In(r.fallbackLocale,ue=>{c&&(u.value=ue,C.fallbackLocale=ue,Ky(C,l.value,u.value))}));const Pe={id:YF,locale:O,fallbackLocale:T,get inheritLocale(){return c},set inheritLocale(ue){c=ue,ue&&r&&(l.value=r.locale.value,u.value=r.fallbackLocale.value,Ky(C,l.value,u.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:y,get modifiers(){return H},get pluralRules(){return S||{}},get isGlobal(){return i},get missingWarn(){return _},set missingWarn(ue){_=ue,C.missingWarn=_},get fallbackWarn(){return m},set fallbackWarn(ue){m=ue,C.fallbackWarn=m},get fallbackRoot(){return b},set fallbackRoot(ue){b=ue},get fallbackFormat(){return A},set fallbackFormat(ue){A=ue,C.fallbackFormat=A},get warnHtmlMessage(){return M},set warnHtmlMessage(ue){M=ue,C.warnHtmlMessage=ue},get escapeParameter(){return D},set escapeParameter(ue){D=ue,C.escapeParameter=ue},t:x,getLocaleMessage:Ee,setLocaleMessage:ye,mergeLocaleMessage:Ie,getPostTranslationHandler:I,setPostTranslationHandler:U,getMissingHandler:j,setMissingHandler:z,[JJ]:Y};return Pe.datetimeFormats=w,Pe.numberFormats=E,Pe.rt=W,Pe.te=ie,Pe.tm=ae,Pe.d=K,Pe.n=P,Pe.getDateTimeFormat=Ue,Pe.setDateTimeFormat=Z,Pe.mergeDateTimeFormat=ee,Pe.getNumberFormat=ge,Pe.setNumberFormat=_e,Pe.mergeNumberFormat=Re,Pe[YJ]=n,Pe[qR]=ne,Pe[zR]=me,Pe[GR]=le,Pe}function T9e(t){const e=Ge(t.locale)?t.locale:vm,r=Ge(t.fallbackLocale)||An(t.fallbackLocale)||xt(t.fallbackLocale)||t.fallbackLocale===!1?t.fallbackLocale:e,n=mn(t.missing)?t.missing:void 0,i=Ht(t.silentTranslationWarn)||Eh(t.silentTranslationWarn)?!t.silentTranslationWarn:!0,s=Ht(t.silentFallbackWarn)||Eh(t.silentFallbackWarn)?!t.silentFallbackWarn:!0,o=Ht(t.fallbackRoot)?t.fallbackRoot:!0,a=!!t.formatFallbackMessages,c=xt(t.modifiers)?t.modifiers:{},l=t.pluralizationRules,u=mn(t.postTranslation)?t.postTranslation:void 0,f=Ge(t.warnHtmlInMessage)?t.warnHtmlInMessage!=="off":!0,h=!!t.escapeParameterHtml,g=Ht(t.sync)?t.sync:!0;let _=t.messages;if(xt(t.sharedMessages)){const D=t.sharedMessages;_=Object.keys(D).reduce((S,C)=>{const $=S[C]||(S[C]={});return fs($,D[C]),S},_||{})}const{__i18n:m,__root:b,__injectWithOption:A}=t,N=t.datetimeFormats,R=t.numberFormats,k=t.flatJson,M=t.translateExistCompatible;return{locale:e,fallbackLocale:r,messages:_,flatJson:k,datetimeFormats:N,numberFormats:R,missing:n,missingWarn:i,fallbackWarn:s,fallbackRoot:o,fallbackFormat:a,modifiers:c,pluralRules:l,postTranslation:u,warnHtmlMessage:f,escapeParameter:h,messageResolver:t.messageResolver,inheritLocale:g,translateExistCompatible:M,__i18n:m,__root:b,__injectWithOption:A}}function VR(t={},e){{const r=M5(T9e(t)),{__extender:n}=t,i={id:r.id,get locale(){return r.locale.value},set locale(s){r.locale.value=s},get fallbackLocale(){return r.fallbackLocale.value},set fallbackLocale(s){r.fallbackLocale.value=s},get messages(){return r.messages.value},get datetimeFormats(){return r.datetimeFormats.value},get numberFormats(){return r.numberFormats.value},get availableLocales(){return r.availableLocales},get formatter(){return{interpolate(){return[]}}},set formatter(s){},get missing(){return r.getMissingHandler()},set missing(s){r.setMissingHandler(s)},get silentTranslationWarn(){return Ht(r.missingWarn)?!r.missingWarn:r.missingWarn},set silentTranslationWarn(s){r.missingWarn=Ht(s)?!s:s},get silentFallbackWarn(){return Ht(r.fallbackWarn)?!r.fallbackWarn:r.fallbackWarn},set silentFallbackWarn(s){r.fallbackWarn=Ht(s)?!s:s},get modifiers(){return r.modifiers},get formatFallbackMessages(){return r.fallbackFormat},set formatFallbackMessages(s){r.fallbackFormat=s},get postTranslation(){return r.getPostTranslationHandler()},set postTranslation(s){r.setPostTranslationHandler(s)},get sync(){return r.inheritLocale},set sync(s){r.inheritLocale=s},get warnHtmlInMessage(){return r.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(s){r.warnHtmlMessage=s!=="off"},get escapeParameterHtml(){return r.escapeParameter},set escapeParameterHtml(s){r.escapeParameter=s},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(s){},get pluralizationRules(){return r.pluralRules||{}},__composer:r,t(...s){const[o,a,c]=s,l={};let u=null,f=null;if(!Ge(o))throw Ki($i.INVALID_ARGUMENT);const h=o;return Ge(a)?l.locale=a:An(a)?u=a:xt(a)&&(f=a),An(c)?u=c:xt(c)&&(f=c),Reflect.apply(r.t,r,[h,u||f||{},l])},rt(...s){return Reflect.apply(r.rt,r,[...s])},tc(...s){const[o,a,c]=s,l={plural:1};let u=null,f=null;if(!Ge(o))throw Ki($i.INVALID_ARGUMENT);const h=o;return Ge(a)?l.locale=a:ii(a)?l.plural=a:An(a)?u=a:xt(a)&&(f=a),Ge(c)?l.locale=c:An(c)?u=c:xt(c)&&(f=c),Reflect.apply(r.t,r,[h,u||f||{},l])},te(s,o){return r.te(s,o)},tm(s){return r.tm(s)},getLocaleMessage(s){return r.getLocaleMessage(s)},setLocaleMessage(s,o){r.setLocaleMessage(s,o)},mergeLocaleMessage(s,o){r.mergeLocaleMessage(s,o)},d(...s){return Reflect.apply(r.d,r,[...s])},getDateTimeFormat(s){return r.getDateTimeFormat(s)},setDateTimeFormat(s,o){r.setDateTimeFormat(s,o)},mergeDateTimeFormat(s,o){r.mergeDateTimeFormat(s,o)},n(...s){return Reflect.apply(r.n,r,[...s])},getNumberFormat(s){return r.getNumberFormat(s)},setNumberFormat(s,o){r.setNumberFormat(s,o)},mergeNumberFormat(s,o){r.mergeNumberFormat(s,o)},getChoiceIndex(s,o){return-1}};return i.__extender=n,i}}const U5={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:t=>t==="parent"||t==="global",default:"parent"},i18n:{type:Object}};function I9e({slots:t},e){return e.length===1&&e[0]==="default"?(t.default?t.default():[]).reduce((n,i)=>[...n,...i.type===qi?i.children:[i]],[]):e.reduce((r,n)=>{const i=t[n];return i&&(r[n]=i()),r},zr())}function ZJ(t){return qi}const R9e=Bn({name:"i18n-t",props:fs({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:t=>ii(t)||!isNaN(t)}},U5),setup(t,e){const{slots:r,attrs:n}=e,i=t.i18n||hp({useScope:t.scope,__useComponent:!0});return()=>{const s=Object.keys(r).filter(f=>f!=="_"),o=zr();t.locale&&(o.locale=t.locale),t.plural!==void 0&&(o.plural=Ge(t.plural)?+t.plural:t.plural);const a=I9e(e,s),c=i[qR](t.keypath,a,o),l=fs(zr(),n),u=Ge(t.tag)||vr(t.tag)?t.tag:ZJ();return E1(u,l,c)}}}),QF=R9e;function P9e(t){return An(t)&&!Ge(t[0])}function eY(t,e,r,n){const{slots:i,attrs:s}=e;return()=>{const o={part:!0};let a=zr();t.locale&&(o.locale=t.locale),Ge(t.format)?o.key=t.format:vr(t.format)&&(Ge(t.format.key)&&(o.key=t.format.key),a=Object.keys(t.format).reduce((h,g)=>r.includes(g)?fs(zr(),h,{[g]:t.format[g]}):h,zr()));const c=n(t.value,o,a);let l=[o.key];An(c)?l=c.map((h,g)=>{const _=i[h.type],m=_?_({[h.type]:h.value,index:g,parts:c}):[h.value];return P9e(m)&&(m[0].key=`${h.type}-${g}`),m}):Ge(c)&&(l=[c]);const u=fs(zr(),s),f=Ge(t.tag)||vr(t.tag)?t.tag:ZJ();return E1(f,u,l)}}const O9e=Bn({name:"i18n-n",props:fs({value:{type:Number,required:!0},format:{type:[String,Object]}},U5),setup(t,e){const r=t.i18n||hp({useScope:t.scope,__useComponent:!0});return eY(t,e,KJ,(...n)=>r[GR](...n))}}),ZF=O9e,D9e=Bn({name:"i18n-d",props:fs({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},U5),setup(t,e){const r=t.i18n||hp({useScope:t.scope,__useComponent:!0});return eY(t,e,GJ,(...n)=>r[zR](...n))}}),eB=D9e;function k9e(t,e){const r=t;if(t.mode==="composition")return r.__getInstance(e)||t.global;{const n=r.__getInstance(e);return n!=null?n.__composer:t.global.__composer}}function M9e(t){const e=o=>{const{instance:a,modifiers:c,value:l}=o;if(!a||!a.$)throw Ki($i.UNEXPECTED_ERROR);const u=k9e(t,a.$),f=tB(l);return[Reflect.apply(u.t,u,[...rB(f)]),u]};return{created:(o,a)=>{const[c,l]=e(a);bx&&t.global===l&&(o.__i18nWatcher=In(l.locale,()=>{a.instance&&a.instance.$forceUpdate()})),o.__composer=l,o.textContent=c},unmounted:o=>{bx&&o.__i18nWatcher&&(o.__i18nWatcher(),o.__i18nWatcher=void 0,delete o.__i18nWatcher),o.__composer&&(o.__composer=void 0,delete o.__composer)},beforeUpdate:(o,{value:a})=>{if(o.__composer){const c=o.__composer,l=tB(a);o.textContent=Reflect.apply(c.t,c,[...rB(l)])}},getSSRProps:o=>{const[a]=e(o);return{textContent:a}}}}function tB(t){if(Ge(t))return{path:t};if(xt(t)){if(!("path"in t))throw Ki($i.REQUIRED_VALUE,"path");return t}else throw Ki($i.INVALID_VALUE)}function rB(t){const{path:e,locale:r,args:n,choice:i,plural:s}=t,o={},a=n||{};return Ge(r)&&(o.locale=r),ii(i)&&(o.plural=i),ii(s)&&(o.plural=s),[e,a,o]}function U9e(t,e,...r){const n=xt(r[0])?r[0]:{},i=!!n.useI18nComponentName;(Ht(n.globalInstall)?n.globalInstall:!0)&&([i?"i18n":QF.name,"I18nT"].forEach(o=>t.component(o,QF)),[ZF.name,"I18nN"].forEach(o=>t.component(o,ZF)),[eB.name,"I18nD"].forEach(o=>t.component(o,eB))),t.directive("t",M9e(e))}function L9e(t,e,r){return{beforeCreate(){const n=Ho();if(!n)throw Ki($i.UNEXPECTED_ERROR);const i=this.$options;if(i.i18n){const s=i.i18n;if(i.__i18n&&(s.__i18n=i.__i18n),s.__root=e,this===this.$root)this.$i18n=nB(t,s);else{s.__injectWithOption=!0,s.__extender=r.__vueI18nExtend,this.$i18n=VR(s);const o=this.$i18n;o.__extender&&(o.__disposer=o.__extender(this.$i18n))}}else if(i.__i18n)if(this===this.$root)this.$i18n=nB(t,i);else{this.$i18n=VR({__i18n:i.__i18n,__injectWithOption:!0,__extender:r.__vueI18nExtend,__root:e});const s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}else this.$i18n=t;i.__i18nGlobal&&QJ(e,i,i),this.$t=(...s)=>this.$i18n.t(...s),this.$rt=(...s)=>this.$i18n.rt(...s),this.$tc=(...s)=>this.$i18n.tc(...s),this.$te=(s,o)=>this.$i18n.te(s,o),this.$d=(...s)=>this.$i18n.d(...s),this.$n=(...s)=>this.$i18n.n(...s),this.$tm=s=>this.$i18n.tm(s),r.__setInstance(n,this.$i18n)},mounted(){},unmounted(){const n=Ho();if(!n)throw Ki($i.UNEXPECTED_ERROR);const i=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,i.__disposer&&(i.__disposer(),delete i.__disposer,delete i.__extender),r.__deleteInstance(n),delete this.$i18n}}}function nB(t,e){t.locale=e.locale||t.locale,t.fallbackLocale=e.fallbackLocale||t.fallbackLocale,t.missing=e.missing||t.missing,t.silentTranslationWarn=e.silentTranslationWarn||t.silentFallbackWarn,t.silentFallbackWarn=e.silentFallbackWarn||t.silentFallbackWarn,t.formatFallbackMessages=e.formatFallbackMessages||t.formatFallbackMessages,t.postTranslation=e.postTranslation||t.postTranslation,t.warnHtmlInMessage=e.warnHtmlInMessage||t.warnHtmlInMessage,t.escapeParameterHtml=e.escapeParameterHtml||t.escapeParameterHtml,t.sync=e.sync||t.sync,t.__composer[JJ](e.pluralizationRules||t.pluralizationRules);const r=j2(t.locale,{messages:e.messages,__i18n:e.__i18n});return Object.keys(r).forEach(n=>t.mergeLocaleMessage(n,r[n])),e.datetimeFormats&&Object.keys(e.datetimeFormats).forEach(n=>t.mergeDateTimeFormat(n,e.datetimeFormats[n])),e.numberFormats&&Object.keys(e.numberFormats).forEach(n=>t.mergeNumberFormat(n,e.numberFormats[n])),t}const $9e=Ph("global-vue-i18n");function F9e(t={},e){const r=__VUE_I18N_LEGACY_API__&&Ht(t.legacy)?t.legacy:__VUE_I18N_LEGACY_API__,n=Ht(t.globalInjection)?t.globalInjection:!0,i=__VUE_I18N_LEGACY_API__&&r?!!t.allowComposition:!0,s=new Map,[o,a]=B9e(t,r),c=Ph("");function l(h){return s.get(h)||null}function u(h,g){s.set(h,g)}function f(h){s.delete(h)}{const h={get mode(){return __VUE_I18N_LEGACY_API__&&r?"legacy":"composition"},get allowComposition(){return i},async install(g,..._){if(g.__VUE_I18N_SYMBOL__=c,g.provide(g.__VUE_I18N_SYMBOL__,h),xt(_[0])){const A=_[0];h.__composerExtend=A.__composerExtend,h.__vueI18nExtend=A.__vueI18nExtend}let m=null;!r&&n&&(m=J9e(g,h.global)),__VUE_I18N_FULL_INSTALL__&&U9e(g,h,..._),__VUE_I18N_LEGACY_API__&&r&&g.mixin(L9e(a,a.__composer,h));const b=g.unmount;g.unmount=()=>{m&&m(),h.dispose(),b()}},get global(){return a},dispose(){o.stop()},__instances:s,__getInstance:l,__setInstance:u,__deleteInstance:f};return h}}function hp(t={}){const e=Ho();if(e==null)throw Ki($i.MUST_BE_CALL_SETUP_TOP);if(!e.isCE&&e.appContext.app!=null&&!e.appContext.app.__VUE_I18N_SYMBOL__)throw Ki($i.NOT_INSTALLED);const r=H9e(e),n=W9e(r),i=XJ(e),s=j9e(t,i);if(__VUE_I18N_LEGACY_API__&&r.mode==="legacy"&&!t.__useComponent){if(!r.allowComposition)throw Ki($i.NOT_AVAILABLE_IN_LEGACY_MODE);return K9e(e,s,n,t)}if(s==="global")return QJ(n,t,i),n;if(s==="parent"){let c=q9e(r,e,t.__useComponent);return c==null&&(c=n),c}const o=r;let a=o.__getInstance(e);if(a==null){const c=fs({},t);"__i18n"in i&&(c.__i18n=i.__i18n),n&&(c.__root=n),a=M5(c),o.__composerExtend&&(a[KR]=o.__composerExtend(a)),G9e(o,e,a),o.__setInstance(e,a)}return a}function B9e(t,e,r){const n=sP();{const i=__VUE_I18N_LEGACY_API__&&e?n.run(()=>VR(t)):n.run(()=>M5(t));if(i==null)throw Ki($i.UNEXPECTED_ERROR);return[n,i]}}function H9e(t){{const e=Us(t.isCE?$9e:t.appContext.app.__VUE_I18N_SYMBOL__);if(!e)throw Ki(t.isCE?$i.NOT_INSTALLED_WITH_PROVIDE:$i.UNEXPECTED_ERROR);return e}}function j9e(t,e){return F2(t)?"__i18n"in e?"local":"global":t.useScope?t.useScope:"local"}function W9e(t){return t.mode==="composition"?t.global:t.global.__composer}function q9e(t,e,r=!1){let n=null;const i=e.root;let s=z9e(e,r);for(;s!=null;){const o=t;if(t.mode==="composition")n=o.__getInstance(s);else if(__VUE_I18N_LEGACY_API__){const a=o.__getInstance(s);a!=null&&(n=a.__composer,r&&n&&!n[YJ]&&(n=null))}if(n!=null||i===s)break;s=s.parent}return n}function z9e(t,e=!1){return t==null?null:e&&t.vnode.ctx||t.parent}function G9e(t,e,r){Ul(()=>{},e),xh(()=>{const n=r;t.__deleteInstance(e);const i=n[KR];i&&(i(),delete n[KR])},e)}function K9e(t,e,r,n={}){const i=e==="local",s=pP(null);if(i&&t.proxy&&!(t.proxy.$options.i18n||t.proxy.$options.__i18n))throw Ki($i.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);const o=Ht(n.inheritLocale)?n.inheritLocale:!Ge(n.locale),a=ot(!i||o?r.locale.value:Ge(n.locale)?n.locale:vm),c=ot(!i||o?r.fallbackLocale.value:Ge(n.fallbackLocale)||An(n.fallbackLocale)||xt(n.fallbackLocale)||n.fallbackLocale===!1?n.fallbackLocale:a.value),l=ot(j2(a.value,n)),u=ot(xt(n.datetimeFormats)?n.datetimeFormats:{[a.value]:{}}),f=ot(xt(n.numberFormats)?n.numberFormats:{[a.value]:{}}),h=i?r.missingWarn:Ht(n.missingWarn)||Eh(n.missingWarn)?n.missingWarn:!0,g=i?r.fallbackWarn:Ht(n.fallbackWarn)||Eh(n.fallbackWarn)?n.fallbackWarn:!0,_=i?r.fallbackRoot:Ht(n.fallbackRoot)?n.fallbackRoot:!0,m=!!n.fallbackFormat,b=mn(n.missing)?n.missing:null,A=mn(n.postTranslation)?n.postTranslation:null,N=i?r.warnHtmlMessage:Ht(n.warnHtmlMessage)?n.warnHtmlMessage:!0,R=!!n.escapeParameter,k=i?r.modifiers:xt(n.modifiers)?n.modifiers:{},M=n.pluralRules||i&&r.pluralRules;function D(){return[a.value,c.value,l.value,u.value,f.value]}const H=zt({get:()=>s.value?s.value.locale.value:a.value,set:J=>{s.value&&(s.value.locale.value=J),a.value=J}}),S=zt({get:()=>s.value?s.value.fallbackLocale.value:c.value,set:J=>{s.value&&(s.value.fallbackLocale.value=J),c.value=J}}),C=zt(()=>s.value?s.value.messages.value:l.value),$=zt(()=>u.value),B=zt(()=>f.value);function O(){return s.value?s.value.getPostTranslationHandler():A}function T(J){s.value&&s.value.setPostTranslationHandler(J)}function y(){return s.value?s.value.getMissingHandler():b}function w(J){s.value&&s.value.setMissingHandler(J)}function E(J){return D(),J()}function I(...J){return s.value?E(()=>Reflect.apply(s.value.t,null,[...J])):E(()=>"")}function U(...J){return s.value?Reflect.apply(s.value.rt,null,[...J]):""}function j(...J){return s.value?E(()=>Reflect.apply(s.value.d,null,[...J])):E(()=>"")}function z(...J){return s.value?E(()=>Reflect.apply(s.value.n,null,[...J])):E(()=>"")}function L(J){return s.value?s.value.tm(J):{}}function x(J,ae){return s.value?s.value.te(J,ae):!1}function W(J){return s.value?s.value.getLocaleMessage(J):{}}function K(J,ae){s.value&&(s.value.setLocaleMessage(J,ae),l.value[J]=ae)}function P(J,ae){s.value&&s.value.mergeLocaleMessage(J,ae)}function X(J){return s.value?s.value.getDateTimeFormat(J):{}}function q(J,ae){s.value&&(s.value.setDateTimeFormat(J,ae),u.value[J]=ae)}function te(J,ae){s.value&&s.value.mergeDateTimeFormat(J,ae)}function ne(J){return s.value?s.value.getNumberFormat(J):{}}function le(J,ae){s.value&&(s.value.setNumberFormat(J,ae),f.value[J]=ae)}function me(J,ae){s.value&&s.value.mergeNumberFormat(J,ae)}const Y={get id(){return s.value?s.value.id:-1},locale:H,fallbackLocale:S,messages:C,datetimeFormats:$,numberFormats:B,get inheritLocale(){return s.value?s.value.inheritLocale:o},set inheritLocale(J){s.value&&(s.value.inheritLocale=J)},get availableLocales(){return s.value?s.value.availableLocales:Object.keys(l.value)},get modifiers(){return s.value?s.value.modifiers:k},get pluralRules(){return s.value?s.value.pluralRules:M},get isGlobal(){return s.value?s.value.isGlobal:!1},get missingWarn(){return s.value?s.value.missingWarn:h},set missingWarn(J){s.value&&(s.value.missingWarn=J)},get fallbackWarn(){return s.value?s.value.fallbackWarn:g},set fallbackWarn(J){s.value&&(s.value.missingWarn=J)},get fallbackRoot(){return s.value?s.value.fallbackRoot:_},set fallbackRoot(J){s.value&&(s.value.fallbackRoot=J)},get fallbackFormat(){return s.value?s.value.fallbackFormat:m},set fallbackFormat(J){s.value&&(s.value.fallbackFormat=J)},get warnHtmlMessage(){return s.value?s.value.warnHtmlMessage:N},set warnHtmlMessage(J){s.value&&(s.value.warnHtmlMessage=J)},get escapeParameter(){return s.value?s.value.escapeParameter:R},set escapeParameter(J){s.value&&(s.value.escapeParameter=J)},t:I,getPostTranslationHandler:O,setPostTranslationHandler:T,getMissingHandler:y,setMissingHandler:w,rt:U,d:j,n:z,tm:L,te:x,getLocaleMessage:W,setLocaleMessage:K,mergeLocaleMessage:P,getDateTimeFormat:X,setDateTimeFormat:q,mergeDateTimeFormat:te,getNumberFormat:ne,setNumberFormat:le,mergeNumberFormat:me};function ie(J){J.locale.value=a.value,J.fallbackLocale.value=c.value,Object.keys(l.value).forEach(ae=>{J.mergeLocaleMessage(ae,l.value[ae])}),Object.keys(u.value).forEach(ae=>{J.mergeDateTimeFormat(ae,u.value[ae])}),Object.keys(f.value).forEach(ae=>{J.mergeNumberFormat(ae,f.value[ae])}),J.escapeParameter=R,J.fallbackFormat=m,J.fallbackRoot=_,J.fallbackWarn=g,J.missingWarn=h,J.warnHtmlMessage=N}return qH(()=>{if(t.proxy==null||t.proxy.$i18n==null)throw Ki($i.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);const J=s.value=t.proxy.$i18n.__composer;e==="global"?(a.value=J.locale.value,c.value=J.fallbackLocale.value,l.value=J.messages.value,u.value=J.datetimeFormats.value,f.value=J.numberFormats.value):i&&ie(J)}),Y}const V9e=["locale","fallbackLocale","availableLocales"],iB=["t","rt","d","n","tm","te"];function J9e(t,e){const r=Object.create(null);return V9e.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s)throw Ki($i.UNEXPECTED_ERROR);const o=$n(s.value)?{get(){return s.value.value},set(a){s.value.value=a}}:{get(){return s.get&&s.get()}};Object.defineProperty(r,i,o)}),t.config.globalProperties.$i18n=r,iB.forEach(i=>{const s=Object.getOwnPropertyDescriptor(e,i);if(!s||!s.value)throw Ki($i.UNEXPECTED_ERROR);Object.defineProperty(t.config.globalProperties,`$${i}`,s)}),()=>{delete t.config.globalProperties.$i18n,iB.forEach(i=>{delete t.config.globalProperties[`$${i}`]})}}x9e();__INTLIFY_JIT_COMPILATION__?LF(_9e):LF(y9e);c9e(jUe);l9e(UJ);if(__INTLIFY_PROD_DEVTOOLS__){const t=Mf();t.__INTLIFY__=!0,XUe(t.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__)}/*!
 * pinia v2.3.1
 * (c) 2025 Eduardo San Martin Morote
 * @license MIT
 */let tY;const W2=t=>tY=t,rY=Symbol();function JR(t){return t&&typeof t=="object"&&Object.prototype.toString.call(t)==="[object Object]"&&typeof t.toJSON!="function"}var q_;(function(t){t.direct="direct",t.patchObject="patch object",t.patchFunction="patch function"})(q_||(q_={}));function Y9e(){const t=sP(!0),e=t.run(()=>ot({}));let r=[],n=[];const i=hP({install(s){W2(i),i._a=s,s.provide(rY,i),s.config.globalProperties.$pinia=i,n.forEach(o=>r.push(o)),n=[]},use(s){return this._a?r.push(s):n.push(s),this},_p:r,_a:null,_e:t,_s:new Map,state:e});return i}const nY=()=>{};function sB(t,e,r,n=nY){t.push(e);const i=()=>{const s=t.indexOf(e);s>-1&&(t.splice(s,1),n())};return!r&&aH()&&Pne(i),i}function ug(t,...e){t.slice().forEach(r=>{r(...e)})}const X9e=t=>t(),oB=Symbol(),GT=Symbol();function YR(t,e){t instanceof Map&&e instanceof Map?e.forEach((r,n)=>t.set(n,r)):t instanceof Set&&e instanceof Set&&e.forEach(t.add,t);for(const r in e){if(!e.hasOwnProperty(r))continue;const n=e[r],i=t[r];JR(i)&&JR(n)&&t.hasOwnProperty(r)&&!$n(n)&&!eh(n)?t[r]=YR(i,n):t[r]=n}return t}const Q9e=Symbol();function Z9e(t){return!JR(t)||!t.hasOwnProperty(Q9e)}const{assign:Ld}=Object;function e7e(t){return!!($n(t)&&t.effect)}function t7e(t,e,r,n){const{state:i,actions:s,getters:o}=e,a=r.state.value[t];let c;function l(){a||(r.state.value[t]=i?i():{});const u=CH(r.state.value[t]);return Ld(u,s,Object.keys(o||{}).reduce((f,h)=>(f[h]=hP(zt(()=>{W2(r);const g=r._s.get(t);return o[h].call(g,g)})),f),{}))}return c=iY(t,l,e,r,n,!0),c}function iY(t,e,r={},n,i,s){let o;const a=Ld({actions:{}},r),c={deep:!0};let l,u,f=[],h=[],g;const _=n.state.value[t];!s&&!_&&(n.state.value[t]={}),ot({});let m;function b(S){let C;l=u=!1,typeof S=="function"?(S(n.state.value[t]),C={type:q_.patchFunction,storeId:t,events:g}):(YR(n.state.value[t],S),C={type:q_.patchObject,payload:S,storeId:t,events:g});const $=m=Symbol();tc().then(()=>{m===$&&(l=!0)}),u=!0,ug(f,C,n.state.value[t])}const A=s?function(){const{state:C}=r,$=C?C():{};this.$patch(B=>{Ld(B,$)})}:nY;function N(){o.stop(),f=[],h=[],n._s.delete(t)}const R=(S,C="")=>{if(oB in S)return S[GT]=C,S;const $=function(){W2(n);const B=Array.from(arguments),O=[],T=[];function y(I){O.push(I)}function w(I){T.push(I)}ug(h,{args:B,name:$[GT],store:M,after:y,onError:w});let E;try{E=S.apply(this&&this.$id===t?this:M,B)}catch(I){throw ug(T,I),I}return E instanceof Promise?E.then(I=>(ug(O,I),I)).catch(I=>(ug(T,I),Promise.reject(I))):(ug(O,E),E)};return $[oB]=!0,$[GT]=C,$},k={_p:n,$id:t,$onAction:sB.bind(null,h),$patch:b,$reset:A,$subscribe(S,C={}){const $=sB(f,S,C.detached,()=>B()),B=o.run(()=>In(()=>n.state.value[t],O=>{(C.flush==="sync"?u:l)&&S({storeId:t,type:q_.direct,events:g},O)},Ld({},c,C)));return $},$dispose:N},M=Du(k);n._s.set(t,M);const H=(n._a&&n._a.runWithContext||X9e)(()=>n._e.run(()=>(o=sP()).run(()=>e({action:R}))));for(const S in H){const C=H[S];if($n(C)&&!e7e(C)||eh(C))s||(_&&Z9e(C)&&($n(C)?C.value=_[S]:YR(C,_[S])),n.state.value[t][S]=C);else if(typeof C=="function"){const $=R(C,S);H[S]=$,a.actions[S]=C}}return Ld(M,H),Ld(ur(M),H),Object.defineProperty(M,"$state",{get:()=>n.state.value[t],set:S=>{b(C=>{Ld(C,S)})}}),n._p.forEach(S=>{Ld(M,o.run(()=>S({store:M,app:n._a,pinia:n,options:a})))}),_&&s&&r.hydrate&&r.hydrate(M.$state,_),l=!0,u=!0,M}/*! #__NO_SIDE_EFFECTS__ */function r7e(t,e,r){let n,i;const s=typeof e=="function";n=t,i=s?r:e;function o(a,c){const l=Pie();return a=a||(l?Us(rY,null):null),a&&W2(a),a=tY,a._s.has(n)||(s?iY(n,e,i,a):t7e(n,i,a)),a._s.get(n)}return o.$id=n,o}const q2=r7e("language",{state:()=>({locale:""}),getters:{},actions:{setLocal(t){this.locale=t}},persist:!0}),aB=[{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[],name:"ReentrancyGuardReentrantCall",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!0,internalType:"address",name:"intro",type:"address"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"BindIntroLog",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"UserValidLog",type:"event"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"addWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"intro",type:"address"}],name:"bindIntro",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"depthOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserAllIntroLines",outputs:[{internalType:"address[]",name:"introLines",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserInfo",outputs:[{internalType:"address",name:"intro",type:"address"},{internalType:"address[]",name:"children",type:"address[]"},{internalType:"bool",name:"isExist",type:"bool"},{internalType:"bool",name:"isValid",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserIntro",outputs:[{internalType:"address",name:"intro",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"depth",type:"uint256"}],name:"getUserIntroLines",outputs:[{internalType:"address[]",name:"introLines",type:"address[]"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserIsExist",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"getUserIsValid",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"isWhiteList",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"removeWhiteList",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"rootAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"user",type:"address"}],name:"setUserValid",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"userInfo",outputs:[{internalType:"address",name:"user",type:"address"},{internalType:"address",name:"intro",type:"address"},{internalType:"bool",name:"isExist",type:"bool"},{internalType:"bool",name:"isValid",type:"bool"}],stateMutability:"view",type:"function"}],n7e="",i7e="",s7e="",o7e="",a7e="",c7e="",l7e="",u7e="",f7e="",d7e="",h7e="",p7e="",g7e="",m7e="",y7e="FOMO",_7e="",b7e="",w7e="NFT ",v7e="NFT ",E7e="NFT ",A7e="NFT ",x7e=" 1: ",C7e=" AI  30% ",N7e=" 2: HR ",S7e=` 15,000,000  HR 
 2,000  HR
 0.5% `,T7e=" 3: ",I7e=` 100  HR
`,R7e="",P7e="",O7e="NFT ",D7e="",k7e="",M7e="",U7e="",L7e="",$7e="BCL",F7e="",B7e="",H7e="",j7e="Beacon Launchpad ",W7e=" BCL",q7e="",z7e="",G7e=" ",K7e="",V7e="APP",J7e="",Y7e="100%,",X7e="",Q7e=",",Z7e="",eLe=",",tLe="",rLe="",nLe="",iLe="",sLe=" ",oLe="",aLe=" / ",cLe=" / ",lLe=" / ",uLe=" / ",fLe=" / ",dLe="BCL ",hLe=": 2100 ",pLe="LP: 1800  ()",gLe=": 100  ()",mLe=": 200  ()",yLe="NFT",_Le="",bLe="",wLe="",vLe="",ELe="",ALe="",xLe="",CLe="",NLe="",SLe="",TLe="",ILe="",RLe="",PLe="",OLe="BCL DEFI",DLe="",kLe="",MLe="200USDTNFT55",ULe="",LLe="",$Le="",FLe="",BLe="",HLe="",jLe="",WLe="",qLe="",zLe="",GLe="NFT",KLe="",VLe="",JLe="NFT",YLe="",XLe="",QLe="1. BCL",ZLe="2410USDT",e$e="2. LP",t$e=`LP=1000USDT30USDT
LP=3000USDT50USDT
LP=5000USDT100USDT`,r$e="3. ",n$e="10%",i$e="NFT",s$e="1. BCL",o$e="2420USDT",a$e="2. LP",c$e=`LP=1000USDT60USDT
LP=3000USDT100USDT
LP=5000USDT200USDT`,l$e="3. ",u$e="20%NFT",f$e="4. ",d$e="1%",h$e="5. ",p$e="10%",g$e="",m$e="5",y$e="USDT",_$e="200USDT",b$e="NFT5;",w$e="5",v$e="",E$e="",A$e="",x$e="",C$e="",N$e="",S$e="",T$e="",I$e="",R$e="",P$e="",O$e="",D$e="",k$e="",M$e="",U$e="...",L$e=" 100 APK",$$e="",F$e="",B$e={_Connect_wallet:n7e,_Please_enter_a_referee:i7e,_Success:s7e,_Fail:o7e,_Invite_link:a7e,_Copy_link:c7e,_Join_record:l7e,_Join_amount:u7e,_Time:f7e,_Enter_friend_address_to_bind:d7e,_Enter_invite_address:h7e,_Bind:p7e,_Home:g7e,_Node:m7e,_FOMO_Pool:y7e,_Not_yet_open:_7e,_Recharge_address:b7e,_NFT_Presale:w7e,_NFT_Staking:v7e,_NFT_Rights:E7e,_NFT_Records:A7e,_Right_1_Node_as_Shareholder:x7e,_Right_1_Desc:C7e,_Right_2_HR_Token_Airdrop:N7e,_Right_2_Desc:S7e,_Right_3_Referral_Reward:T7e,_Right_3_Desc:I7e,_No_records:R7e,_In_progress:P7e,_NFT_Quantity:O7e,_Buy_Now:D7e,_Copy_successful:k7e,_Copy_failed:M7e,_Invite:U7e,_My_wallet_address:L7e,_BCL_Lighthouse_Protocol:$7e,_Fair_Transparent_Sustainable_DeFi_Paradigm:F7e,_Node_Subscription:B7e,_Welcome_To:H7e,_Welcome_Desc_1:j7e,_Welcome_Desc_2:W7e,_Core:q7e,_Philosophy:z7e,_Five_Core_Values:G7e,_Fairness:K7e,_Fairness_Desc:V7e,_Transparency:J7e,_Transparency_Desc:Y7e,_Fair_Distribution:X7e,_Fair_Distribution_Desc:Q7e,_Self_Balancing:Z7e,_Self_Balancing_Desc:eLe,_Sustainability:tLe,_Sustainability_Desc:rLe,_Decentralized:nLe,_Architecture:iLe,_Sustainable_Self_Driven_Model:sLe,_Core_Architecture_Features:oLe,_No_Centralized_Server:aLe,_All_Operations_Public:cLe,_All_Data_On_Chain:lLe,_Automatic_Profit_Distribution:uLe,_Sustainable_Revenue_Cycle:fLe,_BCL_Token_Distribution:dLe,_Total_Token_Supply:hLe,_LP_Pool_Locked:pLe,_Interaction_Contract:gLe,_Airdrop_Contract:mLe,_NFT_Rewards:yLe,_Why_Choose:_Le,_Stable_Revenue:bLe,_Stable_Revenue_Desc:wLe,_Principal_Protection:vLe,_Principal_Protection_Desc:ELe,_Ecosystem_Internal_Circulation:ALe,_Ecosystem_Internal_Circulation_Desc:xLe,_Anti_Dilution_Mechanism:CLe,_Anti_Dilution_Mechanism_Desc:NLe,_Unlimited_Development:SLe,_Unlimited_Development_Desc:TLe,_Join:ILe,_Us:RLe,_Reshaping_Industry_Trust:PLe,_BCL_Breaks_Dilemma:OLe,_Rules_Programmable:DLe,_Trust_Quantifiable:kLe,_Node_Info_Desc:MLe,_Join_Us_Desc:ULe,_Join_Now:LLe,_Purchase_Node:$Le,_Node_Rights:FLe,_Please_enter_inviter:BLe,_Inviter_invalid:HLe,_Bind_success:jLe,_Bind_failed:WLe,_Approve:qLe,_Total_Network_Nodes:zLe,_Total_Network_NFTs:GLe,_My_Nodes:KLe,_Market_Maker_Finance:VLe,_My_NFTs:JLe,_Direct_Referral_Nodes:YLe,_Pioneer_Rights:XLe,_Pioneer_Right_1_Title:QLe,_Pioneer_Right_1_Desc:ZLe,_Pioneer_Right_2_Title:e$e,_Pioneer_Right_2_Desc:t$e,_Pioneer_Right_3_Title:r$e,_Pioneer_Right_3_Desc:n$e,_Tower_Master_Rights:i$e,_Tower_Right_1_Title:s$e,_Tower_Right_1_Desc:o$e,_Tower_Right_2_Title:a$e,_Tower_Right_2_Desc:c$e,_Tower_Right_3_Title:l$e,_Tower_Right_3_Desc:u$e,_Tower_Right_4_Title:f$e,_Tower_Right_4_Desc:d$e,_Tower_Right_5_Title:h$e,_Tower_Right_5_Desc:p$e,_Please_enter_purchase_amount:g$e,_Max_5_nodes_per_address:m$e,_Insufficient_USDT_balance:y$e,_Pioneer_Node_Price:_$e,_Tower_Master_NFT_Condition:b$e,_Max_purchase_5_Pioneer_Nodes:w$e,_Lighthouse_Pioneer_Node:v$e,_Bind_Tips:E$e,_Promotion_Link:A$e,_My_Referrals:x$e,_User_Address:C$e,_Node_Count:N$e,_Current_Price:S$e,_My_Subscribed:T$e,_Subscription_Quantity:I$e,_Enter_Quantity:R$e,_Pay_Amount:P$e,_Balance:O$e,_Subscribe:D$e,_Approve_Success:k$e,_Approve_Failed:M$e,_Loading:U$e,_Purchase_amount_must_be_at_least_100_APK:L$e,_Insufficient_balance:$$e,_Bind_Inviter_Tips:F$e},H$e="Connect Wallet",j$e="Please enter a referee",W$e="Success",q$e="Fail",z$e="Invite Link",G$e="Copy Link",K$e="Join Record",V$e="Join Amount",J$e="Time",Y$e="Please enter friend's address to bind",X$e="Please enter invite address",Q$e="Bind",Z$e="Home",eFe="Node",tFe="FOMO Pool",rFe="Not yet open",nFe="Recharge Address",iFe="NFT Presale",sFe="NFT Staking",oFe="NFT Rights",aFe="NFT Records",cFe="Right 1: Node as Shareholder",lFe="Node holders are recognized as ecosystem shareholders, receiving 30% weighted dividends from the decentralized AI prediction platform.",uFe="Right 2: HR Token Airdrop",fFe=`Global nodes will receive a total of 15,000,000 HR tokens airdrop.
Each node receives an average of 2,000 HR.
Tokens are released daily at a rate of 0.5%.`,dFe="Right 3: Referral Reward",hFe=`Receive 100 HR for every node referred.
No cap and no lock-up requirement.`,pFe="No records",gFe="In Progress",mFe="NFT Quantity",yFe="Buy Now",_Fe="Copy Successful",bFe="Copy Failed",wFe="Invite",vFe="My Wallet Address",EFe="BCL Lighthouse Protocol",AFe="Fair, Transparent, Sustainable New Paradigm of Decentralized Finance",xFe="Node Subscription",CFe="Welcome to",NFe="Beacon Launchpad is a fully decentralized, on-chain automatically executed multi-chain launch platform. Relying on an independently developed financial protocol system, it achieves full automation of project issuance, liquidity management, and incentive distribution, ensuring openness, fairness, security, and sustainable growth.",SFe="At BCL, everyone can participate fairly, govern transparently, and share continuously.",TFe="Core",IFe="Philosophy",RFe=" Five Core Values",PFe="Fairness",OFe="No Project Team, No APP, No Reservation, No Permission, No Termination",DFe="Transparency",kFe="100% On-Chain Permanent Autonomous Operation, Pure Smart Contract Control",MFe="Fair Distribution",UFe="Fair Distribution: Stable Returns for Leaders, Unlimited Potential for Doers",LFe="Self-Balancing",$Fe="Scale Self-Balancing Engine, Ecosystem Stable Perpetual Circulation Model",FFe="Sustainability",BFe="Achieving Fair Circulation Mechanism of Stability Above and Growth Below, Mutual Prosperity",HFe="Decentralized",jFe="Architecture",WFe=" Sustainable Self-Driven Model",qFe="Core Architecture Features",zFe="No Centralized Server / Sustainable Self-Driven Model",GFe="All Operations Public / Underlying Contract Permanently Traceable",KFe="All Data On-Chain / User Asset Security",VFe="Automatic Profit Distribution / Autonomous Unlock Zero Delay",JFe="Sustainable Revenue Cycle / Internal Circulation Constant Asset Mechanism",YFe="BCL Token Distribution",XFe="Total Token Supply: 21 Million",QFe="LP Pool: 18 Million (Black Hole Permanently Locked)",ZFe="Interaction Contract: 1 Million (Permission Discarded)",eBe="Airdrop Contract: 2 Million (Permission Discarded)",tBe="NFT Dual Thick Rewards Transaction Slippage Automatic Distribution",rBe="Why Choose",nBe="Stable Revenue",iBe="Provide 'Stable' Market Maker Returns, Attracting Large Funds",sBe="Principal Protection",oBe="End Principal Shrinkage Caused by 'Currency Price Fluctuations'",aBe="Ecosystem Internal Circulation",cBe="Construct 'Self-Driven' Market Growth and Reinvestment Internal Circulation",lBe="Anti-Dilution Mechanism",uBe="Break Dilution of Returns Caused by 'Increase in Number' of Market Makers",fBe="Unlimited Development",dBe="Remove Bottlenecks in 'Market Development' Caused by High Currency Prices",hBe="Join",pBe="Us",gBe="Reshaping Industry Trust, Algorithms Replace Humanity",mBe="BCL Breaks the Dilemma of 'Traditional DeFi', Letting",yBe="Rules Be Programmable",_Be=", Trust Be Quantifiable.",bBe="Pioneer Node: 200 USDT; Tower Master NFT: Directly refer 5 Pioneer Nodes, max 5 Pioneer Nodes per address",wBe="Relying on an independently developed financial protocol system, it achieves full automation, setting off a new paradigm of on-chain finance.",vBe="Join Now",EBe="Purchase Node",ABe="Node Rights",xBe="Please enter inviter",CBe="Inviter invalid",NBe="Bind success",SBe="Bind failed",TBe="Approve",IBe="Total Network Nodes",RBe="Total Network NFTs",PBe="My Nodes",OBe="My NFTs",DBe="Direct Referral Nodes",kBe="Pioneer Rights",MBe="1. BCL Token Airdrop",UBe=" Airdrop worth 10 USDT tokens within 24 hours of launch",LBe="2. LP Condition Token Airdrop",$Be=` LP = 10 million USDT, airdrop worth 30 USDT tokens
 LP = 30 million USDT, airdrop worth 50 USDT tokens
 LP = 50 million USDT, airdrop worth 100 USDT tokens`,FBe="3. Launchpad Community Token Airdrop",BBe=" 10% of all community tokens airdropped to Pioneers",HBe="Tower Master NFT Rights",jBe="1. BCL Token Airdrop",WBe=" Airdrop worth 20 USDT tokens within 24 hours of launch",qBe="2. LP Condition Token Airdrop",zBe=` LP = 10 million USDT, airdrop worth 60 USDT tokens
 LP = 30 million USDT, airdrop worth 100 USDT tokens
 LP = 50 million USDT, airdrop worth 200 USDT tokens`,GBe="3. Launchpad Community Token Airdrop",KBe=" 20% of all community tokens airdropped to Tower Master NFTs",VBe="4. Trading Slippage Dividend",JBe=" 1% of total trading volume (including wealth management and secondary trading)",YBe="5. Holding Profit Tax Dividend",XBe=" 10% of holding profit tax",QBe="Please enter purchase amount",ZBe="Maximum 5 nodes per address",eHe="Insufficient USDT balance",tHe="Pioneer Node: 200 USDT;",rHe="Tower Master NFT: Direct referral of 5 Pioneer Nodes;",nHe="Each address can purchase a maximum of 5 Pioneer Nodes",iHe="Lighthouse Pioneer Node",sHe="After binding and purchasing a node, invite others. You will receive rewards only after your subordinates purchase nodes.",oHe="Promotion Link",aHe="Market Maker Finance",cHe="My Referrals",lHe="User Address",uHe="Node Count",fHe="Current Price",dHe="My Subscribed",hHe="Subscription Quantity",pHe="Enter quantity",gHe="Pay Amount",mHe="Balance",yHe="Subscribe",_He="Approve Success",bHe="Approve Failed",wHe="Loading...",vHe="Purchase amount must be at least 100 APK",EHe="Insufficient balance",AHe="You need to bind an inviter to purchase, and you can only refer others after purchasing.",xHe={_Connect_wallet:H$e,_Please_enter_a_referee:j$e,_Success:W$e,_Fail:q$e,_Invite_link:z$e,_Copy_link:G$e,_Join_record:K$e,_Join_amount:V$e,_Time:J$e,_Enter_friend_address_to_bind:Y$e,_Enter_invite_address:X$e,_Bind:Q$e,_Home:Z$e,_Node:eFe,_FOMO_Pool:tFe,_Not_yet_open:rFe,_Recharge_address:nFe,_NFT_Presale:iFe,_NFT_Staking:sFe,_NFT_Rights:oFe,_NFT_Records:aFe,_Right_1_Node_as_Shareholder:cFe,_Right_1_Desc:lFe,_Right_2_HR_Token_Airdrop:uFe,_Right_2_Desc:fFe,_Right_3_Referral_Reward:dFe,_Right_3_Desc:hFe,_No_records:pFe,_In_progress:gFe,_NFT_Quantity:mFe,_Buy_Now:yFe,_Copy_successful:_Fe,_Copy_failed:bFe,_Invite:wFe,_My_wallet_address:vFe,_BCL_Lighthouse_Protocol:EFe,_Fair_Transparent_Sustainable_DeFi_Paradigm:AFe,_Node_Subscription:xFe,_Welcome_To:CFe,_Welcome_Desc_1:NFe,_Welcome_Desc_2:SFe,_Core:TFe,_Philosophy:IFe,_Five_Core_Values:RFe,_Fairness:PFe,_Fairness_Desc:OFe,_Transparency:DFe,_Transparency_Desc:kFe,_Fair_Distribution:MFe,_Fair_Distribution_Desc:UFe,_Self_Balancing:LFe,_Self_Balancing_Desc:$Fe,_Sustainability:FFe,_Sustainability_Desc:BFe,_Decentralized:HFe,_Architecture:jFe,_Sustainable_Self_Driven_Model:WFe,_Core_Architecture_Features:qFe,_No_Centralized_Server:zFe,_All_Operations_Public:GFe,_All_Data_On_Chain:KFe,_Automatic_Profit_Distribution:VFe,_Sustainable_Revenue_Cycle:JFe,_BCL_Token_Distribution:YFe,_Total_Token_Supply:XFe,_LP_Pool_Locked:QFe,_Interaction_Contract:ZFe,_Airdrop_Contract:eBe,_NFT_Rewards:tBe,_Why_Choose:rBe,_Stable_Revenue:nBe,_Stable_Revenue_Desc:iBe,_Principal_Protection:sBe,_Principal_Protection_Desc:oBe,_Ecosystem_Internal_Circulation:aBe,_Ecosystem_Internal_Circulation_Desc:cBe,_Anti_Dilution_Mechanism:lBe,_Anti_Dilution_Mechanism_Desc:uBe,_Unlimited_Development:fBe,_Unlimited_Development_Desc:dBe,_Join:hBe,_Us:pBe,_Reshaping_Industry_Trust:gBe,_BCL_Breaks_Dilemma:mBe,_Rules_Programmable:yBe,_Trust_Quantifiable:_Be,_Node_Info_Desc:bBe,_Join_Us_Desc:wBe,_Join_Now:vBe,_Purchase_Node:EBe,_Node_Rights:ABe,_Please_enter_inviter:xBe,_Inviter_invalid:CBe,_Bind_success:NBe,_Bind_failed:SBe,_Approve:TBe,_Total_Network_Nodes:IBe,_Total_Network_NFTs:RBe,_My_Nodes:PBe,_My_NFTs:OBe,_Direct_Referral_Nodes:DBe,_Pioneer_Rights:kBe,_Pioneer_Right_1_Title:MBe,_Pioneer_Right_1_Desc:UBe,_Pioneer_Right_2_Title:LBe,_Pioneer_Right_2_Desc:$Be,_Pioneer_Right_3_Title:FBe,_Pioneer_Right_3_Desc:BBe,_Tower_Master_Rights:HBe,_Tower_Right_1_Title:jBe,_Tower_Right_1_Desc:WBe,_Tower_Right_2_Title:qBe,_Tower_Right_2_Desc:zBe,_Tower_Right_3_Title:GBe,_Tower_Right_3_Desc:KBe,_Tower_Right_4_Title:VBe,_Tower_Right_4_Desc:JBe,_Tower_Right_5_Title:YBe,_Tower_Right_5_Desc:XBe,_Please_enter_purchase_amount:QBe,_Max_5_nodes_per_address:ZBe,_Insufficient_USDT_balance:eHe,_Pioneer_Node_Price:tHe,_Tower_Master_NFT_Condition:rHe,_Max_purchase_5_Pioneer_Nodes:nHe,_Lighthouse_Pioneer_Node:iHe,_Bind_Tips:sHe,_Promotion_Link:oHe,_Market_Maker_Finance:aHe,_My_Referrals:cHe,_User_Address:lHe,_Node_Count:uHe,_Current_Price:fHe,_My_Subscribed:dHe,_Subscription_Quantity:hHe,_Enter_Quantity:pHe,_Pay_Amount:gHe,_Balance:mHe,_Subscribe:yHe,_Approve_Success:_He,_Approve_Failed:bHe,_Loading:wHe,_Purchase_amount_must_be_at_least_100_APK:vHe,_Insufficient_balance:EHe,_Bind_Inviter_Tips:AHe},CHe=" ",NHe=" ",SHe="",THe="",IHe=" ",RHe=" ",PHe=" ",OHe=" ",DHe="",kHe="   ",MHe="  ",UHe="",LHe="",$He="",FHe="FOMO ",BHe="",HHe=" ",jHe="NFT  ",WHe="NFT ",qHe="NFT ",zHe="NFT ",GHe=" 1:  ",KHe="    ,  AI   30%   .",VHe=" 2: HR  ",JHe=`   15,000,000 HR   .
   2,000 HR .
  0.5%  .`,YHe=" 3:  ",XHe=`   100 HR .
     .`,QHe=" ",ZHe=" ",eje="NFT ",tje=" ",rje=" ",nje=" ",ije="",sje="  ",oje="BCL  ",aje="       ",cje=" ",lje="",uje="Beacon Launchpad        .        ,         , ,      .",fje="BCL         .",dje="",hje="",pje=" 5  ",gje="",mje="  ,  ,  ,  ,  ",yje="",_je="100%    ,    ",bje=" ",wje=" :   ,   ",vje=" ",Eje="   ,     ",Aje=" ",xje="        ,  ",Cje="",Nje="",Sje="     ",Tje="  ",Ije="    /     ",Rje="   /     ",Pje="   /   ",Oje="   /     ",Dje="    /     ",kje="BCL  ",Mje="  : 2,100 ",Uje="LP : 1,800 (  )",Lje="  : 100 ( )",$je=" : 200 ( )",Fje="NFT      ",Bje=" ",Hje=" ",jje="''       ",Wje=" ",qje="'  '      ",zje="  ",Gje="' '       ",Kje="  ",Vje="  ' '    ",Jje=" ",Yje="    ' '   ",Xje="",Qje="",Zje="  ,   ",eWe="BCL ' DeFi'  ,",tWe="   ",rWe=",     .",nWe="             .",iWe=" ",sWe="Purchase Node",oWe="Node Rights",aWe="Please enter inviter",cWe="Inviter invalid",lWe="Bind success",uWe="Bind failed",fWe="Approve",dWe="Total Network Nodes",hWe="Total Network NFTs",pWe="My Nodes",gWe="My NFTs",mWe="Direct Referral Nodes",yWe=" ",_We="1. BCL  ",bWe="  24  10 USDT   ",wWe="2. LP    ",vWe=` LP = 1000 USDT, 30 USDT   
 LP = 3000 USDT, 50 USDT   
 LP = 5000 USDT, 100 USDT   `,EWe="3.    ",AWe="    10%  ",xWe="  NFT ",CWe="1. BCL  ",NWe="  24  20 USDT   ",SWe="2. LP    ",TWe=` LP = 1000 USDT, 60 USDT   
 LP = 3000 USDT, 100 USDT   
 LP = 5000 USDT, 200 USDT   `,IWe="3.    ",RWe="    20%   NFT ",PWe="4.   ",OWe="   1% (   2  )",DWe="5.    ",kWe="    10%",MWe="  ",UWe="  5 ",LWe="USDT  ",$We=" : 200 USDT;",FWe="  NFT:   5  ;",BWe="   5     ",HWe="  ",jWe="     .        .",WWe=" ",qWe="  ",zWe=" : 200 USDT;   NFT:   5  ,   5  ",GWe=" ",KWe=" ",VWe=" ",JWe={_Connect_wallet:CHe,_Please_enter_a_referee:NHe,_Success:SHe,_Fail:THe,_Invite_link:IHe,_Copy_link:RHe,_Join_record:PHe,_Join_amount:OHe,_Time:DHe,_Enter_friend_address_to_bind:kHe,_Enter_invite_address:MHe,_Bind:UHe,_Home:LHe,_Node:$He,_FOMO_Pool:FHe,_Not_yet_open:BHe,_Recharge_address:HHe,_NFT_Presale:jHe,_NFT_Staking:WHe,_NFT_Rights:qHe,_NFT_Records:zHe,_Right_1_Node_as_Shareholder:GHe,_Right_1_Desc:KHe,_Right_2_HR_Token_Airdrop:VHe,_Right_2_Desc:JHe,_Right_3_Referral_Reward:YHe,_Right_3_Desc:XHe,_No_records:QHe,_In_progress:ZHe,_NFT_Quantity:eje,_Buy_Now:tje,_Copy_successful:rje,_Copy_failed:nje,_Invite:ije,_My_wallet_address:sje,_BCL_Lighthouse_Protocol:oje,_Fair_Transparent_Sustainable_DeFi_Paradigm:aje,_Node_Subscription:cje,_Welcome_To:lje,_Welcome_Desc_1:uje,_Welcome_Desc_2:fje,_Core:dje,_Philosophy:hje,_Five_Core_Values:pje,_Fairness:gje,_Fairness_Desc:mje,_Transparency:yje,_Transparency_Desc:_je,_Fair_Distribution:bje,_Fair_Distribution_Desc:wje,_Self_Balancing:vje,_Self_Balancing_Desc:Eje,_Sustainability:Aje,_Sustainability_Desc:xje,_Decentralized:Cje,_Architecture:Nje,_Sustainable_Self_Driven_Model:Sje,_Core_Architecture_Features:Tje,_No_Centralized_Server:Ije,_All_Operations_Public:Rje,_All_Data_On_Chain:Pje,_Automatic_Profit_Distribution:Oje,_Sustainable_Revenue_Cycle:Dje,_BCL_Token_Distribution:kje,_Total_Token_Supply:Mje,_LP_Pool_Locked:Uje,_Interaction_Contract:Lje,_Airdrop_Contract:$je,_NFT_Rewards:Fje,_Why_Choose:Bje,_Stable_Revenue:Hje,_Stable_Revenue_Desc:jje,_Principal_Protection:Wje,_Principal_Protection_Desc:qje,_Ecosystem_Internal_Circulation:zje,_Ecosystem_Internal_Circulation_Desc:Gje,_Anti_Dilution_Mechanism:Kje,_Anti_Dilution_Mechanism_Desc:Vje,_Unlimited_Development:Jje,_Unlimited_Development_Desc:Yje,_Join:Xje,_Us:Qje,_Reshaping_Industry_Trust:Zje,_BCL_Breaks_Dilemma:eWe,_Rules_Programmable:tWe,_Trust_Quantifiable:rWe,_Join_Us_Desc:nWe,_Join_Now:iWe,_Purchase_Node:sWe,_Node_Rights:oWe,_Please_enter_inviter:aWe,_Inviter_invalid:cWe,_Bind_success:lWe,_Bind_failed:uWe,_Approve:fWe,_Total_Network_Nodes:dWe,_Total_Network_NFTs:hWe,_My_Nodes:pWe,_My_NFTs:gWe,_Direct_Referral_Nodes:mWe,_Pioneer_Rights:yWe,_Pioneer_Right_1_Title:_We,_Pioneer_Right_1_Desc:bWe,_Pioneer_Right_2_Title:wWe,_Pioneer_Right_2_Desc:vWe,_Pioneer_Right_3_Title:EWe,_Pioneer_Right_3_Desc:AWe,_Tower_Master_Rights:xWe,_Tower_Right_1_Title:CWe,_Tower_Right_1_Desc:NWe,_Tower_Right_2_Title:SWe,_Tower_Right_2_Desc:TWe,_Tower_Right_3_Title:IWe,_Tower_Right_3_Desc:RWe,_Tower_Right_4_Title:PWe,_Tower_Right_4_Desc:OWe,_Tower_Right_5_Title:DWe,_Tower_Right_5_Desc:kWe,_Please_enter_purchase_amount:MWe,_Max_5_nodes_per_address:UWe,_Insufficient_USDT_balance:LWe,_Pioneer_Node_Price:$We,_Tower_Master_NFT_Condition:FWe,_Max_purchase_5_Pioneer_Nodes:BWe,_Lighthouse_Pioneer_Node:HWe,_Bind_Tips:jWe,_Promotion_Link:WWe,_Market_Maker_Finance:qWe,_Node_Info_Desc:zWe,_My_Referrals:GWe,_User_Address:KWe,_Node_Count:VWe},YWe="",XWe="",QWe="",ZWe="",eqe="",tqe="",rqe="",nqe="",iqe="",sqe="",oqe="",aqe="",cqe="",lqe="",uqe="FOMO",fqe="",dqe="",hqe="NFT",pqe="NFT",gqe="NFT",mqe="NFT",yqe="1",_qe="AI30",bqe="2HR",wqe=`15,000,000 HR
2,000 HR
0.5`,vqe="3",Eqe=`100 HR
`,Aqe="",xqe="",Cqe="NFT",Nqe="",Sqe="",Tqe="",Iqe="",Rqe="",Pqe="BCL",Oqe="",Dqe="",kqe="",Mqe="Beacon Launchpad",Uqe="BCL",Lqe="",$qe="",Fqe=" 5",Bqe="",Hqe="",jqe="",Wqe="100",qqe="",zqe="",Gqe="",Kqe="",Vqe="",Jqe="",Yqe="",Xqe="",Qqe=" ",Zqe="",eze=" / ",tze=" / ",rze=" / ",nze=" / ",ize=" / ",sze="BCL",oze="2100",aze="LP1800",cze="100",lze="200",uze="NFT",fze="",dze="",hze="",pze="",gze="",mze="",yze="",_ze="",bze="",wze="",vze="",Eze="",Aze="",xze="",Cze="BCLDeFi",Nze="",Sze="",Tze="",Ize="",Rze="Purchase Node",Pze="Node Rights",Oze="Please enter inviter",Dze="Inviter invalid",kze="Bind success",Mze="Bind failed",Uze="Approve",Lze="Total Network Nodes",$ze="Total Network NFTs",Fze="My Nodes",Bze="My NFTs",Hze="Direct Referral Nodes",jze="",Wze="1. BCL",qze=" 2410 USDT",zze="2. LP",Gze=` LP = 1000 USDT30 USDT
 LP = 3000 USDT50 USDT
 LP = 5000 USDT100 USDT`,Kze="3. ",Vze=" 10%",Jze="NFT",Yze="1. BCL",Xze=" 2420 USDT",Qze="2. LP",Zze=` LP = 1000 USDT60 USDT
 LP = 3000 USDT100 USDT
 LP = 5000 USDT200 USDT`,eGe="3. ",tGe=" 20%NFT",rGe="4. ",nGe=" 1%",iGe="5. ",sGe=" 10%",oGe="",aGe="5",cGe="USDT",lGe="200 USDT;",uGe="NFT5;",fGe="5",dGe="",hGe="",pGe="",gGe="",mGe="200 USDT; NFT55",yGe="",_Ge="",bGe="",wGe={_Connect_wallet:YWe,_Please_enter_a_referee:XWe,_Success:QWe,_Fail:ZWe,_Invite_link:eqe,_Copy_link:tqe,_Join_record:rqe,_Join_amount:nqe,_Time:iqe,_Enter_friend_address_to_bind:sqe,_Enter_invite_address:oqe,_Bind:aqe,_Home:cqe,_Node:lqe,_FOMO_Pool:uqe,_Not_yet_open:fqe,_Recharge_address:dqe,_NFT_Presale:hqe,_NFT_Staking:pqe,_NFT_Rights:gqe,_NFT_Records:mqe,_Right_1_Node_as_Shareholder:yqe,_Right_1_Desc:_qe,_Right_2_HR_Token_Airdrop:bqe,_Right_2_Desc:wqe,_Right_3_Referral_Reward:vqe,_Right_3_Desc:Eqe,_No_records:Aqe,_In_progress:xqe,_NFT_Quantity:Cqe,_Buy_Now:Nqe,_Copy_successful:Sqe,_Copy_failed:Tqe,_Invite:Iqe,_My_wallet_address:Rqe,_BCL_Lighthouse_Protocol:Pqe,_Fair_Transparent_Sustainable_DeFi_Paradigm:Oqe,_Node_Subscription:Dqe,_Welcome_To:kqe,_Welcome_Desc_1:Mqe,_Welcome_Desc_2:Uqe,_Core:Lqe,_Philosophy:$qe,_Five_Core_Values:Fqe,_Fairness:Bqe,_Fairness_Desc:Hqe,_Transparency:jqe,_Transparency_Desc:Wqe,_Fair_Distribution:qqe,_Fair_Distribution_Desc:zqe,_Self_Balancing:Gqe,_Self_Balancing_Desc:Kqe,_Sustainability:Vqe,_Sustainability_Desc:Jqe,_Decentralized:Yqe,_Architecture:Xqe,_Sustainable_Self_Driven_Model:Qqe,_Core_Architecture_Features:Zqe,_No_Centralized_Server:eze,_All_Operations_Public:tze,_All_Data_On_Chain:rze,_Automatic_Profit_Distribution:nze,_Sustainable_Revenue_Cycle:ize,_BCL_Token_Distribution:sze,_Total_Token_Supply:oze,_LP_Pool_Locked:aze,_Interaction_Contract:cze,_Airdrop_Contract:lze,_NFT_Rewards:uze,_Why_Choose:fze,_Stable_Revenue:dze,_Stable_Revenue_Desc:hze,_Principal_Protection:pze,_Principal_Protection_Desc:gze,_Ecosystem_Internal_Circulation:mze,_Ecosystem_Internal_Circulation_Desc:yze,_Anti_Dilution_Mechanism:_ze,_Anti_Dilution_Mechanism_Desc:bze,_Unlimited_Development:wze,_Unlimited_Development_Desc:vze,_Join:Eze,_Us:Aze,_Reshaping_Industry_Trust:xze,_BCL_Breaks_Dilemma:Cze,_Rules_Programmable:Nze,_Trust_Quantifiable:Sze,_Join_Us_Desc:Tze,_Join_Now:Ize,_Purchase_Node:Rze,_Node_Rights:Pze,_Please_enter_inviter:Oze,_Inviter_invalid:Dze,_Bind_success:kze,_Bind_failed:Mze,_Approve:Uze,_Total_Network_Nodes:Lze,_Total_Network_NFTs:$ze,_My_Nodes:Fze,_My_NFTs:Bze,_Direct_Referral_Nodes:Hze,_Pioneer_Rights:jze,_Pioneer_Right_1_Title:Wze,_Pioneer_Right_1_Desc:qze,_Pioneer_Right_2_Title:zze,_Pioneer_Right_2_Desc:Gze,_Pioneer_Right_3_Title:Kze,_Pioneer_Right_3_Desc:Vze,_Tower_Master_Rights:Jze,_Tower_Right_1_Title:Yze,_Tower_Right_1_Desc:Xze,_Tower_Right_2_Title:Qze,_Tower_Right_2_Desc:Zze,_Tower_Right_3_Title:eGe,_Tower_Right_3_Desc:tGe,_Tower_Right_4_Title:rGe,_Tower_Right_4_Desc:nGe,_Tower_Right_5_Title:iGe,_Tower_Right_5_Desc:sGe,_Please_enter_purchase_amount:oGe,_Max_5_nodes_per_address:aGe,_Insufficient_USDT_balance:cGe,_Pioneer_Node_Price:lGe,_Tower_Master_NFT_Condition:uGe,_Max_purchase_5_Pioneer_Nodes:fGe,_Lighthouse_Pioneer_Node:dGe,_Bind_Tips:hGe,_Promotion_Link:pGe,_Market_Maker_Finance:gGe,_Node_Info_Desc:mGe,_My_Referrals:yGe,_User_Address:_Ge,_Node_Count:bGe},vGe="",EGe="",AGe="",xGe="",CGe="",NGe="",SGe="",TGe="",IGe="",RGe="",PGe="",OGe="",DGe="",kGe="",MGe="FOMO Pool",UGe="",LGe="",$Ge="NFT ",FGe="NFT Staking",BGe=" NFT",HGe=" NFT",jGe=" 1: ",WGe="  30%  AI ",qGe=" 2: Airdrop  HR",zGe=` Airdrop  HR  15,000,000 HR
 2,000 HR
 0.5%`,GGe=" 3: ",KGe=` 100 HR  
`,VGe="",JGe="",YGe=" NFT",XGe="",QGe="",ZGe="",eKe="",tKe="",rKe=" BCL",nKe="  ",iKe="",sKe="",oKe="Beacon Launchpad         ",aKe=" BCL   ",cKe="",lKe="",uKe=" 5 ",fKe="",dKe=", , , , ",hKe="",pKe=" 100%, ",gKe="",mKe=": , ",yKe="",_Ke=", ",bKe="",wKe=", ",vKe="",EKe="",AKe=" ",xKe="",CKe=" / ",NKe=" / ",SKe=" / ",TKe=" / ",IKe=" / ",RKe=" BCL",PKe=": 21 ",OKe="LP Pool: 18  ()",DKe=": 1  ()",kKe=" Airdrop: 2  ()",MKe=" NFT  Slippage ",UKe="",LKe="",$Ke=" Market Maker  '' ",FKe="",BKe=" ''",HKe="",jKe=" '' ",WKe="",qKe=" ''  Market Makers",zKe="",GKe=" '' ",KKe="",VKe="",JKe=", ",YKe="BCL  'DeFi ' ",XKe="",QKe=", ",ZKe="  ",eVe="",tVe="Purchase Node",rVe="Node Rights",nVe="Please enter inviter",iVe="Inviter invalid",sVe="Bind success",oVe="Bind failed",aVe="Approve",cVe="Total Network Nodes",lVe="Total Network NFTs",uVe="My Nodes",fVe="My NFTs",dVe="Direct Referral Nodes",hVe="",pVe="1. Airdrop  BCL",gVe=" Airdrop  10 USDT  24 ",mVe="2. Airdrop  LP",yVe=` LP = 10  USDT, Airdrop  30 USDT
 LP = 30  USDT, Airdrop  50 USDT
 LP = 50  USDT, Airdrop  100 USDT`,_Ve="3. Airdrop  Launchpad",bVe=" Airdrop 10% ",wVe=" Tower Master NFT",vVe="1. Airdrop  BCL",EVe=" Airdrop  20 USDT  24 ",AVe="2. Airdrop  LP",xVe=` LP = 10  USDT, Airdrop  60 USDT
 LP = 30  USDT, Airdrop  100 USDT
 LP = 50  USDT, Airdrop  200 USDT`,CVe="3. Airdrop  Launchpad",NVe=" Airdrop 20%  NFT ",SVe="4.  Slippage ",TVe=" 1%  ()",IVe="5. ",RVe=" 10% ",PVe="",OVe=" 5 ",DVe=" USDT ",kVe=": 200 USDT;",MVe="NFT :  5 ;",UVe=" 5 ",LVe="",$Ve="  ",FVe="",BVe=" Market Maker",HVe=": 200 USDT; NFT :  5 ,  5 ",jVe="",WVe="",qVe="",zVe={_Connect_wallet:vGe,_Please_enter_a_referee:EGe,_Success:AGe,_Fail:xGe,_Invite_link:CGe,_Copy_link:NGe,_Join_record:SGe,_Join_amount:TGe,_Time:IGe,_Enter_friend_address_to_bind:RGe,_Enter_invite_address:PGe,_Bind:OGe,_Home:DGe,_Node:kGe,_FOMO_Pool:MGe,_Not_yet_open:UGe,_Recharge_address:LGe,_NFT_Presale:$Ge,_NFT_Staking:FGe,_NFT_Rights:BGe,_NFT_Records:HGe,_Right_1_Node_as_Shareholder:jGe,_Right_1_Desc:WGe,_Right_2_HR_Token_Airdrop:qGe,_Right_2_Desc:zGe,_Right_3_Referral_Reward:GGe,_Right_3_Desc:KGe,_No_records:VGe,_In_progress:JGe,_NFT_Quantity:YGe,_Buy_Now:XGe,_Copy_successful:QGe,_Copy_failed:ZGe,_Invite:eKe,_My_wallet_address:tKe,_BCL_Lighthouse_Protocol:rKe,_Fair_Transparent_Sustainable_DeFi_Paradigm:nKe,_Node_Subscription:iKe,_Welcome_To:sKe,_Welcome_Desc_1:oKe,_Welcome_Desc_2:aKe,_Core:cKe,_Philosophy:lKe,_Five_Core_Values:uKe,_Fairness:fKe,_Fairness_Desc:dKe,_Transparency:hKe,_Transparency_Desc:pKe,_Fair_Distribution:gKe,_Fair_Distribution_Desc:mKe,_Self_Balancing:yKe,_Self_Balancing_Desc:_Ke,_Sustainability:bKe,_Sustainability_Desc:wKe,_Decentralized:vKe,_Architecture:EKe,_Sustainable_Self_Driven_Model:AKe,_Core_Architecture_Features:xKe,_No_Centralized_Server:CKe,_All_Operations_Public:NKe,_All_Data_On_Chain:SKe,_Automatic_Profit_Distribution:TKe,_Sustainable_Revenue_Cycle:IKe,_BCL_Token_Distribution:RKe,_Total_Token_Supply:PKe,_LP_Pool_Locked:OKe,_Interaction_Contract:DKe,_Airdrop_Contract:kKe,_NFT_Rewards:MKe,_Why_Choose:UKe,_Stable_Revenue:LKe,_Stable_Revenue_Desc:$Ke,_Principal_Protection:FKe,_Principal_Protection_Desc:BKe,_Ecosystem_Internal_Circulation:HKe,_Ecosystem_Internal_Circulation_Desc:jKe,_Anti_Dilution_Mechanism:WKe,_Anti_Dilution_Mechanism_Desc:qKe,_Unlimited_Development:zKe,_Unlimited_Development_Desc:GKe,_Join:KKe,_Us:VKe,_Reshaping_Industry_Trust:JKe,_BCL_Breaks_Dilemma:YKe,_Rules_Programmable:XKe,_Trust_Quantifiable:QKe,_Join_Us_Desc:ZKe,_Join_Now:eVe,_Purchase_Node:tVe,_Node_Rights:rVe,_Please_enter_inviter:nVe,_Inviter_invalid:iVe,_Bind_success:sVe,_Bind_failed:oVe,_Approve:aVe,_Total_Network_Nodes:cVe,_Total_Network_NFTs:lVe,_My_Nodes:uVe,_My_NFTs:fVe,_Direct_Referral_Nodes:dVe,_Pioneer_Rights:hVe,_Pioneer_Right_1_Title:pVe,_Pioneer_Right_1_Desc:gVe,_Pioneer_Right_2_Title:mVe,_Pioneer_Right_2_Desc:yVe,_Pioneer_Right_3_Title:_Ve,_Pioneer_Right_3_Desc:bVe,_Tower_Master_Rights:wVe,_Tower_Right_1_Title:vVe,_Tower_Right_1_Desc:EVe,_Tower_Right_2_Title:AVe,_Tower_Right_2_Desc:xVe,_Tower_Right_3_Title:CVe,_Tower_Right_3_Desc:NVe,_Tower_Right_4_Title:SVe,_Tower_Right_4_Desc:TVe,_Tower_Right_5_Title:IVe,_Tower_Right_5_Desc:RVe,_Please_enter_purchase_amount:PVe,_Max_5_nodes_per_address:OVe,_Insufficient_USDT_balance:DVe,_Pioneer_Node_Price:kVe,_Tower_Master_NFT_Condition:MVe,_Max_purchase_5_Pioneer_Nodes:UVe,_Lighthouse_Pioneer_Node:LVe,_Bind_Tips:$Ve,_Promotion_Link:FVe,_Market_Maker_Finance:BVe,_Node_Info_Desc:HVe,_My_Referrals:jVe,_User_Address:WVe,_Node_Count:qVe},GVe="Kt ni V",KVe="Vui lng nhp ngi gii thiu",VVe="Thnh cng",JVe="Tht bi",YVe="Lin kt mi",XVe="Sao chp lin kt",QVe="H s tham gia",ZVe="S tin tham gia",eJe="Thi gian",tJe="Vui lng nhp a ch bn b  lin kt",rJe="Vui lng nhp a ch mi",nJe="Lin kt",iJe="Trang ch",sJe="Nt",oJe="H FOMO",aJe="Cha m",cJe="a ch np tin",lJe="Bn trc NFT",uJe="t cc NFT",fJe="Quyn li NFT",dJe="H s NFT",hJe="Quyn li 1: Nt l C ng",pJe="Ch s hu nt c cng nhn l c ng h sinh thi, nhn 30% c tc c trng s t nn tng d on AI phi tp trung.",gJe="Quyn li 2: Airdrop Token HR",mJe=`Cc nt ton cu s nhn tng cng 15,000,000 token HR airdrop.
Mi nt nhn trung bnh 2,000 HR.
Token c pht hnh hng ngy vi t l 0.5%.`,yJe="Quyn li 3: Phn thng gii thiu",_Je=`Nhn 100 HR cho mi nt c gii thiu.
Khng gii hn v khng yu cu kha.`,bJe="Khng c h s",wJe="ang tin hnh",vJe="S lng NFT",EJe="Mua ngay",AJe="Sao chp thnh cng",xJe="Sao chp tht bi",CJe="Mi",NJe="a ch v ca ti",SJe="Giao thc Ngn hi ng BCL",TJe="M hnh mi ca Ti chnh phi tp trung Cng bng, Minh bch, Bn vng",IJe="ng k Nt",RJe="Cho mng n vi",PJe="Beacon Launchpad l mt nn tng khi chy a chui hon ton phi tp trung v t ng thc thi trn chui. Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton trong vic pht hnh d n, qun l thanh khon v phn phi u i, m bo tnh cng khai, cng bng, bo mt v tng trng bn vng.",OJe="Ti BCL, mi ngi u c th tham gia cng bng, qun tr minh bch v chia s lin tc.",DJe="Ct li",kJe="Trit l",MJe=" 5 Gi tr Ct li",UJe="Cng bng",LJe="Khng i ng d n, Khng ng dng, Khng t trc, Khng cp quyn, Khng chm dt",$Je="Minh bch",FJe="Hot ng t ch vnh vin 100% trn chui, Kim sot hon ton bng hp ng thng minh",BJe="Phn phi cng bng",HJe="Phn phi cng bng: Li nhun n nh cho ngi dn u, Tim nng v hn cho ngi thc hin",jJe="T cn bng",WJe="Cng c t cn bng quy m, M hnh tun hon vnh vin n nh h sinh thi",qJe="Bn vng",zJe="t c c ch tun hon cng bng n nh  trn v Tng trng  di, Cng thnh vng",GJe="Phi tp trung",KJe="Kin trc",VJe=" M hnh T vn hnh Bn vng",JJe="Tnh nng Kin trc Ct li",YJe="Khng my ch trung tm / M hnh t vn hnh bn vng",XJe="Mi hot ng cng khai / Hp ng c bn c th truy xut vnh vin",QJe="Mi d liu trn chui / Bo mt ti sn ngi dng",ZJe="Phn phi li nhun t ng / M kha t ch khng tr",eYe="Chu k doanh thu bn vng / C ch ti sn khng i tun hon ni b",tYe="Phn phi Token BCL",rYe="Tng cung Token: 21 triu",nYe="H LP: 18 triu (Kha vnh vin trong h en)",iYe="Hp ng tng tc: 1 triu (Hy b quyn)",sYe="Hp ng Airdrop: 2 triu (Hy b quyn)",oYe="Phn thng kp NFT Phn phi t ng trt gi giao dch",aYe="Ti sao chn",cYe="Doanh thu n nh",lYe="Cung cp li nhun Nh to lp th trng 'n nh', Thu ht qu ln",uYe="Bo v vn gc",fYe="Chm dt vic thu hp vn gc do 'Bin ng gi tin t'",dYe="Tun hon ni b h sinh thi",hYe="Xy dng Tng trng th trng 'T vn hnh' v Tun hon ni b ti u t",pYe="C ch chng pha long",gYe="Ph v s pha long li nhun do 'Tng s lng' Nh to lp th trng",mYe="Pht trin khng gii hn",yYe="Loi b nt tht trong 'Pht trin th trng' do Gi tin t cao",_Ye="Tham gia",bYe="Chng ti",wYe="Ti nh hnh nim tin ngnh, Thut ton thay th con ngi",vYe="BCL Ph v th tin thoi lng nan ca 'DeFi truyn thng', ",EYe="Quy tc c th lp trnh",AYe=", Nim tin c th nh lng.",xYe="Da vo h thng giao thc ti chnh t pht trin, n t c s t ng ha hon ton, m ra mt m hnh mi ca ti chnh trn chui.",CYe="Tham gia ngay",NYe="Purchase Node",SYe="Node Rights",TYe="Please enter inviter",IYe="Inviter invalid",RYe="Bind success",PYe="Bind failed",OYe="Approve",DYe="Total Network Nodes",kYe="Total Network NFTs",MYe="My Nodes",UYe="My NFTs",LYe="Direct Referral Nodes",$Ye="Quyn li Tin phong",FYe="1. Airdrop Token BCL",BYe=" Airdrop token tr gi 10 USDT trong vng 24 gi sau khi ra mt",HYe="2. Airdrop Token theo iu kin LP",jYe=` LP = 10 triu USDT, airdrop token tr gi 30 USDT
 LP = 30 triu USDT, airdrop token tr gi 50 USDT
 LP = 50 triu USDT, airdrop token tr gi 100 USDT`,WYe="3. Airdrop Token Cng ng Launchpad",qYe=" Airdrop 10% tng token cng ng cho ngi Tin phong",zYe="Quyn li NFT Thp Ch",GYe="1. Airdrop Token BCL",KYe=" Airdrop token tr gi 20 USDT trong vng 24 gi sau khi ra mt",VYe="2. Airdrop Token theo iu kin LP",JYe=` LP = 10 triu USDT, airdrop token tr gi 60 USDT
 LP = 30 triu USDT, airdrop token tr gi 100 USDT
 LP = 50 triu USDT, airdrop token tr gi 200 USDT`,YYe="3. Airdrop Token Cng ng Launchpad",XYe=" Airdrop 20% tng token cng ng cho NFT Thp ch",QYe="4. C tc trt gi giao dch",ZYe=" 1% tng khi lng giao dch (bao gm qun l ti sn v giao dch th cp)",eXe="5. C tc thu li nhun nm gi",tXe=" 10% thu li nhun nm gi",rXe="Vui lng nhp s lng mua",nXe="Ti a 5 nt mi a ch",iXe="S d USDT khng ",sXe="Nt Tin phong: 200 USDT;",oXe="NFT Thp ch: Gii thiu trc tip 5 Nt Tin phong;",aXe="Mi a ch c th mua ti a 5 Nt Tin phong",cXe="Nt Tin phong Hi ng",lXe="Sau khi lin kt v mua nt, hy mi ngi khc. Bn s ch nhn c phn thng sau khi cp di ca bn mua nt.",uXe="Lin kt qung co",fXe="Ti chnh Nh to lp th trng",dXe="Nt Tin phong: 200 USDT; NFT Thp ch: Gii thiu trc tip 5 Nt Tin phong, ti a 5 Nt Tin phong mi a ch",hXe="Gii thiu ca ti",pXe="a ch ngi dng",gXe="S lng nt",mXe={_Connect_wallet:GVe,_Please_enter_a_referee:KVe,_Success:VVe,_Fail:JVe,_Invite_link:YVe,_Copy_link:XVe,_Join_record:QVe,_Join_amount:ZVe,_Time:eJe,_Enter_friend_address_to_bind:tJe,_Enter_invite_address:rJe,_Bind:nJe,_Home:iJe,_Node:sJe,_FOMO_Pool:oJe,_Not_yet_open:aJe,_Recharge_address:cJe,_NFT_Presale:lJe,_NFT_Staking:uJe,_NFT_Rights:fJe,_NFT_Records:dJe,_Right_1_Node_as_Shareholder:hJe,_Right_1_Desc:pJe,_Right_2_HR_Token_Airdrop:gJe,_Right_2_Desc:mJe,_Right_3_Referral_Reward:yJe,_Right_3_Desc:_Je,_No_records:bJe,_In_progress:wJe,_NFT_Quantity:vJe,_Buy_Now:EJe,_Copy_successful:AJe,_Copy_failed:xJe,_Invite:CJe,_My_wallet_address:NJe,_BCL_Lighthouse_Protocol:SJe,_Fair_Transparent_Sustainable_DeFi_Paradigm:TJe,_Node_Subscription:IJe,_Welcome_To:RJe,_Welcome_Desc_1:PJe,_Welcome_Desc_2:OJe,_Core:DJe,_Philosophy:kJe,_Five_Core_Values:MJe,_Fairness:UJe,_Fairness_Desc:LJe,_Transparency:$Je,_Transparency_Desc:FJe,_Fair_Distribution:BJe,_Fair_Distribution_Desc:HJe,_Self_Balancing:jJe,_Self_Balancing_Desc:WJe,_Sustainability:qJe,_Sustainability_Desc:zJe,_Decentralized:GJe,_Architecture:KJe,_Sustainable_Self_Driven_Model:VJe,_Core_Architecture_Features:JJe,_No_Centralized_Server:YJe,_All_Operations_Public:XJe,_All_Data_On_Chain:QJe,_Automatic_Profit_Distribution:ZJe,_Sustainable_Revenue_Cycle:eYe,_BCL_Token_Distribution:tYe,_Total_Token_Supply:rYe,_LP_Pool_Locked:nYe,_Interaction_Contract:iYe,_Airdrop_Contract:sYe,_NFT_Rewards:oYe,_Why_Choose:aYe,_Stable_Revenue:cYe,_Stable_Revenue_Desc:lYe,_Principal_Protection:uYe,_Principal_Protection_Desc:fYe,_Ecosystem_Internal_Circulation:dYe,_Ecosystem_Internal_Circulation_Desc:hYe,_Anti_Dilution_Mechanism:pYe,_Anti_Dilution_Mechanism_Desc:gYe,_Unlimited_Development:mYe,_Unlimited_Development_Desc:yYe,_Join:_Ye,_Us:bYe,_Reshaping_Industry_Trust:wYe,_BCL_Breaks_Dilemma:vYe,_Rules_Programmable:EYe,_Trust_Quantifiable:AYe,_Join_Us_Desc:xYe,_Join_Now:CYe,_Purchase_Node:NYe,_Node_Rights:SYe,_Please_enter_inviter:TYe,_Inviter_invalid:IYe,_Bind_success:RYe,_Bind_failed:PYe,_Approve:OYe,_Total_Network_Nodes:DYe,_Total_Network_NFTs:kYe,_My_Nodes:MYe,_My_NFTs:UYe,_Direct_Referral_Nodes:LYe,_Pioneer_Rights:$Ye,_Pioneer_Right_1_Title:FYe,_Pioneer_Right_1_Desc:BYe,_Pioneer_Right_2_Title:HYe,_Pioneer_Right_2_Desc:jYe,_Pioneer_Right_3_Title:WYe,_Pioneer_Right_3_Desc:qYe,_Tower_Master_Rights:zYe,_Tower_Right_1_Title:GYe,_Tower_Right_1_Desc:KYe,_Tower_Right_2_Title:VYe,_Tower_Right_2_Desc:JYe,_Tower_Right_3_Title:YYe,_Tower_Right_3_Desc:XYe,_Tower_Right_4_Title:QYe,_Tower_Right_4_Desc:ZYe,_Tower_Right_5_Title:eXe,_Tower_Right_5_Desc:tXe,_Please_enter_purchase_amount:rXe,_Max_5_nodes_per_address:nXe,_Insufficient_USDT_balance:iXe,_Pioneer_Node_Price:sXe,_Tower_Master_NFT_Condition:oXe,_Max_purchase_5_Pioneer_Nodes:aXe,_Lighthouse_Pioneer_Node:cXe,_Bind_Tips:lXe,_Promotion_Link:uXe,_Market_Maker_Finance:fXe,_Node_Info_Desc:dXe,_My_Referrals:hXe,_User_Address:pXe,_Node_Count:gXe},yXe="Sambung Dompet",_Xe="Sila masukkan rujukan",bXe="Berjaya",wXe="Gagal",vXe="Pautan Jemputan",EXe="Salin Pautan",AXe="Rekod Sertai",xXe="Jumlah Sertai",CXe="Masa",NXe="Sila masukkan alamat rakan untuk mengikat",SXe="Sila masukkan alamat jemputan",TXe="Ikat",IXe="Laman Utama",RXe="Nod",PXe="Kolam FOMO",OXe="Belum dibuka",DXe="Alamat Caj Semula",kXe="Pra-jualan NFT",MXe="Staking NFT",UXe="Hak NFT",LXe="Rekod NFT",$Xe="Hak 1: Nod sebagai Pemegang Saham",FXe="Pemegang nod diiktiraf sebagai pemegang saham ekosistem, menerima 30% dividen wajaran daripada platform ramalan AI terdesentralisasi.",BXe="Hak 2: Airdrop Token HR",HXe=`Nod global akan menerima sejumlah 15,000,000 airdrop token HR.
Setiap nod menerima purata 2,000 HR.
Token dikeluarkan setiap hari pada kadar 0.5%.`,jXe="Hak 3: Ganjaran Rujukan",WXe=`Terima 100 HR untuk setiap nod yang dirujuk.
Tiada had dan tiada syarat kunci.`,qXe="Tiada rekod",zXe="Sedang Berjalan",GXe="Kuantiti NFT",KXe="Beli Sekarang",VXe="Salinan Berjaya",JXe="Salinan Gagal",YXe="Jemput",XXe="Alamat Dompet Saya",QXe="Protokol Rumah Api BCL",ZXe="Paradigma Baru Kewangan Terdesentralisasi yang Adil, Telus, dan Mampan",eQe="Langganan Nod",tQe="Selamat Datang ke",rQe="Beacon Launchpad adalah platform pelancaran pelbagai rantaian yang sepenuhnya terdesentralisasi dan dilaksanakan secara automatik di rantaian. Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh pengeluaran projek, pengurusan kecairan, dan pengagihan insentif, memastikan keterbukaan, keadilan, keselamatan, dan pertumbuhan yang mampan.",nQe="Di BCL, semua orang boleh mengambil bahagian secara adil, mentadbir secara telus, dan berkongsi secara berterusan.",iQe="Teras",sQe="Falsafah",oQe=" 5 Nilai Teras",aQe="Keadilan",cQe="Tiada Pasukan Projek, Tiada APP, Tiada Tempahan, Tiada Kebenaran, Tiada Penamatan",lQe="Ketelusan",uQe="Operasi Autonomi Kekal 100% Di Rantaian, Kawalan Kontrak Pintar Sepenuhnya",fQe="Pengagihan Adil",dQe="Pengagihan Adil: Pulangan Stabil untuk Pemimpin, Potensi Tanpa Had untuk Pelaksana",hQe="Pengimbangan Kendiri",pQe="Enjin Pengimbangan Kendiri Skala, Model Edaran Kekal Stabil Ekosistem",gQe="Kemampanan",mQe="Mencapai Mekanisme Edaran Adil Kestabilan di Atas dan Pertumbuhan di Bawah, Kemakmuran Bersama",yQe="Terdesentralisasi",_Qe="Senibina",bQe=" Model Kendiri Mampan",wQe="Ciri-ciri Senibina Teras",vQe="Tiada Pelayan Berpusat / Model Kendiri Mampan",EQe="Semua Operasi Awam / Kontrak Asas Boleh Dikesan Kekal",AQe="Semua Data Di Rantaian / Keselamatan Aset Pengguna",xQe="Pengagihan Keuntungan Automatik / Kunci Buka Autonomi Sifar Kelewatan",CQe="Kitaran Hasil Mampan / Mekanisme Aset Tetap Edaran Dalaman",NQe="Pengagihan Token BCL",SQe="Jumlah Bekalan Token: 21 Juta",TQe="Kolam LP: 18 Juta (Lubang Hitam Dikunci Kekal)",IQe="Kontrak Interaksi: 1 Juta (Kebenaran Dibuang)",RQe="Kontrak Airdrop: 2 Juta (Kebenaran Dibuang)",PQe="Ganjaran Berganda NFT Pengagihan Automatik Slippage Transaksi",OQe="Kenapa Pilih",DQe="Hasil Stabil",kQe="Menyediakan Pulangan Pembuat Pasaran 'Stabil', Menarik Dana Besar",MQe="Perlindungan Prinsipal",UQe="Menamatkan Pengecutan Prinsipal Disebabkan oleh 'Turun Naik Harga Mata Wang'",LQe="Edaran Dalaman Ekosistem",$Qe="Membina Pertumbuhan Pasaran 'Kendiri' dan Edaran Dalaman Pelaburan Semula",FQe="Mekanisme Anti-Pencairan",BQe="Memecahkan Pencairan Pulangan Disebabkan oleh 'Peningkatan Bilangan' Pembuat Pasaran",HQe="Pembangunan Tanpa Had",jQe="Menghapuskan Kesesakan dalam 'Pembangunan Pasaran' Disebabkan oleh Harga Mata Wang Tinggi",WQe="Sertai",qQe="Kami",zQe="Membentuk Semula Kepercayaan Industri, Algoritma Menggantikan Manusia",GQe="BCL Memecahkan Dilema 'DeFi Tradisional', Membiarkan",KQe="Peraturan Boleh Diprogramkan",VQe=", Kepercayaan Boleh Diukur.",JQe="Bergantung pada sistem protokol kewangan yang dibangunkan secara bebas, ia mencapai automasi penuh, memulakan paradigma baru kewangan di rantaian.",YQe="Sertai Sekarang",XQe="Purchase Node",QQe="Node Rights",ZQe="Please enter inviter",eZe="Inviter invalid",tZe="Bind success",rZe="Bind failed",nZe="Approve",iZe="Total Network Nodes",sZe="Total Network NFTs",oZe="My Nodes",aZe="My NFTs",cZe="Direct Referral Nodes",lZe="Hak Perintis",uZe="1. Airdrop Token BCL",fZe=" Airdrop token bernilai 10 USDT dalam masa 24 jam selepas pelancaran",dZe="2. Airdrop Token Syarat LP",hZe=` LP = 10 juta USDT, airdrop token bernilai 30 USDT
 LP = 30 juta USDT, airdrop token bernilai 50 USDT
 LP = 50 juta USDT, airdrop token bernilai 100 USDT`,pZe="3. Airdrop Token Komuniti Launchpad",gZe=" 10% daripada semua token komuniti di-airdrop kepada Perintis",mZe="Hak NFT Tower Master",yZe="1. Airdrop Token BCL",_Ze=" Airdrop token bernilai 20 USDT dalam masa 24 jam selepas pelancaran",bZe="2. Airdrop Token Syarat LP",wZe=` LP = 10 juta USDT, airdrop token bernilai 60 USDT
 LP = 30 juta USDT, airdrop token bernilai 100 USDT
 LP = 50 juta USDT, airdrop token bernilai 200 USDT`,vZe="3. Airdrop Token Komuniti Launchpad",EZe=" 20% daripada semua token komuniti di-airdrop kepada NFT Tuan Menara",AZe="4. Dividen Slippage Perdagangan",xZe=" 1% daripada jumlah dagangan (termasuk pengurusan kekayaan dan dagangan sekunder)",CZe="5. Dividen Cukai Keuntungan Pegangan",NZe=" 10% daripada cukai keuntungan pegangan",SZe="Sila masukkan jumlah pembelian",TZe="Maksimum 5 nod setiap alamat",IZe="Baki USDT tidak mencukupi",RZe="Nod Perintis: 200 USDT;",PZe="NFT Tuan Menara: Rujukan langsung 5 Nod Perintis;",OZe="Setiap alamat boleh membeli maksimum 5 Nod Perintis",DZe="Nod Perintis Rumah Api",kZe="Selepas mengikat dan membeli nod, jemput orang lain. Anda hanya akan menerima ganjaran selepas orang bawahan anda membeli nod.",MZe="Pautan Promosi",UZe="Kewangan Pembuat Pasaran",LZe="Nod Perintis: 200 USDT; NFT Tuan Menara: Rujukan langsung 5 Nod Perintis, maksimum 5 Nod Perintis setiap alamat",$Ze="Rujukan Saya",FZe="Alamat Pengguna",BZe="Bilangan Nod",HZe={_Connect_wallet:yXe,_Please_enter_a_referee:_Xe,_Success:bXe,_Fail:wXe,_Invite_link:vXe,_Copy_link:EXe,_Join_record:AXe,_Join_amount:xXe,_Time:CXe,_Enter_friend_address_to_bind:NXe,_Enter_invite_address:SXe,_Bind:TXe,_Home:IXe,_Node:RXe,_FOMO_Pool:PXe,_Not_yet_open:OXe,_Recharge_address:DXe,_NFT_Presale:kXe,_NFT_Staking:MXe,_NFT_Rights:UXe,_NFT_Records:LXe,_Right_1_Node_as_Shareholder:$Xe,_Right_1_Desc:FXe,_Right_2_HR_Token_Airdrop:BXe,_Right_2_Desc:HXe,_Right_3_Referral_Reward:jXe,_Right_3_Desc:WXe,_No_records:qXe,_In_progress:zXe,_NFT_Quantity:GXe,_Buy_Now:KXe,_Copy_successful:VXe,_Copy_failed:JXe,_Invite:YXe,_My_wallet_address:XXe,_BCL_Lighthouse_Protocol:QXe,_Fair_Transparent_Sustainable_DeFi_Paradigm:ZXe,_Node_Subscription:eQe,_Welcome_To:tQe,_Welcome_Desc_1:rQe,_Welcome_Desc_2:nQe,_Core:iQe,_Philosophy:sQe,_Five_Core_Values:oQe,_Fairness:aQe,_Fairness_Desc:cQe,_Transparency:lQe,_Transparency_Desc:uQe,_Fair_Distribution:fQe,_Fair_Distribution_Desc:dQe,_Self_Balancing:hQe,_Self_Balancing_Desc:pQe,_Sustainability:gQe,_Sustainability_Desc:mQe,_Decentralized:yQe,_Architecture:_Qe,_Sustainable_Self_Driven_Model:bQe,_Core_Architecture_Features:wQe,_No_Centralized_Server:vQe,_All_Operations_Public:EQe,_All_Data_On_Chain:AQe,_Automatic_Profit_Distribution:xQe,_Sustainable_Revenue_Cycle:CQe,_BCL_Token_Distribution:NQe,_Total_Token_Supply:SQe,_LP_Pool_Locked:TQe,_Interaction_Contract:IQe,_Airdrop_Contract:RQe,_NFT_Rewards:PQe,_Why_Choose:OQe,_Stable_Revenue:DQe,_Stable_Revenue_Desc:kQe,_Principal_Protection:MQe,_Principal_Protection_Desc:UQe,_Ecosystem_Internal_Circulation:LQe,_Ecosystem_Internal_Circulation_Desc:$Qe,_Anti_Dilution_Mechanism:FQe,_Anti_Dilution_Mechanism_Desc:BQe,_Unlimited_Development:HQe,_Unlimited_Development_Desc:jQe,_Join:WQe,_Us:qQe,_Reshaping_Industry_Trust:zQe,_BCL_Breaks_Dilemma:GQe,_Rules_Programmable:KQe,_Trust_Quantifiable:VQe,_Join_Us_Desc:JQe,_Join_Now:YQe,_Purchase_Node:XQe,_Node_Rights:QQe,_Please_enter_inviter:ZQe,_Inviter_invalid:eZe,_Bind_success:tZe,_Bind_failed:rZe,_Approve:nZe,_Total_Network_Nodes:iZe,_Total_Network_NFTs:sZe,_My_Nodes:oZe,_My_NFTs:aZe,_Direct_Referral_Nodes:cZe,_Pioneer_Rights:lZe,_Pioneer_Right_1_Title:uZe,_Pioneer_Right_1_Desc:fZe,_Pioneer_Right_2_Title:dZe,_Pioneer_Right_2_Desc:hZe,_Pioneer_Right_3_Title:pZe,_Pioneer_Right_3_Desc:gZe,_Tower_Master_Rights:mZe,_Tower_Right_1_Title:yZe,_Tower_Right_1_Desc:_Ze,_Tower_Right_2_Title:bZe,_Tower_Right_2_Desc:wZe,_Tower_Right_3_Title:vZe,_Tower_Right_3_Desc:EZe,_Tower_Right_4_Title:AZe,_Tower_Right_4_Desc:xZe,_Tower_Right_5_Title:CZe,_Tower_Right_5_Desc:NZe,_Please_enter_purchase_amount:SZe,_Max_5_nodes_per_address:TZe,_Insufficient_USDT_balance:IZe,_Pioneer_Node_Price:RZe,_Tower_Master_NFT_Condition:PZe,_Max_purchase_5_Pioneer_Nodes:OZe,_Lighthouse_Pioneer_Node:DZe,_Bind_Tips:kZe,_Promotion_Link:MZe,_Market_Maker_Finance:UZe,_Node_Info_Desc:LZe,_My_Referrals:$Ze,_User_Address:FZe,_Node_Count:BZe};var KT,cB;function jZe(){if(cB)return KT;cB=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,h)=>{if(u&&typeof u=="object"||typeof u=="function")for(let g of r(u))!n.call(l,g)&&g!==f&&t(l,g,{get:()=>u[g],enumerable:!(h=e(u,g))||h.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),KT=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>` ${l} `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return KT}var WZe=jZe();const qZe=Ws(WZe);var VT,lB;function zZe(){if(lB)return VT;lB=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,h)=>{if(u&&typeof u=="object"||typeof u=="function")for(let g of r(u))!n.call(l,g)&&g!==f&&t(l,g,{get:()=>u[g],enumerable:!(h=e(u,g))||h.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),VT=o(a);var c={name:"Name",tel:"Phone",save:"Save",clear:"Clear",cancel:"Cancel",confirm:"Confirm",delete:"Delete",loading:"Loading...",noCoupon:"No coupons",nameEmpty:"Please fill in the name",addContact:"Add contact",telInvalid:"Malformed phone number",vanCalendar:{end:"End",start:"Start",title:"Calendar",weekdays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choose no more than ${l} days`},vanCascader:{select:"Select"},vanPagination:{prev:"Previous",next:"Next"},vanPullRefresh:{pulling:"Pull to refresh...",loosing:"Loose to refresh..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Unlimited",discount:l=>`${l*10}% off`,condition:l=>`At least ${l}`},vanCouponCell:{title:"Coupon",count:l=>`You have ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Close",enable:"Available",disabled:"Unavailable",placeholder:"Coupon code"},vanAddressEdit:{area:"Area",areaEmpty:"Please select a receiving area",addressEmpty:"Address can not be empty",addressDetail:"Address",defaultAddress:"Set as the default address"},vanAddressList:{add:"Add new address"}};return VT}var GZe=zZe();const KZe=Ws(GZe);var JT,uB;function VZe(){if(uB)return JT;uB=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,h)=>{if(u&&typeof u=="object"||typeof u=="function")for(let g of r(u))!n.call(l,g)&&g!==f&&t(l,g,{get:()=>u[g],enumerable:!(h=e(u,g))||h.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),JT=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:" ...",noCoupon:" ",nameEmpty:" ",addContact:"  ",telInvalid:" ",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`${l}   `},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:" ...",loosing:" ..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:" ",discount:l=>`${l*10}% `,condition:l=>` ${l}`},vanCouponCell:{title:"",count:l=>`${l}   `},vanCouponList:{exchange:"",close:"",enable:" ",disabled:"",placeholder:" "},vanAddressEdit:{area:"",areaEmpty:" ",addressEmpty:"   ",addressDetail:"",defaultAddress:"  "},vanAddressList:{add:"  "}};return JT}var JZe=VZe();const YZe=Ws(JZe);var YT,fB;function XZe(){if(fB)return YT;fB=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,h)=>{if(u&&typeof u=="object"||typeof u=="function")for(let g of r(u))!n.call(l,g)&&g!==f&&t(l,g,{get:()=>u[g],enumerable:!(h=e(u,g))||h.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),YT=o(a);var c={name:"Nom",tel:"Telephone",save:"Sauvegarder",clear:"Clair",cancel:"Annuler",confirm:"Confirmer",delete:"Suprimer",loading:"Chargement...",noCoupon:"Pas de coupons",nameEmpty:"Veuillez remplir le nom",addContact:"Ajouter contact",telInvalid:"Numro de tlphone incorrect",vanCalendar:{end:"Fin",start:"Dbut",title:"Calendrier",weekdays:["Dim","Lun","Mar","Mer","Jeu","Ven","Sam"],monthTitle:(l,u)=>`${l}/${u}`,rangePrompt:l=>`Choisir pas plus de ${l} jours`},vanCascader:{select:"Slectionner"},vanPagination:{prev:"Prcdent",next:"Suivant"},vanPullRefresh:{pulling:"Tirer pour actualiser ...",loosing:"Relchez pour actualiser..."},vanSubmitBar:{label:"Total:"},vanCoupon:{unlimited:"Illimit",discount:l=>`${l*10}% de rduction`,condition:l=>`Au moins ${l}`},vanCouponCell:{title:"Coupon",count:l=>`Vous avez ${l} coupons`},vanCouponList:{exchange:"Exchange",close:"Fermer",enable:"Disponible",disabled:"Indisponible",placeholder:"Code coupon"},vanAddressEdit:{area:"Zone",areaEmpty:"Veuillez slectionner une zone de rception",addressEmpty:"L'adresse ne peut pas tre vide",addressDetail:"Adresse",defaultAddress:"Dfinir comme adresse par dfaut"},vanAddressList:{add:"Ajouter une nouvelle adresse"}};return YT}var QZe=XZe();const ZZe=Ws(QZe);var XT,dB;function eet(){if(dB)return XT;dB=1;var t=Object.defineProperty,e=Object.getOwnPropertyDescriptor,r=Object.getOwnPropertyNames,n=Object.prototype.hasOwnProperty,i=(l,u)=>{for(var f in u)t(l,f,{get:u[f],enumerable:!0})},s=(l,u,f,h)=>{if(u&&typeof u=="object"||typeof u=="function")for(let g of r(u))!n.call(l,g)&&g!==f&&t(l,g,{get:()=>u[g],enumerable:!(h=e(u,g))||h.enumerable});return l},o=l=>s(t({},"__esModule",{value:!0}),l),a={};i(a,{default:()=>c}),XT=o(a);var c={name:"",tel:"",save:"",clear:"",cancel:"",confirm:"",delete:"",loading:"...",noCoupon:"",nameEmpty:"",addContact:"",telInvalid:"",vanCalendar:{end:"",start:"",title:"",weekdays:["","","","","","",""],monthTitle:(l,u)=>`${l}${u}`,rangePrompt:l=>`${l}`},vanCascader:{select:""},vanPagination:{prev:"",next:""},vanPullRefresh:{pulling:"...",loosing:"..."},vanSubmitBar:{label:":"},vanCoupon:{unlimited:"",discount:l=>`${10-l}`,condition:l=>`${l}`},vanCouponCell:{title:"",count:l=>`${l}`},vanCouponList:{exchange:"",close:"",enable:"",disabled:"",placeholder:""},vanAddressEdit:{area:"",areaEmpty:"",addressEmpty:"",addressDetail:"",defaultAddress:""},vanAddressList:{add:""}};return XT}var tet=eet();const ret=Ws(tet);function net(t){switch(t){case"cn":Ng.use("zh-CN",qZe);break;case"en":Ng.use("en-US",KZe);break;case"ko":Ng.use("ko-KR",YZe);break;case"fr":Ng.use("Fr-FR",ZZe);break;case"ja":Ng.use("Ja-JP",ret);break}}function iet(t){net(t)}const XR=F9e({legacy:!1,locale:"en",fallbackLocale:"en",globalInjection:!0,messages:{cn:{...B$e},en:{...xHe},ko:{...JWe},ja:{...wGe},th:{...zVe},vi:{...mXe},ms:{...HZe}}}),sY=t=>{console.log(XR,"i18n"),iet(t),XR.global.locale.value=t},set="0x98E71e8b451752D76fb8244ac7c9D5B364163271",Vy="0x7C2AC11CC2Af76Dd498f9bDDeB7d667FD832CC9C",hB="0xEBa051bDF74F6bba0EF4C8a1a0F7F7dDc7115EBd",pB="0x564FF017Cb60977FFfb3Ccc4750EFF47E5E37fD6",QR="https://evm.confluxrpc.com",oY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAAC5tJREFUaN7dWltsFNcZHmM75u777uzOrO312msg9JK0eUjA2CRVMAotTQJR2qYlbVAhMWmgN1VNaPtUqVIfKJVSUqkifaoSmqaVShNQ1dKHqhVpuSSRAhFQEA0XszOzF19Z7/79vjMz9vqyawOGh1r6teuZc/n+//yX75yzmnYLf+s1rWpNnRZZ06jd061rT68NanvX6trb+P4BPhOQfk8S3rO32YZt2Yd9OYZ2p/8eDmqL1gS1aHdQ2wowf8LnOcgVPEt3BrXrq3VNKKs88f/nO7ZhW9XH7buVY3HM2w6c1npI11Z0h7SXMPF7XbpmYfJRguvWy+ThULk8EqqQjaFKeVSvlMc94Xc+4zu2YVv2YV+OwbGwOrs59u1akfJVDVoYwLfBBU5i0nQnAHQBSI9eIZtDd8kuo072REx5PdIiRyDHzRb5wHCF349EourdHsOUnaE62azfJT1QiGO4Y2lpjs05OBfnnDOrY9AeWOiPa2lxD/gGTN4brpb9kYgcM6Ny3ozJJbNd+sy42JAUJO1JKoJnRlz6Ah3yUW2HnK9vk2NGVPY3mdJrVMsG3VWEY3MOzsU5b3k16JcqOHXtNJY5S0utgwsQ+BuRJjkD0FcB2gXLz3ZJQhyI7YsBCeNZNCapFrRpapf+j7dKGtLX3CZngjF5w2xWivRgbM7BudScmPumYwPLuAQD9GKgC130V8imcJXsMww5HY6JBVBpD7BdStDOboyLczcUWN8kmWd1GfhxvWS+EpZUO57VdWCsuJyGMV6JGHDHKnFXWa3GBWDYQSw3Y/kdkItdXoB+PbxEDkWa5XIIwANxSQbirnVnUgBtrAZ8ol9mW0iyJ6pk9L/lMvzaUkl/zoSCbZIMYky0u4z2nINzcU53bu0iscx6JZTP69oW3/Jr9XnyQrhGjsJn7RD8ORYT596oOB9rVaCUzKBAoi4uFtxl4AeNkrPmSf56mYz8daGknw6LjfHsoLtSKdUnLu8gpnZhTs5dsBJbZhMT87obtR744IfomOcAOzHQCbNVUkFYvREu0wU3+HZAMpwcz6zGDrEjpV3IaoALwee5AsO/WSrZf8+XgZ/WS3JNs9jNaKN7hoCyyYgbU5xz57gSeWIiNmIs5fdhaHuQHeiHXMqjSH/MIg5AWPUI1mdCMvLnhTL4cq0CaNV5CkSKr4BttIkDf7fbYpK8r0UyO4KS/EyTWLR8MO62w+pacEs+c6BQClnrKFaCGLyYyBObl2KLpsvtTGPMBJsQTIeQvx1Yw6Ef1wAoVmAQAZhLzJPhQ4vEXtEqVi0mDcULwBbIBGXaxA5gnACUWQb3a20TS4+7GaoF79ralAKJagS1txIODHcIGYqB3em6UoJ1YlpXWhPSlrOQoGFuXbBCfhEw5RIs7tB/l3RIomqZsuDw60skn9XkOtwgta5JEovxbsEyVxG2RZ636yF6fOpKhF13sZCVxmIHK2sjPtJPhSXzjI7AjqjVoYJJjHEZBtyH7LQOtYLYgPEEsU4A/6mwthA+9mIXeAoLSm9TtZxubVVBxXRJUJw0tTEi2X/NF8lrMnq+Qga+3ygWrJeAghYA0XJ2EywMRe1o2zjwyYr4wa+7SiUfapLhA4sle6xKxUhmS0i5JA2SNtwU+xxqD7F1uVzqRWIeU+DBgBYjH+kMaPkNRoW8uTYkme0hGXxeV4GXRs7ObNNl6FfVkrtcLiKa5DPIJH9ZKJlvBiX95bBq19+rS//z+P/JsDj3RMcAThsbVBgu48AN+78RlOzJKpFRTbLvVmElQmLB5ahAku4LZX6L9Eou1ekG9HvErMDfr2kLugPaNqQpuytA6y+VC0/pMnpwseQuVkjuarnkLlW4kpyn3IcKSA5KDJRJ7gref1ThfqItM0w/VsZG1rEbOoorEPaExewxU9WF7Pt3ychbiyTzQlCclVEVM1SUBZNVv9dbBWIlZmLXuus0Ew/eAtXN9cD3XzXg1ytjMvg1ZJvfw99TAD3qgS4mVGawTMXFwO5Gce5vUa7HzDJjseMqxdokszUkA98NSHqTIQ4ylaoPXtwkFcdql1fBu0gAiZWYiV17sEG7F/+cI719AqzyuA6LMOMggJOrmmXgJ/UAViW5oenB5wF+9D+VMvTrpZJ63IDvYumXujEzY5WmMHUi6Ek1nBWu1a0aNzsVpmbWhuNIq8To0nftHLFrJEzIsVdZuncatXLBiEk67OZ8Zh5asv87AcmeqVTBO0UBuNHQL2tQnVvk2nwAXxp3rWregBiuInZ9+5jbTG5DN7oANyJGj2ZcJXYNuXUvd0ncaJDPXzL9ku5W0GsVyyX1WVOyR+erIJugABTKO/Ok/1sBSQC4tbiEz5uzcKVAcWpCTMRGjMRKzMSuIaIPc6vHCD+ASL/GwjWmAHJ8dVwyvUEVxAowgjjfXyb5oTJ3BfB98Gd1Ysdjql4oAJEbAE6FWX1Rrel+JHd2YZ3whJiI7YCfjYCZ2LkCp+BT+Y3Y9v0NlZdkyol4HAa+bC9vlcFXalSQqkA9skAG99TK0GtLFDETFrW/L5DUo6YkFnao1DhrBSJ+DLQripH+vCnJB5rd+PFjwBhXgNiIkVhXu9TiFBVIMCgew0Nu/RgsqoiwrMOi6ScNuf7P+SpFDv9uiaQ2hZWlkg+0wPK1kv2wUkb7yhXHtzy+NGu/p5VR8FjI2H/kD4tlcG+tpB6JgG7ExtsYhYHcorCu9qgFFcjw5ICbb+5f02bcc592Raz6dzdI9h8LZGhfrTirWiRRw+CGpRd1KGrRD2aafQcVFFnIWdmqlJiRYvsslRsd9OEYo9gn5IfL3Ar/owZxPunVAX1cAWIjRmJd5SqQmaqAER/zS7sDFHg7q6uu6DCtqzYn5DN+ugN1UJV4V1DRY1KKMYZZyvr+HGhPTnUdVZ3VPYuUnf6CAVrS5hrDKMxE0ysw1YXC3iTcvNASqJYJkjU/t0fGMwdZKsu+DUuSFowF5rS0ugC47imKYpe8LyqDLzUo9xn4XqNSyPL2ERMz0fQuNDWICzopv64r4hZekKmV8dtEircj81SJocGl1w4V5ycUT34a1P1uGABCHsUd3BhNLxXEpdLomMWM9tm5hFHiHVeTLDUOltvZBLoQVTTaz/3KCKzgpOPB+JRNUqk0WrSQzYl4wUrLpkE1GKDD+6ul/7kgYiw2vnIhT9HQ9C5YvJBNphIo1+m5VEC5GDb28HtuJUfPVkoO1XvkIFjnF0Hcmr2YmGGVfSrBE8AJVGIKmQNhSpnxOV0BdSoR5alEg+RQM/IghiPYkma+BAXAREvuGwoC+IRH5jonkLlCOg3fImXtm82B1Wwl5OX7T0TVxmjw57Uycnih2s2pTQ+pQ7i0AiXp9IQNDbeT2DScnUs3MryMQ37PrIOUnH4COzZQdcsncLNwn7NqQ1MzdUMzYUuJ1MRD2zcR6dZcroLpHq2o4oeTDYfZh2LM7DrEQCzEtAFH9FO2lAVHiT/Eiww13IFVOH0bgnkMcCA+a9ZKDKcLt5PASKyTjxrL8GIlXryrjlVwhLEP6eryXKdUs9S50fSp8wqEWPxjFWIkVmKecrCF1PSsf7C1OTRfHbQ6kyrznRJHSVwOR5oVFu9gy+LhW9Ez0mmPFr206txh8Jzzho4W/cPdrkZtfeHhLk+JT/JwFwMm7wD4pAeec+6adLhLbCUPd4sdr3MgHnm7V0e3D3zKc5tbOV4vesGxzb/gMGd5M3ODVueY/gXH9lu54Jh0xbSj8IqJp8S8BmJas+ZAER+45aVK/4qp61avmEpd8vVMuuTrm3TJ50y+5JuQVdw2aa9Pn3dkyLE4pn/J1+Vd8kGJr97yBfiNXrO6+wn3ejXjSdp7xndsw7bsw74cY0PoNl2z3sxF9wFcZnPXdAJyynCF3/mM79iGbdmnR78DF93T/dSAPwso+VMDfZqfGujFf2oA4O/f7p8a/H/82GO2P7fhZtvzZf/nNpb3bM5/bvM/fCeUsYReO9UAAAAASUVORK5CYII=",aY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAAAXNSR0IArs4c6QAADpVJREFUaN7NWglYlNUa/kFkX2RYZgZQ1thGRGVfZoBhSRQUNFYRFBRQEPdwybXUXBFUtF3CpbRc0XDJFn2svFlq3TLtWpZdhVDLUnOB937fYTBb7CpqxsP7zD9n/v877znn+97znXN+SbqHv0RJMtLIpM4aO6lHtEIaHCOXqmIUUj1df06fTYSfdWjSldXzPXwvP8PPsg3p7/5LkEtmGrnkGi2XhhKZHfR5koidJVwkXNPKJTBidaAyRLXiWnTrPWf5Gd2zQ9kW23zgxLm3YhWSb7RSeoIq/oR69FyMvXQj2k4CfUe0Qh8aZUdEKo0RpjBBqMIU4Q5m0DiYIkFhiDiFAaKU+lArJAF65gbb0NmayrYf1Ih0iLCVHIh4EfXeEarsolbXsxoiFelkgUBnOXzdPOHmGQwHn1jY+PaFtd8AdCL4+fTBVKcATHD0RI5TZ/R1tEYiNVKr7CAaEsWNUYiROcJ1cF1c533rdTLai0jXiR7XEY9UdESgkw2iI2IweMRUeMYUwdQvGyZ+g2AbVozEokVILqmAdXgpfHxzUGsXgy2yCLxiE461NqFYZtsDxXZd0MfGFFobPUTaUkPsyTbXQXVxnfc8GuyXIjgV0hdE+rqWe0ppQMRlULoEwMovHdljK7Fz/1H0HDAVet6DoOeVAwdNKZ5/bS9WrNsDZfRIeHln41WnXtijjMMbynjUKxOw3SEem5Ra1DqoMdGlG1Ld5DQKNCI2VIe9dD1GKX3Bdbc7NmgYLchACZE/1dbr4Y6m8PHshs6h2fBLfhxKTRncEsYhfsgcKCJHoEtMGXx6T6ARKEJk9gyEpE+DWc8CBMSNxkdL1uL0M6/hZPX6m/i6egNOVb+GE1R+oOI5TM7oj95edoi0uTkap4hDKXNpT8+XkoFvCdAq9KjXrWHjEo6OXhkIH/gk1tcfRGrJYhiqcqDnlg5ZSCEmzF+Llza+BY+E0dD3yIS+10B07JqL8MwZ+PbbBjRfuYobV375A1ouX0Xzz1fQdOYMNq1dhYxwX3Ip/bZGfMtc7ngkhM8rpDzR8wo2oCcC1F7VB1YBBTDvMRTu8WMxedE69EydBLMeQ9CJyq2DhyFlxCKMml0DeXgxLLoNhlXQMBj55SE8ayZON1wAWlrov0V83g5Xr13FwX1vIy8uCGq5gVA33Ujk3UlM6JMk9qKHjpPLtLDb+DvawcIjEV1ix2DCwnXIHFslyFpQz5r3yEdc/lzMXLYRXZPLKYDzYO6XCyW504iZL6F01kuwDx+OwD4TcKxuPy688yEa3vzgL9FE93z/9ofYW7kS6SoXRLZKdAtzYm7M8a/83oFau53QwjIZTMEq806EAQWnc3QZaja9g5JZL6JT4FBykSyYUC/3L63A+h3viZjQ98pGh0cyoYgYgYpV2zHv2S2wV5fAm9xsg08q9nr3Rb13v/+LXb6phP6ocgxCksKCpFrIbAtz00nsbeWymGWMyYcpTeDWLQ7qnFmIHvQU7Cgw3eNHi2B11o5C76L58E4cD3uSTDcKUtvQYgQ89gQeHTpXNMBVWyaC2iRgKHy9s/CyRTjqjIOwyTTkDhCMLWah2GgVgRkyL8TZGEDT6kpNPE/8qStplJIPTyREvlkt74DONOk4RRbi2fV7Ub12JxyoJyXXdEjU82EUlPX7j1AQL4KBTw4klzRyq0JMWbIeG3a+D9e4UZAosCUKYkP/IfDzz8XrqgF42ycFu2gk7hRv+vTHFlVflPr40QgYcCrSTBwPM9ffkA9wkEzJx6bo8hSoPZR4RJ0HWdhw9Br6NLSDZ4sedooaSSNQAkfS+bSyCnjEc88X3RyBUJLN5OIFsCFF4jhwiaURoCAPSSrHiR0H8OP+w+Tfh9B0F7hAHfXxa9uQEeRFyqTH8XCRuTLnmw3Q2kvunI/QBNIS7WiM/LwCVNbUkRyOg4FnFvl1FpEdSyOxWwRmp8BhMPDIoBjIQ9qoStRufheBAyajA8WAAcmng7oUc57ZgjkrN0GpHoGQjGk43Ugq1M6/S5cu4fnKp5Hgagm1rQjoT5izIB8mSSZEvIj86zzrboSbAoNGzsb0Za9DGTEcpr6DYEaK40h+PWfFRqSPWiKC2IwUx6x7PmLzZmPhC9soPkbBRJUr7rWjUZkwfw1GP7kKMlKs4LSpunmAdP9yO0DPffX5Z8iMUCGidaY+z5yZuxQtk5wowt9g34+iTFKlCoJNYD6sA4aRuwxHbvkKDJm4UlzLAgtgQdKp6luO0XNXk77PgGXPfMhotmVX6ksxUTLzRXQhxbKmuaETBbARxUAAudq/Ftfi1IpXcWLZursGz9qfVNRgYkICJYAdeYJrZs7MXdLaSj3py0lWHrWTOZx6DoCBby703DOFH1ev3YWKmu3CFST3DMp1shFEPbpt74fk7/PRkRI1LpeFFOFxmifWbN1HKlUmnu9AAW5Eo6TqmoO1lPvUy2OwtR3YptCiTq5FtX0gEuVGrak4cybuEidMlKQ1cPAGdLGHTc8c+CRPooCcTtJZTLnNeHg+OhZ2NLsGPjYVqqTH6Xo4uvebKCTVlQKYpVZJwe2qHS1+5yD27zeZGjoNlnTt452JWssIbDcJxiazkLsHSes20zCssQxEstxSNIBcvoG5S3RRRb1/MYoWI25ObrALzkf54g1YvW0/XGN1ckhgpVlTdwDj562GFQUxS6dR1zxkjVuKbW8dQkD/KSSxmUJqebSWrdmJytp6KKNK4dtjMLbHFeOD+GLsaycOxI/Azth85KtUlBF3EGrE3CW62EWrqmvRDkbw9YuETVABYvLmYOD4peTXhfS9UAQl+3heeTXU2TMpMIso3xkuUgr/fpNQMGklnDQlsKbcR07Sy4ndYySzfYsXwYJiIZgad/KTL3HldAMunzqDy9/cPa6QCDR9cRJLp01Egos5NLZiebqLR+AYfWlJ8rLFpMkzKSUohyHFgBFNQiyHU6s24AmaoBxpIjP2Hih8Poj0fjlJamLhPMp/cmFMUssxUDT9RSx4oQ7uNFpG7P9kh7PRiIGz8F3Tj7jXvxuU7O3esRnJ3nZQy0RqcYwb0KQhaUpRKTFnQTXcSfsNSTqZrD315qzlr2NKxSuUlBWLRhmpBkFFec/z6/dQijELxuRGxkSWR6Nw2nNYQjmQEzXWkO7lXMmQfg+jBn99/BtcO/8Drp67B5z/ER+/8xZSVQ6IlLWmFtyAn8TsS+ta55AcyMJLEF/wNHImVMOR/JezSXYhR5qFs8ctRwJlnzb0necIGaUPwWnTMWzqc3ik11gqL4ScyjkXSildjLTRlbAhIfAPL8Lewlk4Wjobh0qeajcOl87FG7lj0M+lk8hSmbtoQKxI3sxg4pEMq+BilFOuv4aC2JmWgyIwSRKdY0biVUoHxs2tgSXpO5dx76aPrkIdBbE/qZJEMzZLqoIavXzNLiyp2QE5qZO7expWyzTYYRmGzVbh7cZWq0issg5Ekk5K2xrQxHNABG19dPLqQ8oymHx4DHqkTBKzrQG5EsOcrgMHTBFZpiHNuJzEGZCrKYlsEJVb0mRm4J0j7jWluOhGscTLS2M/sueejlprNXaYh2IzZaXtxRaS4mpZd/SWG4oUu82FjnEOFNPZHL1SC2jYqzCgrAqplOenj6lCxtiltIhZigy6TqGy/iMr6ZrKxiwVn4+VVSKFdh94JDJvllfROmEJ2ViCNPpeRunH/oKZODxkGg7lT28XPiIcpOdXPpqGRCdTaOx1QcxSxJIU72yGhTOn4NTpM2g49yPONv2ARvpsPH+xFbqyBlKTxnMXb5bf/t5W8PU5wi9NF3D1HnH+m++wdMZkJBDXW2W0KsqOUlTaLikfmoUfLpzHP/XvPHGbMCxLbO0w59aJrHVTtoG3MrIi/fD1x0dw+b/f49J3jf8oMCfmlqX2E9suzFmkEm3JnJpS6T5dLLA6Phv7kssII/HuPwT7BMoEN+bIXH9N5nTpNC/XtLSUHG7vjPWWIdhqGtq+xOsBgLkwJ+bGHJnrzXT61gUNa2uywhIv24Ziuy2lsbZR2PqQwRyYC3Nibjr9/3VBc+uSkqUpnpaU85L647N5L+I/i2pxYkHNQwVzYC7Mibkxx98sKW/ZSpxOgfFTJO0UZ9HS7fiRw7hx6Qpu/Hz54YI4HD98WCwnmRtzZK6/32rUo1Z1pR+O0tFPc0xnYzw1fgSaGhseunQ2NTYKLjFO1Pt2wvePMlfm/IeNLTpoGM4bW7TyRx/aJV63eCHOHPgY5w5+iu/fP/q3gus8e+Aw1lUsElyYkzjNoc232+6Rtm0t8l6kmvKjFA97rPSPx+7u6djtn45d/ml/C7gurpPrTvGQg7kwp7/cWmzb3KUZLpFaeZwf4FOTfrbmWE4J1FYrNbaYh93h1mD7wXVwXVwn180cmIuWODG3v9zc/f32erTuMC5VYY0q+57Y7tobe7xSUO+eROhzn5GE3WSb6+C6uE7d7sNdba//4YCDDfDiIcXdHi+UjcMX6+rQtOcgGne9h7Nv7MeZHfcGtsG22Cbb5jpS3OWt2+qKdhxw/O6IqVS0XpxG6iNJpcCTY4px4vNPcenyJbQ0N98XsC22yba5Dq7rloONuz9i+rNDPj54E0rgZCISqheq5uPUyRO40Pg9rtPxEH65LtDyyzU063DjaivavvNvbfddJ33nZ9kG22KbbJvrEId8VCep4pB7PgD//TEr5eEiG+SN1owQL0zLzcLuJStw9OWN+PfLm3GsZgu+XLUVX63ahq9rWsHXXMa/8T18Lz8zLTebbHgLW2xTY3ufj1lvd9DNm0rcUxEyPgA0QJKrNfp7OmKwpyfGe/hjvkswnnWOQG1ntQBfcxn/xvfwvfwMP8s21K1K82AOuv/sVQN+LaDtVQOSthuRulHh7Rktj45MD4kyffSWdRDgay7T6u7he8XBtl3rqwZE/NMH/arBHb3swb3IL3Twglujk2C17prx0F/2uNPXbXixrfPlttdtzunK7vvrNv8DSEy2NzQMliMAAAAASUVORK5CYII=",cY=""+new URL("ko-Q7QH6wVl.png",import.meta.url).href,lY=""+new URL("ja-Bw8IrgMJ.png",import.meta.url).href,uY=""+new URL("th-DAnIEQVb.png",import.meta.url).href,oet=""+new URL("vi-DAch6Bq7.png",import.meta.url).href,aet=""+new URL("ms-DckY7z-C.png",import.meta.url).href,fY="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACoAAAAqCAYAAADFw8lbAAAAAXNSR0IArs4c6QAAAARzQklUCAgICHwIZIgAAAVgSURBVFiF3VlLUhtJEH1Z3SLUwyzERh6t3ArAEd7BCWhOYHMDOIHtE4BOAHMCNCewfQKaE8DOERaEyivZ2qgXM9MEUlXOoj+q/ujTktjMW0nV9XmdWZX1MpuwBnqD0IOAJ0i8JrDLDBeERvSUJIEDJgrA7CuI2zfNrftV16JVyAmb3kHjPQhuxeESIF8o3Wm3HFll4NJE+4PQ1ZY4B/i0IrlZS3erEF6KaO9XeCGIPgCJW3NgSCJIBkkQB/HULjE3GHCBeZYXV7vNrU9rEY2sSJ8BHBS5wWfm24lG9+0Cq8TzvCPgPQNeSZd7ofhknnVnEv0+/PvAgv0ZOWsw4LPizn7L8eeRm4XeIPSERdf5eQFIofh4FtlSorEF7pB1daAVn6xKMI+HYXhKoHNkCQcKk+M3zd8L0aFANCZ5k5tg7tuuiiprifzgeE+aA+9FLTzcNEkAaLccKWrhIQDTgsm5yCBD9HH4fInswZGiFh63d3aCTZNM0N7ZCUQtPAYgjeaD3q/wwuyXuj52Qz9D8gXcnaylLLomwN1t1tvG+ua5CITi1JOpRaNgPgWDK98ey+Dx59NHbdEdAR4bVmy3HKkVnxhdGyYnMt4mY83kTTeF/mjU0BPnGoz3cVPGYgkehk83ZMRarfh4v+X4AihaUys+2yTJ3iD09NjpGyQBjVKPseKO+V/Y9A5IXc9e8oAAf1Oxsj8aNR6Hz5ciCkFGTKbu7h/1q7Ix+y3HZ2C6vo5ezv4+fD4AtJu0M/BlHWLj8bYLAKRUQ4/p2pw7hhRKdwqDDTDzLRF5AACC2xuEnm1BH5mdhOKvqxCcPNc/6jF9sKAjy1nlt/Myh3Si0d2yMN2OAp4NIg/MSZOsetL7o1FDj507sZQ2pe5es95d1Otty5GPv55koncFideCmNO9Q9mguxT0+LdLzJVxKaSo/btQzqVcaMqFwK5gUEqUiSrdQP3RqJET0pIhThl8htxLM9OnKjccg9LxzHBtgF3jsSyMmIPxeNu1oI3JubPX3PoLAB6Gz0zQ3eSZpunCS4E4QLIjCY2CKFkPFk9/q8xpIqXKs4MlYYMRpJkjU6XJSKmGeboJ+uJhGBJgMUFnLhG7/lQxAyUXU5NKO8p1osNAmW0wH9Fpp+tcs0ugaxjbIV6oW1WBxfkWYl6ByG/aZSfS4+28Op+FSqc95WLMzUSB0Kx/pE8J7rdBuHDxh2F4CuiPC7oFmrkjauFhVWv2Iw5THsy+gDbuVQC2wOmiSeJcJw+pFR8riEMFcShqYXv/lXOxiujWViREEiiIW3u/5fjmLUBER6Wj00nEOQp7WVyJ2j+d3eZmMoE4rU4g3zS37qPwJKZChACvNwi9sgkil2cCfMCsTnabW5WC+Tz0BqGXzf3JjygC0JOsECGr6NrY5ZfJfwZ8UQvbe6+2V1ZbZYhz/un/WGkJINKAAHVToiVW1ba4RKQpA2h82mvWN570RR4zIwl1E5GUT+5mJlePw6c+A9JSfPZSCV8+xxeK2wWiQFoMM90uVwkvlUnGUhEZa2aLZwV1+zh8ukM2t79/ydw+JnmTX3O3WT80+xVEiYhSVmk0Heixc9df4iKoTHIQurEls0WPbNpcTrTdcqTC5ASAaUFXW3QTb/aNoDcIvfhMuEZzMKvoMbPsOKOABUQ30Nk6ZUey6JyKdVKpMDkpq+TNJWqQLS3kEuAz8EUo/rooCnwbhK4tcEpERyUEgXUKuSai4tlcESIJkFEqE2cJTA3jS4k7Y1ygmf/cf+VcLOLw//rYYMIg7GE5PToFQ0Lgi57w16p7vDJRE9+HzwcW9BGIvEiRUyNVVowg+VKiWf+AXq9U9B/s4Mi3xgv7SAAAAABJRU5ErkJggg==",cet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAAXNSR0IArs4c6QAAAHJQTFRFAAAA/wAA/1UA/20A/2AA/1UA/10A/3AA/2QA/2wA/2cA/2oA/2oA/2wA/2wA/2oA/2wA/2wA/2wA/2sA/20A/2wA/2sA/2wA/2wA/2wA/2wA/2wA/2wA/2wA/2sA/2sA/2wA/2wA/2wA/2sA/2wA/2wARdWXlQAAACV0Uk5TAAEGBwgJCxAXKCo6QU5QUnZ7h4iIkLW2usvMzdXh5/Lz+vv+/tpwW+gAAACkSURBVCjPrdLZEsIgDAXQuFG11iWKW61WDf//iwYeJFBgxhnvI4e1vQAKOzNMhwoAVEsmFWpZMW2sewDes9cYR/e8MwDP0TCM5nGHmED8Oy52dRbrh3ktM8hmaJ1GZ5eZxPlhO/Z2rYIzz0SniTSJNx5j9SaxeVpdeQsutLFK3sLbWhUWPcWt/Vr8zub+PlbZbzua/vxX8k0odqjYvmJvi40v5QPRczdo4k5ZiAAAAABJRU5ErkJggg==",uet="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABwAAAAcCAMAAABF0y+mAAAAAXNSR0IArs4c6QAAAG9QTFRFAAAAAAAAKysAJCQAQCAAORwALhcAQCAQNyELQCYTPSQSPiMSPyMQPiQQPSMTPiUTPyURPiUTPiYTPiYTPiUSPyYSPyYSPyUTPyYTPyYTPiUTPiUSPiUSPyYTPiYTPyYTPyYSPyYSPiUTPyYTPyYTv4rvhAAAACR0Uk5TAAEGBwgJCxAXKCo6QU5QUnZ7h4iQtba6y8zN1eHn8vP6+/7+tLulxQAAAKRJREFUKM+t0tkSgjAMBdC4FRVxCXVDFDX9/2807YNdaDPjjPexpytcAIW9GadHBQCqI5MLdayYN9YWgPccNKbRA+8MwHM0jKN53CFmEP+Oq0NdxPphXusCshna5tHZZRHist1PvV2r6Mwz0WkWWog3HmP1FmLztLrxFl1oZ5W8xbe1GljyFLf2a+k7m/v7WBW/7WT+818pN0HskNg+sbdi46V8AJn9NgljCTw8AAAAAElFTkSuQmCC",fet="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%20900%20600'%3e%3crect%20fill='%23DA251D'%20width='900'%20height='600'/%3e%3cpolygon%20fill='%23FFFF00'%20points='450,120%20552.7,436.1%20283.9,240.7%20616.1,240.7%20347.3,436.1'/%3e%3c/svg%3e",det="data:image/svg+xml,%3csvg%20xmlns='http://www.w3.org/2000/svg'%20viewBox='0%200%201400%20700'%3e%3crect%20fill='%23FFFFFF'%20width='1400'%20height='700'/%3e%3crect%20fill='%23CC0001'%20y='0'%20width='1400'%20height='50'/%3e%3crect%20fill='%23CC0001'%20y='100'%20width='1400'%20height='50'/%3e%3crect%20fill='%23CC0001'%20y='200'%20width='1400'%20height='50'/%3e%3crect%20fill='%23CC0001'%20y='300'%20width='1400'%20height='50'/%3e%3crect%20fill='%23CC0001'%20y='400'%20width='1400'%20height='50'/%3e%3crect%20fill='%23CC0001'%20y='500'%20width='1400'%20height='50'/%3e%3crect%20fill='%23CC0001'%20y='600'%20width='1400'%20height='50'/%3e%3crect%20fill='%23010066'%20width='700'%20height='400'/%3e%3cpath%20fill='%23FFCC00'%20d='M380.6,200c0,64.3-52.1,116.4-116.4,116.4c-35.8,0-67.9-16.1-89.4-41.5c15.8,16.8,38.2,27.4,63.1,27.4%20c48.8,0,88.4-39.6,88.4-88.4s-39.6-88.4-88.4-88.4c-24.9,0-47.3,10.6-63.1,27.4C196.3,102.1,228.4,86,264.2,86%20C328.5,86,380.6,138.1,380.6,200z'/%3e%3cpolygon%20fill='%23FFCC00'%20points='480,200%20503.5,212.4%20502.6,238.9%20481.8,251.3%20469.4,274.8%20442.9,273.9%20430.5,294.7%20407,282.3%20386.2,291.6%20373.8,268.1%20347.3,269%20335,248.2%20311.5,235.8%20332.3,226.5%20344.7,203%20371.2,202.1%20383.5,181.3%20407,193.7%20427.8,184.4%20440.2,207.9%20466.7,207%20479,186.2%20'%20transform='translate(10,%200)'/%3e%3c/svg%3e",het={class:"language-list"},pet=["onClick"],get={class:"flex-middle"},met={key:0,class:"lang-icon",src:oY,alt:""},yet={key:1,class:"lang-icon",src:aY,alt:""},_et={key:2,class:"lang-icon",src:cY,alt:""},bet={key:3,class:"lang-icon",src:lY,alt:""},wet={key:4,class:"lang-icon",src:uY,alt:""},vet={key:5,class:"lang-icon",src:oet,alt:""},Eet={key:6,class:"lang-icon",src:aet,alt:""},Aet={key:7,class:"lang-icon",src:fY,alt:""},xet={class:"flex-item"},Cet={key:8,class:"icon",src:cet,alt:""},Net={key:9,class:"icon",src:uet,alt:""},Tet={class:"lang-box flex-middle"},Iet={key:0,src:oY,alt:""},Ret={key:1,src:aY,alt:""},Pet={key:2,src:cY,alt:""},Oet={key:3,src:lY,alt:""},Det={key:4,src:uY,alt:""},ket={key:5,src:fet,alt:""},Met={key:6,src:det,alt:""},Uet={key:7,src:fY,alt:""},Let=Bn({__name:"Language",setup(t){const e=q2(),{locale:r}=CH(e),n=ot(!1),i=ot([{code:"en",label:"English"},{code:"cn",label:""}]),s=o=>{sY(o),e.$patch({locale:o}),n.value=!1};return(o,a)=>{const c=FMe;return yr(),S0(c,{show:n.value,"onUpdate:show":a[0]||(a[0]=l=>n.value=l),offset:[-5,15],class:"language-popover"},{reference:ha(()=>[vt("div",Tet,[gn(r)==="cn"?(yr(),wn("img",Iet)):gn(r)==="en"?(yr(),wn("img",Ret)):gn(r)==="ko"?(yr(),wn("img",Pet)):gn(r)==="ja"?(yr(),wn("img",Oet)):gn(r)==="th"?(yr(),wn("img",Det)):gn(r)==="vi"?(yr(),wn("img",ket)):gn(r)==="ms"?(yr(),wn("img",Met)):(yr(),wn("img",Uet))])]),default:ha(()=>[vt("div",het,[(yr(!0),wn(qi,null,zH(i.value,l=>(yr(),wn("div",{class:_1(["item",{active:gn(r)===l.code}]),key:l.code,onClick:u=>s(l.code)},[vt("div",get,[l.code==="cn"?(yr(),wn("img",met)):l.code==="en"?(yr(),wn("img",yet)):l.code==="ko"?(yr(),wn("img",_et)):l.code==="ja"?(yr(),wn("img",bet)):l.code==="th"?(yr(),wn("img",wet)):l.code==="vi"?(yr(),wn("img",vet)):l.code==="ms"?(yr(),wn("img",Eet)):(yr(),wn("img",Aet)),vt("span",xet,Un(l.label),1),l.code===gn(r)?(yr(),wn("img",Cet)):(yr(),wn("img",Net))])],10,pet))),128))])]),_:1},8,["show"])}}}),zm=(t,e)=>{const r=t.__vccOpts||t;for(const[n,i]of e)r[n]=i;return r},$et=zm(Let,[["__scopeId","data-v-195f68f3"]]),Fet={class:"menu"},Bet={class:"menu-list"},Het=["onClick"],jet={class:"menu-tit"},Wet=Bn({__name:"Menu",props:{showMenu:{type:Boolean,default:!1}},emits:["closeMenu"],setup(t,{emit:e}){const r=t,n=e,i=JV(),s=G4e(),{locale:o,t:a}=hp();q2();const c=()=>{n("closeMenu",!1)},l=[{title:"_Subscribe",icon:"shopping-cart-o",route:"Index",isOpen:!0},{title:"_Promotion_Link",icon:"share-o",route:"Share",isOpen:!0}];zt(()=>o.value);const u=zt(()=>s.name),f=h=>{h.isOpen?i.push({name:h.route}).catch(()=>{}):Mo(a("_Not_yet_open")),n("closeMenu",!1)};return(h,g)=>{const _=ac,m=U2;return yr(),S0(m,{show:r.showMenu,"onUpdate:show":g[0]||(g[0]=b=>r.showMenu=b),onClickOverlay:c,position:"right",style:{width:"70%",height:"100%"}},{default:ha(()=>[vt("div",Fet,[vt("div",Bet,[(yr(),wn(qi,null,zH(l,(b,A)=>vt("div",{key:A,class:_1(["menu-item",{active:u.value===b.route}]),onClick:N=>f(b)},[Le(_,{name:b.icon,size:"20",color:u.value===b.route?"#F5C518":"#999"},null,8,["name","color"]),vt("div",jet,Un(h.$t(b.title)),1)],10,Het)),64))])])]),_:1},8,["show"])}}}),qet=zm(Wet,[["__scopeId","data-v-f6217d5f"]]),zet={class:"popup-box"},Get={class:"invitations"},Ket={class:"invitations-title"},Vet={class:"input-wrapper"},Jet={class:"tips"},Yet=Bn({__name:"IntroPopup",props:{isShow:{type:Boolean,default:!1},intro:{default:""},btnLoading:{type:Boolean,default:!1}},emits:["toReg","updateIntro","close"],setup(t,{emit:e}){const r=t,n=e,i=o=>{n("updateIntro",o)},s=()=>{n("toReg")};return(o,a)=>{const c=hJ,l=M2,u=U2;return yr(),S0(u,{show:r.isShow,"onUpdate:show":a[1]||(a[1]=f=>r.isShow=f),style:{width:"88%",borderRadius:"16px",overflow:"visible"},"close-on-click-overlay":!1},{default:ha(()=>[vt("div",zet,[vt("div",Get,[vt("p",Ket,Un(o.$t("_Enter_friend_address_to_bind")),1),vt("div",Vet,[Le(c,{modelValue:r.intro,"onUpdate:modelValue":[a[0]||(a[0]=f=>r.intro=f),i],type:"textarea",center:"",clearable:"",label:"",rows:"2",autosize:"",placeholder:o.$t("_Enter_invite_address"),class:"custom-field"},null,8,["modelValue","placeholder"])]),vt("div",Jet,Un(o.$t("_Bind_Inviter_Tips")),1)]),Le(l,{type:"primary",loading:t.btnLoading,round:"",block:"",onClick:s,class:"bind-btn"},{default:ha(()=>[L0(Un(o.$t("_Bind")),1)]),_:1},8,["loading"])])]),_:1},8,["show"])}}}),Xet=zm(Yet,[["__scopeId","data-v-8bf1e383"]]),Qet={class:"flex-middle"},Zet={key:1,class:"more-img",src:HMe,alt:""},ett=Bn({__name:"Header",props:{title:{default:""},isShowBack:{type:Boolean,default:!0}},setup(t){const{t:e}=hp(),r=q2();console.log(r.locale,"languageStore");const n=ot(localStorage.getItem("intro")||set),i=ot(!1),s=ot(!1);JV();const o=ot(!1),a=()=>{o.value=!1},c=()=>{o.value=!o.value},l=d6({namespace:"eip155"}),u=()=>{const{open:b}=lNe();b()},f=async()=>{const b=new Xb(QR);let N=await new cu(hB,aB,b).getUserInfo(l.value.address);console.log(N,"userInfo"),i.value=!N.isExist},h=()=>{f()};l.value.address&&(console.log(l.value,"account.value"),h()),In(()=>l.value.address,(b,A)=>{console.log(b,"newVal"),b&&h()},{deep:!0});const g=b=>{n.value=b},_=()=>{let b=r.locale||"en";sY(b),r.$patch({locale:b})},m=async()=>{if(!n.value){Mo(e("_Please_enter_inviter"));return}s.value=!0;try{const{walletProvider:b}=q3("eip155");console.log(b,"walletProvider");const A=new Gg(b),N=await A.getSigner(),R=new cu(hB,aB,N);let k=await R.getUserInfo(n.value);if(!k.isExist||!k.isValid){Mo(e("_Inviter_invalid")),s.value=!1;return}const M=await A.getGasPrice();await R.estimateGas.bindIntro(n.value),await(await R.bindIntro(n.value,{gasPrice:M.toString()})).wait(),s.value=!1,i.value=!1,Mo(e("_Bind_success")),h(),window.location.reload()}catch(b){console.log(b),Mo(e("_Bind_failed")),s.value=!1,i.value=!1}};return _(),(b,A)=>{const N=M2,R=ac,k=Hke;return yr(),wn(qi,null,[Le(k,{title:"",fixed:!0,"z-index":2005,"left-text":""},{left:ha(()=>[vt("img",{class:"logo",src:BMe,onClick:A[0]||(A[0]=(...M)=>b.$goBack&&b.$goBack(...M)),alt:""})]),right:ha(()=>[Le($et),vt("div",Qet,[gn(l).isConnected?(yr(),S0(N,{key:1,round:"",plain:"",type:"success",onClick:u,size:"small"},{default:ha(()=>[L0(Un(gn(l).address?.substring(0,4)+"..."+gn(l).address?.substring(gn(l).address.length-4,gn(l).address.length)),1)]),_:1})):(yr(),S0(N,{key:0,round:"",plain:"",type:"success",onClick:u,size:"small"},{default:ha(()=>[L0(Un(b.$t("_Connect_wallet")),1)]),_:1}))]),vt("div",{onClick:c,class:"menu-toggle"},[o.value?(yr(),S0(R,{key:0,name:"cross",size:"22",color:"#fff"})):(yr(),wn("img",Zet))])]),_:1}),Le(Xet,{btnLoading:s.value,isShow:i.value,intro:n.value,onUpdateIntro:g,onToReg:m,onClose:A[1]||(A[1]=M=>i.value=!1)},null,8,["btnLoading","isShow","intro"]),Le(qet,{showMenu:o.value,onCloseMenu:a},null,8,["showMenu"])],64)}}}),dY=zm(ett,[["__scopeId","data-v-ee8ee54e"]]);var KE={exports:{}};/*!
 * clipboard.js v2.0.11
 * https://clipboardjs.com/
 *
 * Licensed MIT  Zeno Rocha
 */var ttt=KE.exports,gB;function rtt(){return gB||(gB=1,(function(t,e){(function(n,i){t.exports=i()})(ttt,function(){return(function(){var r={686:(function(s,o,a){a.d(o,{default:function(){return L}});var c=a(279),l=a.n(c),u=a(370),f=a.n(u),h=a(817),g=a.n(h);function _(x){try{return document.execCommand(x)}catch{return!1}}var m=function(W){var K=g()(W);return _("cut"),K},b=m;function A(x){var W=document.documentElement.getAttribute("dir")==="rtl",K=document.createElement("textarea");K.style.fontSize="12pt",K.style.border="0",K.style.padding="0",K.style.margin="0",K.style.position="absolute",K.style[W?"right":"left"]="-9999px";var P=window.pageYOffset||document.documentElement.scrollTop;return K.style.top="".concat(P,"px"),K.setAttribute("readonly",""),K.value=x,K}var N=function(W,K){var P=A(W);K.container.appendChild(P);var X=g()(P);return _("copy"),P.remove(),X},R=function(W){var K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body},P="";return typeof W=="string"?P=N(W,K):W instanceof HTMLInputElement&&!["text","search","url","tel","password"].includes(W?.type)?P=N(W.value,K):(P=g()(W),_("copy")),P},k=R;function M(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?M=function(K){return typeof K}:M=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},M(x)}var D=function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},K=W.action,P=K===void 0?"copy":K,X=W.container,q=W.target,te=W.text;if(P!=="copy"&&P!=="cut")throw new Error('Invalid "action" value, use either "copy" or "cut"');if(q!==void 0)if(q&&M(q)==="object"&&q.nodeType===1){if(P==="copy"&&q.hasAttribute("disabled"))throw new Error('Invalid "target" attribute. Please use "readonly" instead of "disabled" attribute');if(P==="cut"&&(q.hasAttribute("readonly")||q.hasAttribute("disabled")))throw new Error(`Invalid "target" attribute. You can't cut text from elements with "readonly" or "disabled" attributes`)}else throw new Error('Invalid "target" value, use a valid Element');if(te)return k(te,{container:X});if(q)return P==="cut"?b(q):k(q,{container:X})},H=D;function S(x){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?S=function(K){return typeof K}:S=function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},S(x)}function C(x,W){if(!(x instanceof W))throw new TypeError("Cannot call a class as a function")}function $(x,W){for(var K=0;K<W.length;K++){var P=W[K];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(x,P.key,P)}}function B(x,W,K){return W&&$(x.prototype,W),K&&$(x,K),x}function O(x,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(W&&W.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),W&&T(x,W)}function T(x,W){return T=Object.setPrototypeOf||function(P,X){return P.__proto__=X,P},T(x,W)}function y(x){var W=I();return function(){var P=U(x),X;if(W){var q=U(this).constructor;X=Reflect.construct(P,arguments,q)}else X=P.apply(this,arguments);return w(this,X)}}function w(x,W){return W&&(S(W)==="object"||typeof W=="function")?W:E(x)}function E(x){if(x===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return x}function I(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch{return!1}}function U(x){return U=Object.setPrototypeOf?Object.getPrototypeOf:function(K){return K.__proto__||Object.getPrototypeOf(K)},U(x)}function j(x,W){var K="data-clipboard-".concat(x);if(W.hasAttribute(K))return W.getAttribute(K)}var z=(function(x){O(K,x);var W=y(K);function K(P,X){var q;return C(this,K),q=W.call(this),q.resolveOptions(X),q.listenClick(P),q}return B(K,[{key:"resolveOptions",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.action=typeof X.action=="function"?X.action:this.defaultAction,this.target=typeof X.target=="function"?X.target:this.defaultTarget,this.text=typeof X.text=="function"?X.text:this.defaultText,this.container=S(X.container)==="object"?X.container:document.body}},{key:"listenClick",value:function(X){var q=this;this.listener=f()(X,"click",function(te){return q.onClick(te)})}},{key:"onClick",value:function(X){var q=X.delegateTarget||X.currentTarget,te=this.action(q)||"copy",ne=H({action:te,container:this.container,target:this.target(q),text:this.text(q)});this.emit(ne?"success":"error",{action:te,text:ne,trigger:q,clearSelection:function(){q&&q.focus(),window.getSelection().removeAllRanges()}})}},{key:"defaultAction",value:function(X){return j("action",X)}},{key:"defaultTarget",value:function(X){var q=j("target",X);if(q)return document.querySelector(q)}},{key:"defaultText",value:function(X){return j("text",X)}},{key:"destroy",value:function(){this.listener.destroy()}}],[{key:"copy",value:function(X){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{container:document.body};return k(X,q)}},{key:"cut",value:function(X){return b(X)}},{key:"isSupported",value:function(){var X=arguments.length>0&&arguments[0]!==void 0?arguments[0]:["copy","cut"],q=typeof X=="string"?[X]:X,te=!!document.queryCommandSupported;return q.forEach(function(ne){te=te&&!!document.queryCommandSupported(ne)}),te}}]),K})(l()),L=z}),828:(function(s){var o=9;if(typeof Element<"u"&&!Element.prototype.matches){var a=Element.prototype;a.matches=a.matchesSelector||a.mozMatchesSelector||a.msMatchesSelector||a.oMatchesSelector||a.webkitMatchesSelector}function c(l,u){for(;l&&l.nodeType!==o;){if(typeof l.matches=="function"&&l.matches(u))return l;l=l.parentNode}}s.exports=c}),438:(function(s,o,a){var c=a(828);function l(h,g,_,m,b){var A=f.apply(this,arguments);return h.addEventListener(_,A,b),{destroy:function(){h.removeEventListener(_,A,b)}}}function u(h,g,_,m,b){return typeof h.addEventListener=="function"?l.apply(null,arguments):typeof _=="function"?l.bind(null,document).apply(null,arguments):(typeof h=="string"&&(h=document.querySelectorAll(h)),Array.prototype.map.call(h,function(A){return l(A,g,_,m,b)}))}function f(h,g,_,m){return function(b){b.delegateTarget=c(b.target,g),b.delegateTarget&&m.call(h,b)}}s.exports=u}),879:(function(s,o){o.node=function(a){return a!==void 0&&a instanceof HTMLElement&&a.nodeType===1},o.nodeList=function(a){var c=Object.prototype.toString.call(a);return a!==void 0&&(c==="[object NodeList]"||c==="[object HTMLCollection]")&&"length"in a&&(a.length===0||o.node(a[0]))},o.string=function(a){return typeof a=="string"||a instanceof String},o.fn=function(a){var c=Object.prototype.toString.call(a);return c==="[object Function]"}}),370:(function(s,o,a){var c=a(879),l=a(438);function u(_,m,b){if(!_&&!m&&!b)throw new Error("Missing required arguments");if(!c.string(m))throw new TypeError("Second argument must be a String");if(!c.fn(b))throw new TypeError("Third argument must be a Function");if(c.node(_))return f(_,m,b);if(c.nodeList(_))return h(_,m,b);if(c.string(_))return g(_,m,b);throw new TypeError("First argument must be a String, HTMLElement, HTMLCollection, or NodeList")}function f(_,m,b){return _.addEventListener(m,b),{destroy:function(){_.removeEventListener(m,b)}}}function h(_,m,b){return Array.prototype.forEach.call(_,function(A){A.addEventListener(m,b)}),{destroy:function(){Array.prototype.forEach.call(_,function(A){A.removeEventListener(m,b)})}}}function g(_,m,b){return l(document.body,_,m,b)}s.exports=u}),817:(function(s){function o(a){var c;if(a.nodeName==="SELECT")a.focus(),c=a.value;else if(a.nodeName==="INPUT"||a.nodeName==="TEXTAREA"){var l=a.hasAttribute("readonly");l||a.setAttribute("readonly",""),a.select(),a.setSelectionRange(0,a.value.length),l||a.removeAttribute("readonly"),c=a.value}else{a.hasAttribute("contenteditable")&&a.focus();var u=window.getSelection(),f=document.createRange();f.selectNodeContents(a),u.removeAllRanges(),u.addRange(f),c=u.toString()}return c}s.exports=o}),279:(function(s){function o(){}o.prototype={on:function(a,c,l){var u=this.e||(this.e={});return(u[a]||(u[a]=[])).push({fn:c,ctx:l}),this},once:function(a,c,l){var u=this;function f(){u.off(a,f),c.apply(l,arguments)}return f._=c,this.on(a,f,l)},emit:function(a){var c=[].slice.call(arguments,1),l=((this.e||(this.e={}))[a]||[]).slice(),u=0,f=l.length;for(u;u<f;u++)l[u].fn.apply(l[u].ctx,c);return this},off:function(a,c){var l=this.e||(this.e={}),u=l[a],f=[];if(u&&c)for(var h=0,g=u.length;h<g;h++)u[h].fn!==c&&u[h].fn._!==c&&f.push(u[h]);return f.length?l[a]=f:delete l[a],this}},s.exports=o,s.exports.TinyEmitter=o})},n={};function i(s){if(n[s])return n[s].exports;var o=n[s]={exports:{}};return r[s](o,o.exports,i),o.exports}return(function(){i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,{a:o}),o}})(),(function(){i.d=function(s,o){for(var a in o)i.o(o,a)&&!i.o(s,a)&&Object.defineProperty(s,a,{enumerable:!0,get:o[a]})}})(),(function(){i.o=function(s,o){return Object.prototype.hasOwnProperty.call(s,o)}})(),i(686)})().default})})(KE)),KE.exports}var ntt=rtt();const itt=Ws(ntt);var fg={},QT,mB;function stt(){return mB||(mB=1,QT=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}),QT}var ZT={},Dd={},yB;function pp(){if(yB)return Dd;yB=1;let t;const e=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];return Dd.getSymbolSize=function(n){if(!n)throw new Error('"version" cannot be null or undefined');if(n<1||n>40)throw new Error('"version" should be in range from 1 to 40');return n*4+17},Dd.getSymbolTotalCodewords=function(n){return e[n]},Dd.getBCHDigit=function(r){let n=0;for(;r!==0;)n++,r>>>=1;return n},Dd.setToSJISFunction=function(n){if(typeof n!="function")throw new Error('"toSJISFunc" is not a valid function.');t=n},Dd.isKanjiModeEnabled=function(){return typeof t<"u"},Dd.toSJIS=function(n){return t(n)},Dd}var eI={},_B;function L5(){return _B||(_B=1,(function(t){t.L={bit:1},t.M={bit:0},t.Q={bit:3},t.H={bit:2};function e(r){if(typeof r!="string")throw new Error("Param is not a string");switch(r.toLowerCase()){case"l":case"low":return t.L;case"m":case"medium":return t.M;case"q":case"quartile":return t.Q;case"h":case"high":return t.H;default:throw new Error("Unknown EC Level: "+r)}}t.isValid=function(n){return n&&typeof n.bit<"u"&&n.bit>=0&&n.bit<4},t.from=function(n,i){if(t.isValid(n))return n;try{return e(n)}catch{return i}}})(eI)),eI}var tI,bB;function ott(){if(bB)return tI;bB=1;function t(){this.buffer=[],this.length=0}return t.prototype={get:function(e){const r=Math.floor(e/8);return(this.buffer[r]>>>7-e%8&1)===1},put:function(e,r){for(let n=0;n<r;n++)this.putBit((e>>>r-n-1&1)===1)},getLengthInBits:function(){return this.length},putBit:function(e){const r=Math.floor(this.length/8);this.buffer.length<=r&&this.buffer.push(0),e&&(this.buffer[r]|=128>>>this.length%8),this.length++}},tI=t,tI}var rI,wB;function att(){if(wB)return rI;wB=1;function t(e){if(!e||e<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=e,this.data=new Uint8Array(e*e),this.reservedBit=new Uint8Array(e*e)}return t.prototype.set=function(e,r,n,i){const s=e*this.size+r;this.data[s]=n,i&&(this.reservedBit[s]=!0)},t.prototype.get=function(e,r){return this.data[e*this.size+r]},t.prototype.xor=function(e,r,n){this.data[e*this.size+r]^=n},t.prototype.isReserved=function(e,r){return this.reservedBit[e*this.size+r]},rI=t,rI}var nI={},vB;function ctt(){return vB||(vB=1,(function(t){const e=pp().getSymbolSize;t.getRowColCoords=function(n){if(n===1)return[];const i=Math.floor(n/7)+2,s=e(n),o=s===145?26:Math.ceil((s-13)/(2*i-2))*2,a=[s-7];for(let c=1;c<i-1;c++)a[c]=a[c-1]-o;return a.push(6),a.reverse()},t.getPositions=function(n){const i=[],s=t.getRowColCoords(n),o=s.length;for(let a=0;a<o;a++)for(let c=0;c<o;c++)a===0&&c===0||a===0&&c===o-1||a===o-1&&c===0||i.push([s[a],s[c]]);return i}})(nI)),nI}var iI={},EB;function ltt(){if(EB)return iI;EB=1;const t=pp().getSymbolSize,e=7;return iI.getPositions=function(n){const i=t(n);return[[0,0],[i-e,0],[0,i-e]]},iI}var sI={},AB;function utt(){return AB||(AB=1,(function(t){t.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};const e={N1:3,N2:3,N3:40,N4:10};t.isValid=function(i){return i!=null&&i!==""&&!isNaN(i)&&i>=0&&i<=7},t.from=function(i){return t.isValid(i)?parseInt(i,10):void 0},t.getPenaltyN1=function(i){const s=i.size;let o=0,a=0,c=0,l=null,u=null;for(let f=0;f<s;f++){a=c=0,l=u=null;for(let h=0;h<s;h++){let g=i.get(f,h);g===l?a++:(a>=5&&(o+=e.N1+(a-5)),l=g,a=1),g=i.get(h,f),g===u?c++:(c>=5&&(o+=e.N1+(c-5)),u=g,c=1)}a>=5&&(o+=e.N1+(a-5)),c>=5&&(o+=e.N1+(c-5))}return o},t.getPenaltyN2=function(i){const s=i.size;let o=0;for(let a=0;a<s-1;a++)for(let c=0;c<s-1;c++){const l=i.get(a,c)+i.get(a,c+1)+i.get(a+1,c)+i.get(a+1,c+1);(l===4||l===0)&&o++}return o*e.N2},t.getPenaltyN3=function(i){const s=i.size;let o=0,a=0,c=0;for(let l=0;l<s;l++){a=c=0;for(let u=0;u<s;u++)a=a<<1&2047|i.get(l,u),u>=10&&(a===1488||a===93)&&o++,c=c<<1&2047|i.get(u,l),u>=10&&(c===1488||c===93)&&o++}return o*e.N3},t.getPenaltyN4=function(i){let s=0;const o=i.data.length;for(let c=0;c<o;c++)s+=i.data[c];return Math.abs(Math.ceil(s*100/o/5)-10)*e.N4};function r(n,i,s){switch(n){case t.Patterns.PATTERN000:return(i+s)%2===0;case t.Patterns.PATTERN001:return i%2===0;case t.Patterns.PATTERN010:return s%3===0;case t.Patterns.PATTERN011:return(i+s)%3===0;case t.Patterns.PATTERN100:return(Math.floor(i/2)+Math.floor(s/3))%2===0;case t.Patterns.PATTERN101:return i*s%2+i*s%3===0;case t.Patterns.PATTERN110:return(i*s%2+i*s%3)%2===0;case t.Patterns.PATTERN111:return(i*s%3+(i+s)%2)%2===0;default:throw new Error("bad maskPattern:"+n)}}t.applyMask=function(i,s){const o=s.size;for(let a=0;a<o;a++)for(let c=0;c<o;c++)s.isReserved(c,a)||s.xor(c,a,r(i,c,a))},t.getBestMask=function(i,s){const o=Object.keys(t.Patterns).length;let a=0,c=1/0;for(let l=0;l<o;l++){s(l),t.applyMask(l,i);const u=t.getPenaltyN1(i)+t.getPenaltyN2(i)+t.getPenaltyN3(i)+t.getPenaltyN4(i);t.applyMask(l,i),u<c&&(c=u,a=l)}return a}})(sI)),sI}var Dv={},xB;function hY(){if(xB)return Dv;xB=1;const t=L5(),e=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],r=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];return Dv.getBlocksCount=function(i,s){switch(s){case t.L:return e[(i-1)*4+0];case t.M:return e[(i-1)*4+1];case t.Q:return e[(i-1)*4+2];case t.H:return e[(i-1)*4+3];default:return}},Dv.getTotalCodewordsCount=function(i,s){switch(s){case t.L:return r[(i-1)*4+0];case t.M:return r[(i-1)*4+1];case t.Q:return r[(i-1)*4+2];case t.H:return r[(i-1)*4+3];default:return}},Dv}var oI={},Jy={},CB;function ftt(){if(CB)return Jy;CB=1;const t=new Uint8Array(512),e=new Uint8Array(256);return(function(){let n=1;for(let i=0;i<255;i++)t[i]=n,e[n]=i,n<<=1,n&256&&(n^=285);for(let i=255;i<512;i++)t[i]=t[i-255]})(),Jy.log=function(n){if(n<1)throw new Error("log("+n+")");return e[n]},Jy.exp=function(n){return t[n]},Jy.mul=function(n,i){return n===0||i===0?0:t[e[n]+e[i]]},Jy}var NB;function dtt(){return NB||(NB=1,(function(t){const e=ftt();t.mul=function(n,i){const s=new Uint8Array(n.length+i.length-1);for(let o=0;o<n.length;o++)for(let a=0;a<i.length;a++)s[o+a]^=e.mul(n[o],i[a]);return s},t.mod=function(n,i){let s=new Uint8Array(n);for(;s.length-i.length>=0;){const o=s[0];for(let c=0;c<i.length;c++)s[c]^=e.mul(i[c],o);let a=0;for(;a<s.length&&s[a]===0;)a++;s=s.slice(a)}return s},t.generateECPolynomial=function(n){let i=new Uint8Array([1]);for(let s=0;s<n;s++)i=t.mul(i,new Uint8Array([1,e.exp(s)]));return i}})(oI)),oI}var aI,SB;function htt(){if(SB)return aI;SB=1;const t=dtt();function e(r){this.genPoly=void 0,this.degree=r,this.degree&&this.initialize(this.degree)}return e.prototype.initialize=function(n){this.degree=n,this.genPoly=t.generateECPolynomial(this.degree)},e.prototype.encode=function(n){if(!this.genPoly)throw new Error("Encoder not initialized");const i=new Uint8Array(n.length+this.degree);i.set(n);const s=t.mod(i,this.genPoly),o=this.degree-s.length;if(o>0){const a=new Uint8Array(this.degree);return a.set(s,o),a}return s},aI=e,aI}var cI={},lI={},uI={},TB;function pY(){return TB||(TB=1,uI.isValid=function(e){return!isNaN(e)&&e>=1&&e<=40}),uI}var tu={},IB;function gY(){if(IB)return tu;IB=1;const t="[0-9]+",e="[A-Z $%*+\\-./:]+";let r="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";r=r.replace(/u/g,"\\u");const n="(?:(?![A-Z0-9 $%*+\\-./:]|"+r+`)(?:.|[\r
]))+`;tu.KANJI=new RegExp(r,"g"),tu.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),tu.BYTE=new RegExp(n,"g"),tu.NUMERIC=new RegExp(t,"g"),tu.ALPHANUMERIC=new RegExp(e,"g");const i=new RegExp("^"+r+"$"),s=new RegExp("^"+t+"$"),o=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");return tu.testKanji=function(c){return i.test(c)},tu.testNumeric=function(c){return s.test(c)},tu.testAlphanumeric=function(c){return o.test(c)},tu}var RB;function gp(){return RB||(RB=1,(function(t){const e=pY(),r=gY();t.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},t.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},t.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},t.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},t.MIXED={bit:-1},t.getCharCountIndicator=function(s,o){if(!s.ccBits)throw new Error("Invalid mode: "+s);if(!e.isValid(o))throw new Error("Invalid version: "+o);return o>=1&&o<10?s.ccBits[0]:o<27?s.ccBits[1]:s.ccBits[2]},t.getBestModeForData=function(s){return r.testNumeric(s)?t.NUMERIC:r.testAlphanumeric(s)?t.ALPHANUMERIC:r.testKanji(s)?t.KANJI:t.BYTE},t.toString=function(s){if(s&&s.id)return s.id;throw new Error("Invalid mode")},t.isValid=function(s){return s&&s.bit&&s.ccBits};function n(i){if(typeof i!="string")throw new Error("Param is not a string");switch(i.toLowerCase()){case"numeric":return t.NUMERIC;case"alphanumeric":return t.ALPHANUMERIC;case"kanji":return t.KANJI;case"byte":return t.BYTE;default:throw new Error("Unknown mode: "+i)}}t.from=function(s,o){if(t.isValid(s))return s;try{return n(s)}catch{return o}}})(lI)),lI}var PB;function ptt(){return PB||(PB=1,(function(t){const e=pp(),r=hY(),n=L5(),i=gp(),s=pY(),o=7973,a=e.getBCHDigit(o);function c(h,g,_){for(let m=1;m<=40;m++)if(g<=t.getCapacity(m,_,h))return m}function l(h,g){return i.getCharCountIndicator(h,g)+4}function u(h,g){let _=0;return h.forEach(function(m){const b=l(m.mode,g);_+=b+m.getBitsLength()}),_}function f(h,g){for(let _=1;_<=40;_++)if(u(h,_)<=t.getCapacity(_,g,i.MIXED))return _}t.from=function(g,_){return s.isValid(g)?parseInt(g,10):_},t.getCapacity=function(g,_,m){if(!s.isValid(g))throw new Error("Invalid QR Code version");typeof m>"u"&&(m=i.BYTE);const b=e.getSymbolTotalCodewords(g),A=r.getTotalCodewordsCount(g,_),N=(b-A)*8;if(m===i.MIXED)return N;const R=N-l(m,g);switch(m){case i.NUMERIC:return Math.floor(R/10*3);case i.ALPHANUMERIC:return Math.floor(R/11*2);case i.KANJI:return Math.floor(R/13);case i.BYTE:default:return Math.floor(R/8)}},t.getBestVersionForData=function(g,_){let m;const b=n.from(_,n.M);if(Array.isArray(g)){if(g.length>1)return f(g,b);if(g.length===0)return 1;m=g[0]}else m=g;return c(m.mode,m.getLength(),b)},t.getEncodedBits=function(g){if(!s.isValid(g)||g<7)throw new Error("Invalid QR Code version");let _=g<<12;for(;e.getBCHDigit(_)-a>=0;)_^=o<<e.getBCHDigit(_)-a;return g<<12|_}})(cI)),cI}var fI={},OB;function gtt(){if(OB)return fI;OB=1;const t=pp(),e=1335,r=21522,n=t.getBCHDigit(e);return fI.getEncodedBits=function(s,o){const a=s.bit<<3|o;let c=a<<10;for(;t.getBCHDigit(c)-n>=0;)c^=e<<t.getBCHDigit(c)-n;return(a<<10|c)^r},fI}var dI={},hI,DB;function mtt(){if(DB)return hI;DB=1;const t=gp();function e(r){this.mode=t.NUMERIC,this.data=r.toString()}return e.getBitsLength=function(n){return 10*Math.floor(n/3)+(n%3?n%3*3+1:0)},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(n){let i,s,o;for(i=0;i+3<=this.data.length;i+=3)s=this.data.substr(i,3),o=parseInt(s,10),n.put(o,10);const a=this.data.length-i;a>0&&(s=this.data.substr(i),o=parseInt(s,10),n.put(o,a*3+1))},hI=e,hI}var pI,kB;function ytt(){if(kB)return pI;kB=1;const t=gp(),e=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function r(n){this.mode=t.ALPHANUMERIC,this.data=n}return r.getBitsLength=function(i){return 11*Math.floor(i/2)+6*(i%2)},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(i){let s;for(s=0;s+2<=this.data.length;s+=2){let o=e.indexOf(this.data[s])*45;o+=e.indexOf(this.data[s+1]),i.put(o,11)}this.data.length%2&&i.put(e.indexOf(this.data[s]),6)},pI=r,pI}var gI,MB;function _tt(){if(MB)return gI;MB=1;const t=gp();function e(r){this.mode=t.BYTE,typeof r=="string"?this.data=new TextEncoder().encode(r):this.data=new Uint8Array(r)}return e.getBitsLength=function(n){return n*8},e.prototype.getLength=function(){return this.data.length},e.prototype.getBitsLength=function(){return e.getBitsLength(this.data.length)},e.prototype.write=function(r){for(let n=0,i=this.data.length;n<i;n++)r.put(this.data[n],8)},gI=e,gI}var mI,UB;function btt(){if(UB)return mI;UB=1;const t=gp(),e=pp();function r(n){this.mode=t.KANJI,this.data=n}return r.getBitsLength=function(i){return i*13},r.prototype.getLength=function(){return this.data.length},r.prototype.getBitsLength=function(){return r.getBitsLength(this.data.length)},r.prototype.write=function(n){let i;for(i=0;i<this.data.length;i++){let s=e.toSJIS(this.data[i]);if(s>=33088&&s<=40956)s-=33088;else if(s>=57408&&s<=60351)s-=49472;else throw new Error("Invalid SJIS character: "+this.data[i]+`
Make sure your charset is UTF-8`);s=(s>>>8&255)*192+(s&255),n.put(s,13)}},mI=r,mI}var yI={exports:{}},LB;function wtt(){return LB||(LB=1,(function(t){var e={single_source_shortest_paths:function(r,n,i){var s={},o={};o[n]=0;var a=e.PriorityQueue.make();a.push(n,0);for(var c,l,u,f,h,g,_,m,b;!a.empty();){c=a.pop(),l=c.value,f=c.cost,h=r[l]||{};for(u in h)h.hasOwnProperty(u)&&(g=h[u],_=f+g,m=o[u],b=typeof o[u]>"u",(b||m>_)&&(o[u]=_,a.push(u,_),s[u]=l))}if(typeof i<"u"&&typeof o[i]>"u"){var A=["Could not find a path from ",n," to ",i,"."].join("");throw new Error(A)}return s},extract_shortest_path_from_predecessor_list:function(r,n){for(var i=[],s=n;s;)i.push(s),r[s],s=r[s];return i.reverse(),i},find_path:function(r,n,i){var s=e.single_source_shortest_paths(r,n,i);return e.extract_shortest_path_from_predecessor_list(s,i)},PriorityQueue:{make:function(r){var n=e.PriorityQueue,i={},s;r=r||{};for(s in n)n.hasOwnProperty(s)&&(i[s]=n[s]);return i.queue=[],i.sorter=r.sorter||n.default_sorter,i},default_sorter:function(r,n){return r.cost-n.cost},push:function(r,n){var i={value:r,cost:n};this.queue.push(i),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};t.exports=e})(yI)),yI.exports}var $B;function vtt(){return $B||($B=1,(function(t){const e=gp(),r=mtt(),n=ytt(),i=_tt(),s=btt(),o=gY(),a=pp(),c=wtt();function l(A){return unescape(encodeURIComponent(A)).length}function u(A,N,R){const k=[];let M;for(;(M=A.exec(R))!==null;)k.push({data:M[0],index:M.index,mode:N,length:M[0].length});return k}function f(A){const N=u(o.NUMERIC,e.NUMERIC,A),R=u(o.ALPHANUMERIC,e.ALPHANUMERIC,A);let k,M;return a.isKanjiModeEnabled()?(k=u(o.BYTE,e.BYTE,A),M=u(o.KANJI,e.KANJI,A)):(k=u(o.BYTE_KANJI,e.BYTE,A),M=[]),N.concat(R,k,M).sort(function(H,S){return H.index-S.index}).map(function(H){return{data:H.data,mode:H.mode,length:H.length}})}function h(A,N){switch(N){case e.NUMERIC:return r.getBitsLength(A);case e.ALPHANUMERIC:return n.getBitsLength(A);case e.KANJI:return s.getBitsLength(A);case e.BYTE:return i.getBitsLength(A)}}function g(A){return A.reduce(function(N,R){const k=N.length-1>=0?N[N.length-1]:null;return k&&k.mode===R.mode?(N[N.length-1].data+=R.data,N):(N.push(R),N)},[])}function _(A){const N=[];for(let R=0;R<A.length;R++){const k=A[R];switch(k.mode){case e.NUMERIC:N.push([k,{data:k.data,mode:e.ALPHANUMERIC,length:k.length},{data:k.data,mode:e.BYTE,length:k.length}]);break;case e.ALPHANUMERIC:N.push([k,{data:k.data,mode:e.BYTE,length:k.length}]);break;case e.KANJI:N.push([k,{data:k.data,mode:e.BYTE,length:l(k.data)}]);break;case e.BYTE:N.push([{data:k.data,mode:e.BYTE,length:l(k.data)}])}}return N}function m(A,N){const R={},k={start:{}};let M=["start"];for(let D=0;D<A.length;D++){const H=A[D],S=[];for(let C=0;C<H.length;C++){const $=H[C],B=""+D+C;S.push(B),R[B]={node:$,lastCount:0},k[B]={};for(let O=0;O<M.length;O++){const T=M[O];R[T]&&R[T].node.mode===$.mode?(k[T][B]=h(R[T].lastCount+$.length,$.mode)-h(R[T].lastCount,$.mode),R[T].lastCount+=$.length):(R[T]&&(R[T].lastCount=$.length),k[T][B]=h($.length,$.mode)+4+e.getCharCountIndicator($.mode,N))}}M=S}for(let D=0;D<M.length;D++)k[M[D]].end=0;return{map:k,table:R}}function b(A,N){let R;const k=e.getBestModeForData(A);if(R=e.from(N,k),R!==e.BYTE&&R.bit<k.bit)throw new Error('"'+A+'" cannot be encoded with mode '+e.toString(R)+`.
 Suggested mode is: `+e.toString(k));switch(R===e.KANJI&&!a.isKanjiModeEnabled()&&(R=e.BYTE),R){case e.NUMERIC:return new r(A);case e.ALPHANUMERIC:return new n(A);case e.KANJI:return new s(A);case e.BYTE:return new i(A)}}t.fromArray=function(N){return N.reduce(function(R,k){return typeof k=="string"?R.push(b(k,null)):k.data&&R.push(b(k.data,k.mode)),R},[])},t.fromString=function(N,R){const k=f(N,a.isKanjiModeEnabled()),M=_(k),D=m(M,R),H=c.find_path(D.map,"start","end"),S=[];for(let C=1;C<H.length-1;C++)S.push(D.table[H[C]].node);return t.fromArray(g(S))},t.rawSplit=function(N){return t.fromArray(f(N,a.isKanjiModeEnabled()))}})(dI)),dI}var FB;function Ett(){if(FB)return ZT;FB=1;const t=pp(),e=L5(),r=ott(),n=att(),i=ctt(),s=ltt(),o=utt(),a=hY(),c=htt(),l=ptt(),u=gtt(),f=gp(),h=vtt();function g(D,H){const S=D.size,C=s.getPositions(H);for(let $=0;$<C.length;$++){const B=C[$][0],O=C[$][1];for(let T=-1;T<=7;T++)if(!(B+T<=-1||S<=B+T))for(let y=-1;y<=7;y++)O+y<=-1||S<=O+y||(T>=0&&T<=6&&(y===0||y===6)||y>=0&&y<=6&&(T===0||T===6)||T>=2&&T<=4&&y>=2&&y<=4?D.set(B+T,O+y,!0,!0):D.set(B+T,O+y,!1,!0))}}function _(D){const H=D.size;for(let S=8;S<H-8;S++){const C=S%2===0;D.set(S,6,C,!0),D.set(6,S,C,!0)}}function m(D,H){const S=i.getPositions(H);for(let C=0;C<S.length;C++){const $=S[C][0],B=S[C][1];for(let O=-2;O<=2;O++)for(let T=-2;T<=2;T++)O===-2||O===2||T===-2||T===2||O===0&&T===0?D.set($+O,B+T,!0,!0):D.set($+O,B+T,!1,!0)}}function b(D,H){const S=D.size,C=l.getEncodedBits(H);let $,B,O;for(let T=0;T<18;T++)$=Math.floor(T/3),B=T%3+S-8-3,O=(C>>T&1)===1,D.set($,B,O,!0),D.set(B,$,O,!0)}function A(D,H,S){const C=D.size,$=u.getEncodedBits(H,S);let B,O;for(B=0;B<15;B++)O=($>>B&1)===1,B<6?D.set(B,8,O,!0):B<8?D.set(B+1,8,O,!0):D.set(C-15+B,8,O,!0),B<8?D.set(8,C-B-1,O,!0):B<9?D.set(8,15-B-1+1,O,!0):D.set(8,15-B-1,O,!0);D.set(C-8,8,1,!0)}function N(D,H){const S=D.size;let C=-1,$=S-1,B=7,O=0;for(let T=S-1;T>0;T-=2)for(T===6&&T--;;){for(let y=0;y<2;y++)if(!D.isReserved($,T-y)){let w=!1;O<H.length&&(w=(H[O]>>>B&1)===1),D.set($,T-y,w),B--,B===-1&&(O++,B=7)}if($+=C,$<0||S<=$){$-=C,C=-C;break}}}function R(D,H,S){const C=new r;S.forEach(function(y){C.put(y.mode.bit,4),C.put(y.getLength(),f.getCharCountIndicator(y.mode,D)),y.write(C)});const $=t.getSymbolTotalCodewords(D),B=a.getTotalCodewordsCount(D,H),O=($-B)*8;for(C.getLengthInBits()+4<=O&&C.put(0,4);C.getLengthInBits()%8!==0;)C.putBit(0);const T=(O-C.getLengthInBits())/8;for(let y=0;y<T;y++)C.put(y%2?17:236,8);return k(C,D,H)}function k(D,H,S){const C=t.getSymbolTotalCodewords(H),$=a.getTotalCodewordsCount(H,S),B=C-$,O=a.getBlocksCount(H,S),T=C%O,y=O-T,w=Math.floor(C/O),E=Math.floor(B/O),I=E+1,U=w-E,j=new c(U);let z=0;const L=new Array(O),x=new Array(O);let W=0;const K=new Uint8Array(D.buffer);for(let ne=0;ne<O;ne++){const le=ne<y?E:I;L[ne]=K.slice(z,z+le),x[ne]=j.encode(L[ne]),z+=le,W=Math.max(W,le)}const P=new Uint8Array(C);let X=0,q,te;for(q=0;q<W;q++)for(te=0;te<O;te++)q<L[te].length&&(P[X++]=L[te][q]);for(q=0;q<U;q++)for(te=0;te<O;te++)P[X++]=x[te][q];return P}function M(D,H,S,C){let $;if(Array.isArray(D))$=h.fromArray(D);else if(typeof D=="string"){let w=H;if(!w){const E=h.rawSplit(D);w=l.getBestVersionForData(E,S)}$=h.fromString(D,w||40)}else throw new Error("Invalid data");const B=l.getBestVersionForData($,S);if(!B)throw new Error("The amount of data is too big to be stored in a QR Code");if(!H)H=B;else if(H<B)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+B+`.
`);const O=R(H,S,$),T=t.getSymbolSize(H),y=new n(T);return g(y,H),_(y),m(y,H),A(y,S,0),H>=7&&b(y,H),N(y,O),isNaN(C)&&(C=o.getBestMask(y,A.bind(null,y,S))),o.applyMask(C,y),A(y,S,C),{modules:y,version:H,errorCorrectionLevel:S,maskPattern:C,segments:$}}return ZT.create=function(H,S){if(typeof H>"u"||H==="")throw new Error("No input text");let C=e.M,$,B;return typeof S<"u"&&(C=e.from(S.errorCorrectionLevel,e.M),$=l.from(S.version),B=o.from(S.maskPattern),S.toSJISFunc&&t.setToSJISFunction(S.toSJISFunc)),M(H,$,C,B)},ZT}var _I={},bI={},BB;function mY(){return BB||(BB=1,(function(t){function e(r){if(typeof r=="number"&&(r=r.toString()),typeof r!="string")throw new Error("Color should be defined as hex string");let n=r.slice().replace("#","").split("");if(n.length<3||n.length===5||n.length>8)throw new Error("Invalid hex color: "+r);(n.length===3||n.length===4)&&(n=Array.prototype.concat.apply([],n.map(function(s){return[s,s]}))),n.length===6&&n.push("F","F");const i=parseInt(n.join(""),16);return{r:i>>24&255,g:i>>16&255,b:i>>8&255,a:i&255,hex:"#"+n.slice(0,6).join("")}}t.getOptions=function(n){n||(n={}),n.color||(n.color={});const i=typeof n.margin>"u"||n.margin===null||n.margin<0?4:n.margin,s=n.width&&n.width>=21?n.width:void 0,o=n.scale||4;return{width:s,scale:s?4:o,margin:i,color:{dark:e(n.color.dark||"#000000ff"),light:e(n.color.light||"#ffffffff")},type:n.type,rendererOpts:n.rendererOpts||{}}},t.getScale=function(n,i){return i.width&&i.width>=n+i.margin*2?i.width/(n+i.margin*2):i.scale},t.getImageWidth=function(n,i){const s=t.getScale(n,i);return Math.floor((n+i.margin*2)*s)},t.qrToImageData=function(n,i,s){const o=i.modules.size,a=i.modules.data,c=t.getScale(o,s),l=Math.floor((o+s.margin*2)*c),u=s.margin*c,f=[s.color.light,s.color.dark];for(let h=0;h<l;h++)for(let g=0;g<l;g++){let _=(h*l+g)*4,m=s.color.light;if(h>=u&&g>=u&&h<l-u&&g<l-u){const b=Math.floor((h-u)/c),A=Math.floor((g-u)/c);m=f[a[b*o+A]?1:0]}n[_++]=m.r,n[_++]=m.g,n[_++]=m.b,n[_]=m.a}}})(bI)),bI}var HB;function Att(){return HB||(HB=1,(function(t){const e=mY();function r(i,s,o){i.clearRect(0,0,s.width,s.height),s.style||(s.style={}),s.height=o,s.width=o,s.style.height=o+"px",s.style.width=o+"px"}function n(){try{return document.createElement("canvas")}catch{throw new Error("You need to specify a canvas element")}}t.render=function(s,o,a){let c=a,l=o;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),o||(l=n()),c=e.getOptions(c);const u=e.getImageWidth(s.modules.size,c),f=l.getContext("2d"),h=f.createImageData(u,u);return e.qrToImageData(h.data,s,c),r(f,l,u),f.putImageData(h,0,0),l},t.renderToDataURL=function(s,o,a){let c=a;typeof c>"u"&&(!o||!o.getContext)&&(c=o,o=void 0),c||(c={});const l=t.render(s,o,c),u=c.type||"image/png",f=c.rendererOpts||{};return l.toDataURL(u,f.quality)}})(_I)),_I}var wI={},jB;function xtt(){if(jB)return wI;jB=1;const t=mY();function e(i,s){const o=i.a/255,a=s+'="'+i.hex+'"';return o<1?a+" "+s+'-opacity="'+o.toFixed(2).slice(1)+'"':a}function r(i,s,o){let a=i+s;return typeof o<"u"&&(a+=" "+o),a}function n(i,s,o){let a="",c=0,l=!1,u=0;for(let f=0;f<i.length;f++){const h=Math.floor(f%s),g=Math.floor(f/s);!h&&!l&&(l=!0),i[f]?(u++,f>0&&h>0&&i[f-1]||(a+=l?r("M",h+o,.5+g+o):r("m",c,0),c=0,l=!1),h+1<s&&i[f+1]||(a+=r("h",u),u=0)):c++}return a}return wI.render=function(s,o,a){const c=t.getOptions(o),l=s.modules.size,u=s.modules.data,f=l+c.margin*2,h=c.color.light.a?"<path "+e(c.color.light,"fill")+' d="M0 0h'+f+"v"+f+'H0z"/>':"",g="<path "+e(c.color.dark,"stroke")+' d="'+n(u,l,c.margin)+'"/>',_='viewBox="0 0 '+f+" "+f+'"',b='<svg xmlns="http://www.w3.org/2000/svg" '+(c.width?'width="'+c.width+'" height="'+c.width+'" ':"")+_+' shape-rendering="crispEdges">'+h+g+`</svg>
`;return typeof a=="function"&&a(null,b),b},wI}var WB;function Ctt(){if(WB)return fg;WB=1;const t=stt(),e=Ett(),r=Att(),n=xtt();function i(s,o,a,c,l){const u=[].slice.call(arguments,1),f=u.length,h=typeof u[f-1]=="function";if(!h&&!t())throw new Error("Callback required as last argument");if(h){if(f<2)throw new Error("Too few arguments provided");f===2?(l=a,a=o,o=c=void 0):f===3&&(o.getContext&&typeof l>"u"?(l=c,c=void 0):(l=c,c=a,a=o,o=void 0))}else{if(f<1)throw new Error("Too few arguments provided");return f===1?(a=o,o=c=void 0):f===2&&!o.getContext&&(c=a,a=o,o=void 0),new Promise(function(g,_){try{const m=e.create(a,c);g(s(m,o,c))}catch(m){_(m)}})}try{const g=e.create(a,c);l(null,s(g,o,c))}catch(g){l(g)}}return fg.create=e.create,fg.toCanvas=i.bind(null,r.render),fg.toDataURL=i.bind(null,r.renderToDataURL),fg.toString=i.bind(null,function(s,o,a){return n.render(s,a)}),fg}var Ntt=Ctt();const Stt=Ws(Ntt),Ttt={class:"share-top-box"},Itt={class:"share-top"},Rtt={class:"address-tit"},Ptt={class:"address"},Ott={class:"qrcode-box"},Dtt=["src"],ktt={class:"flex-column link-text"},Mtt={class:"label"},Utt={class:"cont flex-item"},Ltt={class:"share-btn"},$tt=Bn({__name:"index",setup(t){const e=d6({namespace:"eip155"}),{t:r}=hp(),n=ot(""),i=ot(""),s=()=>{n.value=`${window.location.origin}${window.location.pathname}#/?intro=${e.value.address}`,Stt.toDataURL(n.value,{margin:.5,width:163}).then(a=>{i.value=a}).catch(a=>{console.error(a)});var o=new itt(".clip-button");o.on("success",function(a){Mo(r("_Copy_successful")),a.clearSelection()}),o.on("error",function(){Mo(r("_Copy_failed"))})};return e.value.address&&(console.log(e.value,"account.value"),s()),In(()=>e.value.address,(o,a)=>{console.log(o,"newVal"),o&&s()},{deep:!0}),(o,a)=>{const c=M2;return yr(),wn(qi,null,[Le(dY,{isShowBack:!1,title:o.$t("_Invite")},null,8,["title"]),vt("div",Ttt,[vt("div",Itt,[vt("div",Rtt,Un(o.$t("_My_wallet_address")),1),vt("div",Ptt,Un(gn(e).address),1),vt("div",Ott,[vt("img",{src:i.value,alt:""},null,8,Dtt)]),vt("div",ktt,[vt("div",Mtt,Un(o.$t("_Invite_link")),1),vt("div",Utt,Un(n.value),1)]),vt("div",Ltt,[Le(c,{type:"primary",round:"",class:"clip-button","data-clipboard-text":n.value},{default:ha(()=>[L0(Un(o.$t("_Copy_link")),1)]),_:1},8,["data-clipboard-text"])])])])],64)}}}),Ftt=zm($tt,[["__scopeId","data-v-0b9b8591"]]);var Btt=/^-?(?:\d+(?:\.\d*)?|\.\d+)(?:e[+-]?\d+)?$/i,vI=Math.ceil,za=Math.floor,To="[BigNumber Error] ",qB=To+"Number primitive has more than 15 significant digits: ",Lc=1e14,Pt=14,EI=9007199254740991,AI=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13],kd=1e7,Hi=1e9;function yY(t){var e,r,n,i=N.prototype={constructor:N,toString:null,valueOf:null},s=new N(1),o=20,a=4,c=-7,l=21,u=-1e7,f=1e7,h=!1,g=1,_=0,m={prefix:"",groupSize:3,secondaryGroupSize:0,groupSeparator:",",decimalSeparator:".",fractionGroupSize:0,fractionGroupSeparator:"",suffix:""},b="0123456789abcdefghijklmnopqrstuvwxyz",A=!0;function N(S,C){var $,B,O,T,y,w,E,I,U=this;if(!(U instanceof N))return new N(S,C);if(C==null){if(S&&S._isBigNumber===!0){U.s=S.s,!S.c||S.e>f?U.c=U.e=null:S.e<u?U.c=[U.e=0]:(U.e=S.e,U.c=S.c.slice());return}if((w=typeof S=="number")&&S*0==0){if(U.s=1/S<0?(S=-S,-1):1,S===~~S){for(T=0,y=S;y>=10;y/=10,T++);T>f?U.c=U.e=null:(U.e=T,U.c=[S]);return}I=String(S)}else{if(!Btt.test(I=String(S)))return n(U,I,w);U.s=I.charCodeAt(0)==45?(I=I.slice(1),-1):1}(T=I.indexOf("."))>-1&&(I=I.replace(".","")),(y=I.search(/e/i))>0?(T<0&&(T=y),T+=+I.slice(y+1),I=I.substring(0,y)):T<0&&(T=I.length)}else{if(Dn(C,2,b.length,"Base"),C==10&&A)return U=new N(S),D(U,o+U.e+1,a);if(I=String(S),w=typeof S=="number"){if(S*0!=0)return n(U,I,w,C);if(U.s=1/S<0?(I=I.slice(1),-1):1,N.DEBUG&&I.replace(/^0\.0*|\./,"").length>15)throw Error(qB+S)}else U.s=I.charCodeAt(0)===45?(I=I.slice(1),-1):1;for($=b.slice(0,C),T=y=0,E=I.length;y<E;y++)if($.indexOf(B=I.charAt(y))<0){if(B=="."){if(y>T){T=E;continue}}else if(!O&&(I==I.toUpperCase()&&(I=I.toLowerCase())||I==I.toLowerCase()&&(I=I.toUpperCase()))){O=!0,y=-1,T=0;continue}return n(U,String(S),w,C)}w=!1,I=r(I,C,10,U.s),(T=I.indexOf("."))>-1?I=I.replace(".",""):T=I.length}for(y=0;I.charCodeAt(y)===48;y++);for(E=I.length;I.charCodeAt(--E)===48;);if(I=I.slice(y,++E)){if(E-=y,w&&N.DEBUG&&E>15&&(S>EI||S!==za(S)))throw Error(qB+U.s*S);if((T=T-y-1)>f)U.c=U.e=null;else if(T<u)U.c=[U.e=0];else{if(U.e=T,U.c=[],y=(T+1)%Pt,T<0&&(y+=Pt),y<E){for(y&&U.c.push(+I.slice(0,y)),E-=Pt;y<E;)U.c.push(+I.slice(y,y+=Pt));y=Pt-(I=I.slice(y)).length}else y-=E;for(;y--;I+="0");U.c.push(+I)}}else U.c=[U.e=0]}N.clone=yY,N.ROUND_UP=0,N.ROUND_DOWN=1,N.ROUND_CEIL=2,N.ROUND_FLOOR=3,N.ROUND_HALF_UP=4,N.ROUND_HALF_DOWN=5,N.ROUND_HALF_EVEN=6,N.ROUND_HALF_CEIL=7,N.ROUND_HALF_FLOOR=8,N.EUCLID=9,N.config=N.set=function(S){var C,$;if(S!=null)if(typeof S=="object"){if(S.hasOwnProperty(C="DECIMAL_PLACES")&&($=S[C],Dn($,0,Hi,C),o=$),S.hasOwnProperty(C="ROUNDING_MODE")&&($=S[C],Dn($,0,8,C),a=$),S.hasOwnProperty(C="EXPONENTIAL_AT")&&($=S[C],$&&$.pop?(Dn($[0],-Hi,0,C),Dn($[1],0,Hi,C),c=$[0],l=$[1]):(Dn($,-Hi,Hi,C),c=-(l=$<0?-$:$))),S.hasOwnProperty(C="RANGE"))if($=S[C],$&&$.pop)Dn($[0],-Hi,-1,C),Dn($[1],1,Hi,C),u=$[0],f=$[1];else if(Dn($,-Hi,Hi,C),$)u=-(f=$<0?-$:$);else throw Error(To+C+" cannot be zero: "+$);if(S.hasOwnProperty(C="CRYPTO"))if($=S[C],$===!!$)if($)if(typeof crypto<"u"&&crypto&&(crypto.getRandomValues||crypto.randomBytes))h=$;else throw h=!$,Error(To+"crypto unavailable");else h=$;else throw Error(To+C+" not true or false: "+$);if(S.hasOwnProperty(C="MODULO_MODE")&&($=S[C],Dn($,0,9,C),g=$),S.hasOwnProperty(C="POW_PRECISION")&&($=S[C],Dn($,0,Hi,C),_=$),S.hasOwnProperty(C="FORMAT"))if($=S[C],typeof $=="object")m=$;else throw Error(To+C+" not an object: "+$);if(S.hasOwnProperty(C="ALPHABET"))if($=S[C],typeof $=="string"&&!/^.?$|[+\-.\s]|(.).*\1/.test($))A=$.slice(0,10)=="0123456789",b=$;else throw Error(To+C+" invalid: "+$)}else throw Error(To+"Object expected: "+S);return{DECIMAL_PLACES:o,ROUNDING_MODE:a,EXPONENTIAL_AT:[c,l],RANGE:[u,f],CRYPTO:h,MODULO_MODE:g,POW_PRECISION:_,FORMAT:m,ALPHABET:b}},N.isBigNumber=function(S){if(!S||S._isBigNumber!==!0)return!1;if(!N.DEBUG)return!0;var C,$,B=S.c,O=S.e,T=S.s;e:if({}.toString.call(B)=="[object Array]"){if((T===1||T===-1)&&O>=-Hi&&O<=Hi&&O===za(O)){if(B[0]===0){if(O===0&&B.length===1)return!0;break e}if(C=(O+1)%Pt,C<1&&(C+=Pt),String(B[0]).length==C){for(C=0;C<B.length;C++)if($=B[C],$<0||$>=Lc||$!==za($))break e;if($!==0)return!0}}}else if(B===null&&O===null&&(T===null||T===1||T===-1))return!0;throw Error(To+"Invalid BigNumber: "+S)},N.maximum=N.max=function(){return k(arguments,-1)},N.minimum=N.min=function(){return k(arguments,1)},N.random=(function(){var S=9007199254740992,C=Math.random()*S&2097151?function(){return za(Math.random()*S)}:function(){return(Math.random()*1073741824|0)*8388608+(Math.random()*8388608|0)};return function($){var B,O,T,y,w,E=0,I=[],U=new N(s);if($==null?$=o:Dn($,0,Hi),y=vI($/Pt),h)if(crypto.getRandomValues){for(B=crypto.getRandomValues(new Uint32Array(y*=2));E<y;)w=B[E]*131072+(B[E+1]>>>11),w>=9e15?(O=crypto.getRandomValues(new Uint32Array(2)),B[E]=O[0],B[E+1]=O[1]):(I.push(w%1e14),E+=2);E=y/2}else if(crypto.randomBytes){for(B=crypto.randomBytes(y*=7);E<y;)w=(B[E]&31)*281474976710656+B[E+1]*1099511627776+B[E+2]*4294967296+B[E+3]*16777216+(B[E+4]<<16)+(B[E+5]<<8)+B[E+6],w>=9e15?crypto.randomBytes(7).copy(B,E):(I.push(w%1e14),E+=7);E=y/7}else throw h=!1,Error(To+"crypto unavailable");if(!h)for(;E<y;)w=C(),w<9e15&&(I[E++]=w%1e14);for(y=I[--E],$%=Pt,y&&$&&(w=AI[Pt-$],I[E]=za(y/w)*w);I[E]===0;I.pop(),E--);if(E<0)I=[T=0];else{for(T=-1;I[0]===0;I.splice(0,1),T-=Pt);for(E=1,w=I[0];w>=10;w/=10,E++);E<Pt&&(T-=Pt-E)}return U.e=T,U.c=I,U}})(),N.sum=function(){for(var S=1,C=arguments,$=new N(C[0]);S<C.length;)$=$.plus(C[S++]);return $},r=(function(){var S="0123456789";function C($,B,O,T){for(var y,w=[0],E,I=0,U=$.length;I<U;){for(E=w.length;E--;w[E]*=B);for(w[0]+=T.indexOf($.charAt(I++)),y=0;y<w.length;y++)w[y]>O-1&&(w[y+1]==null&&(w[y+1]=0),w[y+1]+=w[y]/O|0,w[y]%=O)}return w.reverse()}return function($,B,O,T,y){var w,E,I,U,j,z,L,x,W=$.indexOf("."),K=o,P=a;for(W>=0&&(U=_,_=0,$=$.replace(".",""),x=new N(B),z=x.pow($.length-W),_=U,x.c=C(yf(Wa(z.c),z.e,"0"),10,O,S),x.e=x.c.length),L=C($,B,O,y?(w=b,S):(w=S,b)),I=U=L.length;L[--U]==0;L.pop());if(!L[0])return w.charAt(0);if(W<0?--I:(z.c=L,z.e=I,z.s=T,z=e(z,x,K,P,O),L=z.c,j=z.r,I=z.e),E=I+K+1,W=L[E],U=O/2,j=j||E<0||L[E+1]!=null,j=P<4?(W!=null||j)&&(P==0||P==(z.s<0?3:2)):W>U||W==U&&(P==4||j||P==6&&L[E-1]&1||P==(z.s<0?8:7)),E<1||!L[0])$=j?yf(w.charAt(1),-K,w.charAt(0)):w.charAt(0);else{if(L.length=E,j)for(--O;++L[--E]>O;)L[E]=0,E||(++I,L=[1].concat(L));for(U=L.length;!L[--U];);for(W=0,$="";W<=U;$+=w.charAt(L[W++]));$=yf($,I,w.charAt(0))}return $}})(),e=(function(){function S(B,O,T){var y,w,E,I,U=0,j=B.length,z=O%kd,L=O/kd|0;for(B=B.slice();j--;)E=B[j]%kd,I=B[j]/kd|0,y=L*E+I*z,w=z*E+y%kd*kd+U,U=(w/T|0)+(y/kd|0)+L*I,B[j]=w%T;return U&&(B=[U].concat(B)),B}function C(B,O,T,y){var w,E;if(T!=y)E=T>y?1:-1;else for(w=E=0;w<T;w++)if(B[w]!=O[w]){E=B[w]>O[w]?1:-1;break}return E}function $(B,O,T,y){for(var w=0;T--;)B[T]-=w,w=B[T]<O[T]?1:0,B[T]=w*y+B[T]-O[T];for(;!B[0]&&B.length>1;B.splice(0,1));}return function(B,O,T,y,w){var E,I,U,j,z,L,x,W,K,P,X,q,te,ne,le,me,Y,ie=B.s==O.s?1:-1,J=B.c,ae=O.c;if(!J||!J[0]||!ae||!ae[0])return new N(!B.s||!O.s||(J?ae&&J[0]==ae[0]:!ae)?NaN:J&&J[0]==0||!ae?ie*0:ie/0);for(W=new N(ie),K=W.c=[],I=B.e-O.e,ie=T+I+1,w||(w=Lc,I=Ga(B.e/Pt)-Ga(O.e/Pt),ie=ie/Pt|0),U=0;ae[U]==(J[U]||0);U++);if(ae[U]>(J[U]||0)&&I--,ie<0)K.push(1),j=!0;else{for(ne=J.length,me=ae.length,U=0,ie+=2,z=za(w/(ae[0]+1)),z>1&&(ae=S(ae,z,w),J=S(J,z,w),me=ae.length,ne=J.length),te=me,P=J.slice(0,me),X=P.length;X<me;P[X++]=0);Y=ae.slice(),Y=[0].concat(Y),le=ae[0],ae[1]>=w/2&&le++;do{if(z=0,E=C(ae,P,me,X),E<0){if(q=P[0],me!=X&&(q=q*w+(P[1]||0)),z=za(q/le),z>1)for(z>=w&&(z=w-1),L=S(ae,z,w),x=L.length,X=P.length;C(L,P,x,X)==1;)z--,$(L,me<x?Y:ae,x,w),x=L.length,E=1;else z==0&&(E=z=1),L=ae.slice(),x=L.length;if(x<X&&(L=[0].concat(L)),$(P,L,X,w),X=P.length,E==-1)for(;C(ae,P,me,X)<1;)z++,$(P,me<X?Y:ae,X,w),X=P.length}else E===0&&(z++,P=[0]);K[U++]=z,P[0]?P[X++]=J[te]||0:(P=[J[te]],X=1)}while((te++<ne||P[0]!=null)&&ie--);j=P[0]!=null,K[0]||K.splice(0,1)}if(w==Lc){for(U=1,ie=K[0];ie>=10;ie/=10,U++);D(W,T+(W.e=U+I*Pt-1)+1,y,j)}else W.e=I,W.r=+j;return W}})();function R(S,C,$,B){var O,T,y,w,E;if($==null?$=a:Dn($,0,8),!S.c)return S.toString();if(O=S.c[0],y=S.e,C==null)E=Wa(S.c),E=B==1||B==2&&(y<=c||y>=l)?Mv(E,y):yf(E,y,"0");else if(S=D(new N(S),C,$),T=S.e,E=Wa(S.c),w=E.length,B==1||B==2&&(C<=T||T<=c)){for(;w<C;E+="0",w++);E=Mv(E,T)}else if(C-=y+(B===2&&T>y),E=yf(E,T,"0"),T+1>w){if(--C>0)for(E+=".";C--;E+="0");}else if(C+=T-w,C>0)for(T+1==w&&(E+=".");C--;E+="0");return S.s<0&&O?"-"+E:E}function k(S,C){for(var $,B,O=1,T=new N(S[0]);O<S.length;O++)B=new N(S[O]),(!B.s||($=i0(T,B))===C||$===0&&T.s===C)&&(T=B);return T}function M(S,C,$){for(var B=1,O=C.length;!C[--O];C.pop());for(O=C[0];O>=10;O/=10,B++);return($=B+$*Pt-1)>f?S.c=S.e=null:$<u?S.c=[S.e=0]:(S.e=$,S.c=C),S}n=(function(){var S=/^(-?)0([xbo])(?=\w[\w.]*$)/i,C=/^([^.]+)\.$/,$=/^\.([^.]+)$/,B=/^-?(Infinity|NaN)$/,O=/^\s*\+(?=[\w.])|^\s+|\s+$/g;return function(T,y,w,E){var I,U=w?y:y.replace(O,"");if(B.test(U))T.s=isNaN(U)?null:U<0?-1:1;else{if(!w&&(U=U.replace(S,function(j,z,L){return I=(L=L.toLowerCase())=="x"?16:L=="b"?2:8,!E||E==I?z:j}),E&&(I=E,U=U.replace(C,"$1").replace($,"0.$1")),y!=U))return new N(U,I);if(N.DEBUG)throw Error(To+"Not a"+(E?" base "+E:"")+" number: "+y);T.s=null}T.c=T.e=null}})();function D(S,C,$,B){var O,T,y,w,E,I,U,j=S.c,z=AI;if(j){e:{for(O=1,w=j[0];w>=10;w/=10,O++);if(T=C-O,T<0)T+=Pt,y=C,E=j[I=0],U=za(E/z[O-y-1]%10);else if(I=vI((T+1)/Pt),I>=j.length)if(B){for(;j.length<=I;j.push(0));E=U=0,O=1,T%=Pt,y=T-Pt+1}else break e;else{for(E=w=j[I],O=1;w>=10;w/=10,O++);T%=Pt,y=T-Pt+O,U=y<0?0:za(E/z[O-y-1]%10)}if(B=B||C<0||j[I+1]!=null||(y<0?E:E%z[O-y-1]),B=$<4?(U||B)&&($==0||$==(S.s<0?3:2)):U>5||U==5&&($==4||B||$==6&&(T>0?y>0?E/z[O-y]:0:j[I-1])%10&1||$==(S.s<0?8:7)),C<1||!j[0])return j.length=0,B?(C-=S.e+1,j[0]=z[(Pt-C%Pt)%Pt],S.e=-C||0):j[0]=S.e=0,S;if(T==0?(j.length=I,w=1,I--):(j.length=I+1,w=z[Pt-T],j[I]=y>0?za(E/z[O-y]%z[y])*w:0),B)for(;;)if(I==0){for(T=1,y=j[0];y>=10;y/=10,T++);for(y=j[0]+=w,w=1;y>=10;y/=10,w++);T!=w&&(S.e++,j[0]==Lc&&(j[0]=1));break}else{if(j[I]+=w,j[I]!=Lc)break;j[I--]=0,w=1}for(T=j.length;j[--T]===0;j.pop());}S.e>f?S.c=S.e=null:S.e<u&&(S.c=[S.e=0])}return S}function H(S){var C,$=S.e;return $===null?S.toString():(C=Wa(S.c),C=$<=c||$>=l?Mv(C,$):yf(C,$,"0"),S.s<0?"-"+C:C)}return i.absoluteValue=i.abs=function(){var S=new N(this);return S.s<0&&(S.s=1),S},i.comparedTo=function(S,C){return i0(this,new N(S,C))},i.decimalPlaces=i.dp=function(S,C){var $,B,O,T=this;if(S!=null)return Dn(S,0,Hi),C==null?C=a:Dn(C,0,8),D(new N(T),S+T.e+1,C);if(!($=T.c))return null;if(B=((O=$.length-1)-Ga(this.e/Pt))*Pt,O=$[O])for(;O%10==0;O/=10,B--);return B<0&&(B=0),B},i.dividedBy=i.div=function(S,C){return e(this,new N(S,C),o,a)},i.dividedToIntegerBy=i.idiv=function(S,C){return e(this,new N(S,C),0,1)},i.exponentiatedBy=i.pow=function(S,C){var $,B,O,T,y,w,E,I,U,j=this;if(S=new N(S),S.c&&!S.isInteger())throw Error(To+"Exponent not an integer: "+H(S));if(C!=null&&(C=new N(C)),w=S.e>14,!j.c||!j.c[0]||j.c[0]==1&&!j.e&&j.c.length==1||!S.c||!S.c[0])return U=new N(Math.pow(+H(j),w?S.s*(2-kv(S)):+H(S))),C?U.mod(C):U;if(E=S.s<0,C){if(C.c?!C.c[0]:!C.s)return new N(NaN);B=!E&&j.isInteger()&&C.isInteger(),B&&(j=j.mod(C))}else{if(S.e>9&&(j.e>0||j.e<-1||(j.e==0?j.c[0]>1||w&&j.c[1]>=24e7:j.c[0]<8e13||w&&j.c[0]<=9999975e7)))return T=j.s<0&&kv(S)?-0:0,j.e>-1&&(T=1/T),new N(E?1/T:T);_&&(T=vI(_/Pt+2))}for(w?($=new N(.5),E&&(S.s=1),I=kv(S)):(O=Math.abs(+H(S)),I=O%2),U=new N(s);;){if(I){if(U=U.times(j),!U.c)break;T?U.c.length>T&&(U.c.length=T):B&&(U=U.mod(C))}if(O){if(O=za(O/2),O===0)break;I=O%2}else if(S=S.times($),D(S,S.e+1,1),S.e>14)I=kv(S);else{if(O=+H(S),O===0)break;I=O%2}j=j.times(j),T?j.c&&j.c.length>T&&(j.c.length=T):B&&(j=j.mod(C))}return B?U:(E&&(U=s.div(U)),C?U.mod(C):T?D(U,_,a,y):U)},i.integerValue=function(S){var C=new N(this);return S==null?S=a:Dn(S,0,8),D(C,C.e+1,S)},i.isEqualTo=i.eq=function(S,C){return i0(this,new N(S,C))===0},i.isFinite=function(){return!!this.c},i.isGreaterThan=i.gt=function(S,C){return i0(this,new N(S,C))>0},i.isGreaterThanOrEqualTo=i.gte=function(S,C){return(C=i0(this,new N(S,C)))===1||C===0},i.isInteger=function(){return!!this.c&&Ga(this.e/Pt)>this.c.length-2},i.isLessThan=i.lt=function(S,C){return i0(this,new N(S,C))<0},i.isLessThanOrEqualTo=i.lte=function(S,C){return(C=i0(this,new N(S,C)))===-1||C===0},i.isNaN=function(){return!this.s},i.isNegative=function(){return this.s<0},i.isPositive=function(){return this.s>0},i.isZero=function(){return!!this.c&&this.c[0]==0},i.minus=function(S,C){var $,B,O,T,y=this,w=y.s;if(S=new N(S,C),C=S.s,!w||!C)return new N(NaN);if(w!=C)return S.s=-C,y.plus(S);var E=y.e/Pt,I=S.e/Pt,U=y.c,j=S.c;if(!E||!I){if(!U||!j)return U?(S.s=-C,S):new N(j?y:NaN);if(!U[0]||!j[0])return j[0]?(S.s=-C,S):new N(U[0]?y:a==3?-0:0)}if(E=Ga(E),I=Ga(I),U=U.slice(),w=E-I){for((T=w<0)?(w=-w,O=U):(I=E,O=j),O.reverse(),C=w;C--;O.push(0));O.reverse()}else for(B=(T=(w=U.length)<(C=j.length))?w:C,w=C=0;C<B;C++)if(U[C]!=j[C]){T=U[C]<j[C];break}if(T&&(O=U,U=j,j=O,S.s=-S.s),C=(B=j.length)-($=U.length),C>0)for(;C--;U[$++]=0);for(C=Lc-1;B>w;){if(U[--B]<j[B]){for($=B;$&&!U[--$];U[$]=C);--U[$],U[B]+=Lc}U[B]-=j[B]}for(;U[0]==0;U.splice(0,1),--I);return U[0]?M(S,U,I):(S.s=a==3?-1:1,S.c=[S.e=0],S)},i.modulo=i.mod=function(S,C){var $,B,O=this;return S=new N(S,C),!O.c||!S.s||S.c&&!S.c[0]?new N(NaN):!S.c||O.c&&!O.c[0]?new N(O):(g==9?(B=S.s,S.s=1,$=e(O,S,0,3),S.s=B,$.s*=B):$=e(O,S,0,g),S=O.minus($.times(S)),!S.c[0]&&g==1&&(S.s=O.s),S)},i.multipliedBy=i.times=function(S,C){var $,B,O,T,y,w,E,I,U,j,z,L,x,W,K,P=this,X=P.c,q=(S=new N(S,C)).c;if(!X||!q||!X[0]||!q[0])return!P.s||!S.s||X&&!X[0]&&!q||q&&!q[0]&&!X?S.c=S.e=S.s=null:(S.s*=P.s,!X||!q?S.c=S.e=null:(S.c=[0],S.e=0)),S;for(B=Ga(P.e/Pt)+Ga(S.e/Pt),S.s*=P.s,E=X.length,j=q.length,E<j&&(x=X,X=q,q=x,O=E,E=j,j=O),O=E+j,x=[];O--;x.push(0));for(W=Lc,K=kd,O=j;--O>=0;){for($=0,z=q[O]%K,L=q[O]/K|0,y=E,T=O+y;T>O;)I=X[--y]%K,U=X[y]/K|0,w=L*I+U*z,I=z*I+w%K*K+x[T]+$,$=(I/W|0)+(w/K|0)+L*U,x[T--]=I%W;x[T]=$}return $?++B:x.splice(0,1),M(S,x,B)},i.negated=function(){var S=new N(this);return S.s=-S.s||null,S},i.plus=function(S,C){var $,B=this,O=B.s;if(S=new N(S,C),C=S.s,!O||!C)return new N(NaN);if(O!=C)return S.s=-C,B.minus(S);var T=B.e/Pt,y=S.e/Pt,w=B.c,E=S.c;if(!T||!y){if(!w||!E)return new N(O/0);if(!w[0]||!E[0])return E[0]?S:new N(w[0]?B:O*0)}if(T=Ga(T),y=Ga(y),w=w.slice(),O=T-y){for(O>0?(y=T,$=E):(O=-O,$=w),$.reverse();O--;$.push(0));$.reverse()}for(O=w.length,C=E.length,O-C<0&&($=E,E=w,w=$,C=O),O=0;C;)O=(w[--C]=w[C]+E[C]+O)/Lc|0,w[C]=Lc===w[C]?0:w[C]%Lc;return O&&(w=[O].concat(w),++y),M(S,w,y)},i.precision=i.sd=function(S,C){var $,B,O,T=this;if(S!=null&&S!==!!S)return Dn(S,1,Hi),C==null?C=a:Dn(C,0,8),D(new N(T),S,C);if(!($=T.c))return null;if(O=$.length-1,B=O*Pt+1,O=$[O]){for(;O%10==0;O/=10,B--);for(O=$[0];O>=10;O/=10,B++);}return S&&T.e+1>B&&(B=T.e+1),B},i.shiftedBy=function(S){return Dn(S,-EI,EI),this.times("1e"+S)},i.squareRoot=i.sqrt=function(){var S,C,$,B,O,T=this,y=T.c,w=T.s,E=T.e,I=o+4,U=new N("0.5");if(w!==1||!y||!y[0])return new N(!w||w<0&&(!y||y[0])?NaN:y?T:1/0);if(w=Math.sqrt(+H(T)),w==0||w==1/0?(C=Wa(y),(C.length+E)%2==0&&(C+="0"),w=Math.sqrt(+C),E=Ga((E+1)/2)-(E<0||E%2),w==1/0?C="5e"+E:(C=w.toExponential(),C=C.slice(0,C.indexOf("e")+1)+E),$=new N(C)):$=new N(w+""),$.c[0]){for(E=$.e,w=E+I,w<3&&(w=0);;)if(O=$,$=U.times(O.plus(e(T,O,I,1))),Wa(O.c).slice(0,w)===(C=Wa($.c)).slice(0,w))if($.e<E&&--w,C=C.slice(w-3,w+1),C=="9999"||!B&&C=="4999"){if(!B&&(D(O,O.e+o+2,0),O.times(O).eq(T))){$=O;break}I+=4,w+=4,B=1}else{(!+C||!+C.slice(1)&&C.charAt(0)=="5")&&(D($,$.e+o+2,1),S=!$.times($).eq(T));break}}return D($,$.e+o+1,a,S)},i.toExponential=function(S,C){return S!=null&&(Dn(S,0,Hi),S++),R(this,S,C,1)},i.toFixed=function(S,C){return S!=null&&(Dn(S,0,Hi),S=S+this.e+1),R(this,S,C)},i.toFormat=function(S,C,$){var B,O=this;if($==null)S!=null&&C&&typeof C=="object"?($=C,C=null):S&&typeof S=="object"?($=S,S=C=null):$=m;else if(typeof $!="object")throw Error(To+"Argument not an object: "+$);if(B=O.toFixed(S,C),O.c){var T,y=B.split("."),w=+$.groupSize,E=+$.secondaryGroupSize,I=$.groupSeparator||"",U=y[0],j=y[1],z=O.s<0,L=z?U.slice(1):U,x=L.length;if(E&&(T=w,w=E,E=T,x-=T),w>0&&x>0){for(T=x%w||w,U=L.substr(0,T);T<x;T+=w)U+=I+L.substr(T,w);E>0&&(U+=I+L.slice(T)),z&&(U="-"+U)}B=j?U+($.decimalSeparator||"")+((E=+$.fractionGroupSize)?j.replace(new RegExp("\\d{"+E+"}\\B","g"),"$&"+($.fractionGroupSeparator||"")):j):U}return($.prefix||"")+B+($.suffix||"")},i.toFraction=function(S){var C,$,B,O,T,y,w,E,I,U,j,z,L=this,x=L.c;if(S!=null&&(w=new N(S),!w.isInteger()&&(w.c||w.s!==1)||w.lt(s)))throw Error(To+"Argument "+(w.isInteger()?"out of range: ":"not an integer: ")+H(w));if(!x)return new N(L);for(C=new N(s),I=$=new N(s),B=E=new N(s),z=Wa(x),T=C.e=z.length-L.e-1,C.c[0]=AI[(y=T%Pt)<0?Pt+y:y],S=!S||w.comparedTo(C)>0?T>0?C:I:w,y=f,f=1/0,w=new N(z),E.c[0]=0;U=e(w,C,0,1),O=$.plus(U.times(B)),O.comparedTo(S)!=1;)$=B,B=O,I=E.plus(U.times(O=I)),E=O,C=w.minus(U.times(O=C)),w=O;return O=e(S.minus($),B,0,1),E=E.plus(O.times(I)),$=$.plus(O.times(B)),E.s=I.s=L.s,T=T*2,j=e(I,B,T,a).minus(L).abs().comparedTo(e(E,$,T,a).minus(L).abs())<1?[I,B]:[E,$],f=y,j},i.toNumber=function(){return+H(this)},i.toPrecision=function(S,C){return S!=null&&Dn(S,1,Hi),R(this,S,C,2)},i.toString=function(S){var C,$=this,B=$.s,O=$.e;return O===null?B?(C="Infinity",B<0&&(C="-"+C)):C="NaN":(S==null?C=O<=c||O>=l?Mv(Wa($.c),O):yf(Wa($.c),O,"0"):S===10&&A?($=D(new N($),o+O+1,a),C=yf(Wa($.c),$.e,"0")):(Dn(S,2,b.length,"Base"),C=r(yf(Wa($.c),O,"0"),10,S,B,!0)),B<0&&$.c[0]&&(C="-"+C)),C},i.valueOf=i.toJSON=function(){return H(this)},i._isBigNumber=!0,i[Symbol.toStringTag]="BigNumber",i[Symbol.for("nodejs.util.inspect.custom")]=i.valueOf,t!=null&&N.set(t),N}function Ga(t){var e=t|0;return t>0||t===e?e:e-1}function Wa(t){for(var e,r,n=1,i=t.length,s=t[0]+"";n<i;){for(e=t[n++]+"",r=Pt-e.length;r--;e="0"+e);s+=e}for(i=s.length;s.charCodeAt(--i)===48;);return s.slice(0,i+1||1)}function i0(t,e){var r,n,i=t.c,s=e.c,o=t.s,a=e.s,c=t.e,l=e.e;if(!o||!a)return null;if(r=i&&!i[0],n=s&&!s[0],r||n)return r?n?0:-a:o;if(o!=a)return o;if(r=o<0,n=c==l,!i||!s)return n?0:!i^r?1:-1;if(!n)return c>l^r?1:-1;for(a=(c=i.length)<(l=s.length)?c:l,o=0;o<a;o++)if(i[o]!=s[o])return i[o]>s[o]^r?1:-1;return c==l?0:c>l^r?1:-1}function Dn(t,e,r,n){if(t<e||t>r||t!==za(t))throw Error(To+(n||"Argument")+(typeof t=="number"?t<e||t>r?" out of range: ":" not an integer: ":" not a primitive number: ")+String(t))}function kv(t){var e=t.c.length-1;return Ga(t.e/Pt)==e&&t.c[e]%2!=0}function Mv(t,e){return(t.length>1?t.charAt(0)+"."+t.slice(1):t)+(e<0?"e":"e+")+e}function yf(t,e,r){var n,i;if(e<0){for(i=r+".";++e;i+=r);t=i+t}else if(n=t.length,++e>n){for(i=r,e-=n;--e;i+=r);t+=i}else e<n&&(t=t.slice(0,e)+"."+t.slice(e));return t}var $c=yY();const xI=[{inputs:[],name:"InvalidInitialization",type:"error"},{inputs:[],name:"NotInitializing",type:"error"},{inputs:[{internalType:"address",name:"owner",type:"address"}],name:"OwnableInvalidOwner",type:"error"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"OwnableUnauthorizedAccount",type:"error"},{inputs:[{internalType:"address",name:"token",type:"address"}],name:"SafeERC20FailedOperation",type:"error"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"user",type:"address"},{indexed:!1,internalType:"uint256",name:"apkAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"gadAmount",type:"uint256"},{indexed:!1,internalType:"uint256",name:"time",type:"uint256"}],name:"BuyApkLog",type:"event"},{anonymous:!1,inputs:[{indexed:!1,internalType:"uint64",name:"version",type:"uint64"}],name:"Initialized",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"previousOwner",type:"address"},{indexed:!0,internalType:"address",name:"newOwner",type:"address"}],name:"OwnershipTransferred",type:"event"},{inputs:[],name:"apk",outputs:[{internalType:"contract IERC20Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"apkAmount",type:"uint256"}],name:"buyApk",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"buyRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"denominator",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"foundRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"gad",outputs:[{internalType:"contract IERC20Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"usdtAmount",type:"uint256"}],name:"getGadAmountByUsdt",outputs:[{internalType:"uint256",name:"gadAmount",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"initialize",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"introBind",outputs:[{internalType:"contract IIntroBind",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"marketRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"owner",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"recordId",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"uint256",name:"",type:"uint256"}],name:"records",outputs:[{internalType:"uint256",name:"id",type:"uint256"},{internalType:"address",name:"user",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"},{internalType:"uint256",name:"startTime",type:"uint256"},{internalType:"bool",name:"isUnlock",type:"bool"}],stateMutability:"view",type:"function"},{inputs:[],name:"renounceOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"uint256",name:"_usdtPrice",type:"uint256"}],name:"setUsdtPrice",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"swapAddress",outputs:[{internalType:"address",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"teamRate",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"newOwner",type:"address"}],name:"transferOwnership",outputs:[],stateMutability:"nonpayable",type:"function"},{inputs:[],name:"usdt",outputs:[{internalType:"contract IERC20Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"},{inputs:[],name:"usdtPrice",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"",type:"address"}],name:"users",outputs:[{internalType:"uint256",name:"lockAmount",type:"uint256"},{internalType:"uint256",name:"haveUnlockAmount",type:"uint256"},{internalType:"uint256",name:"balance",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[],name:"wcfx",outputs:[{internalType:"contract IERC20Metadata",name:"",type:"address"}],stateMutability:"view",type:"function"}],Uv=[{inputs:[{internalType:"string",name:"name",type:"string"},{internalType:"string",name:"symbol",type:"string"}],stateMutability:"nonpayable",type:"constructor"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"owner",type:"address"},{indexed:!0,internalType:"address",name:"spender",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Approval",type:"event"},{anonymous:!1,inputs:[{indexed:!0,internalType:"address",name:"from",type:"address"},{indexed:!0,internalType:"address",name:"to",type:"address"},{indexed:!1,internalType:"uint256",name:"value",type:"uint256"}],name:"Transfer",type:"event"},{inputs:[],name:"name",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"symbol",outputs:[{internalType:"string",name:"",type:"string"}],stateMutability:"view",type:"function"},{inputs:[],name:"decimals",outputs:[{internalType:"uint8",name:"",type:"uint8"}],stateMutability:"view",type:"function"},{inputs:[],name:"totalSupply",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"account",type:"address"}],name:"balanceOf",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transfer",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"owner",type:"address"},{internalType:"address",name:"spender",type:"address"}],name:"allowance",outputs:[{internalType:"uint256",name:"",type:"uint256"}],stateMutability:"view",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"approve",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"sender",type:"address"},{internalType:"address",name:"recipient",type:"address"},{internalType:"uint256",name:"amount",type:"uint256"}],name:"transferFrom",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"addedValue",type:"uint256"}],name:"increaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"},{inputs:[{internalType:"address",name:"spender",type:"address"},{internalType:"uint256",name:"subtractedValue",type:"uint256"}],name:"decreaseAllowance",outputs:[{internalType:"bool",name:"",type:"bool"}],stateMutability:"nonpayable",type:"function"}];var c_={exports:{}};/**
 * @license
 * Lodash <https://lodash.com/>
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var Htt=c_.exports,zB;function jtt(){return zB||(zB=1,(function(t,e){(function(){var r,n="4.17.21",i=200,s="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",o="Expected a function",a="Invalid `variable` option passed into `_.template`",c="__lodash_hash_undefined__",l=500,u="__lodash_placeholder__",f=1,h=2,g=4,_=1,m=2,b=1,A=2,N=4,R=8,k=16,M=32,D=64,H=128,S=256,C=512,$=30,B="...",O=800,T=16,y=1,w=2,E=3,I=1/0,U=9007199254740991,j=17976931348623157e292,z=NaN,L=4294967295,x=L-1,W=L>>>1,K=[["ary",H],["bind",b],["bindKey",A],["curry",R],["curryRight",k],["flip",C],["partial",M],["partialRight",D],["rearg",S]],P="[object Arguments]",X="[object Array]",q="[object AsyncFunction]",te="[object Boolean]",ne="[object Date]",le="[object DOMException]",me="[object Error]",Y="[object Function]",ie="[object GeneratorFunction]",J="[object Map]",ae="[object Number]",Ee="[object Null]",ye="[object Object]",Ie="[object Promise]",Ue="[object Proxy]",Z="[object RegExp]",ee="[object Set]",ge="[object String]",_e="[object Symbol]",Re="[object Undefined]",Pe="[object WeakMap]",ue="[object WeakSet]",be="[object ArrayBuffer]",ze="[object DataView]",Xe="[object Float32Array]",lt="[object Float64Array]",Kr="[object Int8Array]",At="[object Int16Array]",jt="[object Int32Array]",zs="[object Uint8Array]",It="[object Uint8ClampedArray]",Mt="[object Uint16Array]",co="[object Uint32Array]",Nr=/\b__p \+= '';/g,Vr=/\b(__p \+=) '' \+/g,Lu=/(__e\(.*?\)|\b__t\)) \+\n'';/g,$r=/&(?:amp|lt|gt|quot|#39);/g,Fr=/[&<>"']/g,$u=RegExp($r.source),Jr=RegExp(Fr.source),Yr=/<%-([\s\S]+?)%>/g,Fu=/<%([\s\S]+?)%>/g,Br=/<%=([\s\S]+?)%>/g,Xr=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bu=/^\w*$/,Qr=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Or=/[\\^$.*+?()[\]{}|]/g,Hu=RegExp(Or.source),Dr=/^\s+/,Zr=/\s/,ju=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,en=/\{\n\/\* \[wrapped with (.+)\] \*/,tn=/,? & /,Wu=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,rn=/[()=,{}\[\]\/\s]/,nn=/\\(\\)?/g,qu=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Hr=/\w*$/,sn=/^[-+]0x[0-9a-f]+$/i,Bl=/^0b[01]+$/i,Hl=/^\[object .+?Constructor\]$/,jl=/^0o[0-7]+$/i,Wl=/^(?:0|[1-9]\d*)$/,ql=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,sd=/($^)/,Gm=/['\n\r\u2028\u2029\\]/g,od="\\ud800-\\udfff",Km="\\u0300-\\u036f",Vm="\\ufe20-\\ufe2f",Jm="\\u20d0-\\u20ff",mp=Km+Vm+Jm,yp="\\u2700-\\u27bf",_p="a-z\\xdf-\\xf6\\xf8-\\xff",Ym="\\xac\\xb1\\xd7\\xf7",Xm="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Qm="\\u2000-\\u206f",Zm=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",bp="A-Z\\xc0-\\xd6\\xd8-\\xde",F5="\\ufe0e\\ufe0f",B5=Ym+Xm+Qm+Zm,z2="[']",bY="["+od+"]",H5="["+B5+"]",Q1="["+mp+"]",j5="\\d+",wY="["+yp+"]",W5="["+_p+"]",q5="[^"+od+B5+j5+yp+_p+bp+"]",G2="\\ud83c[\\udffb-\\udfff]",vY="(?:"+Q1+"|"+G2+")",z5="[^"+od+"]",K2="(?:\\ud83c[\\udde6-\\uddff]){2}",V2="[\\ud800-\\udbff][\\udc00-\\udfff]",wp="["+bp+"]",G5="\\u200d",K5="(?:"+W5+"|"+q5+")",EY="(?:"+wp+"|"+q5+")",V5="(?:"+z2+"(?:d|ll|m|re|s|t|ve))?",J5="(?:"+z2+"(?:D|LL|M|RE|S|T|VE))?",Y5=vY+"?",X5="["+F5+"]?",AY="(?:"+G5+"(?:"+[z5,K2,V2].join("|")+")"+X5+Y5+")*",xY="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",CY="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Q5=X5+Y5+AY,NY="(?:"+[wY,K2,V2].join("|")+")"+Q5,SY="(?:"+[z5+Q1+"?",Q1,K2,V2,bY].join("|")+")",TY=RegExp(z2,"g"),IY=RegExp(Q1,"g"),J2=RegExp(G2+"(?="+G2+")|"+SY+Q5,"g"),RY=RegExp([wp+"?"+W5+"+"+V5+"(?="+[H5,wp,"$"].join("|")+")",EY+"+"+J5+"(?="+[H5,wp+K5,"$"].join("|")+")",wp+"?"+K5+"+"+V5,wp+"+"+J5,CY,xY,j5,NY].join("|"),"g"),PY=RegExp("["+G5+od+mp+F5+"]"),OY=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,DY=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],kY=-1,bn={};bn[Xe]=bn[lt]=bn[Kr]=bn[At]=bn[jt]=bn[zs]=bn[It]=bn[Mt]=bn[co]=!0,bn[P]=bn[X]=bn[be]=bn[te]=bn[ze]=bn[ne]=bn[me]=bn[Y]=bn[J]=bn[ae]=bn[ye]=bn[Z]=bn[ee]=bn[ge]=bn[Pe]=!1;var fn={};fn[P]=fn[X]=fn[be]=fn[ze]=fn[te]=fn[ne]=fn[Xe]=fn[lt]=fn[Kr]=fn[At]=fn[jt]=fn[J]=fn[ae]=fn[ye]=fn[Z]=fn[ee]=fn[ge]=fn[_e]=fn[zs]=fn[It]=fn[Mt]=fn[co]=!0,fn[me]=fn[Y]=fn[Pe]=!1;var MY={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},UY={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},LY={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},$Y={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},FY=parseFloat,BY=parseInt,Z5=typeof to=="object"&&to&&to.Object===Object&&to,HY=typeof self=="object"&&self&&self.Object===Object&&self,Zi=Z5||HY||Function("return this")(),Y2=e&&!e.nodeType&&e,kh=Y2&&!0&&t&&!t.nodeType&&t,eO=kh&&kh.exports===Y2,X2=eO&&Z5.process,xa=(function(){try{var de=kh&&kh.require&&kh.require("util").types;return de||X2&&X2.binding&&X2.binding("util")}catch{}})(),tO=xa&&xa.isArrayBuffer,rO=xa&&xa.isDate,nO=xa&&xa.isMap,iO=xa&&xa.isRegExp,sO=xa&&xa.isSet,oO=xa&&xa.isTypedArray;function zo(de,xe,ve){switch(ve.length){case 0:return de.call(xe);case 1:return de.call(xe,ve[0]);case 2:return de.call(xe,ve[0],ve[1]);case 3:return de.call(xe,ve[0],ve[1],ve[2])}return de.apply(xe,ve)}function jY(de,xe,ve,et){for(var Ct=-1,Ar=de==null?0:de.length;++Ct<Ar;){var fi=de[Ct];xe(et,fi,ve(fi),de)}return et}function Ca(de,xe){for(var ve=-1,et=de==null?0:de.length;++ve<et&&xe(de[ve],ve,de)!==!1;);return de}function WY(de,xe){for(var ve=de==null?0:de.length;ve--&&xe(de[ve],ve,de)!==!1;);return de}function aO(de,xe){for(var ve=-1,et=de==null?0:de.length;++ve<et;)if(!xe(de[ve],ve,de))return!1;return!0}function ad(de,xe){for(var ve=-1,et=de==null?0:de.length,Ct=0,Ar=[];++ve<et;){var fi=de[ve];xe(fi,ve,de)&&(Ar[Ct++]=fi)}return Ar}function Z1(de,xe){var ve=de==null?0:de.length;return!!ve&&vp(de,xe,0)>-1}function Q2(de,xe,ve){for(var et=-1,Ct=de==null?0:de.length;++et<Ct;)if(ve(xe,de[et]))return!0;return!1}function xn(de,xe){for(var ve=-1,et=de==null?0:de.length,Ct=Array(et);++ve<et;)Ct[ve]=xe(de[ve],ve,de);return Ct}function cd(de,xe){for(var ve=-1,et=xe.length,Ct=de.length;++ve<et;)de[Ct+ve]=xe[ve];return de}function Z2(de,xe,ve,et){var Ct=-1,Ar=de==null?0:de.length;for(et&&Ar&&(ve=de[++Ct]);++Ct<Ar;)ve=xe(ve,de[Ct],Ct,de);return ve}function qY(de,xe,ve,et){var Ct=de==null?0:de.length;for(et&&Ct&&(ve=de[--Ct]);Ct--;)ve=xe(ve,de[Ct],Ct,de);return ve}function eC(de,xe){for(var ve=-1,et=de==null?0:de.length;++ve<et;)if(xe(de[ve],ve,de))return!0;return!1}var zY=tC("length");function GY(de){return de.split("")}function KY(de){return de.match(Wu)||[]}function cO(de,xe,ve){var et;return ve(de,function(Ct,Ar,fi){if(xe(Ct,Ar,fi))return et=Ar,!1}),et}function ew(de,xe,ve,et){for(var Ct=de.length,Ar=ve+(et?1:-1);et?Ar--:++Ar<Ct;)if(xe(de[Ar],Ar,de))return Ar;return-1}function vp(de,xe,ve){return xe===xe?sX(de,xe,ve):ew(de,lO,ve)}function VY(de,xe,ve,et){for(var Ct=ve-1,Ar=de.length;++Ct<Ar;)if(et(de[Ct],xe))return Ct;return-1}function lO(de){return de!==de}function uO(de,xe){var ve=de==null?0:de.length;return ve?nC(de,xe)/ve:z}function tC(de){return function(xe){return xe==null?r:xe[de]}}function rC(de){return function(xe){return de==null?r:de[xe]}}function fO(de,xe,ve,et,Ct){return Ct(de,function(Ar,fi,on){ve=et?(et=!1,Ar):xe(ve,Ar,fi,on)}),ve}function JY(de,xe){var ve=de.length;for(de.sort(xe);ve--;)de[ve]=de[ve].value;return de}function nC(de,xe){for(var ve,et=-1,Ct=de.length;++et<Ct;){var Ar=xe(de[et]);Ar!==r&&(ve=ve===r?Ar:ve+Ar)}return ve}function iC(de,xe){for(var ve=-1,et=Array(de);++ve<de;)et[ve]=xe(ve);return et}function YY(de,xe){return xn(xe,function(ve){return[ve,de[ve]]})}function dO(de){return de&&de.slice(0,mO(de)+1).replace(Dr,"")}function Go(de){return function(xe){return de(xe)}}function sC(de,xe){return xn(xe,function(ve){return de[ve]})}function ey(de,xe){return de.has(xe)}function hO(de,xe){for(var ve=-1,et=de.length;++ve<et&&vp(xe,de[ve],0)>-1;);return ve}function pO(de,xe){for(var ve=de.length;ve--&&vp(xe,de[ve],0)>-1;);return ve}function XY(de,xe){for(var ve=de.length,et=0;ve--;)de[ve]===xe&&++et;return et}var QY=rC(MY),ZY=rC(UY);function eX(de){return"\\"+$Y[de]}function tX(de,xe){return de==null?r:de[xe]}function Ep(de){return PY.test(de)}function rX(de){return OY.test(de)}function nX(de){for(var xe,ve=[];!(xe=de.next()).done;)ve.push(xe.value);return ve}function oC(de){var xe=-1,ve=Array(de.size);return de.forEach(function(et,Ct){ve[++xe]=[Ct,et]}),ve}function gO(de,xe){return function(ve){return de(xe(ve))}}function ld(de,xe){for(var ve=-1,et=de.length,Ct=0,Ar=[];++ve<et;){var fi=de[ve];(fi===xe||fi===u)&&(de[ve]=u,Ar[Ct++]=ve)}return Ar}function tw(de){var xe=-1,ve=Array(de.size);return de.forEach(function(et){ve[++xe]=et}),ve}function iX(de){var xe=-1,ve=Array(de.size);return de.forEach(function(et){ve[++xe]=[et,et]}),ve}function sX(de,xe,ve){for(var et=ve-1,Ct=de.length;++et<Ct;)if(de[et]===xe)return et;return-1}function oX(de,xe,ve){for(var et=ve+1;et--;)if(de[et]===xe)return et;return et}function Ap(de){return Ep(de)?cX(de):zY(de)}function Tc(de){return Ep(de)?lX(de):GY(de)}function mO(de){for(var xe=de.length;xe--&&Zr.test(de.charAt(xe)););return xe}var aX=rC(LY);function cX(de){for(var xe=J2.lastIndex=0;J2.test(de);)++xe;return xe}function lX(de){return de.match(J2)||[]}function uX(de){return de.match(RY)||[]}var fX=(function de(xe){xe=xe==null?Zi:xp.defaults(Zi.Object(),xe,xp.pick(Zi,DY));var ve=xe.Array,et=xe.Date,Ct=xe.Error,Ar=xe.Function,fi=xe.Math,on=xe.Object,aC=xe.RegExp,dX=xe.String,Na=xe.TypeError,rw=ve.prototype,hX=Ar.prototype,Cp=on.prototype,nw=xe["__core-js_shared__"],iw=hX.toString,kr=Cp.hasOwnProperty,pX=0,yO=(function(){var d=/[^.]+$/.exec(nw&&nw.keys&&nw.keys.IE_PROTO||"");return d?"Symbol(src)_1."+d:""})(),sw=Cp.toString,gX=iw.call(on),mX=Zi._,yX=aC("^"+iw.call(kr).replace(Or,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),ow=eO?xe.Buffer:r,ud=xe.Symbol,aw=xe.Uint8Array,_O=ow?ow.allocUnsafe:r,cw=gO(on.getPrototypeOf,on),bO=on.create,wO=Cp.propertyIsEnumerable,lw=rw.splice,vO=ud?ud.isConcatSpreadable:r,ty=ud?ud.iterator:r,Mh=ud?ud.toStringTag:r,uw=(function(){try{var d=Bh(on,"defineProperty");return d({},"",{}),d}catch{}})(),_X=xe.clearTimeout!==Zi.clearTimeout&&xe.clearTimeout,bX=et&&et.now!==Zi.Date.now&&et.now,wX=xe.setTimeout!==Zi.setTimeout&&xe.setTimeout,fw=fi.ceil,dw=fi.floor,cC=on.getOwnPropertySymbols,vX=ow?ow.isBuffer:r,EO=xe.isFinite,EX=rw.join,AX=gO(on.keys,on),di=fi.max,ws=fi.min,xX=et.now,CX=xe.parseInt,AO=fi.random,NX=rw.reverse,lC=Bh(xe,"DataView"),ry=Bh(xe,"Map"),uC=Bh(xe,"Promise"),Np=Bh(xe,"Set"),ny=Bh(xe,"WeakMap"),iy=Bh(on,"create"),hw=ny&&new ny,Sp={},SX=Hh(lC),TX=Hh(ry),IX=Hh(uC),RX=Hh(Np),PX=Hh(ny),pw=ud?ud.prototype:r,sy=pw?pw.valueOf:r,xO=pw?pw.toString:r;function Q(d){if(jn(d)&&!Rt(d)&&!(d instanceof Kt)){if(d instanceof Sa)return d;if(kr.call(d,"__wrapped__"))return C8(d)}return new Sa(d)}var Tp=(function(){function d(){}return function(p){if(!Rn(p))return{};if(bO)return bO(p);d.prototype=p;var v=new d;return d.prototype=r,v}})();function gw(){}function Sa(d,p){this.__wrapped__=d,this.__actions__=[],this.__chain__=!!p,this.__index__=0,this.__values__=r}Q.templateSettings={escape:Yr,evaluate:Fu,interpolate:Br,variable:"",imports:{_:Q}},Q.prototype=gw.prototype,Q.prototype.constructor=Q,Sa.prototype=Tp(gw.prototype),Sa.prototype.constructor=Sa;function Kt(d){this.__wrapped__=d,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=L,this.__views__=[]}function OX(){var d=new Kt(this.__wrapped__);return d.__actions__=lo(this.__actions__),d.__dir__=this.__dir__,d.__filtered__=this.__filtered__,d.__iteratees__=lo(this.__iteratees__),d.__takeCount__=this.__takeCount__,d.__views__=lo(this.__views__),d}function DX(){if(this.__filtered__){var d=new Kt(this);d.__dir__=-1,d.__filtered__=!0}else d=this.clone(),d.__dir__*=-1;return d}function kX(){var d=this.__wrapped__.value(),p=this.__dir__,v=Rt(d),F=p<0,G=v?d.length:0,re=GQ(0,G,this.__views__),oe=re.start,ce=re.end,pe=ce-oe,Ne=F?ce:oe-1,Se=this.__iteratees__,ke=Se.length,qe=0,st=ws(pe,this.__takeCount__);if(!v||!F&&G==pe&&st==pe)return VO(d,this.__actions__);var gt=[];e:for(;pe--&&qe<st;){Ne+=p;for(var Ut=-1,mt=d[Ne];++Ut<ke;){var Wt=Se[Ut],er=Wt.iteratee,Jo=Wt.type,Vs=er(mt);if(Jo==w)mt=Vs;else if(!Vs){if(Jo==y)continue e;break e}}gt[qe++]=mt}return gt}Kt.prototype=Tp(gw.prototype),Kt.prototype.constructor=Kt;function Uh(d){var p=-1,v=d==null?0:d.length;for(this.clear();++p<v;){var F=d[p];this.set(F[0],F[1])}}function MX(){this.__data__=iy?iy(null):{},this.size=0}function UX(d){var p=this.has(d)&&delete this.__data__[d];return this.size-=p?1:0,p}function LX(d){var p=this.__data__;if(iy){var v=p[d];return v===c?r:v}return kr.call(p,d)?p[d]:r}function $X(d){var p=this.__data__;return iy?p[d]!==r:kr.call(p,d)}function FX(d,p){var v=this.__data__;return this.size+=this.has(d)?0:1,v[d]=iy&&p===r?c:p,this}Uh.prototype.clear=MX,Uh.prototype.delete=UX,Uh.prototype.get=LX,Uh.prototype.has=$X,Uh.prototype.set=FX;function zu(d){var p=-1,v=d==null?0:d.length;for(this.clear();++p<v;){var F=d[p];this.set(F[0],F[1])}}function BX(){this.__data__=[],this.size=0}function HX(d){var p=this.__data__,v=mw(p,d);if(v<0)return!1;var F=p.length-1;return v==F?p.pop():lw.call(p,v,1),--this.size,!0}function jX(d){var p=this.__data__,v=mw(p,d);return v<0?r:p[v][1]}function WX(d){return mw(this.__data__,d)>-1}function qX(d,p){var v=this.__data__,F=mw(v,d);return F<0?(++this.size,v.push([d,p])):v[F][1]=p,this}zu.prototype.clear=BX,zu.prototype.delete=HX,zu.prototype.get=jX,zu.prototype.has=WX,zu.prototype.set=qX;function Gu(d){var p=-1,v=d==null?0:d.length;for(this.clear();++p<v;){var F=d[p];this.set(F[0],F[1])}}function zX(){this.size=0,this.__data__={hash:new Uh,map:new(ry||zu),string:new Uh}}function GX(d){var p=Tw(this,d).delete(d);return this.size-=p?1:0,p}function KX(d){return Tw(this,d).get(d)}function VX(d){return Tw(this,d).has(d)}function JX(d,p){var v=Tw(this,d),F=v.size;return v.set(d,p),this.size+=v.size==F?0:1,this}Gu.prototype.clear=zX,Gu.prototype.delete=GX,Gu.prototype.get=KX,Gu.prototype.has=VX,Gu.prototype.set=JX;function Lh(d){var p=-1,v=d==null?0:d.length;for(this.__data__=new Gu;++p<v;)this.add(d[p])}function YX(d){return this.__data__.set(d,c),this}function XX(d){return this.__data__.has(d)}Lh.prototype.add=Lh.prototype.push=YX,Lh.prototype.has=XX;function Ic(d){var p=this.__data__=new zu(d);this.size=p.size}function QX(){this.__data__=new zu,this.size=0}function ZX(d){var p=this.__data__,v=p.delete(d);return this.size=p.size,v}function eQ(d){return this.__data__.get(d)}function tQ(d){return this.__data__.has(d)}function rQ(d,p){var v=this.__data__;if(v instanceof zu){var F=v.__data__;if(!ry||F.length<i-1)return F.push([d,p]),this.size=++v.size,this;v=this.__data__=new Gu(F)}return v.set(d,p),this.size=v.size,this}Ic.prototype.clear=QX,Ic.prototype.delete=ZX,Ic.prototype.get=eQ,Ic.prototype.has=tQ,Ic.prototype.set=rQ;function CO(d,p){var v=Rt(d),F=!v&&jh(d),G=!v&&!F&&gd(d),re=!v&&!F&&!G&&Op(d),oe=v||F||G||re,ce=oe?iC(d.length,dX):[],pe=ce.length;for(var Ne in d)(p||kr.call(d,Ne))&&!(oe&&(Ne=="length"||G&&(Ne=="offset"||Ne=="parent")||re&&(Ne=="buffer"||Ne=="byteLength"||Ne=="byteOffset")||Yu(Ne,pe)))&&ce.push(Ne);return ce}function NO(d){var p=d.length;return p?d[vC(0,p-1)]:r}function nQ(d,p){return Iw(lo(d),$h(p,0,d.length))}function iQ(d){return Iw(lo(d))}function fC(d,p,v){(v!==r&&!Rc(d[p],v)||v===r&&!(p in d))&&Ku(d,p,v)}function oy(d,p,v){var F=d[p];(!(kr.call(d,p)&&Rc(F,v))||v===r&&!(p in d))&&Ku(d,p,v)}function mw(d,p){for(var v=d.length;v--;)if(Rc(d[v][0],p))return v;return-1}function sQ(d,p,v,F){return fd(d,function(G,re,oe){p(F,G,v(G),oe)}),F}function SO(d,p){return d&&Gl(p,Fi(p),d)}function oQ(d,p){return d&&Gl(p,fo(p),d)}function Ku(d,p,v){p=="__proto__"&&uw?uw(d,p,{configurable:!0,enumerable:!0,value:v,writable:!0}):d[p]=v}function dC(d,p){for(var v=-1,F=p.length,G=ve(F),re=d==null;++v<F;)G[v]=re?r:GC(d,p[v]);return G}function $h(d,p,v){return d===d&&(v!==r&&(d=d<=v?d:v),p!==r&&(d=d>=p?d:p)),d}function Ta(d,p,v,F,G,re){var oe,ce=p&f,pe=p&h,Ne=p&g;if(v&&(oe=G?v(d,F,G,re):v(d)),oe!==r)return oe;if(!Rn(d))return d;var Se=Rt(d);if(Se){if(oe=VQ(d),!ce)return lo(d,oe)}else{var ke=vs(d),qe=ke==Y||ke==ie;if(gd(d))return XO(d,ce);if(ke==ye||ke==P||qe&&!G){if(oe=pe||qe?{}:m8(d),!ce)return pe?LQ(d,oQ(oe,d)):UQ(d,SO(oe,d))}else{if(!fn[ke])return G?d:{};oe=JQ(d,ke,ce)}}re||(re=new Ic);var st=re.get(d);if(st)return st;re.set(d,oe),z8(d)?d.forEach(function(mt){oe.add(Ta(mt,p,v,mt,d,re))}):W8(d)&&d.forEach(function(mt,Wt){oe.set(Wt,Ta(mt,p,v,Wt,d,re))});var gt=Ne?pe?OC:PC:pe?fo:Fi,Ut=Se?r:gt(d);return Ca(Ut||d,function(mt,Wt){Ut&&(Wt=mt,mt=d[Wt]),oy(oe,Wt,Ta(mt,p,v,Wt,d,re))}),oe}function aQ(d){var p=Fi(d);return function(v){return TO(v,d,p)}}function TO(d,p,v){var F=v.length;if(d==null)return!F;for(d=on(d);F--;){var G=v[F],re=p[G],oe=d[G];if(oe===r&&!(G in d)||!re(oe))return!1}return!0}function IO(d,p,v){if(typeof d!="function")throw new Na(o);return hy(function(){d.apply(r,v)},p)}function ay(d,p,v,F){var G=-1,re=Z1,oe=!0,ce=d.length,pe=[],Ne=p.length;if(!ce)return pe;v&&(p=xn(p,Go(v))),F?(re=Q2,oe=!1):p.length>=i&&(re=ey,oe=!1,p=new Lh(p));e:for(;++G<ce;){var Se=d[G],ke=v==null?Se:v(Se);if(Se=F||Se!==0?Se:0,oe&&ke===ke){for(var qe=Ne;qe--;)if(p[qe]===ke)continue e;pe.push(Se)}else re(p,ke,F)||pe.push(Se)}return pe}var fd=r8(zl),RO=r8(pC,!0);function cQ(d,p){var v=!0;return fd(d,function(F,G,re){return v=!!p(F,G,re),v}),v}function yw(d,p,v){for(var F=-1,G=d.length;++F<G;){var re=d[F],oe=p(re);if(oe!=null&&(ce===r?oe===oe&&!Vo(oe):v(oe,ce)))var ce=oe,pe=re}return pe}function lQ(d,p,v,F){var G=d.length;for(v=kt(v),v<0&&(v=-v>G?0:G+v),F=F===r||F>G?G:kt(F),F<0&&(F+=G),F=v>F?0:K8(F);v<F;)d[v++]=p;return d}function PO(d,p){var v=[];return fd(d,function(F,G,re){p(F,G,re)&&v.push(F)}),v}function es(d,p,v,F,G){var re=-1,oe=d.length;for(v||(v=XQ),G||(G=[]);++re<oe;){var ce=d[re];p>0&&v(ce)?p>1?es(ce,p-1,v,F,G):cd(G,ce):F||(G[G.length]=ce)}return G}var hC=n8(),OO=n8(!0);function zl(d,p){return d&&hC(d,p,Fi)}function pC(d,p){return d&&OO(d,p,Fi)}function _w(d,p){return ad(p,function(v){return Xu(d[v])})}function Fh(d,p){p=hd(p,d);for(var v=0,F=p.length;d!=null&&v<F;)d=d[Kl(p[v++])];return v&&v==F?d:r}function DO(d,p,v){var F=p(d);return Rt(d)?F:cd(F,v(d))}function Gs(d){return d==null?d===r?Re:Ee:Mh&&Mh in on(d)?zQ(d):iZ(d)}function gC(d,p){return d>p}function uQ(d,p){return d!=null&&kr.call(d,p)}function fQ(d,p){return d!=null&&p in on(d)}function dQ(d,p,v){return d>=ws(p,v)&&d<di(p,v)}function mC(d,p,v){for(var F=v?Q2:Z1,G=d[0].length,re=d.length,oe=re,ce=ve(re),pe=1/0,Ne=[];oe--;){var Se=d[oe];oe&&p&&(Se=xn(Se,Go(p))),pe=ws(Se.length,pe),ce[oe]=!v&&(p||G>=120&&Se.length>=120)?new Lh(oe&&Se):r}Se=d[0];var ke=-1,qe=ce[0];e:for(;++ke<G&&Ne.length<pe;){var st=Se[ke],gt=p?p(st):st;if(st=v||st!==0?st:0,!(qe?ey(qe,gt):F(Ne,gt,v))){for(oe=re;--oe;){var Ut=ce[oe];if(!(Ut?ey(Ut,gt):F(d[oe],gt,v)))continue e}qe&&qe.push(gt),Ne.push(st)}}return Ne}function hQ(d,p,v,F){return zl(d,function(G,re,oe){p(F,v(G),re,oe)}),F}function cy(d,p,v){p=hd(p,d),d=w8(d,p);var F=d==null?d:d[Kl(Ra(p))];return F==null?r:zo(F,d,v)}function kO(d){return jn(d)&&Gs(d)==P}function pQ(d){return jn(d)&&Gs(d)==be}function gQ(d){return jn(d)&&Gs(d)==ne}function ly(d,p,v,F,G){return d===p?!0:d==null||p==null||!jn(d)&&!jn(p)?d!==d&&p!==p:mQ(d,p,v,F,ly,G)}function mQ(d,p,v,F,G,re){var oe=Rt(d),ce=Rt(p),pe=oe?X:vs(d),Ne=ce?X:vs(p);pe=pe==P?ye:pe,Ne=Ne==P?ye:Ne;var Se=pe==ye,ke=Ne==ye,qe=pe==Ne;if(qe&&gd(d)){if(!gd(p))return!1;oe=!0,Se=!1}if(qe&&!Se)return re||(re=new Ic),oe||Op(d)?h8(d,p,v,F,G,re):WQ(d,p,pe,v,F,G,re);if(!(v&_)){var st=Se&&kr.call(d,"__wrapped__"),gt=ke&&kr.call(p,"__wrapped__");if(st||gt){var Ut=st?d.value():d,mt=gt?p.value():p;return re||(re=new Ic),G(Ut,mt,v,F,re)}}return qe?(re||(re=new Ic),qQ(d,p,v,F,G,re)):!1}function yQ(d){return jn(d)&&vs(d)==J}function yC(d,p,v,F){var G=v.length,re=G,oe=!F;if(d==null)return!re;for(d=on(d);G--;){var ce=v[G];if(oe&&ce[2]?ce[1]!==d[ce[0]]:!(ce[0]in d))return!1}for(;++G<re;){ce=v[G];var pe=ce[0],Ne=d[pe],Se=ce[1];if(oe&&ce[2]){if(Ne===r&&!(pe in d))return!1}else{var ke=new Ic;if(F)var qe=F(Ne,Se,pe,d,p,ke);if(!(qe===r?ly(Se,Ne,_|m,F,ke):qe))return!1}}return!0}function MO(d){if(!Rn(d)||ZQ(d))return!1;var p=Xu(d)?yX:Hl;return p.test(Hh(d))}function _Q(d){return jn(d)&&Gs(d)==Z}function bQ(d){return jn(d)&&vs(d)==ee}function wQ(d){return jn(d)&&Mw(d.length)&&!!bn[Gs(d)]}function UO(d){return typeof d=="function"?d:d==null?ho:typeof d=="object"?Rt(d)?FO(d[0],d[1]):$O(d):i4(d)}function _C(d){if(!dy(d))return AX(d);var p=[];for(var v in on(d))kr.call(d,v)&&v!="constructor"&&p.push(v);return p}function vQ(d){if(!Rn(d))return nZ(d);var p=dy(d),v=[];for(var F in d)F=="constructor"&&(p||!kr.call(d,F))||v.push(F);return v}function bC(d,p){return d<p}function LO(d,p){var v=-1,F=uo(d)?ve(d.length):[];return fd(d,function(G,re,oe){F[++v]=p(G,re,oe)}),F}function $O(d){var p=kC(d);return p.length==1&&p[0][2]?_8(p[0][0],p[0][1]):function(v){return v===d||yC(v,d,p)}}function FO(d,p){return UC(d)&&y8(p)?_8(Kl(d),p):function(v){var F=GC(v,d);return F===r&&F===p?KC(v,d):ly(p,F,_|m)}}function bw(d,p,v,F,G){d!==p&&hC(p,function(re,oe){if(G||(G=new Ic),Rn(re))EQ(d,p,oe,v,bw,F,G);else{var ce=F?F($C(d,oe),re,oe+"",d,p,G):r;ce===r&&(ce=re),fC(d,oe,ce)}},fo)}function EQ(d,p,v,F,G,re,oe){var ce=$C(d,v),pe=$C(p,v),Ne=oe.get(pe);if(Ne){fC(d,v,Ne);return}var Se=re?re(ce,pe,v+"",d,p,oe):r,ke=Se===r;if(ke){var qe=Rt(pe),st=!qe&&gd(pe),gt=!qe&&!st&&Op(pe);Se=pe,qe||st||gt?Rt(ce)?Se=ce:Vn(ce)?Se=lo(ce):st?(ke=!1,Se=XO(pe,!0)):gt?(ke=!1,Se=QO(pe,!0)):Se=[]:py(pe)||jh(pe)?(Se=ce,jh(ce)?Se=V8(ce):(!Rn(ce)||Xu(ce))&&(Se=m8(pe))):ke=!1}ke&&(oe.set(pe,Se),G(Se,pe,F,re,oe),oe.delete(pe)),fC(d,v,Se)}function BO(d,p){var v=d.length;if(v)return p+=p<0?v:0,Yu(p,v)?d[p]:r}function HO(d,p,v){p.length?p=xn(p,function(re){return Rt(re)?function(oe){return Fh(oe,re.length===1?re[0]:re)}:re}):p=[ho];var F=-1;p=xn(p,Go(ht()));var G=LO(d,function(re,oe,ce){var pe=xn(p,function(Ne){return Ne(re)});return{criteria:pe,index:++F,value:re}});return JY(G,function(re,oe){return MQ(re,oe,v)})}function AQ(d,p){return jO(d,p,function(v,F){return KC(d,F)})}function jO(d,p,v){for(var F=-1,G=p.length,re={};++F<G;){var oe=p[F],ce=Fh(d,oe);v(ce,oe)&&uy(re,hd(oe,d),ce)}return re}function xQ(d){return function(p){return Fh(p,d)}}function wC(d,p,v,F){var G=F?VY:vp,re=-1,oe=p.length,ce=d;for(d===p&&(p=lo(p)),v&&(ce=xn(d,Go(v)));++re<oe;)for(var pe=0,Ne=p[re],Se=v?v(Ne):Ne;(pe=G(ce,Se,pe,F))>-1;)ce!==d&&lw.call(ce,pe,1),lw.call(d,pe,1);return d}function WO(d,p){for(var v=d?p.length:0,F=v-1;v--;){var G=p[v];if(v==F||G!==re){var re=G;Yu(G)?lw.call(d,G,1):xC(d,G)}}return d}function vC(d,p){return d+dw(AO()*(p-d+1))}function CQ(d,p,v,F){for(var G=-1,re=di(fw((p-d)/(v||1)),0),oe=ve(re);re--;)oe[F?re:++G]=d,d+=v;return oe}function EC(d,p){var v="";if(!d||p<1||p>U)return v;do p%2&&(v+=d),p=dw(p/2),p&&(d+=d);while(p);return v}function Ft(d,p){return FC(b8(d,p,ho),d+"")}function NQ(d){return NO(Dp(d))}function SQ(d,p){var v=Dp(d);return Iw(v,$h(p,0,v.length))}function uy(d,p,v,F){if(!Rn(d))return d;p=hd(p,d);for(var G=-1,re=p.length,oe=re-1,ce=d;ce!=null&&++G<re;){var pe=Kl(p[G]),Ne=v;if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return d;if(G!=oe){var Se=ce[pe];Ne=F?F(Se,pe,ce):r,Ne===r&&(Ne=Rn(Se)?Se:Yu(p[G+1])?[]:{})}oy(ce,pe,Ne),ce=ce[pe]}return d}var qO=hw?function(d,p){return hw.set(d,p),d}:ho,TQ=uw?function(d,p){return uw(d,"toString",{configurable:!0,enumerable:!1,value:JC(p),writable:!0})}:ho;function IQ(d){return Iw(Dp(d))}function Ia(d,p,v){var F=-1,G=d.length;p<0&&(p=-p>G?0:G+p),v=v>G?G:v,v<0&&(v+=G),G=p>v?0:v-p>>>0,p>>>=0;for(var re=ve(G);++F<G;)re[F]=d[F+p];return re}function RQ(d,p){var v;return fd(d,function(F,G,re){return v=p(F,G,re),!v}),!!v}function ww(d,p,v){var F=0,G=d==null?F:d.length;if(typeof p=="number"&&p===p&&G<=W){for(;F<G;){var re=F+G>>>1,oe=d[re];oe!==null&&!Vo(oe)&&(v?oe<=p:oe<p)?F=re+1:G=re}return G}return AC(d,p,ho,v)}function AC(d,p,v,F){var G=0,re=d==null?0:d.length;if(re===0)return 0;p=v(p);for(var oe=p!==p,ce=p===null,pe=Vo(p),Ne=p===r;G<re;){var Se=dw((G+re)/2),ke=v(d[Se]),qe=ke!==r,st=ke===null,gt=ke===ke,Ut=Vo(ke);if(oe)var mt=F||gt;else Ne?mt=gt&&(F||qe):ce?mt=gt&&qe&&(F||!st):pe?mt=gt&&qe&&!st&&(F||!Ut):st||Ut?mt=!1:mt=F?ke<=p:ke<p;mt?G=Se+1:re=Se}return ws(re,x)}function zO(d,p){for(var v=-1,F=d.length,G=0,re=[];++v<F;){var oe=d[v],ce=p?p(oe):oe;if(!v||!Rc(ce,pe)){var pe=ce;re[G++]=oe===0?0:oe}}return re}function GO(d){return typeof d=="number"?d:Vo(d)?z:+d}function Ko(d){if(typeof d=="string")return d;if(Rt(d))return xn(d,Ko)+"";if(Vo(d))return xO?xO.call(d):"";var p=d+"";return p=="0"&&1/d==-I?"-0":p}function dd(d,p,v){var F=-1,G=Z1,re=d.length,oe=!0,ce=[],pe=ce;if(v)oe=!1,G=Q2;else if(re>=i){var Ne=p?null:HQ(d);if(Ne)return tw(Ne);oe=!1,G=ey,pe=new Lh}else pe=p?[]:ce;e:for(;++F<re;){var Se=d[F],ke=p?p(Se):Se;if(Se=v||Se!==0?Se:0,oe&&ke===ke){for(var qe=pe.length;qe--;)if(pe[qe]===ke)continue e;p&&pe.push(ke),ce.push(Se)}else G(pe,ke,v)||(pe!==ce&&pe.push(ke),ce.push(Se))}return ce}function xC(d,p){return p=hd(p,d),d=w8(d,p),d==null||delete d[Kl(Ra(p))]}function KO(d,p,v,F){return uy(d,p,v(Fh(d,p)),F)}function vw(d,p,v,F){for(var G=d.length,re=F?G:-1;(F?re--:++re<G)&&p(d[re],re,d););return v?Ia(d,F?0:re,F?re+1:G):Ia(d,F?re+1:0,F?G:re)}function VO(d,p){var v=d;return v instanceof Kt&&(v=v.value()),Z2(p,function(F,G){return G.func.apply(G.thisArg,cd([F],G.args))},v)}function CC(d,p,v){var F=d.length;if(F<2)return F?dd(d[0]):[];for(var G=-1,re=ve(F);++G<F;)for(var oe=d[G],ce=-1;++ce<F;)ce!=G&&(re[G]=ay(re[G]||oe,d[ce],p,v));return dd(es(re,1),p,v)}function JO(d,p,v){for(var F=-1,G=d.length,re=p.length,oe={};++F<G;){var ce=F<re?p[F]:r;v(oe,d[F],ce)}return oe}function NC(d){return Vn(d)?d:[]}function SC(d){return typeof d=="function"?d:ho}function hd(d,p){return Rt(d)?d:UC(d,p)?[d]:x8(Sr(d))}var PQ=Ft;function pd(d,p,v){var F=d.length;return v=v===r?F:v,!p&&v>=F?d:Ia(d,p,v)}var YO=_X||function(d){return Zi.clearTimeout(d)};function XO(d,p){if(p)return d.slice();var v=d.length,F=_O?_O(v):new d.constructor(v);return d.copy(F),F}function TC(d){var p=new d.constructor(d.byteLength);return new aw(p).set(new aw(d)),p}function OQ(d,p){var v=p?TC(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.byteLength)}function DQ(d){var p=new d.constructor(d.source,Hr.exec(d));return p.lastIndex=d.lastIndex,p}function kQ(d){return sy?on(sy.call(d)):{}}function QO(d,p){var v=p?TC(d.buffer):d.buffer;return new d.constructor(v,d.byteOffset,d.length)}function ZO(d,p){if(d!==p){var v=d!==r,F=d===null,G=d===d,re=Vo(d),oe=p!==r,ce=p===null,pe=p===p,Ne=Vo(p);if(!ce&&!Ne&&!re&&d>p||re&&oe&&pe&&!ce&&!Ne||F&&oe&&pe||!v&&pe||!G)return 1;if(!F&&!re&&!Ne&&d<p||Ne&&v&&G&&!F&&!re||ce&&v&&G||!oe&&G||!pe)return-1}return 0}function MQ(d,p,v){for(var F=-1,G=d.criteria,re=p.criteria,oe=G.length,ce=v.length;++F<oe;){var pe=ZO(G[F],re[F]);if(pe){if(F>=ce)return pe;var Ne=v[F];return pe*(Ne=="desc"?-1:1)}}return d.index-p.index}function e8(d,p,v,F){for(var G=-1,re=d.length,oe=v.length,ce=-1,pe=p.length,Ne=di(re-oe,0),Se=ve(pe+Ne),ke=!F;++ce<pe;)Se[ce]=p[ce];for(;++G<oe;)(ke||G<re)&&(Se[v[G]]=d[G]);for(;Ne--;)Se[ce++]=d[G++];return Se}function t8(d,p,v,F){for(var G=-1,re=d.length,oe=-1,ce=v.length,pe=-1,Ne=p.length,Se=di(re-ce,0),ke=ve(Se+Ne),qe=!F;++G<Se;)ke[G]=d[G];for(var st=G;++pe<Ne;)ke[st+pe]=p[pe];for(;++oe<ce;)(qe||G<re)&&(ke[st+v[oe]]=d[G++]);return ke}function lo(d,p){var v=-1,F=d.length;for(p||(p=ve(F));++v<F;)p[v]=d[v];return p}function Gl(d,p,v,F){var G=!v;v||(v={});for(var re=-1,oe=p.length;++re<oe;){var ce=p[re],pe=F?F(v[ce],d[ce],ce,v,d):r;pe===r&&(pe=d[ce]),G?Ku(v,ce,pe):oy(v,ce,pe)}return v}function UQ(d,p){return Gl(d,MC(d),p)}function LQ(d,p){return Gl(d,p8(d),p)}function Ew(d,p){return function(v,F){var G=Rt(v)?jY:sQ,re=p?p():{};return G(v,d,ht(F,2),re)}}function Ip(d){return Ft(function(p,v){var F=-1,G=v.length,re=G>1?v[G-1]:r,oe=G>2?v[2]:r;for(re=d.length>3&&typeof re=="function"?(G--,re):r,oe&&Ks(v[0],v[1],oe)&&(re=G<3?r:re,G=1),p=on(p);++F<G;){var ce=v[F];ce&&d(p,ce,F,re)}return p})}function r8(d,p){return function(v,F){if(v==null)return v;if(!uo(v))return d(v,F);for(var G=v.length,re=p?G:-1,oe=on(v);(p?re--:++re<G)&&F(oe[re],re,oe)!==!1;);return v}}function n8(d){return function(p,v,F){for(var G=-1,re=on(p),oe=F(p),ce=oe.length;ce--;){var pe=oe[d?ce:++G];if(v(re[pe],pe,re)===!1)break}return p}}function $Q(d,p,v){var F=p&b,G=fy(d);function re(){var oe=this&&this!==Zi&&this instanceof re?G:d;return oe.apply(F?v:this,arguments)}return re}function i8(d){return function(p){p=Sr(p);var v=Ep(p)?Tc(p):r,F=v?v[0]:p.charAt(0),G=v?pd(v,1).join(""):p.slice(1);return F[d]()+G}}function Rp(d){return function(p){return Z2(r4(t4(p).replace(TY,"")),d,"")}}function fy(d){return function(){var p=arguments;switch(p.length){case 0:return new d;case 1:return new d(p[0]);case 2:return new d(p[0],p[1]);case 3:return new d(p[0],p[1],p[2]);case 4:return new d(p[0],p[1],p[2],p[3]);case 5:return new d(p[0],p[1],p[2],p[3],p[4]);case 6:return new d(p[0],p[1],p[2],p[3],p[4],p[5]);case 7:return new d(p[0],p[1],p[2],p[3],p[4],p[5],p[6])}var v=Tp(d.prototype),F=d.apply(v,p);return Rn(F)?F:v}}function FQ(d,p,v){var F=fy(d);function G(){for(var re=arguments.length,oe=ve(re),ce=re,pe=Pp(G);ce--;)oe[ce]=arguments[ce];var Ne=re<3&&oe[0]!==pe&&oe[re-1]!==pe?[]:ld(oe,pe);if(re-=Ne.length,re<v)return l8(d,p,Aw,G.placeholder,r,oe,Ne,r,r,v-re);var Se=this&&this!==Zi&&this instanceof G?F:d;return zo(Se,this,oe)}return G}function s8(d){return function(p,v,F){var G=on(p);if(!uo(p)){var re=ht(v,3);p=Fi(p),v=function(ce){return re(G[ce],ce,G)}}var oe=d(p,v,F);return oe>-1?G[re?p[oe]:oe]:r}}function o8(d){return Ju(function(p){var v=p.length,F=v,G=Sa.prototype.thru;for(d&&p.reverse();F--;){var re=p[F];if(typeof re!="function")throw new Na(o);if(G&&!oe&&Sw(re)=="wrapper")var oe=new Sa([],!0)}for(F=oe?F:v;++F<v;){re=p[F];var ce=Sw(re),pe=ce=="wrapper"?DC(re):r;pe&&LC(pe[0])&&pe[1]==(H|R|M|S)&&!pe[4].length&&pe[9]==1?oe=oe[Sw(pe[0])].apply(oe,pe[3]):oe=re.length==1&&LC(re)?oe[ce]():oe.thru(re)}return function(){var Ne=arguments,Se=Ne[0];if(oe&&Ne.length==1&&Rt(Se))return oe.plant(Se).value();for(var ke=0,qe=v?p[ke].apply(this,Ne):Se;++ke<v;)qe=p[ke].call(this,qe);return qe}})}function Aw(d,p,v,F,G,re,oe,ce,pe,Ne){var Se=p&H,ke=p&b,qe=p&A,st=p&(R|k),gt=p&C,Ut=qe?r:fy(d);function mt(){for(var Wt=arguments.length,er=ve(Wt),Jo=Wt;Jo--;)er[Jo]=arguments[Jo];if(st)var Vs=Pp(mt),Yo=XY(er,Vs);if(F&&(er=e8(er,F,G,st)),re&&(er=t8(er,re,oe,st)),Wt-=Yo,st&&Wt<Ne){var Jn=ld(er,Vs);return l8(d,p,Aw,mt.placeholder,v,er,Jn,ce,pe,Ne-Wt)}var Pc=ke?v:this,Zu=qe?Pc[d]:d;return Wt=er.length,ce?er=sZ(er,ce):gt&&Wt>1&&er.reverse(),Se&&pe<Wt&&(er.length=pe),this&&this!==Zi&&this instanceof mt&&(Zu=Ut||fy(Zu)),Zu.apply(Pc,er)}return mt}function a8(d,p){return function(v,F){return hQ(v,d,p(F),{})}}function xw(d,p){return function(v,F){var G;if(v===r&&F===r)return p;if(v!==r&&(G=v),F!==r){if(G===r)return F;typeof v=="string"||typeof F=="string"?(v=Ko(v),F=Ko(F)):(v=GO(v),F=GO(F)),G=d(v,F)}return G}}function IC(d){return Ju(function(p){return p=xn(p,Go(ht())),Ft(function(v){var F=this;return d(p,function(G){return zo(G,F,v)})})})}function Cw(d,p){p=p===r?" ":Ko(p);var v=p.length;if(v<2)return v?EC(p,d):p;var F=EC(p,fw(d/Ap(p)));return Ep(p)?pd(Tc(F),0,d).join(""):F.slice(0,d)}function BQ(d,p,v,F){var G=p&b,re=fy(d);function oe(){for(var ce=-1,pe=arguments.length,Ne=-1,Se=F.length,ke=ve(Se+pe),qe=this&&this!==Zi&&this instanceof oe?re:d;++Ne<Se;)ke[Ne]=F[Ne];for(;pe--;)ke[Ne++]=arguments[++ce];return zo(qe,G?v:this,ke)}return oe}function c8(d){return function(p,v,F){return F&&typeof F!="number"&&Ks(p,v,F)&&(v=F=r),p=Qu(p),v===r?(v=p,p=0):v=Qu(v),F=F===r?p<v?1:-1:Qu(F),CQ(p,v,F,d)}}function Nw(d){return function(p,v){return typeof p=="string"&&typeof v=="string"||(p=Pa(p),v=Pa(v)),d(p,v)}}function l8(d,p,v,F,G,re,oe,ce,pe,Ne){var Se=p&R,ke=Se?oe:r,qe=Se?r:oe,st=Se?re:r,gt=Se?r:re;p|=Se?M:D,p&=~(Se?D:M),p&N||(p&=-4);var Ut=[d,p,G,st,ke,gt,qe,ce,pe,Ne],mt=v.apply(r,Ut);return LC(d)&&v8(mt,Ut),mt.placeholder=F,E8(mt,d,p)}function RC(d){var p=fi[d];return function(v,F){if(v=Pa(v),F=F==null?0:ws(kt(F),292),F&&EO(v)){var G=(Sr(v)+"e").split("e"),re=p(G[0]+"e"+(+G[1]+F));return G=(Sr(re)+"e").split("e"),+(G[0]+"e"+(+G[1]-F))}return p(v)}}var HQ=Np&&1/tw(new Np([,-0]))[1]==I?function(d){return new Np(d)}:QC;function u8(d){return function(p){var v=vs(p);return v==J?oC(p):v==ee?iX(p):YY(p,d(p))}}function Vu(d,p,v,F,G,re,oe,ce){var pe=p&A;if(!pe&&typeof d!="function")throw new Na(o);var Ne=F?F.length:0;if(Ne||(p&=-97,F=G=r),oe=oe===r?oe:di(kt(oe),0),ce=ce===r?ce:kt(ce),Ne-=G?G.length:0,p&D){var Se=F,ke=G;F=G=r}var qe=pe?r:DC(d),st=[d,p,v,F,G,Se,ke,re,oe,ce];if(qe&&rZ(st,qe),d=st[0],p=st[1],v=st[2],F=st[3],G=st[4],ce=st[9]=st[9]===r?pe?0:d.length:di(st[9]-Ne,0),!ce&&p&(R|k)&&(p&=-25),!p||p==b)var gt=$Q(d,p,v);else p==R||p==k?gt=FQ(d,p,ce):(p==M||p==(b|M))&&!G.length?gt=BQ(d,p,v,F):gt=Aw.apply(r,st);var Ut=qe?qO:v8;return E8(Ut(gt,st),d,p)}function f8(d,p,v,F){return d===r||Rc(d,Cp[v])&&!kr.call(F,v)?p:d}function d8(d,p,v,F,G,re){return Rn(d)&&Rn(p)&&(re.set(p,d),bw(d,p,r,d8,re),re.delete(p)),d}function jQ(d){return py(d)?r:d}function h8(d,p,v,F,G,re){var oe=v&_,ce=d.length,pe=p.length;if(ce!=pe&&!(oe&&pe>ce))return!1;var Ne=re.get(d),Se=re.get(p);if(Ne&&Se)return Ne==p&&Se==d;var ke=-1,qe=!0,st=v&m?new Lh:r;for(re.set(d,p),re.set(p,d);++ke<ce;){var gt=d[ke],Ut=p[ke];if(F)var mt=oe?F(Ut,gt,ke,p,d,re):F(gt,Ut,ke,d,p,re);if(mt!==r){if(mt)continue;qe=!1;break}if(st){if(!eC(p,function(Wt,er){if(!ey(st,er)&&(gt===Wt||G(gt,Wt,v,F,re)))return st.push(er)})){qe=!1;break}}else if(!(gt===Ut||G(gt,Ut,v,F,re))){qe=!1;break}}return re.delete(d),re.delete(p),qe}function WQ(d,p,v,F,G,re,oe){switch(v){case ze:if(d.byteLength!=p.byteLength||d.byteOffset!=p.byteOffset)return!1;d=d.buffer,p=p.buffer;case be:return!(d.byteLength!=p.byteLength||!re(new aw(d),new aw(p)));case te:case ne:case ae:return Rc(+d,+p);case me:return d.name==p.name&&d.message==p.message;case Z:case ge:return d==p+"";case J:var ce=oC;case ee:var pe=F&_;if(ce||(ce=tw),d.size!=p.size&&!pe)return!1;var Ne=oe.get(d);if(Ne)return Ne==p;F|=m,oe.set(d,p);var Se=h8(ce(d),ce(p),F,G,re,oe);return oe.delete(d),Se;case _e:if(sy)return sy.call(d)==sy.call(p)}return!1}function qQ(d,p,v,F,G,re){var oe=v&_,ce=PC(d),pe=ce.length,Ne=PC(p),Se=Ne.length;if(pe!=Se&&!oe)return!1;for(var ke=pe;ke--;){var qe=ce[ke];if(!(oe?qe in p:kr.call(p,qe)))return!1}var st=re.get(d),gt=re.get(p);if(st&&gt)return st==p&&gt==d;var Ut=!0;re.set(d,p),re.set(p,d);for(var mt=oe;++ke<pe;){qe=ce[ke];var Wt=d[qe],er=p[qe];if(F)var Jo=oe?F(er,Wt,qe,p,d,re):F(Wt,er,qe,d,p,re);if(!(Jo===r?Wt===er||G(Wt,er,v,F,re):Jo)){Ut=!1;break}mt||(mt=qe=="constructor")}if(Ut&&!mt){var Vs=d.constructor,Yo=p.constructor;Vs!=Yo&&"constructor"in d&&"constructor"in p&&!(typeof Vs=="function"&&Vs instanceof Vs&&typeof Yo=="function"&&Yo instanceof Yo)&&(Ut=!1)}return re.delete(d),re.delete(p),Ut}function Ju(d){return FC(b8(d,r,T8),d+"")}function PC(d){return DO(d,Fi,MC)}function OC(d){return DO(d,fo,p8)}var DC=hw?function(d){return hw.get(d)}:QC;function Sw(d){for(var p=d.name+"",v=Sp[p],F=kr.call(Sp,p)?v.length:0;F--;){var G=v[F],re=G.func;if(re==null||re==d)return G.name}return p}function Pp(d){var p=kr.call(Q,"placeholder")?Q:d;return p.placeholder}function ht(){var d=Q.iteratee||YC;return d=d===YC?UO:d,arguments.length?d(arguments[0],arguments[1]):d}function Tw(d,p){var v=d.__data__;return QQ(p)?v[typeof p=="string"?"string":"hash"]:v.map}function kC(d){for(var p=Fi(d),v=p.length;v--;){var F=p[v],G=d[F];p[v]=[F,G,y8(G)]}return p}function Bh(d,p){var v=tX(d,p);return MO(v)?v:r}function zQ(d){var p=kr.call(d,Mh),v=d[Mh];try{d[Mh]=r;var F=!0}catch{}var G=sw.call(d);return F&&(p?d[Mh]=v:delete d[Mh]),G}var MC=cC?function(d){return d==null?[]:(d=on(d),ad(cC(d),function(p){return wO.call(d,p)}))}:ZC,p8=cC?function(d){for(var p=[];d;)cd(p,MC(d)),d=cw(d);return p}:ZC,vs=Gs;(lC&&vs(new lC(new ArrayBuffer(1)))!=ze||ry&&vs(new ry)!=J||uC&&vs(uC.resolve())!=Ie||Np&&vs(new Np)!=ee||ny&&vs(new ny)!=Pe)&&(vs=function(d){var p=Gs(d),v=p==ye?d.constructor:r,F=v?Hh(v):"";if(F)switch(F){case SX:return ze;case TX:return J;case IX:return Ie;case RX:return ee;case PX:return Pe}return p});function GQ(d,p,v){for(var F=-1,G=v.length;++F<G;){var re=v[F],oe=re.size;switch(re.type){case"drop":d+=oe;break;case"dropRight":p-=oe;break;case"take":p=ws(p,d+oe);break;case"takeRight":d=di(d,p-oe);break}}return{start:d,end:p}}function KQ(d){var p=d.match(en);return p?p[1].split(tn):[]}function g8(d,p,v){p=hd(p,d);for(var F=-1,G=p.length,re=!1;++F<G;){var oe=Kl(p[F]);if(!(re=d!=null&&v(d,oe)))break;d=d[oe]}return re||++F!=G?re:(G=d==null?0:d.length,!!G&&Mw(G)&&Yu(oe,G)&&(Rt(d)||jh(d)))}function VQ(d){var p=d.length,v=new d.constructor(p);return p&&typeof d[0]=="string"&&kr.call(d,"index")&&(v.index=d.index,v.input=d.input),v}function m8(d){return typeof d.constructor=="function"&&!dy(d)?Tp(cw(d)):{}}function JQ(d,p,v){var F=d.constructor;switch(p){case be:return TC(d);case te:case ne:return new F(+d);case ze:return OQ(d,v);case Xe:case lt:case Kr:case At:case jt:case zs:case It:case Mt:case co:return QO(d,v);case J:return new F;case ae:case ge:return new F(d);case Z:return DQ(d);case ee:return new F;case _e:return kQ(d)}}function YQ(d,p){var v=p.length;if(!v)return d;var F=v-1;return p[F]=(v>1?"& ":"")+p[F],p=p.join(v>2?", ":" "),d.replace(ju,`{
/* [wrapped with `+p+`] */
`)}function XQ(d){return Rt(d)||jh(d)||!!(vO&&d&&d[vO])}function Yu(d,p){var v=typeof d;return p=p??U,!!p&&(v=="number"||v!="symbol"&&Wl.test(d))&&d>-1&&d%1==0&&d<p}function Ks(d,p,v){if(!Rn(v))return!1;var F=typeof p;return(F=="number"?uo(v)&&Yu(p,v.length):F=="string"&&p in v)?Rc(v[p],d):!1}function UC(d,p){if(Rt(d))return!1;var v=typeof d;return v=="number"||v=="symbol"||v=="boolean"||d==null||Vo(d)?!0:Bu.test(d)||!Xr.test(d)||p!=null&&d in on(p)}function QQ(d){var p=typeof d;return p=="string"||p=="number"||p=="symbol"||p=="boolean"?d!=="__proto__":d===null}function LC(d){var p=Sw(d),v=Q[p];if(typeof v!="function"||!(p in Kt.prototype))return!1;if(d===v)return!0;var F=DC(v);return!!F&&d===F[0]}function ZQ(d){return!!yO&&yO in d}var eZ=nw?Xu:eN;function dy(d){var p=d&&d.constructor,v=typeof p=="function"&&p.prototype||Cp;return d===v}function y8(d){return d===d&&!Rn(d)}function _8(d,p){return function(v){return v==null?!1:v[d]===p&&(p!==r||d in on(v))}}function tZ(d){var p=Dw(d,function(F){return v.size===l&&v.clear(),F}),v=p.cache;return p}function rZ(d,p){var v=d[1],F=p[1],G=v|F,re=G<(b|A|H),oe=F==H&&v==R||F==H&&v==S&&d[7].length<=p[8]||F==(H|S)&&p[7].length<=p[8]&&v==R;if(!(re||oe))return d;F&b&&(d[2]=p[2],G|=v&b?0:N);var ce=p[3];if(ce){var pe=d[3];d[3]=pe?e8(pe,ce,p[4]):ce,d[4]=pe?ld(d[3],u):p[4]}return ce=p[5],ce&&(pe=d[5],d[5]=pe?t8(pe,ce,p[6]):ce,d[6]=pe?ld(d[5],u):p[6]),ce=p[7],ce&&(d[7]=ce),F&H&&(d[8]=d[8]==null?p[8]:ws(d[8],p[8])),d[9]==null&&(d[9]=p[9]),d[0]=p[0],d[1]=G,d}function nZ(d){var p=[];if(d!=null)for(var v in on(d))p.push(v);return p}function iZ(d){return sw.call(d)}function b8(d,p,v){return p=di(p===r?d.length-1:p,0),function(){for(var F=arguments,G=-1,re=di(F.length-p,0),oe=ve(re);++G<re;)oe[G]=F[p+G];G=-1;for(var ce=ve(p+1);++G<p;)ce[G]=F[G];return ce[p]=v(oe),zo(d,this,ce)}}function w8(d,p){return p.length<2?d:Fh(d,Ia(p,0,-1))}function sZ(d,p){for(var v=d.length,F=ws(p.length,v),G=lo(d);F--;){var re=p[F];d[F]=Yu(re,v)?G[re]:r}return d}function $C(d,p){if(!(p==="constructor"&&typeof d[p]=="function")&&p!="__proto__")return d[p]}var v8=A8(qO),hy=wX||function(d,p){return Zi.setTimeout(d,p)},FC=A8(TQ);function E8(d,p,v){var F=p+"";return FC(d,YQ(F,oZ(KQ(F),v)))}function A8(d){var p=0,v=0;return function(){var F=xX(),G=T-(F-v);if(v=F,G>0){if(++p>=O)return arguments[0]}else p=0;return d.apply(r,arguments)}}function Iw(d,p){var v=-1,F=d.length,G=F-1;for(p=p===r?F:p;++v<p;){var re=vC(v,G),oe=d[re];d[re]=d[v],d[v]=oe}return d.length=p,d}var x8=tZ(function(d){var p=[];return d.charCodeAt(0)===46&&p.push(""),d.replace(Qr,function(v,F,G,re){p.push(G?re.replace(nn,"$1"):F||v)}),p});function Kl(d){if(typeof d=="string"||Vo(d))return d;var p=d+"";return p=="0"&&1/d==-I?"-0":p}function Hh(d){if(d!=null){try{return iw.call(d)}catch{}try{return d+""}catch{}}return""}function oZ(d,p){return Ca(K,function(v){var F="_."+v[0];p&v[1]&&!Z1(d,F)&&d.push(F)}),d.sort()}function C8(d){if(d instanceof Kt)return d.clone();var p=new Sa(d.__wrapped__,d.__chain__);return p.__actions__=lo(d.__actions__),p.__index__=d.__index__,p.__values__=d.__values__,p}function aZ(d,p,v){(v?Ks(d,p,v):p===r)?p=1:p=di(kt(p),0);var F=d==null?0:d.length;if(!F||p<1)return[];for(var G=0,re=0,oe=ve(fw(F/p));G<F;)oe[re++]=Ia(d,G,G+=p);return oe}function cZ(d){for(var p=-1,v=d==null?0:d.length,F=0,G=[];++p<v;){var re=d[p];re&&(G[F++]=re)}return G}function lZ(){var d=arguments.length;if(!d)return[];for(var p=ve(d-1),v=arguments[0],F=d;F--;)p[F-1]=arguments[F];return cd(Rt(v)?lo(v):[v],es(p,1))}var uZ=Ft(function(d,p){return Vn(d)?ay(d,es(p,1,Vn,!0)):[]}),fZ=Ft(function(d,p){var v=Ra(p);return Vn(v)&&(v=r),Vn(d)?ay(d,es(p,1,Vn,!0),ht(v,2)):[]}),dZ=Ft(function(d,p){var v=Ra(p);return Vn(v)&&(v=r),Vn(d)?ay(d,es(p,1,Vn,!0),r,v):[]});function hZ(d,p,v){var F=d==null?0:d.length;return F?(p=v||p===r?1:kt(p),Ia(d,p<0?0:p,F)):[]}function pZ(d,p,v){var F=d==null?0:d.length;return F?(p=v||p===r?1:kt(p),p=F-p,Ia(d,0,p<0?0:p)):[]}function gZ(d,p){return d&&d.length?vw(d,ht(p,3),!0,!0):[]}function mZ(d,p){return d&&d.length?vw(d,ht(p,3),!0):[]}function yZ(d,p,v,F){var G=d==null?0:d.length;return G?(v&&typeof v!="number"&&Ks(d,p,v)&&(v=0,F=G),lQ(d,p,v,F)):[]}function N8(d,p,v){var F=d==null?0:d.length;if(!F)return-1;var G=v==null?0:kt(v);return G<0&&(G=di(F+G,0)),ew(d,ht(p,3),G)}function S8(d,p,v){var F=d==null?0:d.length;if(!F)return-1;var G=F-1;return v!==r&&(G=kt(v),G=v<0?di(F+G,0):ws(G,F-1)),ew(d,ht(p,3),G,!0)}function T8(d){var p=d==null?0:d.length;return p?es(d,1):[]}function _Z(d){var p=d==null?0:d.length;return p?es(d,I):[]}function bZ(d,p){var v=d==null?0:d.length;return v?(p=p===r?1:kt(p),es(d,p)):[]}function wZ(d){for(var p=-1,v=d==null?0:d.length,F={};++p<v;){var G=d[p];F[G[0]]=G[1]}return F}function I8(d){return d&&d.length?d[0]:r}function vZ(d,p,v){var F=d==null?0:d.length;if(!F)return-1;var G=v==null?0:kt(v);return G<0&&(G=di(F+G,0)),vp(d,p,G)}function EZ(d){var p=d==null?0:d.length;return p?Ia(d,0,-1):[]}var AZ=Ft(function(d){var p=xn(d,NC);return p.length&&p[0]===d[0]?mC(p):[]}),xZ=Ft(function(d){var p=Ra(d),v=xn(d,NC);return p===Ra(v)?p=r:v.pop(),v.length&&v[0]===d[0]?mC(v,ht(p,2)):[]}),CZ=Ft(function(d){var p=Ra(d),v=xn(d,NC);return p=typeof p=="function"?p:r,p&&v.pop(),v.length&&v[0]===d[0]?mC(v,r,p):[]});function NZ(d,p){return d==null?"":EX.call(d,p)}function Ra(d){var p=d==null?0:d.length;return p?d[p-1]:r}function SZ(d,p,v){var F=d==null?0:d.length;if(!F)return-1;var G=F;return v!==r&&(G=kt(v),G=G<0?di(F+G,0):ws(G,F-1)),p===p?oX(d,p,G):ew(d,lO,G,!0)}function TZ(d,p){return d&&d.length?BO(d,kt(p)):r}var IZ=Ft(R8);function R8(d,p){return d&&d.length&&p&&p.length?wC(d,p):d}function RZ(d,p,v){return d&&d.length&&p&&p.length?wC(d,p,ht(v,2)):d}function PZ(d,p,v){return d&&d.length&&p&&p.length?wC(d,p,r,v):d}var OZ=Ju(function(d,p){var v=d==null?0:d.length,F=dC(d,p);return WO(d,xn(p,function(G){return Yu(G,v)?+G:G}).sort(ZO)),F});function DZ(d,p){var v=[];if(!(d&&d.length))return v;var F=-1,G=[],re=d.length;for(p=ht(p,3);++F<re;){var oe=d[F];p(oe,F,d)&&(v.push(oe),G.push(F))}return WO(d,G),v}function BC(d){return d==null?d:NX.call(d)}function kZ(d,p,v){var F=d==null?0:d.length;return F?(v&&typeof v!="number"&&Ks(d,p,v)?(p=0,v=F):(p=p==null?0:kt(p),v=v===r?F:kt(v)),Ia(d,p,v)):[]}function MZ(d,p){return ww(d,p)}function UZ(d,p,v){return AC(d,p,ht(v,2))}function LZ(d,p){var v=d==null?0:d.length;if(v){var F=ww(d,p);if(F<v&&Rc(d[F],p))return F}return-1}function $Z(d,p){return ww(d,p,!0)}function FZ(d,p,v){return AC(d,p,ht(v,2),!0)}function BZ(d,p){var v=d==null?0:d.length;if(v){var F=ww(d,p,!0)-1;if(Rc(d[F],p))return F}return-1}function HZ(d){return d&&d.length?zO(d):[]}function jZ(d,p){return d&&d.length?zO(d,ht(p,2)):[]}function WZ(d){var p=d==null?0:d.length;return p?Ia(d,1,p):[]}function qZ(d,p,v){return d&&d.length?(p=v||p===r?1:kt(p),Ia(d,0,p<0?0:p)):[]}function zZ(d,p,v){var F=d==null?0:d.length;return F?(p=v||p===r?1:kt(p),p=F-p,Ia(d,p<0?0:p,F)):[]}function GZ(d,p){return d&&d.length?vw(d,ht(p,3),!1,!0):[]}function KZ(d,p){return d&&d.length?vw(d,ht(p,3)):[]}var VZ=Ft(function(d){return dd(es(d,1,Vn,!0))}),JZ=Ft(function(d){var p=Ra(d);return Vn(p)&&(p=r),dd(es(d,1,Vn,!0),ht(p,2))}),YZ=Ft(function(d){var p=Ra(d);return p=typeof p=="function"?p:r,dd(es(d,1,Vn,!0),r,p)});function XZ(d){return d&&d.length?dd(d):[]}function QZ(d,p){return d&&d.length?dd(d,ht(p,2)):[]}function ZZ(d,p){return p=typeof p=="function"?p:r,d&&d.length?dd(d,r,p):[]}function HC(d){if(!(d&&d.length))return[];var p=0;return d=ad(d,function(v){if(Vn(v))return p=di(v.length,p),!0}),iC(p,function(v){return xn(d,tC(v))})}function P8(d,p){if(!(d&&d.length))return[];var v=HC(d);return p==null?v:xn(v,function(F){return zo(p,r,F)})}var eee=Ft(function(d,p){return Vn(d)?ay(d,p):[]}),tee=Ft(function(d){return CC(ad(d,Vn))}),ree=Ft(function(d){var p=Ra(d);return Vn(p)&&(p=r),CC(ad(d,Vn),ht(p,2))}),nee=Ft(function(d){var p=Ra(d);return p=typeof p=="function"?p:r,CC(ad(d,Vn),r,p)}),iee=Ft(HC);function see(d,p){return JO(d||[],p||[],oy)}function oee(d,p){return JO(d||[],p||[],uy)}var aee=Ft(function(d){var p=d.length,v=p>1?d[p-1]:r;return v=typeof v=="function"?(d.pop(),v):r,P8(d,v)});function O8(d){var p=Q(d);return p.__chain__=!0,p}function cee(d,p){return p(d),d}function Rw(d,p){return p(d)}var lee=Ju(function(d){var p=d.length,v=p?d[0]:0,F=this.__wrapped__,G=function(re){return dC(re,d)};return p>1||this.__actions__.length||!(F instanceof Kt)||!Yu(v)?this.thru(G):(F=F.slice(v,+v+(p?1:0)),F.__actions__.push({func:Rw,args:[G],thisArg:r}),new Sa(F,this.__chain__).thru(function(re){return p&&!re.length&&re.push(r),re}))});function uee(){return O8(this)}function fee(){return new Sa(this.value(),this.__chain__)}function dee(){this.__values__===r&&(this.__values__=G8(this.value()));var d=this.__index__>=this.__values__.length,p=d?r:this.__values__[this.__index__++];return{done:d,value:p}}function hee(){return this}function pee(d){for(var p,v=this;v instanceof gw;){var F=C8(v);F.__index__=0,F.__values__=r,p?G.__wrapped__=F:p=F;var G=F;v=v.__wrapped__}return G.__wrapped__=d,p}function gee(){var d=this.__wrapped__;if(d instanceof Kt){var p=d;return this.__actions__.length&&(p=new Kt(this)),p=p.reverse(),p.__actions__.push({func:Rw,args:[BC],thisArg:r}),new Sa(p,this.__chain__)}return this.thru(BC)}function mee(){return VO(this.__wrapped__,this.__actions__)}var yee=Ew(function(d,p,v){kr.call(d,v)?++d[v]:Ku(d,v,1)});function _ee(d,p,v){var F=Rt(d)?aO:cQ;return v&&Ks(d,p,v)&&(p=r),F(d,ht(p,3))}function bee(d,p){var v=Rt(d)?ad:PO;return v(d,ht(p,3))}var wee=s8(N8),vee=s8(S8);function Eee(d,p){return es(Pw(d,p),1)}function Aee(d,p){return es(Pw(d,p),I)}function xee(d,p,v){return v=v===r?1:kt(v),es(Pw(d,p),v)}function D8(d,p){var v=Rt(d)?Ca:fd;return v(d,ht(p,3))}function k8(d,p){var v=Rt(d)?WY:RO;return v(d,ht(p,3))}var Cee=Ew(function(d,p,v){kr.call(d,v)?d[v].push(p):Ku(d,v,[p])});function Nee(d,p,v,F){d=uo(d)?d:Dp(d),v=v&&!F?kt(v):0;var G=d.length;return v<0&&(v=di(G+v,0)),Uw(d)?v<=G&&d.indexOf(p,v)>-1:!!G&&vp(d,p,v)>-1}var See=Ft(function(d,p,v){var F=-1,G=typeof p=="function",re=uo(d)?ve(d.length):[];return fd(d,function(oe){re[++F]=G?zo(p,oe,v):cy(oe,p,v)}),re}),Tee=Ew(function(d,p,v){Ku(d,v,p)});function Pw(d,p){var v=Rt(d)?xn:LO;return v(d,ht(p,3))}function Iee(d,p,v,F){return d==null?[]:(Rt(p)||(p=p==null?[]:[p]),v=F?r:v,Rt(v)||(v=v==null?[]:[v]),HO(d,p,v))}var Ree=Ew(function(d,p,v){d[v?0:1].push(p)},function(){return[[],[]]});function Pee(d,p,v){var F=Rt(d)?Z2:fO,G=arguments.length<3;return F(d,ht(p,4),v,G,fd)}function Oee(d,p,v){var F=Rt(d)?qY:fO,G=arguments.length<3;return F(d,ht(p,4),v,G,RO)}function Dee(d,p){var v=Rt(d)?ad:PO;return v(d,kw(ht(p,3)))}function kee(d){var p=Rt(d)?NO:NQ;return p(d)}function Mee(d,p,v){(v?Ks(d,p,v):p===r)?p=1:p=kt(p);var F=Rt(d)?nQ:SQ;return F(d,p)}function Uee(d){var p=Rt(d)?iQ:IQ;return p(d)}function Lee(d){if(d==null)return 0;if(uo(d))return Uw(d)?Ap(d):d.length;var p=vs(d);return p==J||p==ee?d.size:_C(d).length}function $ee(d,p,v){var F=Rt(d)?eC:RQ;return v&&Ks(d,p,v)&&(p=r),F(d,ht(p,3))}var Fee=Ft(function(d,p){if(d==null)return[];var v=p.length;return v>1&&Ks(d,p[0],p[1])?p=[]:v>2&&Ks(p[0],p[1],p[2])&&(p=[p[0]]),HO(d,es(p,1),[])}),Ow=bX||function(){return Zi.Date.now()};function Bee(d,p){if(typeof p!="function")throw new Na(o);return d=kt(d),function(){if(--d<1)return p.apply(this,arguments)}}function M8(d,p,v){return p=v?r:p,p=d&&p==null?d.length:p,Vu(d,H,r,r,r,r,p)}function U8(d,p){var v;if(typeof p!="function")throw new Na(o);return d=kt(d),function(){return--d>0&&(v=p.apply(this,arguments)),d<=1&&(p=r),v}}var jC=Ft(function(d,p,v){var F=b;if(v.length){var G=ld(v,Pp(jC));F|=M}return Vu(d,F,p,v,G)}),L8=Ft(function(d,p,v){var F=b|A;if(v.length){var G=ld(v,Pp(L8));F|=M}return Vu(p,F,d,v,G)});function $8(d,p,v){p=v?r:p;var F=Vu(d,R,r,r,r,r,r,p);return F.placeholder=$8.placeholder,F}function F8(d,p,v){p=v?r:p;var F=Vu(d,k,r,r,r,r,r,p);return F.placeholder=F8.placeholder,F}function B8(d,p,v){var F,G,re,oe,ce,pe,Ne=0,Se=!1,ke=!1,qe=!0;if(typeof d!="function")throw new Na(o);p=Pa(p)||0,Rn(v)&&(Se=!!v.leading,ke="maxWait"in v,re=ke?di(Pa(v.maxWait)||0,p):re,qe="trailing"in v?!!v.trailing:qe);function st(Jn){var Pc=F,Zu=G;return F=G=r,Ne=Jn,oe=d.apply(Zu,Pc),oe}function gt(Jn){return Ne=Jn,ce=hy(Wt,p),Se?st(Jn):oe}function Ut(Jn){var Pc=Jn-pe,Zu=Jn-Ne,s4=p-Pc;return ke?ws(s4,re-Zu):s4}function mt(Jn){var Pc=Jn-pe,Zu=Jn-Ne;return pe===r||Pc>=p||Pc<0||ke&&Zu>=re}function Wt(){var Jn=Ow();if(mt(Jn))return er(Jn);ce=hy(Wt,Ut(Jn))}function er(Jn){return ce=r,qe&&F?st(Jn):(F=G=r,oe)}function Jo(){ce!==r&&YO(ce),Ne=0,F=pe=G=ce=r}function Vs(){return ce===r?oe:er(Ow())}function Yo(){var Jn=Ow(),Pc=mt(Jn);if(F=arguments,G=this,pe=Jn,Pc){if(ce===r)return gt(pe);if(ke)return YO(ce),ce=hy(Wt,p),st(pe)}return ce===r&&(ce=hy(Wt,p)),oe}return Yo.cancel=Jo,Yo.flush=Vs,Yo}var Hee=Ft(function(d,p){return IO(d,1,p)}),jee=Ft(function(d,p,v){return IO(d,Pa(p)||0,v)});function Wee(d){return Vu(d,C)}function Dw(d,p){if(typeof d!="function"||p!=null&&typeof p!="function")throw new Na(o);var v=function(){var F=arguments,G=p?p.apply(this,F):F[0],re=v.cache;if(re.has(G))return re.get(G);var oe=d.apply(this,F);return v.cache=re.set(G,oe)||re,oe};return v.cache=new(Dw.Cache||Gu),v}Dw.Cache=Gu;function kw(d){if(typeof d!="function")throw new Na(o);return function(){var p=arguments;switch(p.length){case 0:return!d.call(this);case 1:return!d.call(this,p[0]);case 2:return!d.call(this,p[0],p[1]);case 3:return!d.call(this,p[0],p[1],p[2])}return!d.apply(this,p)}}function qee(d){return U8(2,d)}var zee=PQ(function(d,p){p=p.length==1&&Rt(p[0])?xn(p[0],Go(ht())):xn(es(p,1),Go(ht()));var v=p.length;return Ft(function(F){for(var G=-1,re=ws(F.length,v);++G<re;)F[G]=p[G].call(this,F[G]);return zo(d,this,F)})}),WC=Ft(function(d,p){var v=ld(p,Pp(WC));return Vu(d,M,r,p,v)}),H8=Ft(function(d,p){var v=ld(p,Pp(H8));return Vu(d,D,r,p,v)}),Gee=Ju(function(d,p){return Vu(d,S,r,r,r,p)});function Kee(d,p){if(typeof d!="function")throw new Na(o);return p=p===r?p:kt(p),Ft(d,p)}function Vee(d,p){if(typeof d!="function")throw new Na(o);return p=p==null?0:di(kt(p),0),Ft(function(v){var F=v[p],G=pd(v,0,p);return F&&cd(G,F),zo(d,this,G)})}function Jee(d,p,v){var F=!0,G=!0;if(typeof d!="function")throw new Na(o);return Rn(v)&&(F="leading"in v?!!v.leading:F,G="trailing"in v?!!v.trailing:G),B8(d,p,{leading:F,maxWait:p,trailing:G})}function Yee(d){return M8(d,1)}function Xee(d,p){return WC(SC(p),d)}function Qee(){if(!arguments.length)return[];var d=arguments[0];return Rt(d)?d:[d]}function Zee(d){return Ta(d,g)}function ete(d,p){return p=typeof p=="function"?p:r,Ta(d,g,p)}function tte(d){return Ta(d,f|g)}function rte(d,p){return p=typeof p=="function"?p:r,Ta(d,f|g,p)}function nte(d,p){return p==null||TO(d,p,Fi(p))}function Rc(d,p){return d===p||d!==d&&p!==p}var ite=Nw(gC),ste=Nw(function(d,p){return d>=p}),jh=kO((function(){return arguments})())?kO:function(d){return jn(d)&&kr.call(d,"callee")&&!wO.call(d,"callee")},Rt=ve.isArray,ote=tO?Go(tO):pQ;function uo(d){return d!=null&&Mw(d.length)&&!Xu(d)}function Vn(d){return jn(d)&&uo(d)}function ate(d){return d===!0||d===!1||jn(d)&&Gs(d)==te}var gd=vX||eN,cte=rO?Go(rO):gQ;function lte(d){return jn(d)&&d.nodeType===1&&!py(d)}function ute(d){if(d==null)return!0;if(uo(d)&&(Rt(d)||typeof d=="string"||typeof d.splice=="function"||gd(d)||Op(d)||jh(d)))return!d.length;var p=vs(d);if(p==J||p==ee)return!d.size;if(dy(d))return!_C(d).length;for(var v in d)if(kr.call(d,v))return!1;return!0}function fte(d,p){return ly(d,p)}function dte(d,p,v){v=typeof v=="function"?v:r;var F=v?v(d,p):r;return F===r?ly(d,p,r,v):!!F}function qC(d){if(!jn(d))return!1;var p=Gs(d);return p==me||p==le||typeof d.message=="string"&&typeof d.name=="string"&&!py(d)}function hte(d){return typeof d=="number"&&EO(d)}function Xu(d){if(!Rn(d))return!1;var p=Gs(d);return p==Y||p==ie||p==q||p==Ue}function j8(d){return typeof d=="number"&&d==kt(d)}function Mw(d){return typeof d=="number"&&d>-1&&d%1==0&&d<=U}function Rn(d){var p=typeof d;return d!=null&&(p=="object"||p=="function")}function jn(d){return d!=null&&typeof d=="object"}var W8=nO?Go(nO):yQ;function pte(d,p){return d===p||yC(d,p,kC(p))}function gte(d,p,v){return v=typeof v=="function"?v:r,yC(d,p,kC(p),v)}function mte(d){return q8(d)&&d!=+d}function yte(d){if(eZ(d))throw new Ct(s);return MO(d)}function _te(d){return d===null}function bte(d){return d==null}function q8(d){return typeof d=="number"||jn(d)&&Gs(d)==ae}function py(d){if(!jn(d)||Gs(d)!=ye)return!1;var p=cw(d);if(p===null)return!0;var v=kr.call(p,"constructor")&&p.constructor;return typeof v=="function"&&v instanceof v&&iw.call(v)==gX}var zC=iO?Go(iO):_Q;function wte(d){return j8(d)&&d>=-U&&d<=U}var z8=sO?Go(sO):bQ;function Uw(d){return typeof d=="string"||!Rt(d)&&jn(d)&&Gs(d)==ge}function Vo(d){return typeof d=="symbol"||jn(d)&&Gs(d)==_e}var Op=oO?Go(oO):wQ;function vte(d){return d===r}function Ete(d){return jn(d)&&vs(d)==Pe}function Ate(d){return jn(d)&&Gs(d)==ue}var xte=Nw(bC),Cte=Nw(function(d,p){return d<=p});function G8(d){if(!d)return[];if(uo(d))return Uw(d)?Tc(d):lo(d);if(ty&&d[ty])return nX(d[ty]());var p=vs(d),v=p==J?oC:p==ee?tw:Dp;return v(d)}function Qu(d){if(!d)return d===0?d:0;if(d=Pa(d),d===I||d===-I){var p=d<0?-1:1;return p*j}return d===d?d:0}function kt(d){var p=Qu(d),v=p%1;return p===p?v?p-v:p:0}function K8(d){return d?$h(kt(d),0,L):0}function Pa(d){if(typeof d=="number")return d;if(Vo(d))return z;if(Rn(d)){var p=typeof d.valueOf=="function"?d.valueOf():d;d=Rn(p)?p+"":p}if(typeof d!="string")return d===0?d:+d;d=dO(d);var v=Bl.test(d);return v||jl.test(d)?BY(d.slice(2),v?2:8):sn.test(d)?z:+d}function V8(d){return Gl(d,fo(d))}function Nte(d){return d?$h(kt(d),-U,U):d===0?d:0}function Sr(d){return d==null?"":Ko(d)}var Ste=Ip(function(d,p){if(dy(p)||uo(p)){Gl(p,Fi(p),d);return}for(var v in p)kr.call(p,v)&&oy(d,v,p[v])}),J8=Ip(function(d,p){Gl(p,fo(p),d)}),Lw=Ip(function(d,p,v,F){Gl(p,fo(p),d,F)}),Tte=Ip(function(d,p,v,F){Gl(p,Fi(p),d,F)}),Ite=Ju(dC);function Rte(d,p){var v=Tp(d);return p==null?v:SO(v,p)}var Pte=Ft(function(d,p){d=on(d);var v=-1,F=p.length,G=F>2?p[2]:r;for(G&&Ks(p[0],p[1],G)&&(F=1);++v<F;)for(var re=p[v],oe=fo(re),ce=-1,pe=oe.length;++ce<pe;){var Ne=oe[ce],Se=d[Ne];(Se===r||Rc(Se,Cp[Ne])&&!kr.call(d,Ne))&&(d[Ne]=re[Ne])}return d}),Ote=Ft(function(d){return d.push(r,d8),zo(Y8,r,d)});function Dte(d,p){return cO(d,ht(p,3),zl)}function kte(d,p){return cO(d,ht(p,3),pC)}function Mte(d,p){return d==null?d:hC(d,ht(p,3),fo)}function Ute(d,p){return d==null?d:OO(d,ht(p,3),fo)}function Lte(d,p){return d&&zl(d,ht(p,3))}function $te(d,p){return d&&pC(d,ht(p,3))}function Fte(d){return d==null?[]:_w(d,Fi(d))}function Bte(d){return d==null?[]:_w(d,fo(d))}function GC(d,p,v){var F=d==null?r:Fh(d,p);return F===r?v:F}function Hte(d,p){return d!=null&&g8(d,p,uQ)}function KC(d,p){return d!=null&&g8(d,p,fQ)}var jte=a8(function(d,p,v){p!=null&&typeof p.toString!="function"&&(p=sw.call(p)),d[p]=v},JC(ho)),Wte=a8(function(d,p,v){p!=null&&typeof p.toString!="function"&&(p=sw.call(p)),kr.call(d,p)?d[p].push(v):d[p]=[v]},ht),qte=Ft(cy);function Fi(d){return uo(d)?CO(d):_C(d)}function fo(d){return uo(d)?CO(d,!0):vQ(d)}function zte(d,p){var v={};return p=ht(p,3),zl(d,function(F,G,re){Ku(v,p(F,G,re),F)}),v}function Gte(d,p){var v={};return p=ht(p,3),zl(d,function(F,G,re){Ku(v,G,p(F,G,re))}),v}var Kte=Ip(function(d,p,v){bw(d,p,v)}),Y8=Ip(function(d,p,v,F){bw(d,p,v,F)}),Vte=Ju(function(d,p){var v={};if(d==null)return v;var F=!1;p=xn(p,function(re){return re=hd(re,d),F||(F=re.length>1),re}),Gl(d,OC(d),v),F&&(v=Ta(v,f|h|g,jQ));for(var G=p.length;G--;)xC(v,p[G]);return v});function Jte(d,p){return X8(d,kw(ht(p)))}var Yte=Ju(function(d,p){return d==null?{}:AQ(d,p)});function X8(d,p){if(d==null)return{};var v=xn(OC(d),function(F){return[F]});return p=ht(p),jO(d,v,function(F,G){return p(F,G[0])})}function Xte(d,p,v){p=hd(p,d);var F=-1,G=p.length;for(G||(G=1,d=r);++F<G;){var re=d==null?r:d[Kl(p[F])];re===r&&(F=G,re=v),d=Xu(re)?re.call(d):re}return d}function Qte(d,p,v){return d==null?d:uy(d,p,v)}function Zte(d,p,v,F){return F=typeof F=="function"?F:r,d==null?d:uy(d,p,v,F)}var Q8=u8(Fi),Z8=u8(fo);function ere(d,p,v){var F=Rt(d),G=F||gd(d)||Op(d);if(p=ht(p,4),v==null){var re=d&&d.constructor;G?v=F?new re:[]:Rn(d)?v=Xu(re)?Tp(cw(d)):{}:v={}}return(G?Ca:zl)(d,function(oe,ce,pe){return p(v,oe,ce,pe)}),v}function tre(d,p){return d==null?!0:xC(d,p)}function rre(d,p,v){return d==null?d:KO(d,p,SC(v))}function nre(d,p,v,F){return F=typeof F=="function"?F:r,d==null?d:KO(d,p,SC(v),F)}function Dp(d){return d==null?[]:sC(d,Fi(d))}function ire(d){return d==null?[]:sC(d,fo(d))}function sre(d,p,v){return v===r&&(v=p,p=r),v!==r&&(v=Pa(v),v=v===v?v:0),p!==r&&(p=Pa(p),p=p===p?p:0),$h(Pa(d),p,v)}function ore(d,p,v){return p=Qu(p),v===r?(v=p,p=0):v=Qu(v),d=Pa(d),dQ(d,p,v)}function are(d,p,v){if(v&&typeof v!="boolean"&&Ks(d,p,v)&&(p=v=r),v===r&&(typeof p=="boolean"?(v=p,p=r):typeof d=="boolean"&&(v=d,d=r)),d===r&&p===r?(d=0,p=1):(d=Qu(d),p===r?(p=d,d=0):p=Qu(p)),d>p){var F=d;d=p,p=F}if(v||d%1||p%1){var G=AO();return ws(d+G*(p-d+FY("1e-"+((G+"").length-1))),p)}return vC(d,p)}var cre=Rp(function(d,p,v){return p=p.toLowerCase(),d+(v?e4(p):p)});function e4(d){return VC(Sr(d).toLowerCase())}function t4(d){return d=Sr(d),d&&d.replace(ql,QY).replace(IY,"")}function lre(d,p,v){d=Sr(d),p=Ko(p);var F=d.length;v=v===r?F:$h(kt(v),0,F);var G=v;return v-=p.length,v>=0&&d.slice(v,G)==p}function ure(d){return d=Sr(d),d&&Jr.test(d)?d.replace(Fr,ZY):d}function fre(d){return d=Sr(d),d&&Hu.test(d)?d.replace(Or,"\\$&"):d}var dre=Rp(function(d,p,v){return d+(v?"-":"")+p.toLowerCase()}),hre=Rp(function(d,p,v){return d+(v?" ":"")+p.toLowerCase()}),pre=i8("toLowerCase");function gre(d,p,v){d=Sr(d),p=kt(p);var F=p?Ap(d):0;if(!p||F>=p)return d;var G=(p-F)/2;return Cw(dw(G),v)+d+Cw(fw(G),v)}function mre(d,p,v){d=Sr(d),p=kt(p);var F=p?Ap(d):0;return p&&F<p?d+Cw(p-F,v):d}function yre(d,p,v){d=Sr(d),p=kt(p);var F=p?Ap(d):0;return p&&F<p?Cw(p-F,v)+d:d}function _re(d,p,v){return v||p==null?p=0:p&&(p=+p),CX(Sr(d).replace(Dr,""),p||0)}function bre(d,p,v){return(v?Ks(d,p,v):p===r)?p=1:p=kt(p),EC(Sr(d),p)}function wre(){var d=arguments,p=Sr(d[0]);return d.length<3?p:p.replace(d[1],d[2])}var vre=Rp(function(d,p,v){return d+(v?"_":"")+p.toLowerCase()});function Ere(d,p,v){return v&&typeof v!="number"&&Ks(d,p,v)&&(p=v=r),v=v===r?L:v>>>0,v?(d=Sr(d),d&&(typeof p=="string"||p!=null&&!zC(p))&&(p=Ko(p),!p&&Ep(d))?pd(Tc(d),0,v):d.split(p,v)):[]}var Are=Rp(function(d,p,v){return d+(v?" ":"")+VC(p)});function xre(d,p,v){return d=Sr(d),v=v==null?0:$h(kt(v),0,d.length),p=Ko(p),d.slice(v,v+p.length)==p}function Cre(d,p,v){var F=Q.templateSettings;v&&Ks(d,p,v)&&(p=r),d=Sr(d),p=Lw({},p,F,f8);var G=Lw({},p.imports,F.imports,f8),re=Fi(G),oe=sC(G,re),ce,pe,Ne=0,Se=p.interpolate||sd,ke="__p += '",qe=aC((p.escape||sd).source+"|"+Se.source+"|"+(Se===Br?qu:sd).source+"|"+(p.evaluate||sd).source+"|$","g"),st="//# sourceURL="+(kr.call(p,"sourceURL")?(p.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++kY+"]")+`
`;d.replace(qe,function(mt,Wt,er,Jo,Vs,Yo){return er||(er=Jo),ke+=d.slice(Ne,Yo).replace(Gm,eX),Wt&&(ce=!0,ke+=`' +
__e(`+Wt+`) +
'`),Vs&&(pe=!0,ke+=`';
`+Vs+`;
__p += '`),er&&(ke+=`' +
((__t = (`+er+`)) == null ? '' : __t) +
'`),Ne=Yo+mt.length,mt}),ke+=`';
`;var gt=kr.call(p,"variable")&&p.variable;if(!gt)ke=`with (obj) {
`+ke+`
}
`;else if(rn.test(gt))throw new Ct(a);ke=(pe?ke.replace(Nr,""):ke).replace(Vr,"$1").replace(Lu,"$1;"),ke="function("+(gt||"obj")+`) {
`+(gt?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ce?", __e = _.escape":"")+(pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+ke+`return __p
}`;var Ut=n4(function(){return Ar(re,st+"return "+ke).apply(r,oe)});if(Ut.source=ke,qC(Ut))throw Ut;return Ut}function Nre(d){return Sr(d).toLowerCase()}function Sre(d){return Sr(d).toUpperCase()}function Tre(d,p,v){if(d=Sr(d),d&&(v||p===r))return dO(d);if(!d||!(p=Ko(p)))return d;var F=Tc(d),G=Tc(p),re=hO(F,G),oe=pO(F,G)+1;return pd(F,re,oe).join("")}function Ire(d,p,v){if(d=Sr(d),d&&(v||p===r))return d.slice(0,mO(d)+1);if(!d||!(p=Ko(p)))return d;var F=Tc(d),G=pO(F,Tc(p))+1;return pd(F,0,G).join("")}function Rre(d,p,v){if(d=Sr(d),d&&(v||p===r))return d.replace(Dr,"");if(!d||!(p=Ko(p)))return d;var F=Tc(d),G=hO(F,Tc(p));return pd(F,G).join("")}function Pre(d,p){var v=$,F=B;if(Rn(p)){var G="separator"in p?p.separator:G;v="length"in p?kt(p.length):v,F="omission"in p?Ko(p.omission):F}d=Sr(d);var re=d.length;if(Ep(d)){var oe=Tc(d);re=oe.length}if(v>=re)return d;var ce=v-Ap(F);if(ce<1)return F;var pe=oe?pd(oe,0,ce).join(""):d.slice(0,ce);if(G===r)return pe+F;if(oe&&(ce+=pe.length-ce),zC(G)){if(d.slice(ce).search(G)){var Ne,Se=pe;for(G.global||(G=aC(G.source,Sr(Hr.exec(G))+"g")),G.lastIndex=0;Ne=G.exec(Se);)var ke=Ne.index;pe=pe.slice(0,ke===r?ce:ke)}}else if(d.indexOf(Ko(G),ce)!=ce){var qe=pe.lastIndexOf(G);qe>-1&&(pe=pe.slice(0,qe))}return pe+F}function Ore(d){return d=Sr(d),d&&$u.test(d)?d.replace($r,aX):d}var Dre=Rp(function(d,p,v){return d+(v?" ":"")+p.toUpperCase()}),VC=i8("toUpperCase");function r4(d,p,v){return d=Sr(d),p=v?r:p,p===r?rX(d)?uX(d):KY(d):d.match(p)||[]}var n4=Ft(function(d,p){try{return zo(d,r,p)}catch(v){return qC(v)?v:new Ct(v)}}),kre=Ju(function(d,p){return Ca(p,function(v){v=Kl(v),Ku(d,v,jC(d[v],d))}),d});function Mre(d){var p=d==null?0:d.length,v=ht();return d=p?xn(d,function(F){if(typeof F[1]!="function")throw new Na(o);return[v(F[0]),F[1]]}):[],Ft(function(F){for(var G=-1;++G<p;){var re=d[G];if(zo(re[0],this,F))return zo(re[1],this,F)}})}function Ure(d){return aQ(Ta(d,f))}function JC(d){return function(){return d}}function Lre(d,p){return d==null||d!==d?p:d}var $re=o8(),Fre=o8(!0);function ho(d){return d}function YC(d){return UO(typeof d=="function"?d:Ta(d,f))}function Bre(d){return $O(Ta(d,f))}function Hre(d,p){return FO(d,Ta(p,f))}var jre=Ft(function(d,p){return function(v){return cy(v,d,p)}}),Wre=Ft(function(d,p){return function(v){return cy(d,v,p)}});function XC(d,p,v){var F=Fi(p),G=_w(p,F);v==null&&!(Rn(p)&&(G.length||!F.length))&&(v=p,p=d,d=this,G=_w(p,Fi(p)));var re=!(Rn(v)&&"chain"in v)||!!v.chain,oe=Xu(d);return Ca(G,function(ce){var pe=p[ce];d[ce]=pe,oe&&(d.prototype[ce]=function(){var Ne=this.__chain__;if(re||Ne){var Se=d(this.__wrapped__),ke=Se.__actions__=lo(this.__actions__);return ke.push({func:pe,args:arguments,thisArg:d}),Se.__chain__=Ne,Se}return pe.apply(d,cd([this.value()],arguments))})}),d}function qre(){return Zi._===this&&(Zi._=mX),this}function QC(){}function zre(d){return d=kt(d),Ft(function(p){return BO(p,d)})}var Gre=IC(xn),Kre=IC(aO),Vre=IC(eC);function i4(d){return UC(d)?tC(Kl(d)):xQ(d)}function Jre(d){return function(p){return d==null?r:Fh(d,p)}}var Yre=c8(),Xre=c8(!0);function ZC(){return[]}function eN(){return!1}function Qre(){return{}}function Zre(){return""}function ene(){return!0}function tne(d,p){if(d=kt(d),d<1||d>U)return[];var v=L,F=ws(d,L);p=ht(p),d-=L;for(var G=iC(F,p);++v<d;)p(v);return G}function rne(d){return Rt(d)?xn(d,Kl):Vo(d)?[d]:lo(x8(Sr(d)))}function nne(d){var p=++pX;return Sr(d)+p}var ine=xw(function(d,p){return d+p},0),sne=RC("ceil"),one=xw(function(d,p){return d/p},1),ane=RC("floor");function cne(d){return d&&d.length?yw(d,ho,gC):r}function lne(d,p){return d&&d.length?yw(d,ht(p,2),gC):r}function une(d){return uO(d,ho)}function fne(d,p){return uO(d,ht(p,2))}function dne(d){return d&&d.length?yw(d,ho,bC):r}function hne(d,p){return d&&d.length?yw(d,ht(p,2),bC):r}var pne=xw(function(d,p){return d*p},1),gne=RC("round"),mne=xw(function(d,p){return d-p},0);function yne(d){return d&&d.length?nC(d,ho):0}function _ne(d,p){return d&&d.length?nC(d,ht(p,2)):0}return Q.after=Bee,Q.ary=M8,Q.assign=Ste,Q.assignIn=J8,Q.assignInWith=Lw,Q.assignWith=Tte,Q.at=Ite,Q.before=U8,Q.bind=jC,Q.bindAll=kre,Q.bindKey=L8,Q.castArray=Qee,Q.chain=O8,Q.chunk=aZ,Q.compact=cZ,Q.concat=lZ,Q.cond=Mre,Q.conforms=Ure,Q.constant=JC,Q.countBy=yee,Q.create=Rte,Q.curry=$8,Q.curryRight=F8,Q.debounce=B8,Q.defaults=Pte,Q.defaultsDeep=Ote,Q.defer=Hee,Q.delay=jee,Q.difference=uZ,Q.differenceBy=fZ,Q.differenceWith=dZ,Q.drop=hZ,Q.dropRight=pZ,Q.dropRightWhile=gZ,Q.dropWhile=mZ,Q.fill=yZ,Q.filter=bee,Q.flatMap=Eee,Q.flatMapDeep=Aee,Q.flatMapDepth=xee,Q.flatten=T8,Q.flattenDeep=_Z,Q.flattenDepth=bZ,Q.flip=Wee,Q.flow=$re,Q.flowRight=Fre,Q.fromPairs=wZ,Q.functions=Fte,Q.functionsIn=Bte,Q.groupBy=Cee,Q.initial=EZ,Q.intersection=AZ,Q.intersectionBy=xZ,Q.intersectionWith=CZ,Q.invert=jte,Q.invertBy=Wte,Q.invokeMap=See,Q.iteratee=YC,Q.keyBy=Tee,Q.keys=Fi,Q.keysIn=fo,Q.map=Pw,Q.mapKeys=zte,Q.mapValues=Gte,Q.matches=Bre,Q.matchesProperty=Hre,Q.memoize=Dw,Q.merge=Kte,Q.mergeWith=Y8,Q.method=jre,Q.methodOf=Wre,Q.mixin=XC,Q.negate=kw,Q.nthArg=zre,Q.omit=Vte,Q.omitBy=Jte,Q.once=qee,Q.orderBy=Iee,Q.over=Gre,Q.overArgs=zee,Q.overEvery=Kre,Q.overSome=Vre,Q.partial=WC,Q.partialRight=H8,Q.partition=Ree,Q.pick=Yte,Q.pickBy=X8,Q.property=i4,Q.propertyOf=Jre,Q.pull=IZ,Q.pullAll=R8,Q.pullAllBy=RZ,Q.pullAllWith=PZ,Q.pullAt=OZ,Q.range=Yre,Q.rangeRight=Xre,Q.rearg=Gee,Q.reject=Dee,Q.remove=DZ,Q.rest=Kee,Q.reverse=BC,Q.sampleSize=Mee,Q.set=Qte,Q.setWith=Zte,Q.shuffle=Uee,Q.slice=kZ,Q.sortBy=Fee,Q.sortedUniq=HZ,Q.sortedUniqBy=jZ,Q.split=Ere,Q.spread=Vee,Q.tail=WZ,Q.take=qZ,Q.takeRight=zZ,Q.takeRightWhile=GZ,Q.takeWhile=KZ,Q.tap=cee,Q.throttle=Jee,Q.thru=Rw,Q.toArray=G8,Q.toPairs=Q8,Q.toPairsIn=Z8,Q.toPath=rne,Q.toPlainObject=V8,Q.transform=ere,Q.unary=Yee,Q.union=VZ,Q.unionBy=JZ,Q.unionWith=YZ,Q.uniq=XZ,Q.uniqBy=QZ,Q.uniqWith=ZZ,Q.unset=tre,Q.unzip=HC,Q.unzipWith=P8,Q.update=rre,Q.updateWith=nre,Q.values=Dp,Q.valuesIn=ire,Q.without=eee,Q.words=r4,Q.wrap=Xee,Q.xor=tee,Q.xorBy=ree,Q.xorWith=nee,Q.zip=iee,Q.zipObject=see,Q.zipObjectDeep=oee,Q.zipWith=aee,Q.entries=Q8,Q.entriesIn=Z8,Q.extend=J8,Q.extendWith=Lw,XC(Q,Q),Q.add=ine,Q.attempt=n4,Q.camelCase=cre,Q.capitalize=e4,Q.ceil=sne,Q.clamp=sre,Q.clone=Zee,Q.cloneDeep=tte,Q.cloneDeepWith=rte,Q.cloneWith=ete,Q.conformsTo=nte,Q.deburr=t4,Q.defaultTo=Lre,Q.divide=one,Q.endsWith=lre,Q.eq=Rc,Q.escape=ure,Q.escapeRegExp=fre,Q.every=_ee,Q.find=wee,Q.findIndex=N8,Q.findKey=Dte,Q.findLast=vee,Q.findLastIndex=S8,Q.findLastKey=kte,Q.floor=ane,Q.forEach=D8,Q.forEachRight=k8,Q.forIn=Mte,Q.forInRight=Ute,Q.forOwn=Lte,Q.forOwnRight=$te,Q.get=GC,Q.gt=ite,Q.gte=ste,Q.has=Hte,Q.hasIn=KC,Q.head=I8,Q.identity=ho,Q.includes=Nee,Q.indexOf=vZ,Q.inRange=ore,Q.invoke=qte,Q.isArguments=jh,Q.isArray=Rt,Q.isArrayBuffer=ote,Q.isArrayLike=uo,Q.isArrayLikeObject=Vn,Q.isBoolean=ate,Q.isBuffer=gd,Q.isDate=cte,Q.isElement=lte,Q.isEmpty=ute,Q.isEqual=fte,Q.isEqualWith=dte,Q.isError=qC,Q.isFinite=hte,Q.isFunction=Xu,Q.isInteger=j8,Q.isLength=Mw,Q.isMap=W8,Q.isMatch=pte,Q.isMatchWith=gte,Q.isNaN=mte,Q.isNative=yte,Q.isNil=bte,Q.isNull=_te,Q.isNumber=q8,Q.isObject=Rn,Q.isObjectLike=jn,Q.isPlainObject=py,Q.isRegExp=zC,Q.isSafeInteger=wte,Q.isSet=z8,Q.isString=Uw,Q.isSymbol=Vo,Q.isTypedArray=Op,Q.isUndefined=vte,Q.isWeakMap=Ete,Q.isWeakSet=Ate,Q.join=NZ,Q.kebabCase=dre,Q.last=Ra,Q.lastIndexOf=SZ,Q.lowerCase=hre,Q.lowerFirst=pre,Q.lt=xte,Q.lte=Cte,Q.max=cne,Q.maxBy=lne,Q.mean=une,Q.meanBy=fne,Q.min=dne,Q.minBy=hne,Q.stubArray=ZC,Q.stubFalse=eN,Q.stubObject=Qre,Q.stubString=Zre,Q.stubTrue=ene,Q.multiply=pne,Q.nth=TZ,Q.noConflict=qre,Q.noop=QC,Q.now=Ow,Q.pad=gre,Q.padEnd=mre,Q.padStart=yre,Q.parseInt=_re,Q.random=are,Q.reduce=Pee,Q.reduceRight=Oee,Q.repeat=bre,Q.replace=wre,Q.result=Xte,Q.round=gne,Q.runInContext=de,Q.sample=kee,Q.size=Lee,Q.snakeCase=vre,Q.some=$ee,Q.sortedIndex=MZ,Q.sortedIndexBy=UZ,Q.sortedIndexOf=LZ,Q.sortedLastIndex=$Z,Q.sortedLastIndexBy=FZ,Q.sortedLastIndexOf=BZ,Q.startCase=Are,Q.startsWith=xre,Q.subtract=mne,Q.sum=yne,Q.sumBy=_ne,Q.template=Cre,Q.times=tne,Q.toFinite=Qu,Q.toInteger=kt,Q.toLength=K8,Q.toLower=Nre,Q.toNumber=Pa,Q.toSafeInteger=Nte,Q.toString=Sr,Q.toUpper=Sre,Q.trim=Tre,Q.trimEnd=Ire,Q.trimStart=Rre,Q.truncate=Pre,Q.unescape=Ore,Q.uniqueId=nne,Q.upperCase=Dre,Q.upperFirst=VC,Q.each=D8,Q.eachRight=k8,Q.first=I8,XC(Q,(function(){var d={};return zl(Q,function(p,v){kr.call(Q.prototype,v)||(d[v]=p)}),d})(),{chain:!1}),Q.VERSION=n,Ca(["bind","bindKey","curry","curryRight","partial","partialRight"],function(d){Q[d].placeholder=Q}),Ca(["drop","take"],function(d,p){Kt.prototype[d]=function(v){v=v===r?1:di(kt(v),0);var F=this.__filtered__&&!p?new Kt(this):this.clone();return F.__filtered__?F.__takeCount__=ws(v,F.__takeCount__):F.__views__.push({size:ws(v,L),type:d+(F.__dir__<0?"Right":"")}),F},Kt.prototype[d+"Right"]=function(v){return this.reverse()[d](v).reverse()}}),Ca(["filter","map","takeWhile"],function(d,p){var v=p+1,F=v==y||v==E;Kt.prototype[d]=function(G){var re=this.clone();return re.__iteratees__.push({iteratee:ht(G,3),type:v}),re.__filtered__=re.__filtered__||F,re}}),Ca(["head","last"],function(d,p){var v="take"+(p?"Right":"");Kt.prototype[d]=function(){return this[v](1).value()[0]}}),Ca(["initial","tail"],function(d,p){var v="drop"+(p?"":"Right");Kt.prototype[d]=function(){return this.__filtered__?new Kt(this):this[v](1)}}),Kt.prototype.compact=function(){return this.filter(ho)},Kt.prototype.find=function(d){return this.filter(d).head()},Kt.prototype.findLast=function(d){return this.reverse().find(d)},Kt.prototype.invokeMap=Ft(function(d,p){return typeof d=="function"?new Kt(this):this.map(function(v){return cy(v,d,p)})}),Kt.prototype.reject=function(d){return this.filter(kw(ht(d)))},Kt.prototype.slice=function(d,p){d=kt(d);var v=this;return v.__filtered__&&(d>0||p<0)?new Kt(v):(d<0?v=v.takeRight(-d):d&&(v=v.drop(d)),p!==r&&(p=kt(p),v=p<0?v.dropRight(-p):v.take(p-d)),v)},Kt.prototype.takeRightWhile=function(d){return this.reverse().takeWhile(d).reverse()},Kt.prototype.toArray=function(){return this.take(L)},zl(Kt.prototype,function(d,p){var v=/^(?:filter|find|map|reject)|While$/.test(p),F=/^(?:head|last)$/.test(p),G=Q[F?"take"+(p=="last"?"Right":""):p],re=F||/^find/.test(p);G&&(Q.prototype[p]=function(){var oe=this.__wrapped__,ce=F?[1]:arguments,pe=oe instanceof Kt,Ne=ce[0],Se=pe||Rt(oe),ke=function(Wt){var er=G.apply(Q,cd([Wt],ce));return F&&qe?er[0]:er};Se&&v&&typeof Ne=="function"&&Ne.length!=1&&(pe=Se=!1);var qe=this.__chain__,st=!!this.__actions__.length,gt=re&&!qe,Ut=pe&&!st;if(!re&&Se){oe=Ut?oe:new Kt(this);var mt=d.apply(oe,ce);return mt.__actions__.push({func:Rw,args:[ke],thisArg:r}),new Sa(mt,qe)}return gt&&Ut?d.apply(this,ce):(mt=this.thru(ke),gt?F?mt.value()[0]:mt.value():mt)})}),Ca(["pop","push","shift","sort","splice","unshift"],function(d){var p=rw[d],v=/^(?:push|sort|unshift)$/.test(d)?"tap":"thru",F=/^(?:pop|shift)$/.test(d);Q.prototype[d]=function(){var G=arguments;if(F&&!this.__chain__){var re=this.value();return p.apply(Rt(re)?re:[],G)}return this[v](function(oe){return p.apply(Rt(oe)?oe:[],G)})}}),zl(Kt.prototype,function(d,p){var v=Q[p];if(v){var F=v.name+"";kr.call(Sp,F)||(Sp[F]=[]),Sp[F].push({name:p,func:v})}}),Sp[Aw(r,A).name]=[{name:"wrapper",func:r}],Kt.prototype.clone=OX,Kt.prototype.reverse=DX,Kt.prototype.value=kX,Q.prototype.at=lee,Q.prototype.chain=uee,Q.prototype.commit=fee,Q.prototype.next=dee,Q.prototype.plant=pee,Q.prototype.reverse=gee,Q.prototype.toJSON=Q.prototype.valueOf=Q.prototype.value=mee,Q.prototype.first=Q.prototype.head,ty&&(Q.prototype[ty]=hee),Q}),xp=fX();kh?((kh.exports=xp)._=xp,Y2._=xp):Zi._=xp}).call(Htt)})(c_,c_.exports)),c_.exports}var Wtt=jtt();const qtt={class:"buy-page"},ztt={class:"content-box"},Gtt={class:"card info-card"},Ktt={class:"card-item"},Vtt={class:"label"},Jtt={class:"value"},Ytt={class:"card-item"},Xtt={class:"label"},Qtt={class:"value"},Ztt={class:"card form-card"},ert={class:"input-box"},trt={class:"input-label"},rrt={class:"summary"},nrt={class:"summary-item"},irt={class:"amount"},srt={class:"summary-item"},ort={class:"action-area"},art=Bn({__name:"index",setup(t){const{t:e}=hp();q2();const r=d6({namespace:"eip155"}),n=ot(!1),i=ot("0.0000"),s=ot("0.0000"),o=ot(!1),a=ot(""),c=ot(18),l=ot(18),u=ot(18),f=ot("0"),h=ot("0"),g=ot("0"),_=ot(new $c(0)),m=async()=>{if(r.value.address)try{const H=new Xb(QR),S=new cu(pB,Uv,H),C=new cu(Vy,xI,H);c.value=await S.decimals();const $=await C.apk(),B=new cu($,Uv,H);l.value=await B.decimals();const O=await C.usdt(),T=new cu(O,Uv,H);u.value=await T.decimals();const y=await C.usdtPrice();f.value=new $c(y.toString()).shiftedBy(-u.value).toFixed();const w=await C.users(r.value.address);h.value=new $c(w[0].toString()).shiftedBy(-l.value).toFixed(4);let E=await S.allowance(r.value.address,Vy),I=await S.balanceOf(r.value.address);i.value=new $c(I.toString()).shiftedBy(-c.value).toFixed(8),s.value=new $c(E.toString()).shiftedBy(-c.value).toFixed(10),a.value&&b()}catch(H){console.error("Error fetching data:",H)}},b=Wtt.throttle(async()=>{if(!a.value||Number(a.value)<=0){g.value="0",_.value=new $c(0);return}try{const H=new Xb(QR),S=new cu(Vy,xI,H),C=await S.usdtPrice(),$=new $c(C.toString()).multipliedBy(a.value).toFixed(0),B=await S.getGadAmountByUsdt($);_.value=new $c(B.toString()),g.value=new $c(B.toString()).shiftedBy(-c.value).toFixed(4)}catch(H){console.error("Error calculating pay amount:",H),g.value="0"}},2e3),A=zt(()=>new $c(s.value).gte(g.value)),N=zt(()=>n.value||o.value?e("_Loading"):A.value?e("_Subscribe"):e("_Approve")),R=async()=>{o.value=!0;try{const{walletProvider:H}=q3("eip155"),S=new Gg(H),C=await S.getGasPrice(),$=await S.getSigner();await(await new cu(pB,Uv,$).approve(Vy,b6,{gasPrice:C.toString()})).wait(),o.value=!1,m(),Mo(e("_Approve_Success"))}catch(H){console.error(H),o.value=!1,Mo(e("_Approve_Failed"))}},k=async()=>{if(!a.value||Number(a.value)<=0){Mo(e("_Please_enter_purchase_amount"));return}if(Number(a.value)<100){Mo(e("_Purchase_amount_must_be_at_least_100_APK"));return}if(Number(g.value)>Number(i.value)){Mo(e("_Insufficient_balance"));return}try{n.value=!0;const{walletProvider:H}=q3("eip155"),S=new Gg(H),C=await S.getGasPrice(),$=await S.getSigner(),B=new cu(Vy,xI,$),O=new $c(a.value).shiftedBy(l.value).toFixed(0);await B.estimateGas.buyApk(O),await(await B.buyApk(O,{gasPrice:C.toString()})).wait(),n.value=!1,Mo(e("_Success")),m(),a.value="",g.value="0"}catch(H){Mo(e("_Fail")),n.value=!1,console.log(H)}},M=()=>{A.value?k():R()},D=()=>{m()};return Ul(()=>{r.value.address&&D()}),In(()=>r.value.address,(H,S)=>{console.log(H,"newVal"),H&&D()},{deep:!0}),(H,S)=>{const C=hJ,$=M2;return yr(),wn("div",qtt,[Le(dY,{isShowBack:!1,title:H.$t("_Home")},null,8,["title"]),vt("div",ztt,[vt("div",Gtt,[vt("div",Ktt,[vt("span",Vtt,Un(H.$t("_Current_Price")),1),vt("span",Jtt,"$ "+Un(f.value),1)]),vt("div",Ytt,[vt("span",Xtt,Un(H.$t("_My_Subscribed")),1),vt("span",Qtt,Un(h.value)+" APK",1)])]),vt("div",Ztt,[vt("div",ert,[vt("div",trt,Un(H.$t("_Subscription_Quantity")),1),Le(C,{modelValue:a.value,"onUpdate:modelValue":S[0]||(S[0]=B=>a.value=B),type:"number",onInput:gn(b),placeholder:H.$t("_Enter_Quantity"),border:!1,class:"custom-input"},{button:ha(()=>[...S[1]||(S[1]=[vt("span",{class:"unit"},"APK",-1)])]),_:1},8,["modelValue","onInput","placeholder"])]),vt("div",rrt,[vt("div",nrt,[vt("span",null,Un(H.$t("_Pay_Amount")),1),vt("span",irt,Un(g.value)+" GAD",1)]),vt("div",srt,[vt("span",null,Un(H.$t("_Balance")),1),vt("span",null,Un(i.value)+" GAD",1)])]),vt("div",ort,[Le($,{type:"primary",loading:n.value||o.value,disabled:!a.value||Number(a.value)<=0,onClick:M,round:"",block:""},{default:ha(()=>[L0(Un(N.value),1)]),_:1},8,["loading","disabled"])])])])])}}}),crt=zm(art,[["__scopeId","data-v-bbbafb36"]]),lrt=[{path:"/",name:"Index",component:crt},{path:"/share",name:"Share",component:Ftt}],ZR=q4e({history:b4e(),routes:lrt});function urt(t){return typeof t=="object"&&t!==null}function GB(t,e){return t=urt(t)?t:Object.create(null),new Proxy(t,{get(r,n,i){return n==="key"?Reflect.get(r,n,i):Reflect.get(r,n,i)||Reflect.get(e,n,i)}})}function frt(t,e){return e.reduce((r,n)=>r?.[n],t)}function drt(t,e,r){return e.slice(0,-1).reduce((n,i)=>/^(__proto__)$/.test(i)?{}:n[i]=n[i]||{},t)[e[e.length-1]]=r,t}function hrt(t,e){return e.reduce((r,n)=>{const i=n.split(".");return drt(r,i,frt(t,i))},{})}function prt(t,e){return r=>{var n;try{const{storage:i=localStorage,beforeRestore:s=void 0,afterRestore:o=void 0,serializer:a={serialize:JSON.stringify,deserialize:JSON.parse},key:c=e.$id,paths:l=null,debug:u=!1}=r;return{storage:i,beforeRestore:s,afterRestore:o,serializer:a,key:((n=t.key)!=null?n:f=>f)(typeof c=="string"?c:c(e.$id)),paths:l,debug:u}}catch(i){return r.debug&&console.error("[pinia-plugin-persistedstate]",i),null}}}function KB(t,{storage:e,serializer:r,key:n,debug:i}){try{const s=e?.getItem(n);s&&t.$patch(r?.deserialize(s))}catch(s){i&&console.error("[pinia-plugin-persistedstate]",s)}}function VB(t,{storage:e,serializer:r,key:n,paths:i,debug:s}){try{const o=Array.isArray(i)?hrt(t,i):t;e.setItem(n,r.serialize(o))}catch(o){s&&console.error("[pinia-plugin-persistedstate]",o)}}function grt(t={}){return e=>{const{auto:r=!1}=t,{options:{persist:n=r},store:i,pinia:s}=e;if(!n)return;if(!(i.$id in s.state.value)){const a=s._s.get(i.$id.replace("__hot:",""));a&&Promise.resolve().then(()=>a.$persist());return}const o=(Array.isArray(n)?n.map(a=>GB(a,t)):[GB(n,t)]).map(prt(t,i)).filter(Boolean);i.$persist=()=>{o.forEach(a=>{VB(i.$state,a)})},i.$hydrate=({runHooks:a=!0}={})=>{o.forEach(c=>{const{beforeRestore:l,afterRestore:u}=c;a&&l?.(e),KB(i,c),a&&u?.(e)})},o.forEach(a=>{const{beforeRestore:c,afterRestore:l}=a;c?.(e),KB(i,a),l?.(e),i.$subscribe((u,f)=>{VB(f,a)},{detached:!0})})}}var mrt=grt();const _Y=Y9e();_Y.use(mrt);var yrt=/d{1,4}|D{3,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|W{1,2}|[LlopSZN]|"[^"]*"|'[^']*'/g,_rt=/\b(?:[A-Z]{1,3}[A-Z][TC])(?:[-+]\d{4})?|((?:Australian )?(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time)\b/g,brt=/[^-+\dA-Z]/g;function wrt(t,e,r,n){if(arguments.length===1&&typeof t=="string"&&!/\d/.test(t)&&(e=t,t=void 0),t=t||t===0?t:new Date,t instanceof Date||(t=new Date(t)),isNaN(t))throw TypeError("Invalid date");e=String(JB[e]||e||JB.default);var i=e.slice(0,4);(i==="UTC:"||i==="GMT:")&&(e=e.slice(4),r=!0,i==="GMT:"&&(n=!0));var s=function(){return r?"getUTC":"get"},o=function(){return t[s()+"Date"]()},a=function(){return t[s()+"Day"]()},c=function(){return t[s()+"Month"]()},l=function(){return t[s()+"FullYear"]()},u=function(){return t[s()+"Hours"]()},f=function(){return t[s()+"Minutes"]()},h=function(){return t[s()+"Seconds"]()},g=function(){return t[s()+"Milliseconds"]()},_=function(){return r?0:t.getTimezoneOffset()},m=function(){return vrt(t)},b=function(){return Ert(t)},A={d:function(){return o()},dd:function(){return Zo(o())},ddd:function(){return No.dayNames[a()]},DDD:function(){return YB({y:l(),m:c(),d:o(),_:s(),dayName:No.dayNames[a()],short:!0})},dddd:function(){return No.dayNames[a()+7]},DDDD:function(){return YB({y:l(),m:c(),d:o(),_:s(),dayName:No.dayNames[a()+7]})},m:function(){return c()+1},mm:function(){return Zo(c()+1)},mmm:function(){return No.monthNames[c()]},mmmm:function(){return No.monthNames[c()+12]},yy:function(){return String(l()).slice(2)},yyyy:function(){return Zo(l(),4)},h:function(){return u()%12||12},hh:function(){return Zo(u()%12||12)},H:function(){return u()},HH:function(){return Zo(u())},M:function(){return f()},MM:function(){return Zo(f())},s:function(){return h()},ss:function(){return Zo(h())},l:function(){return Zo(g(),3)},L:function(){return Zo(Math.floor(g()/10))},t:function(){return u()<12?No.timeNames[0]:No.timeNames[1]},tt:function(){return u()<12?No.timeNames[2]:No.timeNames[3]},T:function(){return u()<12?No.timeNames[4]:No.timeNames[5]},TT:function(){return u()<12?No.timeNames[6]:No.timeNames[7]},Z:function(){return n?"GMT":r?"UTC":Art(t)},o:function(){return(_()>0?"-":"+")+Zo(Math.floor(Math.abs(_())/60)*100+Math.abs(_())%60,4)},p:function(){return(_()>0?"-":"+")+Zo(Math.floor(Math.abs(_())/60),2)+":"+Zo(Math.floor(Math.abs(_())%60),2)},S:function(){return["th","st","nd","rd"][o()%10>3?0:(o()%100-o()%10!=10)*o()%10]},W:function(){return m()},WW:function(){return Zo(m())},N:function(){return b()}};return e.replace(yrt,function(N){return N in A?A[N]():N.slice(1,N.length-1)})}var JB={default:"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",paddedShortDate:"mm/dd/yyyy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:sso",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'",expiresHeaderFormat:"ddd, dd mmm yyyy HH:MM:ss Z"},No={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"],timeNames:["a","p","am","pm","A","P","AM","PM"]},Zo=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return String(e).padStart(r,"0")},YB=function(e){var r=e.y,n=e.m,i=e.d,s=e._,o=e.dayName,a=e.short,c=a===void 0?!1:a,l=new Date,u=new Date;u.setDate(u[s+"Date"]()-1);var f=new Date;f.setDate(f[s+"Date"]()+1);var h=function(){return l[s+"Date"]()},g=function(){return l[s+"Month"]()},_=function(){return l[s+"FullYear"]()},m=function(){return u[s+"Date"]()},b=function(){return u[s+"Month"]()},A=function(){return u[s+"FullYear"]()},N=function(){return f[s+"Date"]()},R=function(){return f[s+"Month"]()},k=function(){return f[s+"FullYear"]()};return _()===r&&g()===n&&h()===i?c?"Tdy":"Today":A()===r&&b()===n&&m()===i?c?"Ysd":"Yesterday":k()===r&&R()===n&&N()===i?c?"Tmw":"Tomorrow":o},vrt=function(e){var r=new Date(e.getFullYear(),e.getMonth(),e.getDate());r.setDate(r.getDate()-(r.getDay()+6)%7+3);var n=new Date(r.getFullYear(),0,4);n.setDate(n.getDate()-(n.getDay()+6)%7+3);var i=r.getTimezoneOffset()-n.getTimezoneOffset();r.setHours(r.getHours()-i);var s=(r-n)/(864e5*7);return 1+Math.floor(s)},Ert=function(e){var r=e.getDay();return r===0&&(r=7),r},Art=function(e){return(String(e).match(_rt)||[""]).pop().replace(brt,"").replace(/GMT\+0000/g,"UTC")};let xrt=t=>{if(!t||t==="0")return{};let e=decodeURIComponent(t).split("&"),r={};return e.forEach(n=>{let i=n.split("=");i.length===1?r.id=i[0]:r[i[0]]=i[1]}),r},Lv=window.location.href.replace(/#/g,"").replace(/\?utm_source=tokenpocket/g,"");if(Lv.includes("?")){let t=Lv.slice(Lv.indexOf("?")+1,Lv.length),e=xrt(t);e.intro&&localStorage.setItem("intro",e.intro)}const $5=mj(H8e);$5.config.globalProperties.$goBack=()=>{history.length>0?ZR.go(-1):ZR.push({name:"Welcome"})};$5.config.globalProperties.$dateformat=wrt;$5.use(ZR).use(XR).use(_Y).mount("#app");export{cr as $,tt as A,pt as B,Ye as C,aae as D,zi as E,Dj as F,mae as G,gae as H,Prt as I,vCe as J,Aj as K,De as L,nr as M,coe as N,Te as O,ro as P,la as Q,yt as R,mu as S,Ro as T,ct as U,ft as V,Li as W,Irt as X,aA as Y,krt as Z,Drt as _,fr as a,wCe as a0,Ss as a1,Rnt as a2,qt as a3,doe as a4,eb as a5,b_ as a6,WI as a7,hl as a8,or as a9,Ort as aA,Yv as aB,oA as aC,Mi as aD,F3 as aE,pg as aF,Vae as aG,Hn as aH,ece as aI,_j as aJ,Qy as aK,ca as aa,ut as ab,Ont as ac,Ws as ad,Hv as ae,kz as af,B3 as ag,Wi as ah,dm as ai,Ll as aj,X4 as ak,zoe as al,Qoe as am,Rj as an,AP as ao,Nae as ap,Q4 as aq,Sae as ar,Crt as as,Goe as at,Xoe as au,Voe as av,Oj as aw,Pj as ax,T0 as ay,wtt as az,se as b,Pnt as c,ar as d,knt as e,ds as f,Cj as g,Jd as h,Qv as i,We as j,we as k,jo as l,Hoe as m,as as n,SP as o,_n as p,Be as q,Dnt as r,js as s,Rrt as t,eD as u,XCe as v,ya as w,Int as x,kj as y,im as z};
